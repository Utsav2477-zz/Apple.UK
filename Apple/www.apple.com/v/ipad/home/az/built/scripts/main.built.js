!function(){function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return r(i?i:t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}return t}()({1:[function(t,e,i){"use strict";var n=t(3),r=t(5),s=t(8),o=function(t,e){e=e||{},this._tabbables=null,this._excludeHidden=e.excludeHidden,this._firstTabbableElement=e.firstFocusElement,this._lastTabbableElement=null,this._relatedTarget=null,this.el=t,this._handleOnFocus=this._handleOnFocus.bind(this)},a=o.prototype;a.start=function(){this.updateTabbables(),r(this.el,null,this._excludeHidden),this._firstTabbableElement?this.el.contains(document.activeElement)||this._firstTabbableElement.focus():console.warn("this._firstTabbableElement is null, CircularTab needs at least one tabbable element."),this._relatedTarget=document.activeElement,document.addEventListener("focus",this._handleOnFocus,!0)},a.stop=function(){s(this.el),document.removeEventListener("focus",this._handleOnFocus,!0)},a.updateTabbables=function(){this._tabbables=n.getTabbableElements(this.el,this._excludeHidden),this._firstTabbableElement=this._firstTabbableElement||this._tabbables[0],this._lastTabbableElement=this._tabbables[this._tabbables.length-1]},a._handleOnFocus=function(t){if(this.el.contains(t.target))this._relatedTarget=t.target;else{if(t.preventDefault(),this.updateTabbables(),this._relatedTarget===this._lastTabbableElement||null===this._relatedTarget)return this._firstTabbableElement.focus(),void(this._relatedTarget=this._firstTabbableElement);if(this._relatedTarget===this._firstTabbableElement&&this._lastTabbableElement)return this._lastTabbableElement.focus(),void(this._relatedTarget=this._lastTabbableElement)}},a.destroy=function(){this.stop(),this.el=null,this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this._handleOnFocus=null},e.exports=o},{3:3,5:5,8:8}],2:[function(t,e,i){"use strict";function n(){this._createElemnts(),this._bindEvents()}var r=n.prototype;r._bindEvents=function(){this._onResize=this._resize.bind(this)},r._createElemnts=function(){this.span=document.createElement("span");var t=this.span.style;t.visibility="hidden",t.position="absolute",t.top="0",t.bottom="0",t.zIndex="-1",this.span.innerHTML="&nbsp;",this.iframe=document.createElement("iframe");var e=this.iframe.style;e.position="absolute",e.top="0",e.left="0",e.width="100%",e.height="100%",this.span.appendChild(this.iframe),document.body.appendChild(this.span)},r.detect=function(t){this.originalSize=t||17,this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.currentSize>this.originalSize&&this._onResize(),this.isDetecting||(this.iframe.contentWindow.addEventListener("resize",this._onResize),this.isDetecting=!0)},r._resize=function(t){this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.originalSize<this.currentSize?document.documentElement.classList.add("text-zoom"):document.documentElement.classList.remove("text-zoom"),window.dispatchEvent(new Event("resize")),window.dispatchEvent(new CustomEvent("resize:text-zoom",{detail:this}))},r.getScale=function(){return this.currentSize/this.originalSize},r.remove=function(){this.isDetecting&&(this.iframe.contentWindow.removeEventListener("resize",this._onResize),this.isDetecting=!1)},r.destroy=function(){this.remove(),this.span&&this.span.parentElement&&this.span.parentElement.removeChild(this.span),this.span=null,this.iframe=null},e.exports=new n},{}],3:[function(t,e,i){"use strict";var n=t(10),r=function(){this.focusableSelectors=n.selectors},s=r.prototype;s.isFocusableElement=function(t,e,i){if(e&&!this._isDisplayed(t))return!1;var r=n.nodeName[t.nodeName];return r?!t.disabled:!t.contentEditable||(i=i||parseFloat(t.getAttribute("tabindex")),!isNaN(i))},s.isTabbableElement=function(t,e){if(e&&!this._isDisplayed(t))return!1;var i=t.getAttribute("tabindex");return i=parseFloat(i),isNaN(i)?this.isFocusableElement(t,e,i):i>=0},s._isDisplayed=function(t){var e=t.getBoundingClientRect();return(0!==e.top||0!==e.left||0!==e.width||0!==e.height)&&"hidden"!==window.getComputedStyle(t).visibility},s.getTabbableElements=function(t,e){for(var i=t.querySelectorAll(this.focusableSelectors),n=i.length,r=[],s=0;s<n;s++)this.isTabbableElement(i[s],e)&&r.push(i[s]);return r},s.getFocusableElements=function(t,e){for(var i=t.querySelectorAll(this.focusableSelectors),n=i.length,r=[],s=0;s<n;s++)this.isFocusableElement(i[s],e)&&r.push(i[s]);return r},e.exports=new r},{10:10}],4:[function(t,e,i){"use strict";var n=t(9),r=t(3),s="data-original-",o="tabindex",a=function(t,e){var i=t.getAttribute(s+e);i||(i=t.getAttribute(e)||"",t.setAttribute(s+e,i))};e.exports=function(t,e){if(r.isFocusableElement(t,e))a(t,o),t.setAttribute(o,"-1");else for(var i=r.getTabbableElements(t,e),s=i.length;s--;)a(i[s],o),i[s].setAttribute(o,"-1");a(t,n.HIDDEN),t.setAttribute(n.HIDDEN,"true")}},{3:3,9:9}],5:[function(t,e,i){"use strict";var n=t(4);e.exports=function r(t,e,i){e=e||document.body;for(var s=t,o=t;s=s.previousElementSibling;)n(s,i);for(;o=o.nextElementSibling;)n(o,i);t.parentElement&&t.parentElement!==e&&r(t.parentElement,e,i)}},{4:4}],6:[function(t,e,i){"use strict";var n=function(t,e){var i;i=t instanceof NodeList?t:[].concat(t),e=Array.isArray(e)?e:[].concat(e),i.forEach(function(t){e.forEach(function(e){t.removeAttribute(e)})})};e.exports=n},{}],7:[function(t,e,i){"use strict";var n=t(6),r=t(9),s="data-original-",o="tabindex",a=function(t,e){var i=t.getAttribute(s+e);null!==i&&(""===i?n(t,e):t.setAttribute(e,i),n(t,s+e))};e.exports=function(t){a(t,o),a(t,r.HIDDEN);for(var e=t.querySelectorAll("[".concat(s+o,"]")),i=e.length;i--;)a(e[i],o)}},{6:6,9:9}],8:[function(t,e,i){"use strict";var n=t(7);e.exports=function r(t,e){e=e||document.body;for(var i=t,s=t;i=i.previousElementSibling;)n(i);for(;s=s.nextElementSibling;)n(s);t.parentElement&&t.parentElement!==e&&r(t.parentElement,e)}},{7:7}],9:[function(t,e,i){"use strict";e.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},{}],10:[function(t,e,i){"use strict";var n=["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"];e.exports={selectors:n.join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},{}],11:[function(t,e,i){"use strict";function n(t,e){if(this.el=t,this._options=r(c,e||{}),!l()){this._isRightToLeft="rtl"===s(this.el,"direction").direction,this._inlineStart=this._isRightToLeft?"right":"left",this._inlineEnd=this._isRightToLeft?"left":"right",this._scrollType=this._scrollDirection();var i=this._isRightToLeft?this._options.rightPaddleSelector:this._options.leftPaddleSelector,n=this._isRightToLeft?this._options.leftPaddleSelector:this._options.rightPaddleSelector;this._wrapper=this.el.querySelector(this._options.itemsSelector),this._paddleStart=this.el.querySelector(i),this._paddleEnd=this.el.querySelector(n),this._children=o(this._wrapper),this._childCount=this._children.length,this._onScrollClipUpdate=this._onScrollClipUpdate.bind(this),this._onScrollClipComplete=this._onScrollClipComplete.bind(this),this._onPaddleStartClick=this._onPaddleStartClick.bind(this),this._paddleStart.addEventListener("click",this._onPaddleStartClick),this._onPaddleEndClick=this._onPaddleEndClick.bind(this),this._paddleEnd.addEventListener("click",this._onPaddleEndClick),this._onScroll=this._onScroll.bind(this),this._wrapper.addEventListener("scroll",this._onScroll),this._updateElementMetrics=this._updateElementMetrics.bind(this),window.addEventListener("resize",this._updateElementMetrics),window.addEventListener("orientationchange",this._updateElementMetrics),this._updateElementMetrics()}}var r=t(130),s=t(71),o=t(72),a=t(55),u=t(21).Clip,l=t(91),c={itemsSelector:".chapternav-items",leftPaddleSelector:".chapternav-paddle-left",rightPaddleSelector:".chapternav-paddle-right",scrollEasing:"ease-out",scrollDuration:.4},h=n.prototype;h._updateElementMetrics=function(){this._scrollStart=this._wrapper.scrollLeft,this._wrapperWidth=this._wrapper.offsetWidth,this._contentWidth=this._wrapper.scrollWidth,this._paddleWidth=this._paddleStart.offsetWidth,this._updatePaddleDisplay()},h._onScroll=function(){this._lockPaddles||(this._scrollStart=this._wrapper.scrollLeft,this._updatePaddleDisplay())},h._updatePaddleDisplay=function(){var t=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth,e=1;this._paddleStart.disabled=this._getNormalizedScroll(this._scrollStart)<=e,this._paddleEnd.disabled=t>=this._contentWidth-e},h._onPaddleStartClick=function(t){this._smoothScrollTo(this._getPaddleStartScrollDestination())},h._getPaddleStartScrollDestination=function(){var t,e,i=this._getNormalizedScroll(this._scrollStart);for(e=this._childCount-1;e>0;e--)if(t=this._normalizePosition(a(this._children[e])),t[this._inlineStart]<i)return t[this._inlineEnd]-this._wrapperWidth;return 0},h._onPaddleEndClick=function(t){this._smoothScrollTo(this._getPaddleEndScrollDestination())},h._getPaddleEndScrollDestination=function(){var t,e,i=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth;for(e=0;e<this._childCount;e++)if(t=this._normalizePosition(a(this._children[e])),t[this._inlineEnd]>i)return t[this._inlineStart];return this._contentWidth},h._getBoundedScrollX=function(t){var e=this._contentWidth-this._wrapperWidth;return Math.max(Math.min(t,e),0)},h._smoothScrollTo=function(t){if(this._updateElementMetrics(),!this._lockPaddles&&t!==this._scrollStart){this._lockPaddles=!0;var e={scrollLeft:this._wrapper.scrollLeft},i={scrollLeft:this._setNormalizedScroll(this._getBoundedScrollX(t))},n={ease:this._options.scrollEasing,onUpdate:this._onScrollClipUpdate,onComplete:this._onScrollClipComplete};u.to(e,this._options.scrollDuration,i,n)}},h._onScrollClipUpdate=function(t){this._scrollStart=this._wrapper.scrollLeft=Math.round(t.target().scrollLeft)},h._onScrollClipComplete=function(){this._updatePaddleDisplay(),this._lockPaddles=!1},h._scrollDirection=function(){var t="reverse",e=document.createElement("div");return e.style.cssText="width:2px; height:1px; position:absolute; top:-1000px; overflow:scroll; font-size: 14px;",e.style.direction="rtl",e.innerHTML="test",document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),document.body.removeChild(e),t},h._getNormalizedScroll=function(t){if(!this._isRightToLeft)return t;var e=Math.abs(t);return"default"===this._scrollType&&(e=this._contentWidth-this._wrapperWidth-e),e},h._setNormalizedScroll=function(t){return this._isRightToLeft&&"reverse"!==this._scrollType?"negative"===this._scrollType?-t:-(t-this._contentWidth+this._wrapperWidth):t},h._normalizePosition=function(t){return this._isRightToLeft?{top:t.top,right:this._wrapperWidth-t.right+this._paddleWidth,bottom:t.bottom,left:this._wrapperWidth-t.left+this._paddleWidth}:{top:t.top,right:t.right-this._paddleWidth,bottom:t.bottom,left:t.left-this._paddleWidth}},e.exports=n},{130:130,21:21,55:55,71:71,72:72,91:91}],12:[function(t,e,i){"use strict";var n=t(11),r=document.getElementById("chapternav");r&&(e.exports=new n(r))},{11:11}],13:[function(t,e,i){"use strict";t("@marcom/ac-polyfills/Array/prototype.slice"),t("@marcom/ac-polyfills/Element/prototype.classList");var n=t(14);e.exports=function(){var t,e=Array.prototype.slice.call(arguments),i=e.shift(e);if(i.classList&&i.classList.add)return void i.classList.add.apply(i.classList,e);for(t=0;t<e.length;t++)n(i,e[t])}},{14:14,undefined:void 0}],14:[function(t,e,i){"use strict";var n=t(15);e.exports=function(t,e){n(t,e)||(t.className+=" "+e)}},{15:15}],15:[function(t,e,i){"use strict";var n=t(16);e.exports=function(t,e){return n(e).test(t.className)}},{16:16}],16:[function(t,e,i){"use strict";e.exports=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")}},{}],17:[function(t,e,i){"use strict";var n=t(15),r=t(16);e.exports=function(t,e){n(t,e)&&(t.className=t.className.replace(r(e),"$1").trim())}},{15:15,16:16}],18:[function(t,e,i){"use strict";t("@marcom/ac-polyfills/Array/prototype.slice"),t("@marcom/ac-polyfills/Element/prototype.classList");var n=t(17);e.exports=function(){var t,e=Array.prototype.slice.call(arguments),i=e.shift(e);if(i.classList&&i.classList.remove)return void i.classList.remove.apply(i.classList,e);for(t=0;t<e.length;t++)n(i,e[t])}},{17:17,undefined:void 0}],19:[function(t,e,i){"use strict";e.exports={EventEmitterMicro:t(20)}},{20:20}],20:[function(t,e,i){"use strict";function n(){this._events={}}var r=n.prototype;r.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},r.once=function(t,e){function i(r){n.off(t,i),void 0!==r?e(r):e()}var n=this;this.on(t,i)},r.off=function(t,e){if(this.has(t)){var i=this._events[t].indexOf(e);i!==-1&&this._events[t].splice(i,1)}},r.trigger=function(t,e){if(this.has(t))for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},r.has=function(t){return t in this._events!=!1&&0!==this._events[t].length},r.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},e.exports=n},{}],21:[function(t,e,i){"use strict";e.exports={Clip:t(22)}},{22:22}],22:[function(t,e,i){"use strict";function n(t,e,i,r){r=r||{},this._options=r,this._isYoyo=r.yoyo,this._direction=1,this._timeScale=1,this._loop=r.loop||0,this._loopCount=0,this._target=t,this.duration(e),this._delay=1e3*(r.delay||0),this._remainingDelay=this._delay,this._progress=0,this._clock=r.clock||u,this._playing=!1,this._getTime=Date.now||function(){return(new Date).getTime()},this._propsTo=i||{},this._propsFrom=r.propsFrom||{},this._onStart=r.onStart||null,this._onUpdate=r.onUpdate||null,this._onDraw=r.onDraw||null,this._onComplete=r.onComplete||null;var s=r.ease||h;this._ease="function"==typeof s?new l(s):a(s),this._start=this._start.bind(this),this._update=this._update.bind(this),this._draw=this._draw.bind(this),this._isPrepared=!1,n._add(this),c.call(this)}var r=t(102),s=r(t(110));t("@marcom/ac-polyfills/Array/isArray");var o=t(129),a=t(80).createPredefined,u=t(23),l=t(80).Ease,c=t(19).EventEmitterMicro,h="ease",d=n.prototype=o(c.prototype);n.COMPLETE="complete",n.PAUSE="pause",n.PLAY="play",d.play=function(){return this._playing||(this._playing=!0,0===this._delay||0===this._remainingDelay?this._start():(this._isPrepared||(this._setDiff(),this._updateProps()),this._startTimeout=setTimeout(this._start,this._remainingDelay/this._timeScale),this._delayStart=this._getTime())),this},d.pause=function(){return this._playing&&(this._startTimeout&&(this._remainingDelay=this._getTime()-this._delayStart,clearTimeout(this._startTimeout)),this._stop(),this.trigger(n.PAUSE,this)),this},d.destroy=function(){return this.pause(),this._options=null,this._target=null,this._storeTarget=null,this._ease=null,this._clock=null,this._propsTo=null,this._propsFrom=null,this._storePropsTo=null,this._storePropsFrom=null,this._propsDiff=null,this._propsEase=null,this._onStart=null,this._onUpdate=null,this._onDraw=null,this._onComplete=null,n._remove(this),c.prototype.destroy.call(this),this},d.reset=function(){if(this._isPrepared)return this._stop(),this._resetLoop(this._target,this._storeTarget),this._direction=1,this._loop=this._options.loop||0,this._loopCount=0,this._propsFrom=this._storePropsFrom,this._propsTo=this._storePropsTo,this._progress=0,this._setStartTime(),this._onUpdate&&this._onUpdate.call(this,this),this._onDraw&&this._onDraw.call(this,this),this},d.playing=function(){return this._playing},d.target=function(){return this._target},d.duration=function(t){return void 0!==t&&(this._duration=t,this._durationMs=1e3*t/this._timeScale,this._playing&&this._setStartTime()),this._duration},d.timeScale=function(t){return void 0!==t&&(this._timeScale=t,this.duration(this._duration)),this._timeScale},d.currentTime=function(t){return void 0!==t?this.progress(t/this._duration)*this._duration:this.progress()*this._duration},d.progress=function(t){return void 0!==t&&(this._progress=Math.min(1,Math.max(0,t)),this._setStartTime(),this._isPrepared||this._setDiff(),this._playing&&1===t?(this._completeProps(),this._onUpdate&&this._onUpdate.call(this,this),this._onDraw&&this._onDraw.call(this,this),this._complete()):(this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this),this._onDraw&&this._onDraw.call(this,this))),this._progress},d._resetLoop=function(t,e){var i;for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&("object"===(0,s["default"])(e[i])?this._resetLoop(t[i],e[i]):t[i]=e[i])},d._cloneObjects=function(){var t={},e={},i={};return this._cloneObjectsLoop(this._target,this._propsTo,this._propsFrom,t,e,i),{target:t,propsTo:e,propsFrom:i}},d._cloneObjectsLoop=function(t,e,i,n,r,o){var a,u;for(u in i)i.hasOwnProperty(u)&&void 0===e[u]&&void 0!==t[u]&&(n[u]=t[u],r[u]=t[u],o[u]=i[u]);for(u in e)t.hasOwnProperty(u)&&(a=(0,s["default"])(t[u]),null!==t[u]&&"object"===a?(Array.isArray(t[u])?(n[u]=[],r[u]=[],o[u]=[]):(n[u]={},r[u]={},o[u]={}),this._cloneObjectsLoop(t[u],e[u]||{},i[u]||{},n[u],r[u],o[u])):null!==e[u]&&"number"===a&&(n[u]=t[u],r[u]=e[u],i&&void 0!==i[u]&&(o[u]=i[u])))},d._prepareProperties=function(){if(!this._isPrepared){var t=this._cloneObjects();this._storeTarget=t.target,this._propsTo=t.propsTo,this._storePropsTo=this._propsTo,this._propsFrom=t.propsFrom,this._storePropsFrom=this._propsFrom,this._isPrepared=!0}},d._setStartTime=function(){this._startTime=this._getTime()-this.progress()*this._durationMs},d._setDiff=function(){this._isPrepared||this._prepareProperties(),this._propsDiff={},this._setDiffLoop(this._propsTo,this._propsFrom,this._target,this._propsDiff)},d._setDiffLoop=function(t,e,i,n){var r,o;for(o in t)t.hasOwnProperty(o)&&(r=(0,s["default"])(t[o]),null!==t[o]&&"object"===r?(e[o]=e[o]||{},n[o]=n[o]||{},this._setDiffLoop(t[o],e[o],i[o],n[o])):"number"===r&&void 0!==i[o]?(void 0!==e[o]?i[o]=e[o]:e[o]=i[o],n[o]=t[o]-i[o]):(t[o]=null,e[o]=null))},d._start=function(){this._startTimeout=null,this._remainingDelay=0,this._setStartTime(),this._clock.on("update",this._update),this._clock.on("draw",this._draw),this._clock.isRunning()||this._clock.start(),this._setDiff(),this._playing=!0,this._running=!0,this._onStart&&this._onStart.call(this,this),this.trigger(n.PLAY,this)},d._stop=function(){this._playing=!1,this._running=!1,this._clock.off("update",this._update),this._clock.off("draw",this._draw)},d._updateProps=function(){var t;t=1===this._direction?this._ease.getValue(this._progress):1-this._ease.getValue(1-this._progress),this._updatePropsLoop(this._propsTo,this._propsFrom,this._target,this._propsDiff,t)},d._updatePropsLoop=function(t,e,i,n,r){var s;for(s in t)t.hasOwnProperty(s)&&null!==t[s]&&("number"!=typeof t[s]?this._updatePropsLoop(t[s],e[s],i[s],n[s],r):i[s]=e[s]+n[s]*r)},d._completeProps=function(){this._completePropsLoop(this._propsTo,this._target)},d._completePropsLoop=function(t,e){var i;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&("number"!=typeof t[i]?this._completePropsLoop(t[i],e[i]):e[i]=t[i])},d._complete=function(){this._isYoyo&&(this._loop>0&&this._loopCount<=this._loop||0===this._loop&&0===this._loopCount)?(this._propsFrom=1===this._direction?this._storePropsTo:this._storePropsFrom,this._propsTo=1===this._direction?this._storePropsFrom:this._storePropsTo,this._direction*=-1,this._direction===-1&&++this._loopCount,this.progress(0),this._start()):this._loopCount<this._loop?(++this._loopCount,this.progress(0),this._start()):(this.trigger(n.COMPLETE,this),this._onComplete&&this._onComplete.call(this,this),this._options&&this._options.destroyOnComplete&&this.destroy())},d._update=function(t){this._running&&(this._progress=(t.timeNow-this._startTime)/this._durationMs,this._progress>=1?(this._progress=1,this._running=!1,this._completeProps()):this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this))},d._draw=function(t){this._onDraw&&this._onDraw.call(this,this),this._running||(this._stop(),1===this._progress&&this._complete())},n._instantiate=function(){return this._clips=[],this},n._add=function(t){this._clips.push(t)},n._remove=function(t){var e=this._clips.indexOf(t);e>-1&&this._clips.splice(e,1)},n.getAll=function(t){if(void 0!==t){for(var e=[],i=this._clips.length;i--;)this._clips[i].target()===t&&e.push(this._clips[i]);return e}return Array.prototype.slice.call(this._clips)},n.destroyAll=function(t){var e=this.getAll(t);this._clips.length===e.length&&(this._clips=[]);for(var i=e.length;i--;)e[i].destroy();return e},n.to=function(t,e,i,r){return r=r||{},void 0===r.destroyOnComplete&&(r.destroyOnComplete=!0),new n(t,e,i,r).play()},n.from=function(t,e,i,r){return r=r||{},r.propsFrom=i,void 0===r.destroyOnComplete&&(r.destroyOnComplete=!0),new n(t,e,r.propsTo,r).play()},e.exports=n._instantiate()},{102:102,110:110,129:129,19:19,23:23,80:80,undefined:void 0}],23:[function(t,e,i){"use strict";var n=t(24),r=t(25),s=t(26);s.Clock=n,s.ThrottledClock=r,e.exports=s},{24:24,25:25,26:26}],24:[function(t,e,i){"use strict";function n(){s.call(this),this.lastFrameTime=null,this._animationFrame=null,this._active=!1,this._startTime=null,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._getTime=Date.now||function(){return(new Date).getTime()}}t("@marcom/ac-polyfills/Function/prototype.bind"),t("@marcom/ac-polyfills/requestAnimationFrame");var r,s=t(88).EventEmitterMicro;(new Date).getTime();r=n.prototype=new s(null),r.start=function(){this._active||this._tick()},r.stop=function(){this._active&&window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null,this.lastFrameTime=null,this._active=!1},r.destroy=function(){this.stop(),this.off();var t;for(t in this)this.hasOwnProperty(t)&&(this[t]=null)},r.isRunning=function(){return this._active},r._tick=function(){this._active||(this._active=!0),this._animationFrame=window.requestAnimationFrame(this._boundOnAnimationFrame)},r._onAnimationFrame=function(t){null===this.lastFrameTime&&(this.lastFrameTime=t);var e=t-this.lastFrameTime,i=0;if(e>=1e3&&(e=0),0!==e&&(i=1e3/e),this._firstFrame===!0&&(e=0,this._firstFrame=!1),0===i)this._firstFrame=!0;else{var n={time:t,delta:e,fps:i,naturalFps:i,timeNow:this._getTime()};this.trigger("update",n),this.trigger("draw",n)}this._animationFrame=null,this.lastFrameTime=t,this._active!==!1?this._tick():this.lastFrameTime=null},e.exports=n},{88:88,undefined:void 0}],25:[function(t,e,i){"use strict";function n(t,e){null!==t&&(o.call(this),e=e||{},this._fps=t||null,this._clock=e.clock||s,this._lastThrottledTime=null,this._clockEvent=null,this._boundOnClockDraw=this._onClockDraw.bind(this),this._boundOnClockUpdate=this._onClockUpdate.bind(this),this._clock.on("update",this._boundOnClockUpdate))}t("@marcom/ac-polyfills/requestAnimationFrame");var r,s=t(26),o=t(88).EventEmitterMicro;r=n.prototype=new o(null),r.setFps=function(t){return this._fps=t,this},r.getFps=function(){return this._fps},r.start=function(){return this._clock.start(),this},r.stop=function(){return this._clock.stop(),this},r.isRunning=function(){return this._clock.isRunning()},r.destroy=function(){this._clock.off("update",this._boundOnClockUpdate),this._clock.destroy.call(this)},r._onClockUpdate=function(t){null===this._lastThrottledTime&&(this._lastThrottledTime=this._clock.lastFrameTime);var e=t.time-this._lastThrottledTime;if(!this._fps)throw new TypeError("FPS is not defined.");Math.ceil(1e3/e)>=this._fps+2||(this._clockEvent=t,this._clockEvent.delta=e,this._clockEvent.fps=1e3/e,this._lastThrottledTime=this._clockEvent.time,this._clock.once("draw",this._boundOnClockDraw),this.trigger("update",this._clockEvent))},r._onClockDraw=function(){this.trigger("draw",this._clockEvent)},e.exports=n},{26:26,88:88,undefined:void 0}],26:[function(t,e,i){"use strict";var n=t(24);e.exports=new n},{24:24}],27:[function(t,e,i){"use strict";e.exports={assert:t(28),count:t(29),countReset:t(30),dir:t(31),dirxml:t(32),enabled:t(33),error:t(34),group:t(35),groupCollapsed:t(36),groupEnd:t(37),info:t(38),log:t(40),profile:t(41),profileEnd:t(42),table:t(43),time:t(44),timeEnd:t(45),trace:t(46),warn:t(47)}},{28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47}],28:[function(t,e,i){"use strict";e.exports=t(39)("assert")},{39:39}],29:[function(t,e,i){"use strict";e.exports=t(39)("count")},{39:39}],30:[function(t,e,i){"use strict";e.exports=t(39)("countReset")},{39:39}],31:[function(t,e,i){"use strict";e.exports=t(39)("dir")},{39:39}],32:[function(t,e,i){"use strict";e.exports=t(39)("dirxml")},{39:39}],33:[function(t,e,i){"use strict";var n="f7c9180f-5c45-47b4-8de4-428015f096c0",r=!1,s=window||self;try{r=!!s.localStorage.getItem(n)}catch(o){}e.exports=r},{}],34:[function(t,e,i){"use strict";e.exports=t(39)("error")},{39:39}],35:[function(t,e,i){"use strict";e.exports=t(39)("group")},{39:39}],36:[function(t,e,i){"use strict";e.exports=t(39)("groupCollapsed")},{39:39}],37:[function(t,e,i){"use strict";e.exports=t(39)("groupEnd")},{39:39}],38:[function(t,e,i){"use strict";e.exports=t(39)("info")},{39:39}],39:[function(t,e,i){"use strict";var n=t(102),r=n(t(110)),s=t(33);e.exports=function(t){return function(){if(s&&"object"===(0,r["default"])(window.console)&&"function"==typeof console[t])return console[t].apply(console,Array.prototype.slice.call(arguments,0))}}},{102:102,110:110,33:33}],40:[function(t,e,i){"use strict";e.exports=t(39)("log")},{39:39}],41:[function(t,e,i){"use strict";e.exports=t(39)("profile")},{39:39}],42:[function(t,e,i){"use strict";e.exports=t(39)("profileEnd")},{39:39}],43:[function(t,e,i){"use strict";e.exports=t(39)("table")},{39:39}],44:[function(t,e,i){"use strict";e.exports=t(39)("time")},{39:39}],45:[function(t,e,i){"use strict";e.exports=t(39)("timeEnd")},{39:39}],46:[function(t,e,i){"use strict";e.exports=t(39)("trace")},{39:39}],47:[function(t,e,i){"use strict";e.exports=t(39)("warn")},{39:39}],48:[function(t,e,i){"use strict";var n=t(52),r=t(50);e.exports=function(t,e,i,s){return e=r(t,e),n(t,e,i,s)}},{50:50,52:52}],49:[function(t,e,i){"use strict";var n=t(53),r=t(50);e.exports=function(t,e,i,s){return e=r(t,e),n(t,e,i,s)}},{50:50,53:53}],50:[function(t,e,i){"use strict";var n=t(132);e.exports=function(t,e){var i,r;return i="tagName"in t?t.tagName:t===window?"window":"document",r=n(e,i),r?r:e}},{132:132}],51:[function(t,e,i){"use strict";e.exports=function(t){return t=t||window.event,"undefined"!=typeof t.target?t.target:t.srcElement}},{}],52:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){return t.addEventListener?t.addEventListener(e,i,!!n):t.attachEvent("on"+e,i),t}},{}],53:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){return t.removeEventListener?t.removeEventListener(e,i,!!n):t.detachEvent("on"+e,i),t}},{}],54:[function(t,e,i){"use strict";var n=t(58);e.exports=function(t,e){var i;return e?(i=n(t),{width:i.width,height:i.height}):{width:t.offsetWidth,height:t.offsetHeight}}},{58:58}],55:[function(t,e,i){"use strict";var n=t(54),r=t(58);e.exports=function(t,e){var i,s,o;return e?(i=r(t),t.offsetParent&&(s=r(t.offsetParent),i.top-=s.top,i.left-=s.left)):(o=n(t,e),i={top:t.offsetTop,left:t.offsetLeft,width:o.width,height:o.height}),{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}},{54:54,58:58}],56:[function(t,e,i){"use strict";e.exports=function(t){var e;if(t=t||window,t===window){if(e=window.pageXOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollLeft}},{}],57:[function(t,e,i){"use strict";e.exports=function(t){var e;if(t=t||window,t===window){if(e=window.pageYOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollTop}},{}],58:[function(t,e,i){"use strict";e.exports=function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}},{}],59:[function(t,e,i){"use strict";e.exports=8},{}],60:[function(t,e,i){"use strict";e.exports=11},{}],61:[function(t,e,i){"use strict";e.exports=9},{}],62:[function(t,e,i){"use strict";e.exports=1},{}],63:[function(t,e,i){"use strict";e.exports=3},{}],64:[function(t,e,i){"use strict";t("@marcom/ac-polyfills/Array/prototype.slice"),t("@marcom/ac-polyfills/Array/prototype.filter");var n=t(65),r=t(62);e.exports=function(t,e){return e=e||r,t=Array.prototype.slice.call(t),t.filter(function(t){return n(t,e)})}},{62:62,65:65,undefined:void 0}],65:[function(t,e,i){"use strict";var n=t(69);e.exports=function(t,e){return!!n(t)&&("number"==typeof e?t.nodeType===e:e.indexOf(t.nodeType)!==-1)}},{69:69}],66:[function(t,e,i){"use strict";var n=t(65),r=t(59),s=t(60),o=t(62),a=t(63),u=[o,a,r,s],l=" must be an Element, TextNode, Comment, or Document Fragment",c=[o,a,r],h=" must be an Element, TextNode, or Comment",d=[o,s],f=" must be an Element, or Document Fragment",p=" must have a parentNode";e.exports={parentNode:function(t,e,i,r){if(r=r||"target",(t||e)&&!n(t,d))throw new TypeError(i+": "+r+f)},childNode:function(t,e,i,r){if(r=r||"target",(t||e)&&!n(t,c))throw new TypeError(i+": "+r+h)},insertNode:function(t,e,i,r){if(r=r||"node",(t||e)&&!n(t,u))throw new TypeError(i+": "+r+l)},hasParentNode:function(t,e,i){if(i=i||"target",!t.parentNode)throw new TypeError(e+": "+i+p)}}},{59:59,60:60,62:62,63:63,65:65}],67:[function(t,e,i){"use strict";var n=t(65),r=t(60);e.exports=function(t){return n(t,r)}},{60:60,65:65}],68:[function(t,e,i){"use strict";var n=t(65),r=t(62);e.exports=function(t){return n(t,r)}},{62:62,65:65}],69:[function(t,e,i){"use strict";e.exports=function(t){return!(!t||!t.nodeType)}},{}],70:[function(t,e,i){"use strict";var n=t(66);e.exports=function(t){return n.childNode(t,!0,"remove"),t.parentNode?t.parentNode.removeChild(t):t}},{66:66}],71:[function(t,e,i){"use strict";var n=t(133),r=t(139);e.exports=function(){var t,e,i,s,o=Array.prototype.slice.call(arguments),a=o.shift(o),u=window.getComputedStyle(a),l={};for("string"!=typeof o[0]&&(o=o[0]),s=0;s<o.length;s++)t=o[s],e=n(t),e?(t=r(e),i=u[e],i&&"auto"!==i||(i=null),i&&(i=r(i))):i=null,l[t]=i;return l}},{133:133,139:139}],72:[function(t,e,i){"use strict";var n=t(64),r=t(73),s=t(75);e.exports=function(t,e){var i;return s.parentNode(t,!0,"children"),s.selector(e,!1,"children"),i=t.children||t.childNodes,i=n(i),e&&(i=r(i,e)),i}},{64:64,73:73,75:75}],73:[function(t,e,i){"use strict";t("@marcom/ac-polyfills/Array/prototype.slice"),t("@marcom/ac-polyfills/Array/prototype.filter");var n=t(76),r=t(75);e.exports=function(t,e){return r.selector(e,!0,"filterBySelector"),t=Array.prototype.slice.call(t),t.filter(function(t){return n(t,e)})}},{75:75,76:76,undefined:void 0}],74:[function(t,e,i){"use strict";e.exports=window.Element?function(t){return t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;
}(Element.prototype):null},{}],75:[function(t,e,i){"use strict";t("@marcom/ac-polyfills/Array/prototype.indexOf");var n=t(69),r=t(59),s=t(60),o=t(61),a=t(62),u=t(63),l=function(t,e){return!!n(t)&&("number"==typeof e?t.nodeType===e:e.indexOf(t.nodeType)!==-1)},c=[a,o,s],h=" must be an Element, Document, or Document Fragment",d=[a,u,r],f=" must be an Element, TextNode, or Comment",p=" must be a string";e.exports={parentNode:function(t,e,i,n){if(n=n||"node",(t||e)&&!l(t,c))throw new TypeError(i+": "+n+h)},childNode:function(t,e,i,n){if(n=n||"node",(t||e)&&!l(t,d))throw new TypeError(i+": "+n+f)},selector:function(t,e,i,n){if(n=n||"selector",(t||e)&&"string"!=typeof t)throw new TypeError(i+": "+n+p)}}},{59:59,60:60,61:61,62:62,63:63,69:69,undefined:void 0}],76:[function(t,e,i){"use strict";var n=t(68),r=t(75),s=t(74),o=t(78);e.exports=function(t,e){return r.selector(e,!0,"matchesSelector"),!!n(t)&&(s?s.call(t,e):o(t,e))}},{68:68,74:74,75:75,78:78}],77:[function(t,e,i){"use strict";t("@marcom/ac-polyfills/Array/prototype.slice");var n=t(75),r=t(79),s="querySelectorAll"in document;e.exports=function(t,e){return e=e||document,n.parentNode(e,!0,"querySelectorAll","context"),n.selector(t,!0,"querySelectorAll"),s?Array.prototype.slice.call(e.querySelectorAll(t)):r(t,e)}},{75:75,79:79,undefined:void 0}],78:[function(t,e,i){"use strict";var n=t(77);e.exports=function(t,e){var i,r=t.parentNode||document,s=n(e,r);for(i=0;i<s.length;i++)if(s[i]===t)return!0;return!1}},{77:77}],79:[function(t,e,i){"use strict";t("@marcom/ac-polyfills/Array/prototype.indexOf");var n=t(68),r=t(67),s=t(70),o="_ac_qsa_",a=function(t,e){var i;if(e===document)return!0;for(i=t;(i=i.parentNode)&&n(i);)if(i===e)return!0;return!1},u=function(t){"recalc"in t?t.recalc(!1):document.recalc(!1),window.scrollBy(0,0)};e.exports=function(t,e){var i,n=document.createElement("style"),l=o+(Math.random()+"").slice(-6),c=[];for(e=e||document,document[l]=[],r(e)?e.appendChild(n):document.documentElement.firstChild.appendChild(n),n.styleSheet.cssText="*{display:recalc;}"+t+'{ac-qsa:expression(document["'+l+'"] && document["'+l+'"].push(this));}',u(e);document[l].length;)i=document[l].shift(),i.style.removeAttribute("ac-qsa"),c.indexOf(i)===-1&&a(i,e)&&c.push(i);return document[l]=null,s(n),u(e),c}},{67:67,68:68,70:70,undefined:void 0}],80:[function(t,e,i){"use strict";e.exports={createBezier:t(82),createPredefined:t(83),createStep:t(84),Ease:t(81)}},{81:81,82:82,83:83,84:84}],81:[function(t,e,i){"use strict";function n(t,e){if("function"!=typeof t)throw new TypeError(r);this.easingFunction=t,this.cssString=e||null}var r="Ease expects an easing function.",s=n.prototype;s.getValue=function(t){return this.easingFunction(t,0,1,1)},e.exports=n},{}],82:[function(t,e,i){"use strict";t("@marcom/ac-polyfills/Array/prototype.every");var n=t(81),r=t(85),s="Bezier curve expects exactly four (4) numbers. Given: ";e.exports=function(t,e,i,o){var a=Array.prototype.slice.call(arguments),u=a.every(function(t){return"number"==typeof t});if(4!==a.length||!u)throw new TypeError(s+a);var l=new r(t,e,i,o),c=function(t,e,i,n){return l.get(t/n)*i+e},h="cubic-bezier("+a.join(", ")+")";return new n(c,h)}},{81:81,85:85,undefined:void 0}],83:[function(t,e,i){"use strict";var n=t(84),r=t(86),s=t(87),o=t(81),a='Easing function "%TYPE%" not recognized among the following: '+Object.keys(s).join(", ");e.exports=function(t){var e;if("step-start"===t)return n(1,"start");if("step-end"===t)return n(1,"end");if(e=s[t],!e)throw new Error(a.replace("%TYPE%",t));return new o(e,r[t])}},{81:81,84:84,86:86,87:87}],84:[function(t,e,i){"use strict";var n=t(81),r="Step function expects a numeric value greater than zero. Given: ",s='Step function direction must be either "start" or "end" (default). Given: ';e.exports=function(t,e){if(e=e||"end","number"!=typeof t||t<1)throw new TypeError(r+t);if("start"!==e&&"end"!==e)throw new TypeError(s+e);var i=function(i,n,r,s){var o=r/t,a=Math["start"===e?"floor":"ceil"](i/s*t);return n+o*a},o="steps("+t+", "+e+")";return new n(i,o)}},{81:81}],85:[function(t,e,i){"use strict";function n(t,e,i,n){function r(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,i){return((r(e,i)*t+s(e,i))*t+o(e))*t}function u(t,e,i){return 3*r(e,i)*t*t+2*s(e,i)*t+o(e)}function l(e){for(var n=e,r=0;r<4;++r){var s=u(n,t,i);if(0===s)return n;var o=a(n,t,i)-e;n-=o/s}return n}this.get=function(r){return t===e&&i===n?r:a(l(r),e,n)}}e.exports=n},{}],86:[function(t,e,i){"use strict";var n={linear:"cubic-bezier(0, 0, 1, 1)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","ease-in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","ease-out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","ease-in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","ease-in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","ease-out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","ease-in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","ease-in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","ease-out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","ease-in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","ease-in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","ease-out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","ease-in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","ease-in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","ease-out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","ease-in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","ease-in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","ease-out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","ease-in-out-expo":"cubic-bezier(1, 0, 0, 1)","ease-in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","ease-out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","ease-in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","ease-in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"};n.easeIn=n["ease-in"],n.easeOut=n["ease-out"],n.easeInOut=n["ease-in-out"],n.easeInCubic=n["ease-in-cubic"],n.easeOutCubic=n["ease-out-cubic"],n.easeInOutCubic=n["ease-in-out-cubic"],n.easeInQuad=n["ease-in-quad"],n.easeOutQuad=n["ease-out-quad"],n.easeInOutQuad=n["ease-in-out-quad"],n.easeInQuart=n["ease-in-quart"],n.easeOutQuart=n["ease-out-quart"],n.easeInOutQuart=n["ease-in-out-quart"],n.easeInQuint=n["ease-in-quint"],n.easeOutQuint=n["ease-out-quint"],n.easeInOutQuint=n["ease-in-out-quint"],n.easeInSine=n["ease-in-sine"],n.easeOutSine=n["ease-out-sine"],n.easeInOutSine=n["ease-in-out-sine"],n.easeInExpo=n["ease-in-expo"],n.easeOutExpo=n["ease-out-expo"],n.easeInOutExpo=n["ease-in-out-expo"],n.easeInCirc=n["ease-in-circ"],n.easeOutCirc=n["ease-out-circ"],n.easeInOutCirc=n["ease-in-out-circ"],n.easeInBack=n["ease-in-back"],n.easeOutBack=n["ease-out-back"],n.easeInOutBack=n["ease-in-out-back"],e.exports=n},{}],87:[function(t,e,i){"use strict";var n=t(82),r=n(.25,.1,.25,1).easingFunction,s=n(.42,0,1,1).easingFunction,o=n(0,0,.58,1).easingFunction,a=n(.42,0,.58,1).easingFunction,u=function(t,e,i,n){return i*t/n+e},l=function(t,e,i,n){return i*(t/=n)*t+e},c=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},h=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},d=function(t,e,i,n){return i*(t/=n)*t*t+e},f=function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},p=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},m=function(t,e,i,n){return i*(t/=n)*t*t*t+e},_=function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},v=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},y=function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},b=function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},g=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},E=function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},w=function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},x=function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},O=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},S=function(t,e,i,n){return t===n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},A=function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},T=function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},C=function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},P=function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},k=function(t,e,i,n){var r=1.70158,s=0,o=i;return 0===t?e:1===(t/=n)?e+i:(s||(s=.3*n),o<Math.abs(i)?(o=i,r=s/4):r=s/(2*Math.PI)*Math.asin(i/o),-(o*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/s))+e)},I=function(t,e,i,n){var r=1.70158,s=0,o=i;return 0===t?e:1===(t/=n)?e+i:(s||(s=.3*n),o<Math.abs(i)?(o=i,r=s/4):r=s/(2*Math.PI)*Math.asin(i/o),o*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/s)+i+e)},F=function(t,e,i,n){var r=1.70158,s=0,o=i;return 0===t?e:2===(t/=n/2)?e+i:(s||(s=n*(.3*1.5)),o<Math.abs(i)?(o=i,r=s/4):r=s/(2*Math.PI)*Math.asin(i/o),t<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/s))+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/s)*.5+i+e)},M=function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e},D=function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e},R=function(t,e,i,n,r){return void 0===r&&(r=1.70158),(t/=n/2)<1?i/2*(t*t*(((r*=1.525)+1)*t-r))+e:i/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e},N=function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},L=function(t,e,i,n){return i-N(n-t,0,i,n)+e},U=function(t,e,i,n){return t<n/2?.5*L(2*t,0,i,n)+e:.5*N(2*t-n,0,i,n)+.5*i+e};e.exports={linear:u,ease:r,easeIn:s,"ease-in":s,easeOut:o,"ease-out":o,easeInOut:a,"ease-in-out":a,easeInCubic:d,"ease-in-cubic":d,easeOutCubic:f,"ease-out-cubic":f,easeInOutCubic:p,"ease-in-out-cubic":p,easeInQuad:l,"ease-in-quad":l,easeOutQuad:c,"ease-out-quad":c,easeInOutQuad:h,"ease-in-out-quad":h,easeInQuart:m,"ease-in-quart":m,easeOutQuart:_,"ease-out-quart":_,easeInOutQuart:v,"ease-in-out-quart":v,easeInQuint:y,"ease-in-quint":y,easeOutQuint:b,"ease-out-quint":b,easeInOutQuint:g,"ease-in-out-quint":g,easeInSine:E,"ease-in-sine":E,easeOutSine:w,"ease-out-sine":w,easeInOutSine:x,"ease-in-out-sine":x,easeInExpo:O,"ease-in-expo":O,easeOutExpo:S,"ease-out-expo":S,easeInOutExpo:A,"ease-in-out-expo":A,easeInCirc:T,"ease-in-circ":T,easeOutCirc:C,"ease-out-circ":C,easeInOutCirc:P,"ease-in-out-circ":P,easeInBack:M,"ease-in-back":M,easeOutBack:D,"ease-out-back":D,easeInOutBack:R,"ease-in-out-back":R,easeInElastic:k,"ease-in-elastic":k,easeOutElastic:I,"ease-out-elastic":I,easeInOutElastic:F,"ease-in-out-elastic":F,easeInBounce:L,"ease-in-bounce":L,easeOutBounce:N,"ease-out-bounce":N,easeInOutBounce:U,"ease-in-out-bounce":U}},{82:82}],88:[function(t,e,i){"use strict";e.exports={EventEmitterMicro:t(89)}},{89:89}],89:[function(t,e,i){"use strict";function n(){this._events={}}var r=n.prototype;r.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},r.once=function(t,e){function i(r){n.off(t,i),void 0!==r?e(r):e()}var n=this;this.on(t,i)},r.off=function(t,e){if(this.has(t)){if(1===arguments.length)return this._events[t]=null,void delete this._events[t];var i=this._events[t].indexOf(e);i!==-1&&this._events[t].splice(i,1)}},r.trigger=function(t,e){if(this.has(t))for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},r.has=function(t){return t in this._events!=!1&&0!==this._events[t].length},r.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},e.exports=n},{}],90:[function(t,e,i){"use strict";e.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],91:[function(t,e,i){"use strict";function n(){var t=r.getWindow(),e=r.getDocument(),i=r.getNavigator();return!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||i.maxTouchPoints>0||i.msMaxTouchPoints>0)}var r=t(90),s=t(92);e.exports=s(n),e.exports.original=n},{90:90,92:92}],92:[function(t,e,i){"use strict";e.exports=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}}},{}],93:[function(t,e,i){"use strict";var n={};e.exports=function(t,e,i){if(t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i||!n.hasOwnProperty(t)){var r=new RegExp("[\\?&]"+t+"=([^&#]*)"),s=r.exec(location.search),o=null===s?e:decodeURIComponent(s[1].replace(/\+/g," "));"true"!==o&&"false"!==o||(o="true"===o),isNaN(parseFloat(o))||(o=parseFloat(o)),n[t]=o}return n[t]}},{}],94:[function(t,e,i){function n(t){if(Array.isArray(t))return t}e.exports=n},{}],95:[function(t,e,i){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.exports=n},{}],96:[function(t,e,i){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.exports=n},{}],97:[function(t,e,i){function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function r(t,i,o){return n()?e.exports=r=Reflect.construct:e.exports=r=function(t,e,i){var n=[null];n.push.apply(n,e);var r=Function.bind.apply(t,n),o=new r;return i&&s(o,i.prototype),o},r.apply(null,arguments)}var s=t(107);e.exports=r},{107:107}],98:[function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}e.exports=r},{}],99:[function(t,e,i){function n(t,i,s){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=n=Reflect.get:e.exports=n=function(t,e,i){var n=r(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}},n(t,i,s||t)}var r=t(109);e.exports=n},{109:109}],100:[function(t,e,i){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}e.exports=n},{}],101:[function(t,e,i){function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}var r=t(107);e.exports=n},{107:107}],102:[function(t,e,i){function n(t){return t&&t.__esModule?t:{"default":t}}e.exports=n},{}],103:[function(t,e,i){function n(t){return Function.toString.call(t).indexOf("[native code]")!==-1}e.exports=n},{}],104:[function(t,e,i){function n(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(u){r=!0,s=u}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}return i}}e.exports=n},{}],105:[function(t,e,i){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}e.exports=n},{}],106:[function(t,e,i){function n(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?s(t):e}var r=t(110),s=t(95);e.exports=n},{110:110,95:95}],107:[function(t,e,i){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,i)}e.exports=n},{}],108:[function(t,e,i){function n(t,e){return r(t)||s(t,e)||o()}var r=t(94),s=t(104),o=t(105);e.exports=n},{104:104,105:105,94:94}],109:[function(t,e,i){function n(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=r(t),null!==t););return t}var r=t(100);e.exports=n},{100:100}],110:[function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(t){return n(t)}:e.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(t)}e.exports=r},{}],111:[function(t,e,i){function n(t){var i="function"==typeof Map?new Map:void 0;return e.exports=n=function(t){function e(){return a(t,arguments,r(this).constructor)}if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof i){if(i.has(t))return i.get(t);i.set(t,e)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s(e,t)},n(t)}var r=t(100),s=t(107),o=t(103),a=t(97);e.exports=n},{100:100,103:103,107:107,97:97}],112:[function(t,e,i){"use strict";var n=function(t,e){this._target=t,this._tests={},this.addTests(e)},r=n.prototype;r.addTests=function(t){this._tests=Object.assign(this._tests,t)},r._supports=function(t){return"undefined"!=typeof this._tests[t]&&("function"==typeof this._tests[t]&&(this._tests[t]=this._tests[t]()),this._tests[t])},r._addClass=function(t,e){e=e||"no-",this._supports(t)?this._target.classList.add(t):this._target.classList.add(e+t)},r.htmlClass=function(){var t;this._target.classList.remove("no-js"),this._target.classList.add("js");for(t in this._tests)this._tests.hasOwnProperty(t)&&this._addClass(t)},e.exports=n},{}],113:[function(t,e,i){"use strict";function n(t,e){this._target=t||document.body,this._attr=e||r,this._focusMethod=this._lastFocusMethod=!1,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this),this._bindEvents()}var r="data-focus-method",s="touch",o="mouse",a="key",u=n.prototype;u._bindEvents=function(){this._target.addEventListener("keydown",this._onKeyDown,!0),this._target.addEventListener("mousedown",this._onMouseDown,!0),this._target.addEventListener("touchstart",this._onTouchStart,!0),this._target.addEventListener("focus",this._onFocus,!0),this._target.addEventListener("blur",this._onBlur,!0),window.addEventListener("blur",this._onWindowBlur)},u._onKeyDown=function(t){this._focusMethod=a},u._onMouseDown=function(t){this._focusMethod!==s&&(this._focusMethod=o)},u._onTouchStart=function(t){this._focusMethod=s},u._onFocus=function(t){this._focusMethod||(this._focusMethod=this._lastFocusMethod),t.target.setAttribute(this._attr,this._focusMethod),this._lastFocusMethod=this._focusMethod,this._focusMethod=!1},u._onBlur=function(t){t.target.removeAttribute(this._attr)},u._onWindowBlur=function(t){this._focusMethod=!1},e.exports=n},{}],114:[function(t,e,i){"use strict";t("@marcom/ac-polyfills");var n=t(112),r=t(115);e.exports=new n(document.documentElement,r),e.exports.FeatureDetect=n;var s=t(113);document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){new s})},{112:112,113:113,115:115,undefined:void 0}],115:[function(t,e,i){"use strict";var n=t(91);e.exports={touch:n,"progressive-image":!0}},{91:91}],116:[function(t,e,i){"use strict";function n(t){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),this._context=t||document,s(this._context,l,this._DOMKeyDown,!0),s(this._context,c,this._DOMKeyUp,!0),r.call(this)}var r=t(88).EventEmitterMicro,s=t(52),o=t(53),a=t(129),u=t(118),l="keydown",c="keyup",h=n.prototype=a(r.prototype);h.onDown=function(t,e){return this.on(l+":"+t,e)},h.onceDown=function(t,e){return this.once(l+":"+t,e)},h.offDown=function(t,e){return this.off(l+":"+t,e)},h.onUp=function(t,e){return this.on(c+":"+t,e)},h.onceUp=function(t,e){return this.once(c+":"+t,e)},h.offUp=function(t,e){return this.off(c+":"+t,e)},h.isDown=function(t){return t+="",this._keysDown[t]||!1},h.isUp=function(t){return!this.isDown(t)},h.destroy=function(){return o(this._context,l,this._DOMKeyDown,!0),o(this._context,c,this._DOMKeyUp,!0),this._keysDown=null,this._context=null,r.prototype.destroy.call(this),this},h._DOMKeyDown=function(t){var e=this._normalizeKeyboardEvent(t),i=e.keyCode+="";this._trackKeyDown(i),this.trigger(l+":"+i,e)},h._DOMKeyUp=function(t){var e=this._normalizeKeyboardEvent(t),i=e.keyCode+="";this._trackKeyUp(i),this.trigger(c+":"+i,e)},h._normalizeKeyboardEvent=function(t){return new u(t)},h._trackKeyUp=function(t){this._keysDown[t]&&(this._keysDown[t]=!1)},h._trackKeyDown=function(t){this._keysDown[t]||(this._keysDown[t]=!0)},e.exports=n},{118:118,129:129,52:52,53:53,88:88}],117:[function(t,e,i){"use strict";var n=t(116);e.exports=new n},{116:116}],118:[function(t,e,i){"use strict";function n(t){this.originalEvent=t;var e;for(e in t)r.indexOf(e)===-1&&"function"!=typeof t[e]&&(this[e]=t[e]);this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}var r=["keyLocation"];n.prototype={preventDefault:function(){return"function"!=typeof this.originalEvent.preventDefault?void(this.originalEvent.returnValue=!1):this.originalEvent.preventDefault()},stopPropagation:function(){return this.originalEvent.stopPropagation()}},e.exports=n},{}],119:[function(t,e,i){"use strict";e.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],120:[function(t,e,i){"use strict";e.exports={Modal:t(121),Renderer:t(122),classNames:t(123),dataAttributes:t(124)}},{121:121,122:122,123:123,124:124}],121:[function(t,e,i){"use strict";function n(t,e){l.call(this),this.options=o.defaults(h,t),this.renderer=new c(e),this.opened=!1,this._keysToClose=[u.ESCAPE],this._attachedKeysToClose=[],this.close=this.close.bind(this)}var r={addEventListener:t(48),removeEventListener:t(49),target:t(51)},s={getScrollX:t(56),getScrollY:t(57)},o={create:t(129),defaults:t(130)},a=t(117),u=t(119),l=t(88).EventEmitterMicro,c=t(122),h={retainScrollPosition:!1},d=n.prototype=o.create(l.prototype);d.open=function(){this.options.retainScrollPosition&&this._saveScrollPosition(),this.opened||(this._attachEvents(),this.trigger("willopen"),this.renderer.open(),this.opened=!0,this.trigger("open"))},d.close=function(t){var e,i;if(this.opened){if(t&&"click"===t.type&&(e=r.target(t),i=this.renderer.options.dataAttributes.close,!e.hasAttribute(i)))return;this.trigger("willclose"),this._removeEvents(),this.renderer.close(),this.options.retainScrollPosition&&this._restoreScrollPosition(),this.opened=!1,this.trigger("close")}},d.render=function(){this.renderer.render()},d.appendContent=function(t,e){this.renderer.appendContent(t,e)},d.removeContent=function(t){this.renderer.removeContent(t)},d.destroy=function(){this._removeEvents(),this.renderer.destroy();for(var t in this)this.hasOwnProperty(t)&&(this[t]=null)},d.addKeyToClose=function(t){var e=this._keysToClose.indexOf(t);e===-1&&(this._keysToClose.push(t),this._bindKeyToClose(t))},d.removeKeyToClose=function(t){var e=this._keysToClose.indexOf(t);e!==-1&&this._keysToClose.splice(e,1),this._releaseKeyToClose(t)},d._bindKeyToClose=function(t){var e=this._attachedKeysToClose.indexOf(t);e===-1&&(a.onUp(t,this.close),this._attachedKeysToClose.push(t))},d._releaseKeyToClose=function(t){var e=this._attachedKeysToClose.indexOf(t);e!==-1&&(a.offUp(t,this.close),this._attachedKeysToClose.splice(e,1))},d._removeEvents=function(){this.renderer.modalElement&&r.removeEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._releaseKeyToClose,this)},d._attachEvents=function(){this.renderer.modalElement&&r.addEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._bindKeyToClose,this)},d._restoreScrollPosition=function(){window.scrollTo(this._scrollX||0,this._scrollY||0)},d._saveScrollPosition=function(){this._scrollX=s.getScrollX(),this._scrollY=s.getScrollY()},e.exports=n},{117:117,119:119,122:122,129:129,130:130,48:48,49:49,51:51,56:56,57:57,88:88}],122:[function(t,e,i){"use strict";var n={add:t(13),remove:t(18)},r={defaults:t(130)},s={remove:t(70),isElement:t(68)},o=t(123),a=t(124),u={modalElement:null,contentElement:null,closeButton:null,classNames:o,dataAttributes:a},l=function(t){t=t||{},this.options=r.defaults(u,t),this.options.classNames=r.defaults(u.classNames,t.classNames),this.options.dataAttributes=r.defaults(u.dataAttributes,t.dataAttributes),this.modalElement=this.options.modalElement,this.contentElement=this.options.contentElement,this.closeButton=this.options.closeButton},c=l.prototype;c.render=function(){return s.isElement(this.modalElement)||(this.modalElement=this.renderModalElement(this.options.classNames.modalElement)),s.isElement(this.contentElement)||(this.contentElement=this.renderContentElement(this.options.classNames.contentElement)),this.closeButton!==!1&&(s.isElement(this.closeButton)||(this.closeButton=this.renderCloseButton(this.options.classNames.closeButton)),this.modalElement.appendChild(this.closeButton)),this.modalElement.appendChild(this.contentElement),document.body.appendChild(this.modalElement),this.modalElement},c.renderCloseButton=function(t){var e;return t=t||this.options.classNames.closeButton,e=this._renderElement("button",t),e.setAttribute(this.options.dataAttributes.close,""),e},c.renderModalElement=function(t){return t=t||this.options.classNames.modalElement,this._renderElement("div",t)},c.renderContentElement=function(t){return t=t||this.options.classNames.contentElement,this._renderElement("div",t)},c.appendContent=function(t,e){s.isElement(t)&&(void 0===arguments[1]?this.contentElement.appendChild(t):s.isElement(e)&&e.appendChild(t))},c.removeContent=function(t){t?this.modalElement.contains(t)&&s.remove(t):this._emptyContent()},c.open=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement),e=[this.modalElement].concat(this.options.classNames.modalOpen);n.add.apply(null,t),n.add.apply(null,e)},c.close=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement),e=[this.modalElement].concat(this.options.classNames.modalOpen);n.remove.apply(null,t),n.remove.apply(null,e)},c.destroy=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement);this.modalElement&&document.body.contains(this.modalElement)&&(this.close(),document.body.removeChild(this.modalElement)),n.remove.apply(null,t);for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)},c._renderElement=function(t,e){var i=document.createElement(t),r=[i];return e&&(r=r.concat(e)),n.add.apply(null,r),i},c._emptyContent=function(){this.contentElement.innerHTML=""},e.exports=l},{123:123,124:124,13:13,130:130,18:18,68:68,70:70}],123:[function(t,e,i){"use strict";e.exports={modalElement:"modal",modalOpen:"modal-open",documentElement:"has-modal",contentElement:"modal-content",closeButton:"modal-close"}},{}],124:[function(t,e,i){"use strict";e.exports={close:"data-modal-close"}},{}],125:[function(t,e,i){"use strict";e.exports={Modal:t(126),createStandardModal:t(128),createFullViewportModal:t(127)}},{126:126,127:127,128:128}],126:[function(t,e,i){"use strict";function n(t){s.call(this),this.options=t||{},this._modal=new r(t,this.options.renderer),this.opened=!1,this._render(),this.closeButton=this._modal.renderer.closeButton,this.modalElement=this._modal.renderer.modalElement,this.contentElement=this._modal.renderer.contentElement,this.modalElement.setAttribute("role","dialog"),this.modalElement.setAttribute("aria-label","Modal"),this.modalElement.setAttribute("tabindex","-1"),this.closeButton.setAttribute("aria-label","Close"),this._circularTab=new o(this.modalElement),this._onWillOpen=this._onWillOpen.bind(this),this._onOpen=this._onOpen.bind(this),this._onWillClose=this._onWillClose.bind(this),this._onClose=this._onClose.bind(this),this._bindEvents()}var r=t(120).Modal,s=t(88).EventEmitterMicro,o=t(1),a=n.prototype=Object.create(s.prototype);a.open=function(){this._modal.open(),this.opened=this._modal.opened},a.close=function(){this._modal.close()},a.appendContent=function(t){this._modal.appendContent(t)},a.removeContent=function(t){this._modal.removeContent(t)},a.destroy=function(){this._releaseEvents(),this._modal.destroy(),this._removeModalFocus(),this._circularTab.destroy(),this._focusObj=null;for(var t in this)this.hasOwnProperty(t)&&(this[t]=null)},a.addKeyToClose=function(t){this._modal.addKeyToClose(t)},a.removeKeyToClose=function(t){this._modal.removeKeyToClose(t)},a._render=function(){this._modal.render(),this._modal.renderer.modalElement.setAttribute("aria-hidden","true")},a._bindEvents=function(){this._modal.on("willopen",this._onWillOpen),this._modal.on("open",this._onOpen),this._modal.on("willclose",this._onWillClose),this._modal.on("close",this._onClose)},a._releaseEvents=function(){this._modal.off("willopen",this._onWillOpen),this._modal.off("open",this._onOpen),this._modal.off("willclose",this._onWillClose),this._modal.off("close",this._onClose)},a._onWillOpen=function(){this.trigger("willopen")},a._onOpen=function(){this.opened=this._modal.opened,this._giveModalFocus(),this.trigger("open")},a._onWillClose=function(){this.trigger("willclose"),this._removeModalFocus()},a._onClose=function(){this.opened=this._modal.opened,this.trigger("close")},a._giveModalFocus=function(){this.modalElement.removeAttribute("aria-hidden"),this._activeElement=document.activeElement,this.modalElement.focus(),this._circularTab.start()},a._removeModalFocus=function(){this._circularTab.stop(),this.modalElement.setAttribute("aria-hidden","true"),this._activeElement&&(this._activeElement.focus(),this._activeElement=null)},e.exports=n},{1:1,120:120,88:88}],127:[function(t,e,i){"use strict";function n(t,e){var i=new r(o),n=e||{};return t&&i.appendContent(t),n.removeContainerPadding&&i.modalElement.classList.add("remove-container-padding"),i}var r=t(126),s=t(120).classNames,o={retainScrollPosition:!0,renderer:{classNames:{documentElement:[s.documentElement].concat("has-modal-full-viewport"),modalElement:[s.modalElement].concat("modal-full-viewport")}}};e.exports=n},{120:120,126:126}],128:[function(t,e,i){"use strict";function n(t){var e=new r(u);t&&e.appendContent(t);var i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div");return a.add(i,"content-table"),a.add(n,"content-cell"),a.add(s,"content-wrapper"),a.add(l,"content-padding","large-8","medium-10"),e.modalElement.setAttribute(o.close,""),s.setAttribute(o.close,""),n.setAttribute(o.close,""),i.appendChild(n),n.appendChild(s),s.appendChild(l),e.modalElement.appendChild(i),l.appendChild(e.contentElement),l.appendChild(e.closeButton),e}var r=t(126),s=t(120).classNames,o=t(120).dataAttributes,a={add:t(13)},u={renderer:{classNames:{documentElement:[s.documentElement].concat("has-modal-standard"),modalElement:[s.modalElement].concat("modal-standard")}}};e.exports=n},{120:120,126:126,13:13}],129:[function(t,e,i){"use strict";var n=t(102),r=n(t(110)),s=function(){};
e.exports=function(t){if(arguments.length>1)throw new Error("Second argument not supported");if(null===t||"object"!==(0,r["default"])(t))throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(t):(s.prototype=t,new s)}},{102:102,110:110}],130:[function(t,e,i){"use strict";var n=t(102),r=n(t(110)),s=t(131);e.exports=function(t,e){if("object"!==(0,r["default"])(t))throw new TypeError("defaults: must provide a defaults object");if(e=e||{},"object"!==(0,r["default"])(e))throw new TypeError("defaults: options must be a typeof object");return s({},t,e)}},{102:102,110:110,131:131}],131:[function(t,e,i){"use strict";t("@marcom/ac-polyfills/Array/prototype.forEach");var n=Object.prototype.hasOwnProperty;e.exports=function(){var t,e;return t=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),e=t.shift(),t.forEach(function(t){if(null!=t)for(var i in t)n.call(t,i)&&(e[i]=t[i])}),e}},{undefined:void 0}],132:[function(t,e,i){"use strict";var n=t(140),r=t(134),s=t(138),o=t(136),a={};e.exports=function u(t,e){var i,l,c;if(e=e||"div",t=t.toLowerCase(),e in a||(a[e]={}),l=a[e],t in l)return l[t];if(n(t,e))return l[t]=t;if(t in r)for(c=0;c<r[t].length;c++)if(i=r[t][c],n(i.toLowerCase(),e))return l[t]=i;for(c=0;c<o.evt.length;c++)if(i=o.evt[c]+t,n(i,e))return o.reduce(c),l[t]=i;return"window"!==e&&s.indexOf(t)?l[t]=u(t,"window"):l[t]=!1}},{134:134,136:136,138:138,140:140}],133:[function(t,e,i){"use strict";var n=t(137),r=t(135),s=t(141),o=t(142),a=t(136),u=function(t,e){var i=s(t),r=e!==!1&&s(e);return n[t]=n[e]=n[i]=n[r]={dom:e,css:r},e};e.exports=function(t){var e,i,s,l;if(t+="",t in n)return n[t].dom;for(s=r(),t=o(t),i=t.charAt(0).toUpperCase()+t.substring(1),e="filter"===t?["WebkitFilter","filter"]:(t+" "+a.dom.join(i+" ")+i).split(" "),l=0;l<e.length;l++)if("undefined"!=typeof s.style[e[l]])return 0!==l&&a.reduce(l-1),u(t,e[l]);return u(t,!1)}},{135:135,136:136,137:137,141:141,142:142}],134:[function(t,e,i){"use strict";e.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},{}],135:[function(t,e,i){"use strict";var n;e.exports=function(){return n?(n.style.cssText="",n.removeAttribute("style")):n=document.createElement("_"),n},e.exports.resetElement=function(){n=null}},{}],136:[function(t,e,i){"use strict";var n=["-webkit-","-moz-","-ms-"],r=["Webkit","Moz","ms"],s=["webkit","moz","ms"],o=function(){this.initialize()},a=o.prototype;a.initialize=function(){this.reduced=!1,this.css=n,this.dom=r,this.evt=s},a.reduce=function(t){this.reduced||(this.reduced=!0,this.css=[this.css[t]],this.dom=[this.dom[t]],this.evt=[this.evt[t]])},e.exports=new o},{}],137:[function(t,e,i){"use strict";e.exports={}},{}],138:[function(t,e,i){"use strict";e.exports=["transitionend","animationstart","animationend","animationiteration"]},{}],139:[function(t,e,i){"use strict";var n=/(-webkit-|-moz-|-ms-)|^(webkit|moz|ms)/gi;e.exports=function(t){return t=String.prototype.replace.call(t,n,""),t.charAt(0).toLowerCase()+t.substring(1)}},{}],140:[function(t,e,i){"use strict";var n={window:window,document:document};e.exports=function(t,e){var i;return t="on"+t,e in n||(n[e]=document.createElement(e)),i=n[e],t in i||"setAttribute"in i&&(i.setAttribute(t,"return;"),"function"==typeof i[t])}},{}],141:[function(t,e,i){"use strict";var n=/^(webkit|moz|ms)/gi;e.exports=function(t){return"cssfloat"===t.toLowerCase()?"float":(n.test(t)&&(t="-"+t),t.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())}},{}],142:[function(t,e,i){"use strict";var n=/-([a-z])/g;e.exports=function(t){return"float"===t.toLowerCase()?"cssFloat":(t=t.replace(n,function(t,e){return e.toUpperCase()}),"Ms"===t.substr(0,2)&&(t="ms"+t.substring(2)),t)}},{}],143:[function(t,e,i){"use strict";function n(t){o.call(this),this.options=r(l,t),this.loadingOptions=null,this.els=[],this.loadingQueue=null,this._queueItems=[],this._queueItemsObj={},this._loadOrder=[],this._timeout=null,this._didCallLoad=!1}var r=t(130),s=t(144).LiveQueue,o=t(88).EventEmitterMicro,a=t(154),u=t(153),l={container:document.body,includeContainer:!1},c={loadingPoolSize:8,timeout:null,imageDataAttribute:"data-progressive-image",imageAnimate:!0,imageAnimateClass:"progressive-image-animated"};n.Events={ImageLoad:"image-load",Complete:"complete"};var h=n.prototype=Object.create(o.prototype);h.load=function(t){this._didCallLoad||(this._didCallLoad=!0,this.loadingOptions=r(c,t),this.loadingQueue=new s(this.loadingOptions.loadingPoolSize),this.els=Array.from(this._getProgressiveImageElements()),this.options.includeContainer&&this.options.container.hasAttribute(this._getProgressiveImageDataAttribute())&&this.els.unshift(this.options.container),u(function(){var t,e,i=this.els.length;for(t=0;t<i;t++)e={queueItem:this.loadingQueue.enqueue(this._loadNextItem.bind(this,t),t),el:this.els[t],id:t},this._queueItems.push(e),this._queueItemsObj[t]=e,this.loadingOptions.imageAnimate&&this.els[t].classList.add(this.loadingOptions.imageAnimateClass);a(function(){this.loadingQueue.start(),"number"==typeof this.loadingOptions.timeout&&(this._timeout=setTimeout(this.cancel.bind(this),this.loadingOptions.timeout))}.bind(this))}.bind(this)))},h.setVisible=function(t){return new Promise(function(e,i){u(function(){t.removeAttribute(this._getProgressiveImageDataAttribute()),e(),t=null}.bind(this))}.bind(this))},h.cancel=function(){if(this.els){var t,e=this.els.length;for(t=0;t<e;t++)this.setVisible(this.els[t]),this.loadingOptions.imageAnimate&&u(function(){this.els[t].setAttribute("data-progressive-image-loaded","")}.bind(this,t))}this._handleLoadingComplete()},h.destroy=function(){this.cancel(),this.off(),o.prototype.destroy.call(this)},h._loadNextItem=function(t){return new Promise(function(t,e,i){var n=this._queueItemsObj[t];this._loadAndSetVisible(n.el).then(function(){var t=this._queueItems.indexOf(n);this._queueItems.splice(t,1),this._queueItemsObj[n.id]=null,e(),this._handleImageLoad(n.el),n=e=null,1===this.loadingQueue.count()&&this._handleLoadingComplete()}.bind(this))}.bind(this,t))},h._loadAndSetVisible=function(t){return new Promise(function(e,i){this.setVisible(t).then(function(){this._getBackgroundImageSrc(t).then(function(i){this._loadImage(i).then(e),t=null}.bind(this))}.bind(this))}.bind(this))},h._getBackgroundImageSrc=function(t){return new Promise(function(e,i){a(function(){var i=t.currentStyle;return i||(i=window.getComputedStyle(t,!1)),t=null,0===i.backgroundImage.indexOf("url(")?void e(i.backgroundImage.slice(4,-1).replace(/"/g,"")):void e(null)}.bind(this))}.bind(this))},h._getProgressiveImageDataAttribute=function(){return this.loadingOptions.imageDataAttribute},h._getProgressiveImageCSSQuery=function(){return"["+this._getProgressiveImageDataAttribute()+"]"},h._getProgressiveImageElements=function(){return this.options.container.querySelectorAll(this._getProgressiveImageCSSQuery())||[]},h._loadImage=function(t){return new Promise(this._loadImagePromiseFunc.bind(this,t))},h._loadImagePromiseFunc=function(t,e,i){function n(){this.removeEventListener("load",n),e(this),e=null}if(!t)return void e(null);var r=new Image;r.addEventListener("load",n),r.src=t},h._clearTimeout=function(){this._timeout&&(window.clearTimeout(this._timeout),this._timeout=null)},h._handleImageLoad=function(t){u(function(){this.trigger(n.Events.ImageLoad,t),this.loadingOptions.imageAnimate&&t.setAttribute("data-progressive-image-loaded",""),t=null}.bind(this))},h._handleLoadingComplete=function(){this.loadingQueue.stop(),this._clearTimeout(),this.trigger(n.Events.Complete)},e.exports=n},{130:130,144:144,153:153,154:154,88:88}],144:[function(t,e,i){"use strict";e.exports={Queue:t(146),QueueItem:t(147),LiveQueue:t(145)}},{145:145,146:146,147:147}],145:[function(t,e,i){"use strict";function n(t){this._queue=new r,this._maxProcesses=t||1,this._availableSlots=this._maxProcesses,this._rafId=0,this._isRunning=!1,this._boundFunctions={_run:this._run.bind(this),_releaseSlot:this._releaseSlot.bind(this)}}t("@marcom/ac-polyfills/Promise"),t("@marcom/ac-polyfills/requestAnimationFrame"),t("@marcom/ac-polyfills/Function/prototype.bind");var r=t(146),s=t(147),o=n.prototype;o.start=function(){this._isRunning&&cancelAnimationFrame(this._rafId),this._rafId=requestAnimationFrame(this._boundFunctions._run),this._isRunning=!0},o.pause=function(){this._isRunning&&(cancelAnimationFrame(this._rafId),this._rafId=0),this._isRunning=!1},o.stop=function(){this.pause(),this.clear()},o.enqueue=function(t,e){if("function"!=typeof t)throw new Error("LiveQueue can only enqueue functions");void 0===e&&(e=r.PRIORITY_DEFAULT);var i=new s(t,e);return this.enqueueQueueItem(i)},o.enqueueQueueItem=function(t){return this._queue.enqueueQueueItem(t),this._isRunning&&0===this._rafId&&this.start(),t},o.dequeueQueueItem=function(t){return this._queue.dequeueQueueItem(t)},o.clear=function(){this._queue=new r},o.destroy=function(){this.pause(),this._isRunning=!1,this._queue=null,this._boundFunctions=null},o.count=function(){return this._queue.count()+this.pending()},o.pending=function(){return this._maxProcesses-this._availableSlots},o.isEmpty=function(){return 0===this.count()},o._run=function(){if(this._isRunning&&(this._rafId=requestAnimationFrame(this._boundFunctions._run),!this._queue.isEmpty()&&0!==this._availableSlots)){var t=this._queue.dequeue(),e=t.data();this._isPromise(e)&&(this._retainSlot(),e.then(this._boundFunctions._releaseSlot,this._boundFunctions._releaseSlot)),this._stopRunningIfDone()}},o._retainSlot=function(){this._availableSlots--},o._releaseSlot=function(){this._availableSlots++,this._stopRunningIfDone()},o._stopRunningIfDone=function(){0!=this._rafId&&0===this._queue.count()&&this._availableSlots==this._maxProcesses&&(cancelAnimationFrame(this._rafId),this._rafId=0)},o._isPromise=function(t){return!(!t||"function"!=typeof t.then)},e.exports=n},{146:146,147:147,undefined:void 0}],146:[function(t,e,i){"use strict";function n(){this._items=[]}var r=t(147),s=n.prototype;s.enqueue=function(t,e){void 0===e&&(e=n.PRIORITY_DEFAULT);var i=new r(t,e);return this.enqueueQueueItem(i)},s.enqueueQueueItem=function(t){return this._items.indexOf(t)===-1&&this._items.push(t),t},s.dequeue=function(){this._heapSort();var t=this._items.length-1,e=this._items[0];return this._items[0]=this._items[t],this._items.pop(),e},s.dequeueQueueItem=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1),t},s.peek=function(){return 0==this.count()?null:(this._heapSort(),this._items[0])},s.isEmpty=function(){return 0===this._items.length},s.count=function(){return this._items.length},s.toString=function(){for(var t=["Queue total items: "+this.count()+"\n"],e=0;e<this.count();++e)t.push(this._items[e].toString()+"\n");return t.join("")},s._heapSort=function(){for(var t=0,e=this._items.length-1;e>=0;e--)for(var i=e;i>0;){t++;var n=Math.floor((i-1)/2);if(this._items[i].compareTo(this._items[n])>=0)break;var r=this._items[i];this._items[i]=this._items[n],this._items[n]=r,i=n}},n.PRIORITY_LOW=10,n.PRIORITY_DEFAULT=5,n.PRIORITY_HIGH=1,e.exports=n},{147:147}],147:[function(t,e,i){"use strict";function n(t,e){this.priority=e,this.data=t,this.insertionOrder=r++}var r=0,s=n.prototype;s.compareTo=function(t){return this.priority<t.priority?-1:this.priority>t.priority?1:this.insertionOrder<t.insertionOrder?-1:1},s.toString=function(){return"QueueItem {priority:"+this.priority+",\tdata:"+this.data+"\tinsertionOrder:"+this.insertionOrder+"}"},e.exports=n},{}],148:[function(t,e,i){"use strict";var n=t(157).SharedInstance,r="ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance",s="1.0.3",o=function(){this._currentID=0};o.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},e.exports=n.share(r,s,o)},{157:157}],149:[function(t,e,i){"use strict";function n(t){t=t||{},s.call(this),this.id=a.getNewID(),this.executor=t.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=t(88).EventEmitterMicro,o=t(156),a=t(148);r=n.prototype=Object.create(s.prototype),r.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},r.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},r.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,t},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._subscribe=function(){return this.executor.subscribe(this)},r._unsubscribe=function(){return this.executor.unsubscribe(this)},r._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},r._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},e.exports=n},{148:148,156:156,88:88}],150:[function(t,e,i){"use strict";var n=t(152),r=function(t){this.rafEmitter=new n,this.rafEmitter.on(t,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(t){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2,this._currentFrameID},s.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),this._cancelFrameIdx!==-1&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},s._onRAFExecuted=function(t){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t)},e.exports=r},{152:152}],151:[function(t,e,i){"use strict";var n=t(150),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},s.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},e.exports=new r},{150:150}],152:[function(t,e,i){"use strict";var n=t(149),r=function(t){n.call(this,t)},s=r.prototype=Object.create(n.prototype);s._subscribe=function(){return this.executor.subscribe(this,!0)},e.exports=r},{149:149}],153:[function(t,e,i){"use strict";var n=t(151);e.exports=n.requestAnimationFrame("draw")},{151:151}],154:[function(t,e,i){"use strict";var n=t(151);e.exports=n.requestAnimationFrame("update")},{151:151}],155:[function(t,e,i){"use strict";function n(t){t=t||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}t("@marcom/ac-polyfills/performance/now");var r;r=n.prototype,r.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},r.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.trigger=function(t,e){var i;for(i=0;i<this._subscriberArrayLength;i++)null!==this._subscribers[this._subscribersOrder[i]]&&this._subscribers[this._subscribersOrder[i]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[i]].trigger(t,e)},r.destroy=function(){var t=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},r.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},r._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},r._onSubscribersAnimationFrameStart=function(t){var e;for(e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&this._subscribers[this._subscribersOrder[e]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameStart(t)},r._onSubscribersAnimationFrameEnd=function(t){var e;for(e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&this._subscribers[this._subscribersOrder[e]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameEnd(t)},r._onAnimationFrame=function(t){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},r._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},r._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},e.exports=n},{undefined:void 0}],156:[function(t,e,i){"use strict";var n=t(157).SharedInstance,r="ac-raf-executor:sharedRAFExecutorInstance",s="2.0.1",o=t(155);e.exports=n.share(r,s,o)},{155:155,157:157}],157:[function(t,e,i){"use strict";e.exports={SharedInstance:t(158)}},{158:158}],158:[function(t,e,i){"use strict";var n=t(102),r=n(t(110)),s=window,o="AC",a="SharedInstance",u=s[o],l=function(){var t={};return{get:function(e,i){var n=null;return t[e]&&t[e][i]&&(n=t[e][i]),n},set:function(e,i,n){return t[e]||(t[e]={}),"function"==typeof n?t[e][i]=new n:t[e][i]=n,t[e][i]},share:function(t,e,i){var n=this.get(t,e);return n||(n=this.set(t,e,i)),n},remove:function(e,i){var n=(0,r["default"])(i);if("string"===n||"number"===n){if(!t[e]||!t[e][i])return;return void(t[e][i]=null)}t[e]&&(t[e]=null)}}}();u||(u=s[o]={}),u[a]||(u[a]=l),e.exports=u[a]},{102:102,110:110}],159:[function(t,e,i){arguments[4][88][0].apply(i,arguments)},{160:160,88:88}],160:[function(t,e,i){arguments[4][89][0].apply(i,arguments)},{89:89}],161:[function(t,e,i){"use strict";e.exports={majorVersionNumber:"3.x"}},{}],162:[function(t,e,i){"use strict";function n(t){t=t||{},s.call(this),this.id=a.getNewID(),this.executor=t.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=t(159).EventEmitterMicro,o=t(171),a=t(170);r=n.prototype=Object.create(s.prototype),r.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},r.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},r.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,t},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._subscribe=function(){return this.executor.subscribe(this)},r._unsubscribe=function(){return this.executor.unsubscribe(this)},r._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},r._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},e.exports=n},{159:159,170:170,171:171}],163:[function(t,e,i){"use strict";function n(t){t=t||{},this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}var r,s=t(160);r=n.prototype,r.frameRequestedPhase="requested",r.startPhase="start",r.runPhases=["update","external","draw"],r.endPhase="end",r.disabledPhase="disabled",r.beforePhaseEventPrefix="before:",r.afterPhaseEventPrefix="after:",r.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},r.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},r.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.getSubscribeID=function(){return this._totalSubscribeCount+=1},r.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},r.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},r.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},r._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},r._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},r._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},r._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},e.exports=n},{160:160}],164:[function(t,e,i){"use strict";var n=t(166),r=function(t){this.phase=t,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(t,e){return e===!0&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},s.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},s._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},s._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},s._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},s._onAfterRAFExecutorPhase=function(){
this._phaseActive=!1},s._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},s._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},s._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},s._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},e.exports=r},{166:166}],165:[function(t,e,i){"use strict";var n=t(164),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},s.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},e.exports=new r},{164:164}],166:[function(t,e,i){"use strict";var n=t(162),r=function(t){n.call(this,t)},s=r.prototype=Object.create(n.prototype);s._subscribe=function(){return this.executor.subscribe(this,!0)},e.exports=r},{162:162}],167:[function(t,e,i){"use strict";var n=t(165);e.exports=n.cancelAnimationFrame("update")},{165:165}],168:[function(t,e,i){"use strict";var n=t(165);e.exports=n.requestAnimationFrame("draw")},{165:165}],169:[function(t,e,i){"use strict";var n=t(165);e.exports=n.requestAnimationFrame("external")},{165:165}],170:[function(t,e,i){"use strict";var n=t(173).SharedInstance,r=t(161).majorVersionNumber,s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},e.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,s)},{161:161,173:173}],171:[function(t,e,i){"use strict";var n=t(173).SharedInstance,r=t(161).majorVersionNumber,s=t(163);e.exports=n.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,s)},{161:161,163:163,173:173}],172:[function(t,e,i){"use strict";var n=t(165);e.exports=n.requestAnimationFrame("update")},{165:165}],173:[function(t,e,i){arguments[4][157][0].apply(i,arguments)},{157:157,174:174}],174:[function(t,e,i){arguments[4][158][0].apply(i,arguments)},{102:102,110:110,158:158}],175:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(95)),l=n(t(101)),c=t(88).EventEmitterMicro,h=t(180),d=t(177),f=t(178),p=t(179),m=t(189),_=t(190),v=t(191),y={create:t(162),update:t(172),cancelUpdate:t(167),external:t(169),draw:t(168)},b=null,g=function(t){function e(){var t;if((0,r["default"])(this,e),t=(0,o["default"])(this,(0,a["default"])(e).call(this)),b)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";return b=(0,u["default"])(t),t.groups=[],t.scrollSystems=[],t.timeSystems=[],t._forceUpdateRAFId=-1,t.setupEvents(),t}return(0,l["default"])(e,t),(0,s["default"])(e,[{key:"initialize",value:function(){this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes()}},{key:"destroy",value:function(){this.groups.forEach(function(t){return t.destroy()}),this.groups=null,this.scrollSystems=null,this.timeSystems=null,window.clearTimeout(h.RESIZE_TIMEOUT),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate)}},{key:"createTimeGroup",value:function(t){var e=new _(t,this);return this.groups.push(e),this.timeSystems.push(e),this.trigger(h.EVENTS.ON_GROUP_CREATED,e),e}},{key:"createScrollGroup",value:function(t){if(!t)throw"AnimSystem scroll based groups must supply an HTMLElement";var e=new m(t,this);return this.groups.push(e),this.scrollSystems.push(e),this.trigger(h.EVENTS.ON_GROUP_CREATED,e),e}},{key:"removeGroup",value:function(t){var e=this;t.keyframeControllers.forEach(function(e){return t.removeKeyframeController(e)}),y.update(function(){var i=e.groups.indexOf(t);i!==-1&&e.groups.splice(i,1),i=e.scrollSystems.indexOf(t),i!==-1&&e.scrollSystems.splice(i,1),i=e.timeSystems.indexOf(t),i!==-1&&e.timeSystems.splice(i,1),y.update(function(){return t.destroy()})})}},{key:"createDOMGroups",value:function(){var t=this;document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach(function(e){return t.createScrollGroup(e)}),document.querySelectorAll("[data-anim-time-group]").forEach(function(e){return t.createTimeGroup(e)}),this.trigger(h.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}},{key:"createDOMKeyframes",value:function(){var t=this,e=[];[d.DATA_ATTRIBUTE,f.DATA_ATTRIBUTE,p.DATA_ATTRIBUTE].forEach(function(t){for(var i=0;i<12;i++)e.push(t+(0===i?"":"-"+(i-1)))});for(var i=0;i<e.length;i++)for(var n=e[i],r=document.querySelectorAll("["+n+"]"),s=0;s<r.length;s++){var o=r[s],a=JSON.parse(o.getAttribute(n));this.addKeyframe(o,a)}y.update(function(){return t.groups.forEach(function(t){return t.onKeyframesDirty({preventOnScroll:!0})})},!0),y.update(function(){t.groups.forEach(function(t){return t.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,t)}),t.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,t),t.groups.forEach(function(t){return t.reconcile()}),t.onScroll()},!0)}},{key:"initializeModel",value:function(){h.pageMetrics.windowHeight=window.innerHeight,h.pageMetrics.windowWidth=window.innerWidth,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset,h.pageMetrics.breakpoint=h.getBreakpoint();var t=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=t.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=t.top+h.pageMetrics.scrollY}},{key:"setupEvents",value:function(){this.onScroll=this.onScroll.bind(this),this.onResizedDebounced=this.onResizedDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResizeImmediate)}},{key:"determineActiveKeyframes",value:function(){for(var t=v(Array.from(document.documentElement.classList)),e=0,i=this.groups.length;e<i;e++)this.groups[e].determineActiveKeyframes(t)}},{key:"onScroll",value:function(){h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(var t=0,e=this.scrollSystems.length;t<e;t++)this.scrollSystems[t]._onScroll();this.trigger(h.PageEvents.ON_SCROLL,h.pageMetrics)}},{key:"onResizeImmediate",value:function(){h.pageMetrics.windowHeight=window.innerHeight,h.pageMetrics.windowWidth=window.innerWidth,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;var t=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=t.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=t.top+h.pageMetrics.scrollY,window.clearTimeout(h.RESIZE_TIMEOUT),h.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(h.PageEvents.ON_RESIZE_IMMEDIATE,h.pageMetrics)}},{key:"onResizedDebounced",value:function(){var t=this;y.update(function(){var e=h.pageMetrics.breakpoint,i=h.getBreakpoint(),n=i!==e;if(n){h.pageMetrics.previousBreakpoint=e,h.pageMetrics.breakpoint=i;for(var r=0,s=t.groups.length;r<s;r++)t.groups[r]._onBreakpointChange();t.trigger(h.PageEvents.ON_BREAKPOINT_CHANGE,h.pageMetrics)}for(var o=0,a=t.groups.length;o<a;o++)t.groups[o].forceUpdate({recalculateActiveKeyframes:n,waitForNextUpdate:!1});t.trigger(h.PageEvents.ON_RESIZE_DEBOUNCED,h.pageMetrics)},!0)}},{key:"forceUpdate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.recalculateActiveKeyframes,n=void 0!==i&&i,r=e.waitForNextUpdate,s=void 0===r||r;this._forceUpdateRAFId!==-1&&y.cancelUpdate(this._forceUpdateRAFId);var o=function(){for(var e=0,i=t.groups.length;e<i;e++){var r=t.groups[e];r.forceUpdate({recalculateActiveKeyframes:n,waitForNextUpdate:!1})}return-1};this._forceUpdateRAFId=s?y.update(o,!0):o()}},{key:"addKeyframe",value:function(t,e){var i=this.getGroupForTarget(t);return i=i||this.getGroupForTarget(document.body),i.addKeyframe(t,e)}},{key:"getGroupForTarget",value:function(t){if(t._animInfo&&t._animInfo.group)return t._animInfo.group;for(var e=t;e;){if(e._animInfo&&e._animInfo.isGroup)return e._animInfo.group;e=e.parentElement}}},{key:"getControllerForTarget",value:function(t){return t._animInfo&&t._animInfo.controller?t._animInfo.controller:null}}]),e}(c);e.exports=new g},{100:100,101:101,102:102,106:106,162:162,167:167,168:168,169:169,172:172,177:177,178:178,179:179,180:180,189:189,190:190,191:191,88:88,95:95,96:96,98:98}],176:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(95)),u=n(t(100)),l=n(t(99)),c=n(t(101)),h=t(180),d=(t(177),t(178)),f=t(183),p=t(191),m=t(184),_=t(88).EventEmitterMicro,v=t(205),y={update:t(172),external:t(169),draw:t(168)},b=function(t){function e(t,i){var n;return(0,r["default"])(this,e),n=(0,o["default"])(this,(0,u["default"])(e).call(this)),n.uuid=m(),n.group=t,n.element=i,n._ownerIsElement=n.element instanceof Element,n._ownerIsElement?n.friendlyName=n.element.tagName+"."+Array.from(n.element.classList).join("."):n.friendlyName=n.element.friendlyName||n.uuid,n.element._animInfo=n.element._animInfo||new h.AnimInfo(t,(0,a["default"])(n)),n.element._animInfo.controller=(0,a["default"])(n),n.element._animInfo.group=n.group,n.element._animInfo.controllers.push((0,a["default"])(n)),n.tweenProps={},n.eventObject=new h.EventObject((0,a["default"])(n)),n.needsStyleUpdate=!1,n.needsClassUpdate=!1,n.elementMetrics=n.group.metrics.add(n.element),n._parentElementMetrics=null,n.attributes=[],n.keyframes={},n._allKeyframes=[],n._activeKeyframes=[],n.keyframesRequiringDispatch=[],n.updateCachedValuesFromElement(),n.boundsMin=0,n.boundsMax=0,n}return(0,c["default"])(e,t),(0,s["default"])(e,[{key:"destroy",value:function(){if(this.element._animInfo){this.element._animInfo.controller===this&&(this.element._animInfo.controller=null);var t=this.element._animInfo.controllers.indexOf(this);t!==-1&&this.element._animInfo.controllers.splice(t,1),0===this.element._animInfo.controllers.length?this.element._animInfo=null:(this.element._animInfo.controller=this.element._animInfo.controllers[this.element._animInfo.controllers.length-1],this.element._animInfo.group=this.element._animInfo.controller.group)}this._parentElementMetrics=null,this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(var i=0;i<this._allKeyframes.length;i++)this._allKeyframes[i].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,(0,l["default"])((0,u["default"])(e.prototype),"destroy",this).call(this)}},{key:"remove",value:function(){this.group.removeKeyframeController(this)}},{key:"updateCachedValuesFromElement",value:function(){if(this._ownerIsElement){var t=getComputedStyle(this.element),e=v(this.element,!0),i=h.KeyframeDefaults.epsilon,n=!1;this.tweenProps.x=new h.TargetValue(e.translation[0],i,n),this.tweenProps.y=new h.TargetValue(e.translation[1],i,n),this.tweenProps.z=new h.TargetValue(e.translation[2],i,n),this.tweenProps.rotation=new h.TargetValue(e.eulerRotation[2],i,n),this.tweenProps.rotationX=new h.TargetValue(e.eulerRotation[0],i,n),this.tweenProps.rotationY=new h.TargetValue(e.eulerRotation[1],i,n),this.tweenProps.rotationZ=new h.TargetValue(e.eulerRotation[2],i,n),this.tweenProps.scale=new h.TargetValue(e.scale[0],i,n),this.tweenProps.scaleX=new h.TargetValue(e.scale[0],i,n),this.tweenProps.scaleY=new h.TargetValue(e.scale[1],i,n),this.tweenProps.opacity=new h.TargetValue(parseFloat(t.opacity),i,n)}}},{key:"addKeyframe",value:function(t){var e=f(t);if(!e)throw new Error("AnimSystem Cannot create keyframe for from options `"+t+"`");var i=new e(this,t);return i.parseOptions(t),i.id=this._allKeyframes.length,this._allKeyframes.push(i),i}},{key:"needsUpdate",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t],n=this.tweenProps[i],r=Math.abs(n.current-n.target);if(r>n.epsilon)return!0}return!1}},{key:"updateLocalProgress",value:function(t){for(var e=0,i=this.attributes.length;e<i;e++){var n=this.attributes[e],r=this.keyframes[this.attributes[e]];if(1!==r.length){var s=this.getNearestKeyframeForAttribute(t,n);s&&s.updateLocalProgress(t)}else r[0].updateLocalProgress(t)}}},{key:"reconcile",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t],n=this.getNearestKeyframeForAttribute(this.group.timelines.local,i);n.updateLocalProgress(this.group.timelines.local),n.snapAtCreation&&n.reconcile(i)}}},{key:"determineActiveKeyframes",value:function(t){var e=this;t=t||p(Array.from(document.documentElement.classList));var i=this._activeKeyframes,n=this.attributes;this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(var r=0;r<this._allKeyframes.length;r++){var s=this._allKeyframes[r];if(s.setEnabled(t)){this._activeKeyframes.push(s);for(var o in s.animValues)this.keyframes[o]=this.keyframes[o]||[],this.keyframes[o].push(s),this.attributes.indexOf(o)===-1&&this.attributes.push(o)}}var a=i.filter(function(t){return e._activeKeyframes.indexOf(t)===-1});if(0!==a.length){var u=n.filter(function(t){return e.attributes.indexOf(t)===-1});0!==u.length&&this._ownerIsElement&&y.external(function(){var t=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"],i=u.filter(function(e){return t.indexOf(e)!==-1});i.length>0&&e.element.style.removeProperty("transform");for(var n=0,r=u.length;n<r;++n){var s=u[n],o=e.tweenProps[s];o.current=o.target=o.initialValue,"opacity"===s&&e.element.style.removeProperty("opacity")}for(var l=0,c=a.length;l<c;++l){var h=a[l];h instanceof d&&h._unapply()}},!0)}}},{key:"onDOMRead",value:function(t){for(var e=0,i=this.attributes.length;e<i;e++){var n=this.attributes[e],r=this.getNearestKeyframeForAttribute(t.local,n);r&&r.onDOMRead(n)}}},{key:"onDOMWrite",value:function(){this._ownerIsElement?this.onDOMWriteForElement():this.onDOMWriteForObject(),this.handleEventDispatch()}},{key:"onDOMWriteForObject",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t];this.element[i]=this.tweenProps[i].current}}},{key:"onDOMWriteForElement",value:function(){var t=this.tweenProps,e="";if("undefined"!=typeof this.keyframes.z?e+="translate3d("+t.x.current+"px,"+t.y.current+"px, "+t.z.current+"px)":"undefined"==typeof this.keyframes.x&&"undefined"==typeof this.keyframes.y||(e+="translate("+t.x.current+"px,"+t.y.current+"px)"),"undefined"!=typeof this.keyframes.rotation?e+="rotate("+t.rotation.current+"deg) ":("undefined"!=typeof this.keyframes.rotationX&&(e+="rotateX("+t.rotationX.current+"deg) "),"undefined"!=typeof this.keyframes.rotationY&&(e+="rotateY("+t.rotationY.current+"deg) "),"undefined"!=typeof this.keyframes.rotationZ&&(e+="rotateZ("+t.rotationZ.current+"deg) ")),"undefined"!=typeof this.keyframes.scale)e+="scale("+t.scale.current+","+t.scale.current+") ";else{var i="undefined"!=typeof this.keyframes.scaleX,n="undefined"!=typeof this.keyframes.scaleY;(i||n)&&(e+="scale("+t.scaleX.current+","+t.scaleY.current+") ")}if(""!==e&&(this.element.style.transform=e),"undefined"!=typeof this.keyframes.opacity&&(this.element.style.opacity=t.opacity.current),this.needsStyleUpdate){for(var r in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[r]&&(this.element.style[r]=this.tweenProps.targetStyles[r]),this.tweenProps.targetStyles[r]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(this.tweenProps.targetClasses.add.length>0&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),this.tweenProps.targetClasses.remove.length>0&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}},{key:"handleEventDispatch",value:function(){if(0!==this.keyframesRequiringDispatch.length){for(var t=0,e=this.keyframesRequiringDispatch.length;t<e;t++){var i=this.keyframesRequiringDispatch[t];i.needsEventDispatch=!1,this.eventObject.keyframe=i,this.eventObject.pageMetrics=h.pageMetrics,this.eventObject.event=i.event,this.trigger(i.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}}},{key:"updateAnimationConstraints",value:function(){for(var t=this,e=0,i=this._activeKeyframes.length;e<i;e++)this._activeKeyframes[e].updateAnimationConstraints();this.attributes.forEach(function(e){1!==t.keyframes[e].length&&t.keyframes[e].sort(h.KeyframeComparison)}),this.updateDeferredPropertyValues()}},{key:"refreshMetrics",value:function(){var t=new Set;t.add(this.element),this._parentElementMetrics&&t.add(this.element.parentElement),this._allKeyframes.forEach(function(e){return t.add(e.relativeTo)}),this.group.metrics.refreshCollection(t),this.group.keyframesDirty=!0}},{key:"updateDeferredPropertyValues",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t],n=this.keyframes[i],r=n[0];if(!(r.keyframeType>h.KeyframeTypes.InterpolationForward))for(var s=0,o=n.length;s<o;s++){var a=n[s];if(null===a.jsonProps[i][0]){if(0===s){a.animValues[i][0]=this.tweenProps[i].initialValue;continue}a.animValues[i][0]=n[s-1].animValues[i][1]}if(null===a.jsonProps[i][1]){if(s===o-1)throw new RangeError("AnimSystem - last keyframe cannot defer it's end value! ".concat(i,":[").concat(a.jsonProps[i][0],",null]"));a.animValues[i][1]=n[s+1].animValues[i][0]}}}}},{key:"getBounds",value:function(t){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(var e=0,i=this.attributes.length;e<i;e++)for(var n=this.keyframes[this.attributes[e]],r=0;r<n.length;r++){var s=n[r];this.boundsMin=Math.min(s.start,this.boundsMin),this.boundsMax=Math.max(s.end,this.boundsMax),t.min=Math.min(s.start,t.min),t.max=Math.max(s.end,t.max)}}},{key:"getNearestKeyframeForAttribute",value:function(t,e){var i=null,n=Number.POSITIVE_INFINITY,r=this.keyframes[e];if(void 0===r)return null;var s=r.length;if(0===s)return null;if(1===s)return r[0];for(var o=0;o<s;o++){var a=r[o];if(a.isInRange(t)){i=a;break}var u=Math.min(Math.abs(t-a.start),Math.abs(t-a.end));u<n&&(n=u,i=a)}return i}},{key:"getAllKeyframesForAttribute",value:function(t){return this.keyframes[t]}},{key:"updateKeyframe",value:function(t,e){var i=this;t.parseOptions(e),t.updateAnimationConstraints(),this.group.keyframesDirty=!0,y.update(function(){i.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,t),i.group.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,t)},!0)}},{key:"removeKeyframe",value:function(t){var e=this._allKeyframes.indexOf(t);e!==-1&&(this._allKeyframes.splice(e,1),this.group.keyframesDirty=!0)}},{key:"updateAnimation",value:function(t,e){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(t,e)}}]),e}(_);Object.defineProperty(b.prototype,"parentElementMetrics",{get:function(){return null===this._parentElementMetrics&&(this._parentElementMetrics=this.group.metrics.add(this.element.parentElement)),this._parentElementMetrics}}),e.exports=b},{100:100,101:101,102:102,106:106,168:168,169:169,172:172,177:177,178:178,180:180,183:183,184:184,191:191,205:205,88:88,95:95,96:96,98:98,99:99}],177:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=t(180),a=t(237),u=t(181),l=t(185),c=t(191),h=function(){function t(e,i){(0,r["default"])(this,t),this.controller=e,this.relativeTo=e.element,this.jsonProps=i,this.ease=e.group.defaultEase,this.easeFunctionString=o.KeyframeDefaults.easeFunctionString,this.easeFunction=u[this.easeFunctionString],this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask="SMLX",this.disabledWhen=[],this.keyframeType=o.KeyframeTypes.Interpolation,this.hold=!1}return(0,s["default"])(t,[{key:"destroy",value:function(){this.controller=null,this.relativeTo=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}},{key:"remove",value:function(){return this.controller.removeKeyframe(this)}},{key:"parseOptions",value:function(t){if(this.jsonProps=t,""!==t.relativeTo&&t.relativeTo?t.relativeTo&&(this.relativeTo=this.controller.group.element.querySelector(t.relativeTo)||document.querySelector(t.relativeTo),null===this.relativeTo&&(console.warn("Keyframe for",this.controller.element.className," .relativeTo failed to find "+t.relativeTo+"' via querySelector"),this.relativeTo=this.controller.element),this.controller.group.metrics.add(this.relativeTo)):this.relativeTo=this.controller.element,t.ease?this.ease=parseFloat(t.ease):t.ease=this.ease,t.hasOwnProperty("snapAtCreation")?this.snapAtCreation=t.snapAtCreation:t.snapAtCreation=this.snapAtCreation,t.easeFunction?this.easeFunction=t.easeFunction:t.easeFunction=this.easeFunctionString,t.breakpointMask?this.breakpointMask=t.breakpointMask:t.breakpointMask=this.breakpointMask,t.disabledWhen?this.disabledWhen=Array.isArray(t.disabledWhen)?t.disabledWhen:[t.disabledWhen]:t.disabledWhen=this.disabledWhen,t.hasOwnProperty("hold")?this.hold=t.hold:t.hold=this.hold,this.easeFunction=u[t.easeFunction],!u.hasOwnProperty(t.easeFunction)){var e=l.fromCSSString(t.easeFunction);e?this.easeFunction=e:console.error("Keyframe parseOptions cannot find EasingFunction named '"+t.easingFunction+"'")}for(var i in t)if(o.KeyframeJSONReservedWords.indexOf(i)===-1){var n=t[i];if(Array.isArray(n)){if(this.animValues[i]=this.controller.group.expressionParser.parse(this,n),void 0===this.controller.tweenProps[i]||!this.controller._ownerIsElement){var r=0;this.controller._ownerIsElement||(r=this.controller.element[i]);var s=new o.TargetValue(r,o.KeyframeDefaults.epsilon,this.snapAtCreation);this.controller.tweenProps[i]=s}var a=this.controller.tweenProps[i];if(t.epsilon)a.epsilon=t.epsilon;else{var c=Math.abs(this.animValues[i][0]-this.animValues[i][1]),h=Math.min(.001*c,a.epsilon,o.KeyframeDefaults.epsilon);a.epsilon=Math.max(h,1e-4)}}}this.keyframeType=this.hold?o.KeyframeTypes.InterpolationForward:o.KeyframeTypes.Interpolation,t.event&&(this.event=t.event)}},{key:"overwriteProps",value:function(t){this.animValues={};var e=Object.assign({},this.jsonProps,t);this.controller.updateKeyframe(this,e)}},{key:"updateLocalProgress",value:function(t){if(this.start===this.end||t>this.end)return this.localT=1,void(this.curvedT=this.easeFunction(this.localT));var e=(t-this.start)/(this.end-this.start),i=this.hold?this.localT:0;this.localT=a.clamp(e,i,1),this.curvedT=this.easeFunction(this.localT)}},{key:"reconcile",value:function(t){var e=this.animValues[t],i=this.controller.tweenProps[t];i.initialValue=e[0],i.target=e[0]+this.curvedT*(e[1]-e[0]),i.current!==i.target&&(i.current=i.target,this.needsEventDispatch||(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)))}},{key:"reset",value:function(t){this.localT=t||0;var e=this.ease;this.ease=1;for(var i in this.animValues)this.reconcile(i);this.ease=e}},{key:"onDOMRead",value:function(t){var e=this.animValues[t],i=this.controller.tweenProps[t];i.target=e[0]+this.curvedT*(e[1]-e[0]);var n=i.current;i.current+=(i.target-i.current)*this.ease;var r=i.current-i.target;r<i.epsilon&&r>-i.epsilon&&(i.current=i.target,r=0),""===this.event||this.needsEventDispatch||(r>i.epsilon||r<-i.epsilon||0===r&&n!==i.current)&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this))}},{key:"isInRange",value:function(t){return t>=this.start&&t<=this.end}},{key:"setEnabled",value:function(t){t=t||c(Array.from(document.documentElement.classList));var e=this.breakpointMask.indexOf(o.pageMetrics.breakpoint)!==-1,i=!1;return this.disabledWhen.length>0&&(i=this.disabledWhen.some(function(e){return"undefined"!=typeof t[e]})),this.isEnabled=e&&!i,this.isEnabled}},{key:"updateAnimationConstraints",value:function(){this.start=this.controller.group.timeParser.parse(this,this.jsonProps.start),this.end=this.controller.group.timeParser.parse(this,this.jsonProps.end),this.updateAnimatedValueConstraints()}},{key:"updateAnimatedValueConstraints",value:function(){for(var t in this.animValues){var e=this.jsonProps[t];this.animValues[t]=this.controller.group.expressionParser.parse(this,e)}}}]),t}();h.DATA_ATTRIBUTE="data-anim-tween",e.exports=h},{102:102,180:180,181:181,185:185,191:191,237:237,96:96,98:98}],178:[function(t,e,i){"use strict";var n=t(102),r=n(t(110)),s=n(t(96)),o=n(t(98)),a=n(t(106)),u=n(t(100)),l=n(t(101)),c=t(177),h=t(180),d=function(t){function e(t,i){var n;return(0,s["default"])(this,e),n=(0,a["default"])(this,(0,u["default"])(e).call(this,t,i)),n.keyframeType=h.KeyframeTypes.CSSClass,n._triggerType=e.TRIGGER_TYPE_CSS_CLASS,n.cssClass="",n.friendlyName="",n.style={on:null,off:null},n.toggle=!1,n.isApplied=!1,n}return(0,l["default"])(e,t),(0,o["default"])(e,[{key:"parseOptions",value:function(t){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(t.x=void 0,t.y=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotation=void 0,t.opacity=void 0,t.hold=void 0,void 0!==t.toggle&&(this.toggle=t.toggle),void 0!==t.cssClass)this._triggerType=e.TRIGGER_TYPE_CSS_CLASS,this.cssClass=t.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===t.style||!this.isValidStyleProperty(t.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=e.TRIGGER_TYPE_STYLE_PROPERTY,this.style=t.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off){this.style.off={};for(var i in this.style.on)this.style.off[i]=""}void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===t.end&&(t.end=t.start),t.toggle=this.toggle,this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{var n=getComputedStyle(this.controller.element);this.isApplied=!0;for(var r in this.style.on)if(n[r]!==this.style.on[r]){this.isApplied=!1;break}}c.prototype.parseOptions.call(this,t),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new h.TargetValue(0,1,(!1))),this.keyframeType=h.KeyframeTypes.CSSClass}},{key:"updateLocalProgress",value:function(t){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&t>=this.start&&t<=this.end?this._apply():this.isApplied&&this.toggle&&(t<this.start||t>this.end)&&this._unapply():!this.isApplied&&t>=this.start?this._apply():this.isApplied&&this.toggle&&t<this.start&&this._unapply())}},{key:"_apply",value:function(){if(this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.on)this.controller.tweenProps.targetStyles[t]=this.style.on[t];this.controller.needsStyleUpdate=!0}this.isApplied=!0}},{key:"_unapply",value:function(){if(this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.off)this.controller.tweenProps.targetStyles[t]=this.style.off[t];this.controller.needsStyleUpdate=!0}this.isApplied=!1}},{key:"isValidStyleProperty",value:function(t){if(!t.hasOwnProperty("on"))return!1;if("object"!==(0,r["default"])(t.on))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");if(this.toggle&&t.hasOwnProperty("off")&&"object"!==(0,r["default"])(t.off))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");return!0}},{key:"reconcile",value:function(t,e){}},{key:"onDOMRead",value:function(t,e){}},{key:"updateAnimatedValueConstraints",value:function(){}}]),e}(c);d.TRIGGER_TYPE_CSS_CLASS=0,d.TRIGGER_TYPE_STYLE_PROPERTY=1,d.DATA_ATTRIBUTE="data-anim-classname",e.exports=d},{100:100,101:101,102:102,106:106,110:110,177:177,180:180,96:96,98:98}],179:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(99)),l=n(t(101)),c=t(177),h=t(180),d=function(t){function e(t,i){var n;return(0,r["default"])(this,e),n=(0,o["default"])(this,(0,a["default"])(e).call(this,t,i)),n.keyframeType=h.KeyframeTypes.Event,n.isApplied=!1,n.hasDuration=!1,n.isCurrentlyInRange=!1,n}return(0,l["default"])(e,t),(0,s["default"])(e,[{key:"parseOptions",value:function(t){t.x=void 0,t.y=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotation=void 0,t.style=void 0,t.cssClass=void 0,t.rotation=void 0,t.opacity=void 0,t.hold=void 0,void 0===t.end&&(t.end=t.start),this.event=t.event,this.animValues[this.event]=[0,0],"undefined"==typeof this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new h.TargetValue(0,1,(!1))),(0,u["default"])((0,a["default"])(e.prototype),"parseOptions",this).call(this,t),this.keyframeType=h.KeyframeTypes.Event}},{key:"updateLocalProgress",value:function(t){if(this.hasDuration){var e=this.isCurrentlyInRange,i=t>=this.start&&t<=this.end;if(e===i)return;return i&&!e?this._trigger(this.event+":enter"):e&&!i&&this._trigger(this.event+":exit"),void(this.isCurrentlyInRange=i)}!this.isApplied&&t>=this.start?(this._trigger(this.event),this.isApplied=!0):this.isApplied&&t<this.start&&(this._trigger(this.event+":reverse"),this.isApplied=!1)}},{key:"_trigger",value:function(t){this.controller.eventObject.event=t,this.controller.eventObject.keyframe=this,this.controller.trigger(t,this.controller.eventObject)}},{key:"updateAnimationConstraints",value:function(){(0,u["default"])((0,a["default"])(e.prototype),"updateAnimationConstraints",this).call(this),this.hasDuration=this.start!==this.end}},{key:"reset",value:function(t){this.isApplied=!1,this.isCurrentlyInRange=!1,(0,u["default"])((0,a["default"])(e.prototype),"reset",this).call(this,t)}},{key:"onDOMRead",value:function(t,e){}},{key:"reconcile",value:function(t,e){}},{key:"updateAnimatedValueConstraints",value:function(){}}]),e}(c);d.DATA_ATTRIBUTE="data-anim-event",e.exports=d},{100:100,101:101,102:102,106:106,177:177,180:180,96:96,98:98,99:99}],180:[function(t,e,i){"use strict";var n={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"GuiPosition-0"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",longName:"small",mediaQuery:"only screen and (max-width: 735px)"},{name:"M",longName:"medium",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",longName:"xlarge",mediaQuery:"only screen and (min-width: 1442px)"},{name:"L",longName:"large",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(var t=0;t<n.BREAKPOINTS.length;t++){var e=n.BREAKPOINTS[t],i=window.matchMedia(e.mediaQuery);if(i.matches)return e.name}},KeyframeDefaults:{ease:.1,epsilon:.05,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE"},PageEvents:{
ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","relativeTo","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TargetValue:function(t,e,i){this.epsilon=parseFloat(e),this.snapAtCreation=i,this.initialValue=t,this.target=t,this.current=t},Timeline:function(){this.local=0,this.localUnclamped=0},ViewableRange:function(t,e){this.a=t.top-e,this.a<0&&(this.a=t.top),this.b=t.top,this.d=t.bottom,this.c=Math.max(this.d-e,this.b)},pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},EventObject:function(t){this.controller=t,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps},KeyframeComparison:function(t,e){return t.start<e.start?-1:t.start>e.start?1:0},AnimInfo:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isGroup=i,this.group=t,this.controller=e,this.controllers=[]}};e.exports=n},{}],181:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=function o(){(0,r["default"])(this,o),this.linear=function(t){return t},this.easeInQuad=function(t){return t*t},this.easeOutQuad=function(t){return t*(2-t)},this.easeInOutQuad=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},this.easeInSin=function(t){return 1+Math.sin(Math.PI/2*t-Math.PI/2)},this.easeOutSin=function(t){return Math.sin(Math.PI/2*t)},this.easeInOutSin=function(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2},this.easeInElastic=function(t){return 0===t?t:(.04-.04/t)*Math.sin(25*t)+1},this.easeOutElastic=function(t){return.04*t/--t*Math.sin(25*t)},this.easeInOutElastic=function(t){return(t-=.5)<0?(.02+.01/t)*Math.sin(50*t):(.02-.01/t)*Math.sin(50*t)+1},this.easeOutBack=function(t){return t-=1,t*t*(2.70158*t+1.70158)+1},this.easeInCubic=function(t){return t*t*t},this.easeOutCubic=function(t){return--t*t*t+1},this.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},this.easeInQuart=function(t){return t*t*t*t},this.easeOutQuart=function(t){return 1- --t*t*t*t},this.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},this.easeInQuint=function(t){return t*t*t*t*t},this.easeOutQuint=function(t){return 1+--t*t*t*t*t},this.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};e.exports=new s},{102:102,96:96}],182:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=t(180),a=function(t,e){return void 0===t||null===t?e:t},u=function(){function t(){(0,r["default"])(this,t),this._metrics=new WeakMap}return(0,s["default"])(t,[{key:"destroy",value:function(){this._metrics=null}},{key:"add",value:function(t){var e=this._metrics.get(t);if(e)return e;var i=new l(t);return this._metrics.set(t,i),this._refreshMetrics(t,i)}},{key:"get",value:function(t){return this._metrics.get(t)}},{key:"refreshCollection",value:function(t){var e=this;t.forEach(function(t){return e._refreshMetrics(t,null)})}},{key:"refreshMetrics",value:function(t){return this._refreshMetrics(t)}},{key:"_refreshMetrics",value:function(t,e){if(e=e||this._metrics.get(t),!(t instanceof Element))return e.width=a(t.width,0),e.height=a(t.height,0),e.top=a(t.top,0),e.left=a(t.left,0),e.right=e.left+e.width,e.bottom=e.top+e.height,e;if(void 0===t.offsetWidth){var i=t.getBoundingClientRect();return e.width=i.width,e.height=i.height,e.top=o.pageMetrics.scrollY+i.top,e.left=o.pageMetrics.scrollX+i.left,e.right=e.left+e.width,e.bottom=e.top+e.height,e}e.width=t.offsetWidth,e.height=t.offsetHeight,e.top=o.pageMetrics.documentOffsetY,e.left=o.pageMetrics.documentOffsetX;for(var n=t;n;)e.top+=n.offsetTop,e.left+=n.offsetLeft,n=n.offsetParent;return e.right=e.left+e.width,e.bottom=e.top+e.height,e}}]),t}(),l=function(){function t(e){(0,r["default"])(this,t),this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}return(0,s["default"])(t,[{key:"toString",value:function(){return"top:".concat(this.top,", bottom:").concat(this.bottom,", left:").concat(this.left,", right:").concat(this.right,", height:").concat(this.height,", width:").concat(this.width)}},{key:"toObject",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}]),t}();e.exports=u},{102:102,180:180,96:96,98:98}],183:[function(t,e,i){"use strict";var n=t(180),r=t(177),s=t(179),o=t(178),a=function(t){for(var e in t){var i=t[e];if(n.KeyframeJSONReservedWords.indexOf(e)===-1&&Array.isArray(i))return!0}return!1};e.exports=function(t){if(void 0!==t.cssClass||void 0!==t.style){if(a(t))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return o}if(a(t))return r;if(t.event)return s;throw"Could not determine tween type based on ".concat(JSON.stringify(t))}},{177:177,178:178,179:179,180:180}],184:[function(t,e,i){"use strict";e.exports=function(){for(var t="",e=0;e<8;e++){var i=16*Math.random()|0;8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&i|8:i).toString(16)}return t}},{}],185:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=1e-5,a=Math.abs,u=5,l=function(){function t(e,i,n,s){(0,r["default"])(this,t),this.cp=new Float32Array(6),this.cp[0]=3*e,this.cp[1]=3*(n-e)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*i,this.cp[4]=3*(s-i)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}return(0,s["default"])(t,[{key:"sampleCurveX",value:function(t){return((this.cp[2]*t+this.cp[1])*t+this.cp[0])*t}},{key:"sampleCurveY",value:function(t){return((this.cp[5]*t+this.cp[4])*t+this.cp[3])*t}},{key:"sampleCurveDerivativeX",value:function(t){return(3*this.cp[2]*t+2*this.cp[1])*t+this.cp[0]}},{key:"solveCurveX",value:function(t){var e,i,n,r,s,l;for(n=t,l=0;l<u;l++){if(r=this.sampleCurveX(n)-t,a(r)<o)return n;if(s=this.sampleCurveDerivativeX(n),a(s)<o)break;n-=r/s}if(e=0,i=1,n=t,n<e)return e;if(n>i)return i;for(;e<i;){if(r=this.sampleCurveX(n),a(r-t)<o)return n;t>r?e=n:i=n,n=.5*(i-e)+e}return n}},{key:"solve",value:function(t){return this.sampleCurveY(this.solveCurveX(t))}}]),t}(),c=/\d*\.?\d+/g;l.fromCSSString=function(t){var e=t.match(c);if(4!==e.length)throw"UnitBezier could not convert ".concat(t," to cubic-bezier");var i=e.map(Number),n=new l(i[0],i[1],i[2],i[3]);return n.solve.bind(n)},e.exports=l},{102:102,96:96,98:98}],186:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=t(180),a=t(187),u=/([-|+])?(\d+\.?\d*)(px|vh|vw|pw|ph|%w|%h|rw|rh|%)?|([-+*\/])/g,l=/^[-+]?(?:[0-9]{0,30}\.)?[0-9]{1,30}(?:[Ee][-+]?[1-2]?[0-9])?$/g,c=function(){function t(e){(0,r["default"])(this,t),this.group=e}return(0,s["default"])(t,[{key:"parse",value:function(t,e){if(Array.isArray(e))return this.parseArray(t,e);throw new Error("Keyframe value `"+e+"` is not supported. Only arrays in the form of [start,end] are currently supported")}},{key:"parseArray",value:function(t,e){var i=this.parseExpression(t,e[0]),n=this.parseExpression(t,e[1]);return[i,n]}},{key:"parseExpression",value:function(t,e){if(null===e)return 0;if("number"==typeof e)return e;for(var i,n=5;(i=e.indexOf("("))!==-1&&--n>0;){var r=this.captureParenthesis(e,i),s=this.parseExpression(t,r);e=e.replace("("+r+")",s)}for(var o,l=[];null!==(o=u.exec(e));)if(o.index===u.lastIndex&&u.lastIndex++,o[4])l.push(a.GetOpCode(o[4]));else{var c=o[1],h=parseFloat(o[2]),d=o[3];"-"===c&&(h*=-1);var f=this.parseSplitUnit(t,h,d);l.push(f)}var p=l.length;if(3===p&&"function"==typeof l[1])return l[1](l[0],l[2]);for(var m=0;m<p;m++)if("function"==typeof l[m]&&1===l[m].priority){var _=l[m-1],v=l[m+1],y=l[m](_,v);l[m-1]=null,l[m+0]=null,l[m+1]=y,m+=1}for(var b=0;null==l[b]&&b<p;)b+=1;var g=l[b],E=null,w=null;for(b+=1;b<p;b++)null!==l[b]?l[b]instanceof Function?E=l[b]:(null===w&&(w=l[b]),null!==w&&(E=E||a.add,g=E(g,w),E=null,w=null)):b+=1;return g}},{key:"parseSplitUnit",value:function(t,e,i){if("undefined"==typeof i)return parseFloat(e);switch(i){case"vh":return.01*e*o.pageMetrics.windowHeight;case"%":return.01*e*t.controller.elementMetrics.height;case"px":return e;case"rh":return.01*e*this.group.metrics.get(t.relativeTo).height;case"vw":return.01*e*o.pageMetrics.windowWidth;case"rw":return.01*e*this.group.metrics.get(t.relativeTo).width;case"%w":return.01*e*t.controller.elementMetrics.width;case"%h":return.01*e*t.controller.elementMetrics.height;case"pw":return.01*e*t.controller.parentElementMetrics.width;case"ph":return.01*e*t.controller.parentElementMetrics.height;default:throw new Error("ExpressionParser: no strategy found for unit `"+i+"` only `vh, vw, %, ph, pw` are supported")}}},{key:"captureParenthesis",value:function(t,e){for(var i="",n=0,r=!1,s=t.length,o=e;o<s;o++)if("("===t[o]?(n+=1,r&&(i+=t[o]),r=!0):")"===t[o]?(n-=1,0!==n&&(i+=t[o])):r&&(i+=t[o]),r&&0===n)return i}},{key:"isUnitlessNumber",value:function(t){return String(t).match(l)}},{key:"destroy",value:function(){this.group=null}},{key:"logParts",value:function(t){console.log(t.reduce(function(t,e){return"function"==typeof e?t+e.friendlyName+" ":t+(e+" ")},""))}}]),t}();e.exports=c},{102:102,180:180,187:187,96:96,98:98}],187:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=function o(){(0,r["default"])(this,o),this.add=function(t,e){return t+e},this.sub=function(t,e){return t-e},this.mul=function(t,e){return t*e},this.div=function(t,e){return t/e},this.add.friendlyName="add",this.sub.friendlyName="sub",this.mul.friendlyName="mul",this.div.friendlyName="div",this.add.priority=0,this.sub.priority=0,this.mul.priority=1,this.div.priority=1,this.GetOpCode=function(t){switch(t){case"-":return this.sub;case"+":return this.add;case"*":return this.mul;case"/":return this.div;default:throw new Error('AnimSystem.parsing.Operations - op code "'.concat(t,"\" was found. Only '+ - * /' are supported. Check expression for typos/spacing issues"))}}};e.exports=new s},{102:102,96:96}],188:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,r["default"])(this,t),this.group=e,this.groupIsTimeBased=i}return(0,s["default"])(t,[{key:"parse",value:function(t,e){if("number"==typeof e)return e;var i=this.groupIsTimeBased?0:this.group.metrics.get(t.relativeTo).top,n=this.group.expressionParser.parseExpression(t,e),r=n+i;return this.group.convertScrollPositionToTValue(r)}},{key:"destroy",value:function(){this.group=null}}]),t}();e.exports=o},{102:102,96:96,98:98}],189:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(95)),u=n(t(100)),l=n(t(99)),c=n(t(101)),h=t(88).EventEmitterMicro,d=t(237),f=t(191),p=t(180),m=t(182),_=t(186),v=t(188),y=t(176),b={create:t(162),update:t(172),draw:t(168)},g=function(t){function e(t,i){var n;return(0,r["default"])(this,e),n=(0,o["default"])(this,(0,u["default"])(e).call(this)),n.anim=i,n.element=t,n.name=n.name||t.getAttribute("data-anim-scroll-group"),n.isEnabled=!0,n.timelines=new p.Timeline,n.metrics=new m,n.metrics.add(n.element),n.expressionParser=new _((0,a["default"])(n)),n.timeParser=new v((0,a["default"])(n)),n.boundsMin=0,n.boundsMax=0,n.lastPosition=0,n.timelineUpdateRequired=!1,n._keyframesDirty=!1,n.viewableRange=n.createViewableRange(),n.defaultEase=p.KeyframeDefaults.ease,n.keyframeControllers=[],n.updateProgress(n.getPosition()),n.onDOMRead=n.onDOMRead.bind((0,a["default"])(n)),n.onDOMWrite=n.onDOMWrite.bind((0,a["default"])(n)),n.gui=null,n.finalizeInit(),n}return(0,c["default"])(e,t),(0,s["default"])(e,[{key:"finalizeInit",value:function(){this.element._animInfo=new p.AnimInfo(this,null,(!0)),this.setupRAFEmitter()}},{key:"destroy",value:function(){this.expressionParser.destroy(),this.expressionParser=null,this.timeParser.destroy(),this.timeParser=null;for(var t=0,i=this.keyframeControllers.length;t<i;t++)this.keyframeControllers[t].destroy();this.timelines=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,(0,l["default"])((0,u["default"])(e.prototype),"destroy",this).call(this)}},{key:"removeKeyframeController",value:function(t){var e=this;if(this.keyframeControllers.includes(t)){var i=t._allKeyframes;t._allKeyframes=[],this.keyframesDirty=!0,b.draw(function(){var n=e.keyframeControllers.indexOf(t);n!==-1&&(e.keyframeControllers.splice(n,1),t.onDOMWrite(),i.forEach(function(t){return t.destroy()}),t.destroy(),e.gui&&e.gui.create())},!0)}}},{key:"remove",value:function(){this.anim.removeGroup(this)}},{key:"setupRAFEmitter",value:function(t){var e=this;this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=t||new b.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite),this.rafEmitter.once("external",function(){return e.reconcile()})}},{key:"requestDOMChange",value:function(){return!!this.isEnabled&&this.rafEmitter.run()}},{key:"onDOMRead",value:function(){this.keyframesDirty&&this.onKeyframesDirty();for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMRead(this.timelines)}},{key:"onDOMWrite",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMWrite(this.timelines);this.needsUpdate()&&this.requestDOMChange()}},{key:"needsUpdate",value:function(){if(this._keyframesDirty)return!0;for(var t=0,e=this.keyframeControllers.length;t<e;t++)if(this.keyframeControllers[t].needsUpdate())return!0;return!1}},{key:"addKeyframe",value:function(t,e){var i=this.getControllerForTarget(t);return null===i&&(i=new y(this,t),this.keyframeControllers.push(i)),this.keyframesDirty=!0,i.addKeyframe(e)}},{key:"forceUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.waitForNextUpdate,i=void 0===e||e;this.isEnabled&&(this.refreshActiveMetrics(),this.viewableRange=this.createViewableRange(),this.timelineUpdateRequired=!0,i?this.keyframesDirty=!0:this.onKeyframesDirty())}},{key:"onKeyframesDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.preventOnScroll,i=void 0!==e&&e;this.determineActiveKeyframes(),this.keyframesDirty=!1;for(var n=0,r=this.keyframeControllers.length;n<r;n++)this.keyframeControllers[n].updateAnimationConstraints();this.updateProgress(this.getPosition()),this.updateBounds(),i||this._onScroll(),this.gui&&this.gui.create()}},{key:"refreshActiveMetrics",value:function(){var t=new Set;t.add(this.element),this.keyframeControllers.forEach(function(e){t.add(e.element),e._parentElementMetrics&&t.add(e.element.parentElement),e._allKeyframes.forEach(function(e){return t.add(e.relativeTo)})}),this.metrics.refreshCollection(t)}},{key:"reconcile",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].reconcile()}},{key:"determineActiveKeyframes",value:function(t){t=t||f(Array.from(document.documentElement.classList));for(var e=0,i=this.keyframeControllers.length;e<i;e++)this.keyframeControllers[e].determineActiveKeyframes(t)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},e=0,i=this.keyframeControllers.length;e<i;e++)this.keyframeControllers[e].getBounds(t);var n=this.convertTValueToScrollPosition(t.min),r=this.convertTValueToScrollPosition(t.max);r-n<p.pageMetrics.windowHeight?(t.min=this.convertScrollPositionToTValue(n-.5*p.pageMetrics.windowHeight),t.max=this.convertScrollPositionToTValue(r+.5*p.pageMetrics.windowHeight)):(t.min-=.001,t.max+=.001),this.boundsMin=t.min,this.boundsMax=t.max,this.timelineUpdateRequired=!0}},{key:"createViewableRange",value:function(){return new p.ViewableRange(this.metrics.get(this.element),p.pageMetrics.windowHeight)}},{key:"_onBreakpointChange",value:function(t,e){this.keyframesDirty=!0,this.determineActiveKeyframes()}},{key:"updateProgress",value:function(t){return this.hasDuration()?void(this.timelines.localUnclamped=(t-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a)):void(this.timelines.local=this.timelines.localUnclamped=0)}},{key:"performTimelineDispatch",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].updateLocalProgress(this.timelines.local);this.trigger(p.EVENTS.ON_TIMELINE_UPDATE,this.timelines.local),this.timelineUpdateRequired=!1,this.lastPosition!==this.timelines.local&&(this.lastPosition<=this.boundsMin&&this.timelines.localUnclamped>this.boundsMin?this.trigger(p.EVENTS.ON_TIMELINE_START,this):this.lastPosition>=this.boundsMin&&this.timelines.localUnclamped<this.boundsMin?this.trigger(p.EVENTS.ON_TIMELINE_START+":reverse",this):this.lastPosition<=this.boundsMax&&this.timelines.localUnclamped>=this.boundsMax?this.trigger(p.EVENTS.ON_TIMELINE_COMPLETE,this):this.lastPosition>=this.boundsMax&&this.timelines.localUnclamped<this.boundsMax&&this.trigger(p.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this)),null!==this.gui&&this.gui.onScrollUpdate(this.timelines)}},{key:"_onScroll",value:function(t){if(!this.isEnabled)return!1;void 0===t&&(t=this.getPosition()),this.updateProgress(t);var e=this.lastPosition===this.boundsMin||this.lastPosition===this.boundsMax,i=this.timelines.localUnclamped===this.boundsMin||this.timelines.localUnclamped===this.boundsMax;if(!this.timelineUpdateRequired&&e&&i&&this.lastPosition===t)return void(this.timelines.local=this.timelines.localUnclamped);if(this.timelineUpdateRequired||this.timelines.localUnclamped>this.boundsMin&&this.timelines.localUnclamped<this.boundsMax)return this.timelines.local=d.clamp(this.timelines.localUnclamped,this.boundsMin,this.boundsMax),this.performTimelineDispatch(),this.requestDOMChange(),void(this.lastPosition=this.timelines.localUnclamped);var n=this.lastPosition>this.boundsMin&&this.lastPosition<this.boundsMax,r=this.timelines.localUnclamped<=this.boundsMin||this.timelines.localUnclamped>=this.boundsMax;return n&&r?(this.timelines.local=d.clamp(this.timelines.localUnclamped,this.boundsMin,this.boundsMax),this.performTimelineDispatch(),this.requestDOMChange(),void(this.lastPosition=this.timelines.localUnclamped)):void(null!==this.gui&&this.gui.onScrollUpdate(this.timelines))}},{key:"convertScrollPositionToTValue",value:function(t){return this.hasDuration()?d.map(t,this.viewableRange.a,this.viewableRange.d,0,1):0}},{key:"convertTValueToScrollPosition",value:function(t){return this.hasDuration()?d.map(t,0,1,this.viewableRange.a,this.viewableRange.d):0}},{key:"hasDuration",value:function(){return this.viewableRange.a!==this.viewableRange.d}},{key:"getPosition",value:function(){return p.pageMetrics.scrollY}},{key:"getControllerForTarget",value:function(t){if(!t._animInfo||!t._animInfo.controllers)return null;if(t._animInfo.controller&&t._animInfo.controller.group===this)return t._animInfo.controller;for(var e=t._animInfo.controllers,i=0,n=e.length;i<n;i++)if(e[i].group===this)return e[i];return null}},{key:"trigger",value:function(t,e){if("undefined"!=typeof this._events[t])for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()}},{key:"keyframesDirty",set:function(t){this._keyframesDirty=t,this._keyframesDirty&&this.requestDOMChange()},get:function(){return this._keyframesDirty}},{key:"keyFrames",get:function(){return this.viewableRange}}]),e}(h);e.exports=g},{100:100,101:101,102:102,106:106,162:162,168:168,172:172,176:176,180:180,182:182,186:186,188:188,191:191,237:237,88:88,95:95,96:96,98:98,99:99}],190:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(99)),l=n(t(101)),c=t(189),h=t(237),d=0,f={create:t(162)},p=function(t){function e(t,i){var n;return(0,r["default"])(this,e),t||(t=document.createElement("div"),t.className="TimeGroup-"+d++),n=(0,o["default"])(this,(0,a["default"])(e).call(this,t,i)),n.name=n.name||t.getAttribute("data-anim-time-group"),n.timeParser.groupIsTimeBased=!0,n._isPaused=!0,n._repeats=0,n._isReversed=!1,n._timeScale=1,n}return(0,l["default"])(e,t),(0,s["default"])(e,[{key:"finalizeInit",value:function(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),(0,u["default"])((0,a["default"])(e.prototype),"finalizeInit",this).call(this)}},{key:"progress",value:function(t,e){if(void 0===t)return 0===this.boundsMax?0:this.timelines.local/this.boundsMax;var i=t*this.boundsMax;this.timelineUpdateRequired=e||!1,this._onScroll(i)}},{key:"time",value:function(t,e){return void 0===t?this.timelines.local:(t=h.clamp(t,this.boundsMin,this.boundsMax),this.timelineUpdateRequired=e||!1,void this._onScroll(t))}},{key:"play",value:function(t){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(t,!0),this._playheadEmitter.run()}},{key:"reverse",value:function(t){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(t,!0),this._playheadEmitter.run()}},{key:"reversed",value:function(t){return void 0===t?this._isReversed:(this._isReversed=t,this)}},{key:"restart",value:function(){this._isReversed?(this.progress(1,!0),this.reverse(this.time())):(this.progress(0,!0),this.play(this.time()))}},{key:"pause",value:function(t){this.time(t),this._isPaused=!0}},{key:"paused",value:function(t){return void 0===t?this._isPaused:(this._isPaused=t,this._isPaused||this.play(),this)}},{key:"onPlayTimeUpdate",value:function(t){if(!this._isPaused){var i=h.clamp(t.delta/1e3,0,.5);this._isReversed&&(i=-i);var n=this.time(),r=n+i*this._timeScale;if(this._repeats===e.REPEAT_FOREVER||this._repeats>0){var s=!1;!this._isReversed&&r>this.boundsMax?(r-=this.boundsMax,s=!0):this._isReversed&&r<0&&(r=this.boundsMax+r,s=!0),s&&(this._repeats=this._repeats===e.REPEAT_FOREVER?e.REPEAT_FOREVER:this._repeats-1)}this.time(r);var o=!this._isReversed&&this.timelines.local!==this.duration,a=this._isReversed&&0!==this.timelines.local;(o||a)&&this._playheadEmitter.run()}}},{key:"updateProgress",value:function(t){return this.hasDuration()?void(this.timelines.localUnclamped=t):void(this.timelines.local=this.timelines.localUnclamped=0)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},e=0,i=this.keyframeControllers.length;e<i;e++)this.keyframeControllers[e].getBounds(t);this.boundsMin=0,this.boundsMax=t.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}},{key:"setupRAFEmitter",value:function(t){this._playheadEmitter=new f.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),(0,u["default"])((0,a["default"])(e.prototype),"setupRAFEmitter",this).call(this,t)}},{key:"timeScale",value:function(t){return void 0===t?this._timeScale:(this._timeScale=t,this)}},{key:"repeats",value:function(t){return void 0===t?this._repeats:(this._repeats=t,this)}},{key:"getPosition",value:function(){return this.timelines.local}},{key:"convertScrollPositionToTValue",value:function(t){return t}},{key:"convertTValueToScrollPosition",value:function(t){return t}},{key:"hasDuration",value:function(){return this.duration>0}},{key:"destroy",value:function(){this._playheadEmitter.destroy(),this._playheadEmitter=null,(0,u["default"])((0,a["default"])(e.prototype),"destroy",this).call(this)}},{key:"duration",get:function(){return this.keyframesDirty&&this.onKeyframesDirty({preventOnScroll:!0}),this.boundsMax}}]),e}(c);p.REPEAT_FOREVER=-1,e.exports=p},{100:100,101:101,102:102,106:106,162:162,189:189,237:237,96:96,98:98,99:99}],191:[function(t,e,i){"use strict";var n=function(t){return t.reduce(function(t,e){return t[e]=e,t},{})};e.exports=n},{}],192:[function(t,e,i){arguments[4][161][0].apply(i,arguments)},{161:161}],193:[function(t,e,i){arguments[4][162][0].apply(i,arguments)},{162:162,199:199,200:200,88:88}],194:[function(t,e,i){arguments[4][163][0].apply(i,arguments)},{163:163,89:89}],195:[function(t,e,i){arguments[4][164][0].apply(i,arguments)},{164:164,197:197}],196:[function(t,e,i){arguments[4][165][0].apply(i,arguments)},{165:165,195:195}],197:[function(t,e,i){arguments[4][166][0].apply(i,arguments)},{166:166,193:193}],198:[function(t,e,i){arguments[4][168][0].apply(i,arguments)},{168:168,196:196}],199:[function(t,e,i){arguments[4][170][0].apply(i,arguments)},{157:157,170:170,192:192}],200:[function(t,e,i){arguments[4][171][0].apply(i,arguments)},{157:157,171:171,192:192,194:194}],201:[function(t,e,i){arguments[4][172][0].apply(i,arguments)},{172:172,196:196}],202:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(99)),l=n(t(101)),c=t(88).EventEmitterMicro,h={create:t(193),update:t(201),draw:t(198)},d=function(){},f=0,p=function(t){function e(t){var i;return(0,r["default"])(this,e),i=(0,o["default"])(this,(0,a["default"])(e).call(this)),i.el=t.el,i.gum=t.gum,i._keyframeController=null,i}return(0,l["default"])(e,t),(0,s["default"])(e,[{key:"destroy",value:function(){this.el=null,this.gum=null,this._keyframeController=null,(0,u["default"])((0,a["default"])(e.prototype),"destroy",this).call(this)}},{key:"addKeyframe",value:function(t){var e=t.el||this.el;return this.anim.addKeyframe(e,t)}},{key:"addDiscreteEvent",value:function(t){t.event=t.event||"Generic-Event-Name-"+f++;var e=void 0!==t.end&&t.end!==t.start,i=this.addKeyframe(t);return e?(this._addCallbackIfNotNull(i,t.event+":enter",t.onEnter),this._addCallbackIfNotNull(i,t.event+":exit",t.onExit)):(this._addCallbackIfNotNull(i,t.event,t.onEvent),this._addCallbackIfNotNull(i,t.event+":reverse",t.onEventReverse)),i}},{key:"addRAFLoop",value:function(t){var e=["start","end"];if(!e.every(function(e){return t.hasOwnProperty(e)}))return void console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+e.join(" "));var i=new h.create;i.on("update",t.onUpdate||d),i.on("draw",t.onDraw||d),i.on("draw",function(){return i.run()});var n=t.onEnter,r=t.onExit;return t.onEnter=function(){i.run(),n?n():0},t.onExit=function(){i.cancel(),r?r():0},this.addDiscreteEvent(t)}},{key:"addContinuousEvent",value:function(t){t.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),t.event=t.event||"Generic-Event-Name-"+f++;var e=this.addKeyframe(t);return e.controller.on(t.event,t.onDraw),e}},{key:"mounted",value:function(){if(this.onComponentWillAppear||this.onComponentWillDisappear){this.onComponentWillAppear=this.onComponentWillAppear?this.onComponentWillAppear.bind(this):void 0,this.onComponentWillDisappear=this.onComponentWillDisappear?this.onComponentWillDisappear.bind(this):void 0;var t={start:"-100vh - 1px",end:"100% + 1px",event:"_appear"+f++};t.onEnter=this.onComponentWillAppear,t.onExit=this.onComponentWillDisappear,this.addDiscreteEvent(t)}}},{key:"_addCallbackIfNotNull",value:function(t,e,i){return!!i&&(t.controller.on(e,i),!0)}},{key:"onResizeImmediate",value:function(t){}},{key:"onResizeDebounced",value:function(t){}},{key:"onBreakpointChange",value:function(t){}},{key:"anim",get:function(){return this.gum.anim}},{key:"keyframeController",get:function(){return this._keyframeController||(this._keyframeController=this.anim.getControllerForTarget(this.el))}}]),e}(c);e.exports=p},{100:100,101:101,102:102,106:106,193:193,198:198,201:201,88:88,96:96,98:98,99:99}],203:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(101)),l=t(88).EventEmitterMicro,c=t(206),h=t(175),d=t(180),f=t(204),p={},m=function(t){function e(t){var i;return(0,r["default"])(this,e),i=(0,o["default"])(this,(0,a["default"])(e).call(this)),i.el=t,i.anim=h,i.components=[],i.el.getAttribute("data-anim-scroll-group")||i.el.setAttribute("data-anim-scroll-group","bubble-gum-group"),h.on(d.EVENTS.ON_DOM_GROUPS_CREATED,function(t){i.componentsInitialized=!1,i.initComponents(),i.setupEvents()}),h.on(d.EVENTS.ON_DOM_KEYFRAMES_CREATED,function(){i.components.forEach(function(t){return t.mounted()}),i.trigger(e.EVENTS.DOM_COMPONENTS_MOUNTED)}),c.add(function(){return h.initialize()}),i}return(0,u["default"])(e,t),(0,s["default"])(e,[{key:"initComponents",value:function(){var t=Array.prototype.slice.call(this.el.querySelectorAll("[data-component-list]"));this.el.hasAttribute("data-component-list")&&t.push(this.el);for(var e=0;e<t.length;e++)for(var i=t[e],n=i.getAttribute("data-component-list"),r=n.split(" "),s=0,o=r.length;s<o;s++){var a=r[s];""!==a&&" "!==a&&this.addComponent({el:i,componentName:a})}this.componentsInitialized=!0}},{key:"setupEvents",value:function(){this.onResizeDebounced=this.onResizeDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),this.onBreakpointChange=this.onBreakpointChange.bind(this),h.on(d.PageEvents.ON_RESIZE_IMMEDIATE,this.onResizeImmediate),h.on(d.PageEvents.ON_RESIZE_DEBOUNCED,this.onResizeDebounced),h.on(d.PageEvents.ON_BREAKPOINT_CHANGE,this.onBreakpointChange)}},{key:"addComponent",value:function(t){var i=t.el,n=t.componentName,r=t.data;if(!f.hasOwnProperty(n))throw"BubbleGum::addComponent could not add component to"+i.className+" no component type '"+n+"'found!";var s=f[n];if(!e.componentIsSupported(s,n))return void 0===p[n]&&(console.log("BubbleGum::addComponent unsupported component '"+n+"'. Reason: '"+n+".IS_SUPPORTED' returned false"),p[n]=!0),null;var o=i.dataset.componentList||"";o.includes(n)||(i.dataset.componentList=o.split(" ").concat(n).join(" "));var a=new s({el:i,data:r,gum:this,pageMetrics:d.pageMetrics});return this.components.push(a),this.componentsInitialized&&a.mounted(),a}},{key:"removeComponent",value:function(t){var e=this.components.indexOf(t);e!==-1&&(this.components.splice(e,1),t.el.dataset.componentList=t.el.dataset.componentList.replace(t.constructor.name,""),t.destroy())}},{key:"getComponentOfType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,i="[data-component-list*="+t+"]",n=e.matches(i)?e:e.querySelector(i);return n?this.components.find(function(e){return e instanceof f[t]&&e.el===n}):null}},{key:"getComponentsOfType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,i="[data-component-list*="+t+"]",n=e.matches(i)?[e]:Array.from(e.querySelectorAll(i));return this.components.filter(function(e){return e instanceof f[t]&&n.includes(e.el)})}},{key:"getComponentsForElement",value:function(t){return this.components.filter(function(e){return e.el===t})}},{key:"onResizeImmediate",value:function(){this.components.forEach(function(t){return t.onResizeImmediate(d.pageMetrics)})}},{key:"onResizeDebounced",value:function(){this.components.forEach(function(t){return t.onResizeDebounced(d.pageMetrics)})}},{key:"onBreakpointChange",value:function(){this.components.forEach(function(t){return t.onBreakpointChange(d.pageMetrics)})}}],[{key:"componentIsSupported",value:function(t,e){var i=t.IS_SUPPORTED;if(void 0===i)return!0;if("function"!=typeof i)return console.error('BubbleGum::addComponent error in "'+e+'".IS_SUPPORTED - it should be a function which returns true/false'),!0;var n=t.IS_SUPPORTED();return void 0===n?(console.error('BubbleGum::addComponent error in "'+e+'".IS_SUPPORTED - it should be a function which returns true/false'),!0):n}}]),e}(l);m.EVENTS={DOM_COMPONENTS_MOUNTED:"DOM_COMPONENTS_MOUNTED"},e.exports=m},{100:100,101:101,102:102,106:106,175:175,180:180,204:204,206:206,88:88,96:96,98:98}],204:[function(t,e,i){"use strict";e.exports={BaseComponent:t(202)}},{202:202}],205:[function(t,e,i){
"use strict";var n={create:t(253),invert:t(254),clone:t(252),transpose:t(255)},r={create:t(256),dot:t(258),normalize:t(261),length:t(260),cross:t(257),fromValues:t(259)},s={create:t(262),transformMat4:t(264),fromValues:t(263)},o=(Math.PI/180,180/Math.PI),a=0,u=1,l=3,c=4,h=5,d=7,f=11,p=12,m=13,_=15,v=function(t,e){e=e||!1;for(var i=n.clone(t),a=r.create(),u=r.create(),c=r.create(),h=s.create(),p=s.create(),m=(r.create(),0);m<16;m++)i[m]/=i[_];var v=n.clone(i);v[l]=0,v[d]=0,v[f]=0,v[_]=1;var E=(i[3],i[7],i[11],i[12]),w=i[13],x=i[14],O=(i[15],s.create());if(g(i[l])&&g(i[d])&&g(i[f]))h=s.fromValues(0,0,0,1);else{O[0]=i[l],O[1]=i[d],O[2]=i[f],O[3]=i[_];var S=n.invert(n.create(),v),A=n.transpose(n.create(),S);h=s.transformMat4(h,O,A)}a[0]=E,a[1]=w,a[2]=x;var T=[r.create(),r.create(),r.create()];T[0][0]=i[0],T[0][1]=i[1],T[0][2]=i[2],T[1][0]=i[4],T[1][1]=i[5],T[1][2]=i[6],T[2][0]=i[8],T[2][1]=i[9],T[2][2]=i[10],u[0]=r.length(T[0]),r.normalize(T[0],T[0]),c[0]=r.dot(T[0],T[1]),T[1]=y(T[1],T[0],1,-c[0]),u[1]=r.length(T[1]),r.normalize(T[1],T[1]),c[0]/=u[1],c[1]=r.dot(T[0],T[2]),T[2]=y(T[2],T[0],1,-c[1]),c[2]=r.dot(T[1],T[2]),T[2]=y(T[2],T[1],1,-c[2]),u[2]=r.length(T[2]),r.normalize(T[2],T[2]),c[1]/=u[2],c[2]/=u[2];var C=r.cross(r.create(),T[1],T[2]);if(r.dot(T[0],C)<0)for(m=0;m<3;m++)u[m]*=-1,T[m][0]*=-1,T[m][1]*=-1,T[m][2]*=-1;p[0]=.5*Math.sqrt(Math.max(1+T[0][0]-T[1][1]-T[2][2],0)),p[1]=.5*Math.sqrt(Math.max(1-T[0][0]+T[1][1]-T[2][2],0)),p[2]=.5*Math.sqrt(Math.max(1-T[0][0]-T[1][1]+T[2][2],0)),p[3]=.5*Math.sqrt(Math.max(1+T[0][0]+T[1][1]+T[2][2],0)),T[2][1]>T[1][2]&&(p[0]=-p[0]),T[0][2]>T[2][0]&&(p[1]=-p[1]),T[1][0]>T[0][1]&&(p[2]=-p[2]);var P=s.fromValues(p[0],p[1],p[2],2*Math.acos(p[3])),k=b(p);return e&&(c[0]=Math.round(c[0]*o*100)/100,c[1]=Math.round(c[1]*o*100)/100,c[2]=Math.round(c[2]*o*100)/100,k[0]=Math.round(k[0]*o*100)/100,k[1]=Math.round(k[1]*o*100)/100,k[2]=Math.round(k[2]*o*100)/100,P[3]=Math.round(P[3]*o*100)/100),{translation:a,scale:u,skew:c,perspective:h,quaternion:p,eulerRotation:k,axisAngle:P}},y=function(t,e,i,n){var s=r.create();return s[0]=i*t[0]+n*e[0],s[1]=i*t[1]+n*e[1],s[2]=i*t[2]+n*e[2],s},b=function(t){var e,i,n,s=t[3]*t[3],o=t[0]*t[0],a=t[1]*t[1],u=t[2]*t[2],l=o+a+u+s,c=t[0]*t[1]+t[2]*t[3];return c>.499*l?(i=2*Math.atan2(t[0],t[3]),n=Math.PI/2,e=0,r.fromValues(e,i,n)):c<-.499*l?(i=-2*Math.atan2(t[0],t[3]),n=-Math.PI/2,e=0,r.fromValues(e,i,n)):(i=Math.atan2(2*t[1]*t[3]-2*t[0]*t[2],o-a-u+s),n=Math.asin(2*c/l),e=Math.atan2(2*t[0]*t[3]-2*t[1]*t[2],-o+a-u+s),r.fromValues(e,i,n))},g=function(t){return Math.abs(t)<1e-4},E=function(t){var e=String(getComputedStyle(t).transform).trim(),i=n.create();if("none"===e||""===e)return i;var r,s,o=e.slice(0,e.indexOf("("));if("matrix3d"===o)for(r=e.slice(9,-1).split(","),s=0;s<r.length;s++)i[s]=parseFloat(r[s]);else{if("matrix"!==o)throw new TypeError("Invalid Matrix Value");for(r=e.slice(7,-1).split(","),s=r.length;s--;)r[s]=parseFloat(r[s]);i[a]=r[0],i[u]=r[1],i[p]=r[4],i[c]=r[2],i[h]=r[3],i[m]=r[5]}return i};e.exports=function(t,e){var i=E(t);return v(i,e)}},{252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264}],206:[function(t,e,i){"use strict";var n=!1,r=!1,s=[];e.exports={NUMBER_OF_FRAMES_TO_WAIT:30,add:function(t){var e=this;if(r&&t(),s.push(t),!n){n=!0;var i=document.documentElement.scrollHeight,o=0,a=function u(){var t=document.documentElement.scrollHeight;if(i!==t)o=0;else if(o++,o>=e.NUMBER_OF_FRAMES_TO_WAIT)return void s.forEach(function(t){return t()});i=t,requestAnimationFrame(u)};requestAnimationFrame(a)}}}},{}],207:[function(t,e,i){"use strict";e.exports=Object.freeze({ELEMENT:1,TEXT:3,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11})},{}],208:[function(t,e,i){"use strict";e.exports=function(t){return!(!t||!t.nodeType)}},{}],209:[function(t,e,i){"use strict";var n=t(208);e.exports=function(t,e){return!!n(t)&&("number"==typeof e?t.nodeType===e:!!Array.isArray(e)&&e.indexOf(t.nodeType)!==-1)}},{208:208}],210:[function(t,e,i){"use strict";var n=t(209),r=t(211),s=t(207).ELEMENT;e.exports=function(t,e,i,o){if(r.childNode(t,"ancestors"),r.selector(e,"ancestors"),i&&n(t,s)&&(!e||t.matches(e)))return t;if(o=o||document.body,t!==o)for(;(t=t.parentNode)&&n(t,s);){if(!e||t.matches(e))return t;if(t===o)break}return null}},{207:207,209:209,211:211}],211:[function(t,e,i){"use strict";var n=t(209),r=t(207),s=r.COMMENT,o=r.DOCUMENT_FRAGMENT,a=r.DOCUMENT,u=r.ELEMENT,l=r.TEXT,c=[u,a,o],h=" must be an Element, Document, or Document Fragment",d=[u,l,s],f=" must be an Element, TextNode, or Comment",p=" must be a string";e.exports={parentNode:function(t,e){if(!t||!n(t,c))throw new TypeError(e+": node"+h)},childNode:function(t,e){if(!t||!n(t,d))throw new TypeError(e+": node"+f)},selector:function(t,e,i){if(i="boolean"==typeof i&&i,(t||i)&&"string"!=typeof t)throw new TypeError(e+": selector"+p)}}},{207:207,209:209}],212:[function(t,e,i){arguments[4][161][0].apply(i,arguments)},{161:161}],213:[function(t,e,i){arguments[4][162][0].apply(i,arguments)},{162:162,218:218,219:219,88:88}],214:[function(t,e,i){arguments[4][163][0].apply(i,arguments)},{163:163,89:89}],215:[function(t,e,i){arguments[4][164][0].apply(i,arguments)},{164:164,217:217}],216:[function(t,e,i){arguments[4][165][0].apply(i,arguments)},{165:165,215:215}],217:[function(t,e,i){arguments[4][166][0].apply(i,arguments)},{166:166,213:213}],218:[function(t,e,i){arguments[4][170][0].apply(i,arguments)},{157:157,170:170,212:212}],219:[function(t,e,i){arguments[4][171][0].apply(i,arguments)},{157:157,171:171,212:212,214:214}],220:[function(t,e,i){arguments[4][172][0].apply(i,arguments)},{172:172,216:216}],221:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(101)),l=n(t(111)),c=t(233);e.exports=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r["default"])(this,e);var n;return"endpoint"===i.type&&(n="Failed to fetch product prices: The API service endpoint was not specified."),t=(0,o["default"])(this,(0,a["default"])(e).call(this,n)),t.name="ConfigurationError",t.type=i.type,t}return(0,u["default"])(e,t),(0,s["default"])(e,[{key:"showHint",value:function(){"endpoint"===this.type&&(c.warn(this.message+" This may be expected if this page's locale doesn't have an Apple Online Store."),c.info('If prices are expected for this locale, check that the API service endpoint is specified in HTML with %c<link rel="ac:pricing-endpoint" href="/path/to/endpoint">%c or the "fetchProducts" function\'s "endpoint" option.',"font-family:monospace",""))}}]),e}((0,l["default"])(Error))},{100:100,101:101,102:102,106:106,111:111,233:233,96:96,98:98}],222:[function(t,e,i){"use strict";var n=t(102),r=n(t(96));e.exports=function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r["default"])(this,s),this.error=t,this.products=e}},{102:102,96:96}],223:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(101)),l=n(t(111)),c=t(233);e.exports=function(t){function e(t){var i;return(0,r["default"])(this,e),i=(0,o["default"])(this,(0,a["default"])(e).call(this,t||"Failed to fetch product price: The API service responded with an unexpected data format.")),i.name="InvalidDataError",i}return(0,u["default"])(e,t),(0,s["default"])(e,[{key:"showHint",value:function(){c.warn(this.message)}}]),e}((0,l["default"])(Error))},{100:100,101:101,102:102,106:106,111:111,233:233,96:96,98:98}],224:[function(t,e,i){"use strict";var n=t(102),r=n(t(110)),s=n(t(108)),o=n(t(96)),a=n(t(98)),u=t(236),l=t(223),c=function(t){return{id:t.isString,name:t.isString,type:function(t){return["WUIP","PART"].includes(t)},price:t.isObject,"price.value":t.isNumber,"price.display":t.isObject,"price.display.disclaimer":t.isOptionalString,"price.display.legal":t.isOptionalString,"price.display.actual":t.isString,"price.display.smart":t.isString,"price.display.from":function(t,e){return"WUIP"===e.type?"string"==typeof t:"undefined"==typeof t}}},h=function(){function t(e){var i=this;if((0,o["default"])(this,t),!t.validate(e))throw new l("Could not create Product, because the given JSON contains invalid data.");Object.entries(e).forEach(function(t){var e=(0,s["default"])(t,2),n=e[0],o=e[1];i[n]||Object.defineProperty(i,n,{enumerable:!0,value:"object"===(0,r["default"])(o)?Object.freeze(JSON.parse(JSON.stringify(o))):o})})}return(0,a["default"])(t,[{key:"isWUIP",get:function(){return"WUIP"===this.type}},{key:"isPart",get:function(){return"PART"===this.type}}],[{key:"validate",value:function(t){return u(t,c)}}]),t}();e.exports=h},{102:102,108:108,110:110,223:223,236:236,96:96,98:98}],225:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(101)),l=n(t(111)),c=t(233);e.exports=function(t){function e(){var t;return(0,r["default"])(this,e),t=(0,o["default"])(this,(0,a["default"])(e).call(this,"Failed to fetch product prices: The API service responded with a status of 404 (Not Found).")),t.name="ServiceNotFoundError",t}return(0,u["default"])(e,t),(0,s["default"])(e,[{key:"showHint",value:function(){c.warn(this.message),c.info('Check the "href" value of the %c<link rel="ac:pricing-endpoint">%c tag or the "fetchProducts" function\'s "endpoint" option, if specified.',"font-family:monospace","")}}]),e}((0,l["default"])(Error))},{100:100,101:101,102:102,106:106,111:111,233:233,96:96,98:98}],226:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(101)),l=n(t(111)),c=t(233);e.exports=function(t){function e(){var t;return(0,r["default"])(this,e),t=(0,o["default"])(this,(0,a["default"])(e).call(this,"Failed to fetch product prices: The Apple Online Store is temporarily unavailable.")),t.name="ServiceUnavailableError",t}return(0,u["default"])(e,t),(0,s["default"])(e,[{key:"showHint",value:function(){c.warn(this.message)}}]),e}((0,l["default"])(Error))},{100:100,101:101,102:102,106:106,111:111,233:233,96:96,98:98}],227:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(101)),l=n(t(111)),c=t(233);e.exports=function(t){function e(t){var i;return(0,r["default"])(this,e),i=(0,o["default"])(this,(0,a["default"])(e).call(this,"Failed to fetch product prices: The API service did not respond within "+t+" seconds, so the request was aborted.")),i.name="TimeoutError",i.timeoutValue=t,i}return(0,u["default"])(e,t),(0,s["default"])(e,[{key:"showHint",value:function(){c.warn(this.message)}}]),e}((0,l["default"])(Error))},{100:100,101:101,102:102,106:106,111:111,233:233,96:96,98:98}],228:[function(t,e,i){"use strict";var n=t(102),r=n(t(96)),s=n(t(98)),o=n(t(106)),a=n(t(100)),u=n(t(101)),l=n(t(111)),c=t(233);e.exports=function(t){function e(){var t;return(0,r["default"])(this,e),t=(0,o["default"])(this,(0,a["default"])(e).call(this,"Failed to fetch prices: An unexpected error occured.")),t.name="UnexpectedError",t}return(0,u["default"])(e,t),(0,s["default"])(e,[{key:"showHint",value:function(){c.warn(this.message),c.info("The API service endpoint may require authentication and/or authorization.")}}]),e}((0,l["default"])(Error))},{100:100,101:101,102:102,106:106,111:111,233:233,96:96,98:98}],229:[function(t,e,i){"use strict";function n(){function t(){return new Promise(function(t,e){var i=g.dummyPrices&&"undefined"!=typeof window&&window.location.search.indexOf(v)>-1;if(i){var n=a(v,null);e(n&&f[n]&&new f[n])}t()})}function e(t){if(g=Object.assign({},_,t,g),!g.endpoint)throw new f.ConfigurationError({type:"endpoint"});var e=g.aliases?Object.entries(g.aliases):[];e.length&&(x=e.reduce(function(t,e){var i=(0,o["default"])(e,2),n=i[0],r=i[1];return t[r]=t[r]||[],t[r].push(n),t},{}),b=b.map(function(t){return g.aliases[t]||t}))}function i(){return new Promise(function(t,e){var i=new XMLHttpRequest;i.withCredentials=!0,i.onloadend=t.bind(this,i),i.ontimeout=e.bind(this,new f.TimeoutError(g.timeout)),i.onerror=e.bind(this,new f.UnexpectedError),i.open("https://www.apple.com/ipad/GET",l(g.endpoint,b),!0),i.timeout=1e3*(g.timeout||0),i.send()})}function n(t){var e=parseInt(t.getResponseHeader("x-rewrite-status"),10),i=e||t.status;if(404===i)throw new f.ServiceNotFoundError;if(503===i)throw new f.ServiceUnavailableError;if(i>=400)throw new f.UnexpectedError;if(200===i){var n=c(t.responseText);if(n&&"object"===(0,s["default"])(n.items))return n.items}throw new f.InvalidDataError}function r(t){var e={};return Object.entries(t).forEach(function(t){var i=(0,o["default"])(t,2),n=i[0],r=i[1],s=null,a=x[n]||[n];try{g.dummyPrices&&"UNKNOWN"===r.type&&(r=h(n,"unknown"),O.push(n)),s=new p(r),999999===s.price.value&&O.push(n)}catch(u){if("InvalidDataError"!==u.name)throw u}a.forEach(function(t){e[t]=s})}),Object.defineProperty(e,"aliases",{value:g.aliases}),d.group("%cResults from Apple Online Store","background-color:#27a33f;color:white;padding:2px 5px"),d.log(e),d.groupEnd(),d.enabled&&O.length&&(d.group("Dummy Prices"),d.warn("Using dummy prices for the following product identifiers: "+O.join(", ")),d.info("$777,777 — The API service may require authentication and/or authorization. \n$888,888 — The product identifer is currently unknown to the API service. \n$999,999 — The product identifier is known to the API service, but the price has yet to be set. \n"),d.groupEnd()),new m(null,e)}function y(t){var e={};b.forEach(function(t){return e[t]=null});var i=new m(t,e);if(!t)return i;var n=!Object.keys(f).some(function(e){return t.name===e});if(n)throw t;if("UnexpectedError"===t.name&&g.dummyPrices){var r={};w.forEach(function(t){r[t]=h(t,"unauthorized"),O.push(t)}),i=new m(t,r)}return t&&"function"==typeof t.showHint&&t.showHint(i.products),i}var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!b.length){var E=new m;return Promise.resolve(E)}Array.isArray(b)||(b=[b]);var w=b,x={},O=[];return u().then(e).then(t).then(i).then(n).then(r)["catch"](y)}var r=t(102),s=r(t(110)),o=r(t(108)),a=t(93),u=t(232),l=t(231),c=t(235),h=t(234),d=t(233),f={ConfigurationError:t(221),ServiceNotFoundError:t(225),ServiceUnavailableError:t(226),TimeoutError:t(227),InvalidDataError:t(223),UnexpectedError:t(228)},p=t(224),m=t(222),_={endpoint:null,aliases:null,timeout:5,dummyPrices:!1},v="39f4f1f5-c4a1-4a7c-ab30-085335a11146";e.exports.fetchProducts=n,e.exports.Product=p,Object.entries(f).forEach(function(t){var i=(0,o["default"])(t,2),n=i[0],r=i[1];return e.exports[n]=r})},{102:102,108:108,110:110,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,231:231,232:232,233:233,234:234,235:235,93:93}],230:[function(t,e,i){"use strict";e.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)||(t=[t]),t.filter(function(t){return"string"==typeof t}).map(function(t){return encodeURIComponent(String(t).trim())}).join(",")}},{}],231:[function(t,e,i){"use strict";var n=t(230),r=/\?(.+)/,s=/(#.*)/;e.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t=t.replace(s,"");var i=(t.match(r)||[])[1],o=t;return e.length&&(o+=i?"&":"?",o+="parts="+n(e)),o}},{230:230}],232:[function(t,e,i){"use strict";var n=t(102),r=n(t(108)),s=t(220);e.exports=function(){return new Promise(function(t){return"undefined"!=typeof window&&window.document?void s(function(){var e={},i=document.querySelector('link[rel="ac:pricing-endpoint"]');i&&(e.endpoint=(i.getAttribute("href")||"").trim());var n=document.querySelectorAll('meta[name="ac:pricing-alias"]');n.forEach(function(t){var i=(t.getAttribute("content")||"").split("="),n=(0,r["default"])(i,2),s=n[0],o=n[1];s&&o&&(e.aliases=e.aliases||{},e.aliases[s]=o)});var s=document.querySelector('meta[name="ac:pricing-dummy"]');s&&(e.dummyPrices="true"===(s.getAttribute("content")||"").trim()),t(e)}):void t({})})}},{102:102,108:108,220:220}],233:[function(t,e,i){"use strict";for(var n=t(27),r="[ @marcom/pricing ]",s=Object.keys(n),o=!1,a=function(){var t=s[u],i="function"==typeof n[t]?n[t]:null;i&&(e.exports[t]=function(){var e=Array.prototype.slice.call(arguments);o||"string"!=typeof e[0]||(e[0]="".concat(r," ").concat(e[0])),"group"!==t&&"groupCollapsed"!==t||(o=!0),"groupEnd"===t&&(o=!1),i.apply(n,e)})},u=0,l=s.length;u<l;u++)a();e.exports.enabled=n.enabled},{27:27}],234:[function(t,e,i){"use strict";function n(t,e){var i=t%1===0?0:2;return t>9999?t.toLocaleString(e,{minimumFractionDigits:i,maximumFractionDigits:i}):t.toFixed(i)}var r={unauthorized:777777,unknown:888888};e.exports=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",s=parseFloat(r[e]||e||0),o=n(s,i);return{id:t,name:"",type:"WUIP",price:{value:s,display:{actual:"$"+Number(s).toLocaleString(i,{minimumFractionDigits:2}),smart:"$"+o,from:"From $"+o}}}}},{}],235:[function(t,e,i){"use strict";e.exports=function(t){try{return JSON.parse(t)}catch(e){return null}}},{}],236:[function(t,e,i){"use strict";function n(t,e){return e.split(".").reduce(function(t,e){return t&&t[e]},t)}var r=t(102),s=r(t(108)),o={isString:function(t){return"string"==typeof t},isOptionalString:function(t){return!t||"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)}};e.exports=function(t,e){"function"==typeof e&&(e=e(o));for(var i=Object.entries(e),r=0,a=i.length;r<a;r++){var u=(0,s["default"])(i[r],2),l=u[0],c=u[1],h=l.indexOf(".")>-1?n(t,l):t[l];if(c.call(t,h,t)!==!0)return!1}return!0}},{102:102,108:108}],237:[function(t,e,i){"use strict";e.exports={lerp:function(t,e,i){return e+(i-e)*t},map:function(t,e,i,n,r){return n+(r-n)*(t-e)/(i-e)},mapClamp:function(t,e,i,n,r){var s=n+(r-n)*(t-e)/(i-e);return Math.max(n,Math.min(r,s))},norm:function(t,e,i){return(t-e)/(i-e)},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},randFloat:function(t,e){return Math.random()*(e-t)+t},randInt:function(t,e){return Math.floor(Math.random()*(e-t)+t)}}},{}],238:[function(t,e,i){"use strict";e.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},{}],239:[function(t,e,i){"use strict";e.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(t){return t.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===t.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(t){return t.ua.indexOf("Firefox")>-1&&t.ua.indexOf("Opera")===-1},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(t){return t.ua.indexOf("Safari")>-1&&t.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(t){return t.ua.indexOf("IE")>-1||t.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var t=!1;return document.documentMode&&(t=parseInt(document.documentMode,10)),t}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(t){return t.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(t){return t.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(t){return t.ua.indexOf("iPhone")>-1||t.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(t){return(t.ua.indexOf("Linux")>-1||t.platform.indexOf("Linux")>-1)&&t.ua.indexOf("Android")===-1}},{name:"fireos",test:function(t){return t.ua.indexOf("Firefox")>-1&&t.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(t){return t.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},{}],240:[function(t,e,i){"use strict";function n(t){return new RegExp(t+"[a-zA-Z\\s/:]+([0-9_.]+)","i")}function r(t,e){if("function"==typeof t.parseVersion)return t.parseVersion(e);var i=t.version||t.userAgent;"string"==typeof i&&(i=[i]);for(var r,s=i.length,o=0;o<s;o++)if(r=e.match(n(i[o])),r&&r.length>1)return r[1].replace(/_/g,".");return!1}function s(t,e,i){for(var n,s,o=t.length,a=0;a<o;a++)if("function"==typeof t[a].test?t[a].test(i)===!0&&(n=t[a].name):i.ua.indexOf(t[a].userAgent)>-1&&(n=t[a].name),n){if(e[n]=!0,s=r(t[a],i.ua),"string"==typeof s){var u=s.split(".");e.version.string=s,u&&u.length>0&&(e.version.major=parseInt(u[0]||0),e.version.minor=parseInt(u[1]||0),e.version.patch=parseInt(u[2]||0))}else"edge"===n&&(e.version.string="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0");return"function"==typeof t[a].parseDocumentMode&&(e.version.documentMode=t[a].parseDocumentMode()),e}return e}function o(t){var e={};return e.browser=s(u.browser,a.browser,t),e.os=s(u.os,a.os,t),e}var a=t(238),u=t(239);e.exports=o},{238:238,239:239}],241:[function(t,e,i){"use strict";var n={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};e.exports=t(240)(n)},{240:240}],242:[function(t,e,i){arguments[4][161][0].apply(i,arguments)},{161:161}],243:[function(t,e,i){arguments[4][162][0].apply(i,arguments)},{162:162,248:248,249:249,88:88}],244:[function(t,e,i){arguments[4][163][0].apply(i,arguments)},{163:163,89:89}],245:[function(t,e,i){arguments[4][164][0].apply(i,arguments)},{164:164,247:247}],246:[function(t,e,i){arguments[4][165][0].apply(i,arguments)},{165:165,245:245}],247:[function(t,e,i){arguments[4][166][0].apply(i,arguments)},{166:166,243:243}],248:[function(t,e,i){arguments[4][170][0].apply(i,arguments)},{157:157,170:170,242:242}],249:[function(t,e,i){arguments[4][171][0].apply(i,arguments)},{157:157,171:171,242:242,244:244}],250:[function(t,e,i){arguments[4][172][0].apply(i,arguments)},{172:172,246:246}],251:[function(t,e,i){"use strict";function n(t,e){r.call(this),this._id=t||o.ID,this._options=Object.assign({},o.OPTIONS,e),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia(l.RETINA)},orientation:{portrait:window.matchMedia(l.PORTRAIT),landscape:window.matchMedia(l.LANDSCAPE)}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}var r=t(88).EventEmitterMicro,s=t(250),o={ID:"viewport-emitter",OPTIONS:{removeNamespace:!0}},a={DOM_DISPATCH:"data-viewport-emitter-dispatch",STATE:"data-viewport-emitter-state"},u="::before",l={RETINA:"only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",PORTRAIT:"only screen and (orientation: portrait)",LANDSCAPE:"only screen and (orientation: landscape)"},c={any:"change:any",orientation:"change:orientation",retina:"change:retina",viewport:"change:viewport"};Object.defineProperty(n,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return a.DOM_DISPATCH}}),Object.defineProperty(n,"DOM_STATE_ATTRIBUTE",{get:function(){return a.STATE}});var h=n.prototype=Object.create(r.prototype);Object.defineProperty(h,"id",{get:function(){return this._id}}),Object.defineProperty(h,"element",{get:function(){return this._el}}),Object.defineProperty(h,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(h,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(h,"retina",{get:function(){return this._retina}}),Object.defineProperty(h,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(h,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),h.destroy=function(){this._removeListeners();for(var t in this._options)this._options[t]=null;for(var e in this._mediaQueryLists){var i=this._mediaQueryLists[e];for(var n in i)i[n]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,r.prototype.destroy.call(this)},h._initViewportEl=function(t){var e=document.getElementById(t);return e||(e=document.createElement("div"),e.id=t,e=document.body.appendChild(e)),e.hasAttribute(a.DOM_DISPATCH)||(e.setAttribute(a.DOM_DISPATCH,""),this._allowDOMEventDispatch=!0),e.hasAttribute(a.STATE)||(this._allowElementStateData=!0),e},h._dispatch=function(t,e){var i={viewport:this._viewport,orientation:this._orientation,retina:this._retina};if(this._allowDOMEventDispatch){var n=new CustomEvent(t,{detail:e}),r=new CustomEvent(c.any,{detail:i});this._el.dispatchEvent(n),this._el.dispatchEvent(r)}this.trigger(t,e),this.trigger(c.any,i)},h._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},h._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},h._updateElementStateData=function(){if(this._allowElementStateData){var t=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina});this._el.setAttribute(a.STATE,t)}},h._getViewport=function(t){var e=window.getComputedStyle(this._el,u).content;return e?(e=e.replace(/["']/g,""),t?e.split(":").pop():e):null},h._getRetina=function(t){return t.matches},h._getOrientation=function(t){var e=this._orientation;if(t.matches){var i=/portrait|landscape/;return t.media.match(i)[0]}return e},h._initOrientation=function(){var t=this._getOrientation(this._mediaQueryLists.orientation.portrait);return t?t:this._getOrientation(this._mediaQueryLists.orientation.landscape)},h._onViewportChange=function(){this._resizing||(this._resizing=!0,s(this._onViewportChangeUpdate))},h._onViewportChangeUpdate=function(){var t=this._viewport;if(this._viewport=this._getViewport(this._options.removeNamespace),t!==this._viewport){var e={from:t,to:this._viewport};this._updateElementStateData(),this._dispatch(c.viewport,e)}this._resizing=!1},h._onRetinaChange=function(t){var e=this._retina;if(this._retina=this._getRetina(t),e!==this._retina){var i={from:e,to:this._retina};this._updateElementStateData(),this._dispatch(c.retina,i)}},h._onOrientationChange=function(t){var e=this._orientation;if(this._orientation=this._getOrientation(t),e!==this._orientation){var i={from:e,to:this._orientation};this._updateElementStateData(),this._dispatch(c.orientation,i)}},e.exports=n},{250:250,88:88}],252:[function(t,e,i){function n(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}e.exports=n},{}],253:[function(t,e,i){function n(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=n},{}],254:[function(t,e,i){function n(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],_=e[14],v=e[15],y=i*a-n*o,b=i*u-r*o,g=i*l-s*o,E=n*u-r*a,w=n*l-s*a,x=r*l-s*u,O=c*m-h*p,S=c*_-d*p,A=c*v-f*p,T=h*_-d*m,C=h*v-f*m,P=d*v-f*_,k=y*P-b*C+g*T+E*A-w*S+x*O;return k?(k=1/k,t[0]=(a*P-u*C+l*T)*k,t[1]=(r*C-n*P-s*T)*k,t[2]=(m*x-_*w+v*E)*k,t[3]=(d*w-h*x-f*E)*k,t[4]=(u*A-o*P-l*S)*k,t[5]=(i*P-r*A+s*S)*k,t[6]=(_*g-p*x-v*b)*k,t[7]=(c*x-d*g+f*b)*k,t[8]=(o*C-a*A+l*O)*k,t[9]=(n*A-i*C-s*O)*k,t[10]=(p*w-m*g+v*y)*k,t[11]=(h*g-c*w-f*y)*k,t[12]=(a*S-o*T-u*O)*k,t[13]=(i*T-n*S+r*O)*k,t[14]=(m*b-p*E-_*y)*k,t[15]=(c*E-h*b+d*y)*k,t):null}e.exports=n},{}],255:[function(t,e,i){function n(t,e){if(t===e){var i=e[1],n=e[2],r=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=r,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}e.exports=n},{}],256:[function(t,e,i){function n(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}e.exports=n},{}],257:[function(t,e,i){function n(t,e,i){var n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],u=i[2];return t[0]=r*u-s*a,t[1]=s*o-n*u,t[2]=n*a-r*o,t}e.exports=n},{}],258:[function(t,e,i){function n(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.exports=n},{}],259:[function(t,e,i){function n(t,e,i){var n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=i,n}e.exports=n},{}],260:[function(t,e,i){function n(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}e.exports=n},{}],261:[function(t,e,i){function n(t,e){var i=e[0],n=e[1],r=e[2],s=i*i+n*n+r*r;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t}e.exports=n},{}],262:[function(t,e,i){function n(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}e.exports=n},{}],263:[function(t,e,i){function n(t,e,i,n){var r=new Float32Array(4);return r[0]=t,r[1]=e,r[2]=i,r[3]=n,r}e.exports=n},{}],264:[function(t,e,i){function n(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*s+i[12]*o,t[1]=i[1]*n+i[5]*r+i[9]*s+i[13]*o,t[2]=i[2]*n+i[6]*r+i[10]*s+i[14]*o,t[3]=i[3]*n+i[7]*r+i[11]*s+i[15]*o,t}e.exports=n},{}],265:[function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?l(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=t(202),f=t(125).createStandardModal,p=t(210),m={buttonDataAttribute:"data-modal-button",contentDataAttribute:"data-modal-content"},_=function(t){function e(t){var i;return r(this,e),i=a(this,u(e).call(this,t)),i.options=Object.assign({},m,t||{}),i.handleModal=i.handleModal.bind(l(i)),i.modal={},i.initializeModal(),i.addEventListener(),i}return c(e,t),o(e,[{key:"initializeModal",value:function(){var t=this.el.querySelector("[".concat(this.options.contentDataAttribute,"]"));this.modal=f(t)}},{key:"addEventListener",value:function(){document.body.addEventListener("click",this.handleModal)}},{key:"removeEventListener",value:function(){document.body.removeEventListener("click",this.handleModal)}},{key:"handleModal",value:function(t){var e=this.getTargetElement(t);
e&&(t.preventDefault(),this.modal.open())}},{key:"getTargetElement",value:function(t){var e,i=t.target;return e=i.hasAttribute(this.options.buttonDataAttribute)?i:p(i,this.options.buttonDataAttribute)}}],[{key:"IS_SUPPORTED",value:function(){return!0}}]),e}(d);e.exports=_},{125:125,202:202,210:210}],266:[function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=t(202),f=t(143),p=function(t){function e(t){var i;r(this,e),i=a(this,l(e).call(this,t));try{i._loadOptions=JSON.parse(i.el.getAttribute("data-progressive-image-options"))}catch(n){i._loadOptions=null}return i.imageLoader=new f({container:i.el,includeContainer:!0}),i}return c(e,t),o(e,[{key:"mounted",value:function(){var t=this;if(this.addDiscreteEvent({start:"-200vh",end:"-200vh",event:"ProgressiveImageLoad"}),this.el._animInfo){var e=this.el._animInfo.controller;e.on("ProgressiveImageLoad",function(){t.imageLoader.load(t._loadOptions)})}}},{key:"setupEvents",value:function(){this._onImageLoad=this._onImageLoad.bind(this),this._onComplete=this._onComplete.bind(this),this.imageLoader.on(f.Events.ImageLoad,this._onImageLoad),this.imageLoader.on(f.Events.Complete,this._onComplete)}},{key:"destroy",value:function(){this.imageLoader.destroy(),this.imageLoader=null}},{key:"_onImageLoad",value:function(t){this.section.trigger(this.Events.ImageLoad,t)}},{key:"_onComplete",value:function(){this.section.trigger(this.Events.Complete)}}]),e}(d);p.Events={ImageLoad:"progressive-image-load",Complete:"progressive-image-complete"},p.IS_SUPPORTED=function(){var t=document.documentElement;return t.classList.contains("progressive-image")},e.exports=p},{143:143,202:202}],267:[function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=t(202),f=t(153),p=t(154),m=t(251),_=new m,v=t(2),y=null;try{y=t("@marcom/ac-analytics")}catch(b){}var g=function(t){function e(t){var i;return r(this,e),i=a(this,l(e).call(this,t)),i.body=i.gum.el,i}return c(e,t),o(e,[{key:"mounted",value:function(){v.detect(),this.showRibbon()}},{key:"showRibbon",value:function(){var t=this.body.querySelector(".ribbon.ribbon-hide");t&&setTimeout(function(){t.classList.remove("ribbon-hide")},1200)}},{key:"adjustLayoutForRibbonHeight",value:function(){var t=this.body.querySelector(".ribbon"),e=this.body.querySelector(".section-content");t?p(function(){var i=t.offsetHeight;f(function(){"small"===_.viewport?(e.style.marginTop=null,e.style.paddingTop=i+"px"):(e.style.paddingTop=null,e.style.marginTop=i+"px")})}):(e.style.paddingTop=null,e.style.marginTop=null)}}],[{key:"IS_SUPPORTED",value:function(){var t=document.documentElement.classList;return!t.contains("aow")}}]),e}(d);e.exports=g},{153:153,154:154,2:2,202:202,251:251,undefined:void 0}],268:[function(t,e,i){"use strict";var n=(t(12),t(114)),r=t(203),s=t(204),o=t(269),a=t(2),u=t(125),l=u.createStandardModal,c=t(241),h=t(229),d=h.fetchProducts;!function(){function e(){var t=Array.from(document.querySelectorAll("[data-pricing-id]"));if(t.length){var e={},n=[];t.forEach(function(t){var i=t.getAttribute("data-pricing-id");e[i]=e[i]||[],e[i].push(t),n.includes(i)||n.push(i)}),d(n).then(function(t){var r=t.error,s=t.products;i(r),n.forEach(function(t){var i=s[t];e[t].forEach(function(t){var e=t.getAttribute("data-pricing-template");i&&(t.textContent=e?e.replace("{price}",i.price.display.smart):i.price.display.smart)})})})}}function i(e){try{var i=t("@marcom/ac-analytics"),n={Success:"DP-S0",ConfigurationError:"DP-E1",ServiceNotFoundError:"DP-E2",ServiceUnavailableError:"DP-E3",TimeoutError:"DP-E4",InvalidDataError:"DP-E5",UnexpectedError:"DP-E6"}[e&&e.name||"Success"];i.passiveTracker({eVar100:n})}catch(r){}}function u(){var t=document.querySelector("[apple-arcade-trial-link]"),e=document.getElementById("arcade-tryitfree"),i=document.documentElement.classList.contains("touch"),n=c.os.version.major,r=c.os.version.minor,s=c.os.ios&&n>=13,o=c.os.osx&&n>=10&&r>=15&&i,a=c.os.osx&&n>=10&&r>=15;if(s||o||a)t.setAttribute("href",t.getAttribute("data-apply-action")),t.setAttribute("data-rid-relay",'{"288":"itsct"}'),t.setAttribute("data-analytics-exit-link",""),t.removeAttribute("data-analytics-intrapage-link"),t.removeAttribute("data-analytics-click");else{var u=e.querySelector(".modal-notify-wrapper");t.addEventListener("click",function(t){t.preventDefault();var e=l(u);e.modalElement.classList.add("arcade-modal"),e.open()})}}function h(){var t=document.querySelector('[data-link-type="free-trial"]'),e=document.getElementById("trial-modal");if(t&&e){var i=e.content.querySelector("[data-modal-content]");t.addEventListener("click",function(e){e.preventDefault();var n=document.documentElement.classList.contains("trial-support");if(n){var r=t.getAttribute("data-trial-url");window.location.href=r}else{var s=l(i);s.open()}})}}n.addTests({"progressive-image":!0}),document.documentElement.classList.add("progressive-image"),Object.assign(s,o);var f=document.querySelector("body");new r(f);e(),h(),u(),a.detect()}()},{114:114,12:12,125:125,2:2,203:203,204:204,229:229,241:241,269:269,undefined:void 0}],269:[function(t,e,i){"use strict";e.exports={ProgressiveImage:t(266),ModalComponent:t(265),Ribbon:t(267)}},{265:265,266:266,267:267}]},{},[268]);