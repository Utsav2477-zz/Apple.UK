parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {var i={};i="https://www.apple.com/buffer-icon.d6d66f1d.svg";var q={};function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function j(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function E(e,t,s){return t&&c(e.prototype,t),s&&c(e,s),e}var a=[{id:"SMALL",maxWidth:735},{id:"MEDIUM",maxWidth:1068},{id:"LARGE",maxWidth:1/0}].sort(function(e,i){return e.maxWidth>i.maxWidth?1:-1});function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reduce";return window.matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function k(){return window.devicePixelRatio&&window.devicePixelRatio>1?2:1}function f(e){for(var i=0;i<a.length;i++){var t=a[i-1],r=a[i];a[i+1];if(e>=(0===i?0:t.maxWidth)&&e<=r.maxWidth)return r.id}return a[a.length-1].id}var m=function(){function e(t,s){l(this,e),this.config=s,this.element=t,this.posterElement=this.element.querySelector(".poster"),this.videoElement=this.element.querySelector("video"),this.controlsElement=this.element.querySelector(".controls"),this.controlsCircleElement=this.controlsElement.querySelector(".control.circle"),this.controlsPlayElement=this.controlsElement.querySelector(".control.play-icon"),this.controlsPauseElement=this.controlsElement.querySelector(".control.pause-icon"),this.pageContentElement=document.querySelector(this.config.pageContentElement),this.videoNum=Math.floor(Math.random()*this.config.backgroundMedia.length),this.prefersReducedMotion=d(),this.isPlaying=!1,this.userHasPaused=!1,this.cssClassEnhanced="enhanced",this.cssClassInFocus="in-focus",this.cssClassPlaying="playing",this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.mediaPlayEvent=this.mediaPlayEvent.bind(this),this.mediaPauseEvent=this.mediaPauseEvent.bind(this),this.onResize=this.onResize.bind(this),this.onRetinaChange=this.onRetinaChange.bind(this),this.onReducedMotionChange=this.onReducedMotionChange.bind(this),this.observer=null,this.attach(),this.onResize(),this.initControls(),this.initObserver()}return E(e,[{key:"attach",value:function(){window.addEventListener("resize",this.onResize,!1),window.matchMedia("screen and (min-resolution: 2dppx)").addListener(this.onRetinaChange),window.matchMedia("(prefers-reduced-motion: reduce)").addListener(this.onReducedMotionChange),this.videoElement.addEventListener("playing",this.onPlay,!1),this.videoElement.addEventListener("pause",this.onPause,!1),this.videoElement.addEventListener("emptied",this.onPause,!1),this.controlsPlayElement.addEventListener("click",this.mediaPlayEvent),this.controlsPauseElement.addEventListener("click",this.mediaPauseEvent)}},{key:"initControls",value:function(){var e=this.config.svgMedia;this.controlsCircleElement.style.backgroundImage="url(".concat(e.buffer,")"),this.controlsPlayElement.style.backgroundImage="url(".concat(e.play,")"),this.controlsPauseElement.style.backgroundImage="url(".concat(e.pause,")")}},{key:"initObserver",value:function(){var e=this;this.observer=new IntersectionObserver(function(t){t.forEach(function(t){!t.isIntersecting&&0==t.intersectionRatio&&t.boundingClientRect.y>0?e.play():e.pause()})},this.config.observer.options),this.prefersReducedMotion||this.startObserver()}},{key:"startObserver",value:function(){this.observer.observe(this.pageContentElement)}},{key:"disconnetObserver",value:function(){this.observer.disconnect()}},{key:"play",value:function(){this.videoElement.play()}},{key:"pause",value:function(){this.videoElement.pause()}},{key:"onPlay",value:function(){this.isPlaying=!0,this.element.classList.add(this.cssClassPlaying)}},{key:"onPause",value:function(){this.isPlaying=!1,this.element.classList.remove(this.cssClassPlaying)}},{key:"mediaPlayEvent",value:function(e){e&&e.preventDefault(),this.userHasPaused=!1,this.play(),this.startObserver()}},{key:"mediaPauseEvent",value:function(e){e&&e.preventDefault(),this.userHasPaused=!0,this.pause(),this.disconnetObserver()}},{key:"onResize",value:function(){var e=f(window.innerWidth);this.lastViewport!==e&&(this.lastViewport=e,this.onViewportChange())}},{key:"onReducedMotionChange",value:function(){this.prefersReducedMotion=d(),this.prefersReducedMotion&&this.isPlaying&&this.mediaPauseEvent()}},{key:"onRetinaChange",value:function(){this.loadVideo()}},{key:"onViewportChange",value:function(){this.loadVideo()}},{key:"loadVideo",value:function(){var e=k(),t=f(window.innerWidth),s=this.config.backgroundMedia[this.videoNum][t][e];this.posterElement.style.backgroundImage="url(".concat(s.poster,")"),this.videoElement.setAttribute("src",s.video),this.videoElement.load(),this.prefersReducedMotion||this.userHasPaused||this.play(),this.element.classList.add(this.cssClassEnhanced)}}]),e}();var n=function(){function e(t,r){B(this,e),this.config=r,this.wrapperElement=t,this.backgroundVideoElement=this.wrapperElement.querySelector(".background-video"),this.update=this.update.bind(this),this.backgroundVideo=new m(this.backgroundVideoElement,this.config),this.cssClassSticky="css-sticky",this.attach(),this.update()}return j(e,[{key:"attach",value:function(){window.addEventListener("resize",this.update,!1)}},{key:"update",value:function(e){window.innerHeight-document.querySelector("#localnav").offsetHeight<this.wrapperElement.offsetHeight?this.wrapperElement.classList.remove(this.cssClassSticky):this.wrapperElement.classList.add(this.cssClassSticky)}}]),e}();q="https://www.apple.com/play-icon.ba392116.svg";var o={};o="https://www.apple.com/pause-icon.f84060ea.svg";var p={};p="https://www.apple.com/hero-phone.566ca248.jpg";var h={};h="/hero-phone.a51a0f95.mp4";var r={};r="/hero-phone@2x.2d2e13a5.jpg";var s={};s="/hero-phone@2x.7319e7d9.mp4";var t={};t="https://www.apple.com/hero-portrait.886cf34a.jpg";var u={};u="/hero-portrait.49d454ee.mp4";var v={};v="/hero-portrait@2x.5572583b.jpg";var w={};w="/hero-portrait@2x.8d8616b5.mp4";var x={};x="https://www.apple.com/hero-desktop.15e4a9a3.jpg";var y={};y="/hero-desktop.fa9f0530.mp4";var z={};z="/hero-desktop@2x.1cef1f50.jpg";var A={};A="/hero-desktop@2x.43d0243f.mp4";function g(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,t)}return o}function C(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?g(o,!0).forEach(function(r){D(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(o).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function D(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}var e={pageContentElement:"#apple-jobs-hero-after",observer:{options:{rootMargin:"-20% 0px -80% 0px",threshold:[0]}},svgMedia:{buffer:i,play:q,pause:o},backgroundMedia:[{SMALL:{1:{poster:p,video:h},2:{poster:r,video:s}},MEDIUM:{1:{poster:t,video:u},2:{poster:v,video:w}},LARGE:{1:{poster:x,video:y},2:{poster:z,video:A}}}]};window.AppleJobsHeroConfig&&(e=C({},e,{},window.AppleJobsHeroConfig));var F=document.getElementById("apple-jobs-hero");new n(F,e);return{"DOCb":{}};});