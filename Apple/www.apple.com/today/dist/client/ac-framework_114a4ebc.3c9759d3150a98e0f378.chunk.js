(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,,,,,,,,,,function(t,e,i){"use strict";t.exports={EventEmitterMicro:i(222)}},,,,,,,,,,,,,,,function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(165),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.exception=!1,this.errors=[]}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"log",value:function(t,e,i){var n=this._formatMessage(t,e,i);this.exception=!0,this.errors.push({instance:t,method:e,message:n}),r(n)}},{key:"warn",value:function(t,e,i){var n=this._formatMessage(t,e,i);r(n)}},{key:"report",value:function(t){var e="";return"number"==typeof t&&this.errors[t]?(e=this.errors[t].message,r(this.errors[t].message)):(this.errors.forEach(function(t){e+="".concat(t.message," '\r\n")}),r(e)),e}},{key:"_formatMessage",value:function(t,e,i){var n="";return(t||e)&&(n=(t||"")+(t&&e?".":"")+(e||"")+" : "),"Analytics : "+n+i}},{key:"bailed",value:function(){return this.errors.length>0}}]),t}();t.exports=new o},,,,,,,,,,,,,,,function(t,e,i){"use strict";t.exports=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}},,,,,,,,function(t,e,i){"use strict";t.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},,,,,,,,,,,,,,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=function(){};t.exports=function(t){if(arguments.length>1)throw new Error("Second argument not supported");if(null===t||"object"!==r(t))throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(t):(o.prototype=t,new o)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(124);t.exports=function(t,e){if("object"!==r(t))throw new TypeError("defaults: must provide a defaults object");if("object"!==r(e=e||{}))throw new TypeError("defaults: options must be a typeof object");return o({},t,e)}},,,,,,,,,,function(t,e,i){var n=i(1102);t.exports=new n("appMeasurement"),t.exports.Tracker=n},,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(50),r=i(42);function o(){var t=n.getWindow(),e=n.getDocument(),i=n.getNavigator();return!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||i.maxTouchPoints>0||i.msMaxTouchPoints>0)}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}i(349);var o=i(124),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){return e?function t(e,i){var n;for(n in i)s.call(i,n)&&(null===i[n]?e[n]=null:"object"===r(i[n])?(e[n]=Array.isArray(i[n])?[]:{},t(e[n],i[n])):e[n]=i[n]);return e}({},t):o({},t)}},,,,,,,,function(t,e,i){"use strict";var n=i(527).os,r=i(91).original,o=i(50),s=i(42);function a(){var t=o.getWindow();return!r()&&!t.orientation||n.windows}t.exports=s(a),t.exports.original=a},function(t,e,i){"use strict";var n=i(102),r=i(170);t.exports=function(t){return n(t,r)}},function(t,e,i){"use strict";var n=i(336);t.exports=function(t,e){return!!n(t)&&("number"==typeof e?t.nodeType===e:-1!==e.indexOf(t.nodeType))}},function(t,e){t.exports={pipe:" | ",hyphen:" - ",colon:": ",dot:".",space:" "}},,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i(546);var n=Object.prototype.hasOwnProperty;t.exports=function(){var t,e;return t=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),e=t.shift(),t.forEach(function(t){if(null!=t)for(var i in t)n.call(t,i)&&(e[i]=t[i])}),e}},,function(t,e,i){"use strict";var n=i(102),r=i(229),o=i(230),s=i(170),a=i(231),l=[s,a,r,o],u=[s,a,r],c=[s,o];t.exports={parentNode:function(t,e,i,r){if(r=r||"target",(t||e)&&!n(t,c))throw new TypeError(i+": "+r+" must be an Element, or Document Fragment")},childNode:function(t,e,i,r){if(r=r||"target",(t||e)&&!n(t,u))throw new TypeError(i+": "+r+" must be an Element, TextNode, or Comment")},insertNode:function(t,e,i,r){if(r=r||"node",(t||e)&&!n(t,l))throw new TypeError(i+": "+r+" must be an Element, TextNode, Comment, or Document Fragment")},hasParentNode:function(t,e,i){if(i=i||"target",!t.parentNode)throw new TypeError(e+": "+i+" must have a parentNode")}}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(27),s="appMeasurementPluginFormatter",a=i(103);function l(t){var e={"fr-be":"bf","nl-be":"bl","fr-ch":"cr","de-ch":"ce","en-419":"la","es-419":"la","en-gb":"uk"};return e[t]?e[t]:c(t)}function u(t){return"string"==typeof t&&(t=t.toLowerCase()),t}function c(t){if(t||o.log(s,"_getCountryCodeFromLocale","locale should be a valid string"),!o.exception){var e,i=p(t);return i.length>1&&(e=u(i[1])),e}}var h=/[ìîëí]/g;function d(t){return"string"==typeof t&&(t=t.replace(h,"")),t}function p(t){return t.split(/[-_]/)}t.exports={productName:function(t){return u(t)},channel:function(t,e){var i="www.",n={"fr-ca":"ca.fr"};return(i+=n[e]?n[e]:l(e))+"."+t},pageName:function(t,e){var i="",n={"fr-ca":"ca-fr"}[e];return t=t||"","string"==typeof e&&(e=e.toLowerCase(),i=function(t){if(t||o.log(s,"_decorateCountryCode","countryCode should be a valid string"),!o.exception)return" ("+u(t)+")"}(i=n||l(e))),u(t)+i},eventString:function(t,e){return t=t||"",e=e||"",t?t+"@"+e:e},countryCodeFilter:function(t){var e,i={"fr-ca":"ca/fr","en-419":"lae","es-419":"la","en-ap":"asia","en-gb":"uk"};e=i[t]?i[t]:["fr-be","nl-be","fr-ch","de-ch"].indexOf(t)>=0?p(t).reverse().join("-"):c(t);return e},legacyCountryCode:l,cleanProps:function(t){var e={};if("object"===r(t))for(var i in t)e[i]=d(t[i]);return e},stringReplacer:function(t,e,i){var n=t;return e="string"==typeof e?e:"",i="string"==typeof i?i:"","string"==typeof n&&(n=n.replace(new RegExp(e,"gi"),i)),n},lowerCaseString:u,getRegionAncestry:function(t){var e="";return Array.isArray(t.regionAncestry)&&t.regionAncestry.forEach(function(t){e+=t.name+a.pipe}),e}}},,,,,,,,,,,,,,,function(t,e){t.exports=function(t){var e=t;return e>180?e=e%180-180:e<=-180&&(e=e%180+180),e}},function(t,e,i){"use strict";var n=i(519),r=i(325);t.exports=function(t,e,i,o){return e=r(t,e),n(t,e,i,o)}},function(t,e,i){"use strict";i(228);var n=i(336),r=i(229),o=i(230),s=i(337),a=i(170),l=function(t,e){return!!n(t)&&("number"==typeof e?t.nodeType===e:-1!==e.indexOf(t.nodeType))},u=[a,s,o],c=[a,i(231),r];t.exports={parentNode:function(t,e,i,n){if(n=n||"node",(t||e)&&!l(t,u))throw new TypeError(i+": "+n+" must be an Element, Document, or Document Fragment")},childNode:function(t,e,i,n){if(n=n||"node",(t||e)&&!l(t,c))throw new TypeError(i+": "+n+" must be an Element, TextNode, or Comment")},selector:function(t,e,i,n){if(n=n||"selector",(t||e)&&"string"!=typeof t)throw new TypeError(i+": "+n+" must be a string")}}},,function(t,e,i){"use strict";t.exports={Clip:i(1247)}},function(t,e,i){"use strict";t.exports={createBezier:i(324),createPredefined:i(1248),createStep:i(589),Ease:i(224)}},,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";t.exports=i(986)("log")},function(t,e,i){"use strict";var n=i(12).EventEmitterMicro,r=i(519),o=i(530),s=i(65),a=i(1032),l="keydown",u="keyup";function c(t){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),this._context=t||document,r(this._context,l,this._DOMKeyDown,!0),r(this._context,u,this._DOMKeyUp,!0),n.call(this)}var h=c.prototype=s(n.prototype);h.onDown=function(t,e){return this.on(l+":"+t,e)},h.onceDown=function(t,e){return this.once(l+":"+t,e)},h.offDown=function(t,e){return this.off(l+":"+t,e)},h.onUp=function(t,e){return this.on(u+":"+t,e)},h.onceUp=function(t,e){return this.once(u+":"+t,e)},h.offUp=function(t,e){return this.off(u+":"+t,e)},h.isDown=function(t){return t+="",this._keysDown[t]||!1},h.isUp=function(t){return!this.isDown(t)},h.destroy=function(){return o(this._context,l,this._DOMKeyDown,!0),o(this._context,u,this._DOMKeyUp,!0),this._keysDown=null,this._context=null,n.prototype.destroy.call(this),this},h._DOMKeyDown=function(t){var e=this._normalizeKeyboardEvent(t),i=e.keyCode+="";this._trackKeyDown(i),this.trigger(l+":"+i,e)},h._DOMKeyUp=function(t){var e=this._normalizeKeyboardEvent(t),i=e.keyCode+="";this._trackKeyUp(i),this.trigger(u+":"+i,e)},h._normalizeKeyboardEvent=function(t){return new a(t)},h._trackKeyUp=function(t){this._keysDown[t]&&(this._keysDown[t]=!1)},h._trackKeyDown=function(t){this._keysDown[t]||(this._keysDown[t]=!0)},t.exports=c},function(t,e,i){"use strict";t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},,,function(t,e,i){"use strict";t.exports=1},function(t,e){t.exports=Object.freeze({acAnalyticsVersion:"2.8.1",sessionStorage:"sessionStorage",passiveTrackerStorageKey:"s_aca_ptd",appleMetricsStorageKey:"apple_Metrics",analyticsQueueStorageKey:"ac-analytics-queue"})},,,function(t,e,i){"use strict";var n=i(1236),r=i(12).EventEmitterMicro,o=i(245);function s(t){t=t||{},this._wrapAround=t.wrapAround||!1,this._itemType=t.itemType||o,this._items=[],this._itemsIdLookup={},this._itemChanged=!1,this.showNext=this.showNext.bind(this),this.showPrevious=this.showPrevious.bind(this),this._update=this._update.bind(this),this._updateItems=this._updateItems.bind(this),r.call(this),t.startAt&&this._startAt(t.startAt),s._add(this,t.analyticsOptions)}s.FADE="fade",s.FADE_SELECTOR="[data-ac-gallery-fade]",s.SLIDE="slide",s.SLIDE_SELECTOR="[data-ac-gallery-slide]",s.UPDATE="update",s.UPDATE_COMPLETE="update:complete";var a=r.prototype,l=s.prototype=Object.create(a);l.addItem=function(t,e){if(t.nodeType)t=new this._itemType(t);else if(this._items.indexOf(t)>-1)return t;return"number"==typeof e?this._items.splice(e,0,t):this._items.push(t),1===this._items.length?(t.show(),this._setCurrentItem(t)):(t.hide(),this.getNextItem()===t&&this._setNextItem(t),this.getPreviousItem()===t&&this._setPreviousItem(t)),null!==t.getElementId()&&(this._itemsIdLookup[t.getElementId()]=t),t.on(o.SELECTED,this._update),t},l.removeItem=function(t,e){e=e||{},"number"==typeof t&&(t=this._items[t]);var i=this._items.indexOf(t);if(i>-1){var n=this.getNextItem(),r=this.getPreviousItem();this._items.splice(i,1),t.off(o.SELECTED,this._update),n===t&&this._setNextItem(this.getNextItem()),r===t&&this._setPreviousItem(this.getPreviousItem())}return t===this._currentItem&&this._items.length&&!1!==e.setCurrentItem&&(this._update({item:this._items[0]}),this._setLastItem(null)),e.destroyItem&&t.getElement()&&t.destroy(),t},l.show=function(t,e){return"number"==typeof t?t=this._items[t]:"string"==typeof t&&(t=this._itemsIdLookup[t]),t&&(e=e||{},this._update({item:t,interactionEvent:e.interactionEvent})),t||null},l.showNext=function(t){var e=this.getNextItem();return e&&this.show(e,t),e},l.showPrevious=function(t){var e=this.getPreviousItem();return e&&this.show(e,t),e},l.isInView=function(){return this._currentItem&&this._currentItem.isInView()},l.getTotalItems=function(){return this._items.length},l.getItems=function(){return this._items},l.getItem=function(t){return"number"==typeof t?this.getItemAt(t):"string"==typeof t?this.getItemById(t):void 0},l.getItemAt=function(t){return this._items[t]||null},l.getItemById=function(t){return this._itemsIdLookup[t]||null},l.getItemIndex=function(t){return this._items.indexOf(t)},l.getCurrentItem=function(){return this._currentItem||null},l.getLastItem=function(){return this._lastItem||null},l.getNextItem=function(){var t,e=this._items.indexOf(this._currentItem);return e<this._items.length-1?t=this._items[e+1]:this._wrapAround&&(t=this._items[0]),t||null},l.getPreviousItem=function(){var t,e=this._items.indexOf(this._currentItem);return e>0?t=this._items[e-1]:this._wrapAround&&(t=this._items[this._items.length-1]),t||null},l.getId=function(){return this._id},l.destroy=function(t){if(void 0===(t=t||{}).destroyItems&&(t.destroyItems=!0),this._setCurrentItem(null),t.destroyItems)for(var e;this._items.length;)(e=this._items[0]).off(o.SELECTED,this._update),this.removeItem(e,{destroyItem:!0,setCurrentItem:!1});return this._items=null,this._itemsIdLookup=null,s._remove(this),a.destroy.call(this)},l._startAt=function(t){var e=this._items[t];e&&this._currentItem!==e&&(this._currentItem.hide(),this._setCurrentItem(e),this._currentItem.show(),this.trigger(s.UPDATE,this._items))},l._setCurrentItem=function(t){this._currentItem&&this._currentItem.getElement()&&this._currentItem!==t&&(this._currentItem.getElement().classList.remove(o.CSS_CURRENT_ITEM),this._setLastItem(this._currentItem)),this._currentItem=t,this._currentItem&&this._currentItem.getElement()&&(this._currentItem.getElement().classList.add(o.CSS_CURRENT_ITEM),this._setNextItem(this.getNextItem()),this._setPreviousItem(this.getPreviousItem()))},l._setLastItem=function(t){this._lastItem&&this._lastItem.getElement()&&this._lastItem!==t&&this._lastItem.getElement().classList.remove(o.CSS_LAST_ITEM),this._lastItem=t,this._lastItem&&this._lastItem.getElement()&&this._lastItem.getElement().classList.add(o.CSS_LAST_ITEM)},l._setNextItem=function(t){this._nextItem&&this._nextItem.getElement()&&this._nextItem!==t&&this._nextItem.getElement().classList.remove(o.CSS_NEXT_ITEM),this._nextItem=t,this._nextItem&&this._nextItem.getElement()&&this._nextItem.getElement().classList.add(o.CSS_NEXT_ITEM)},l._setPreviousItem=function(t){this._previousItem&&this._previousItem.getElement()&&this._previousItem!==t&&this._previousItem.getElement().classList.remove(o.CSS_PREVIOUS_ITEM),this._previousItem=t,this._previousItem&&this._previousItem.getElement()&&this._previousItem.getElement().classList.add(o.CSS_PREVIOUS_ITEM)},l._updateItems=function(t){t.outgoing[0]&&t.outgoing[0].hide(),t.incoming[0].show(),this._itemChanged&&(this.trigger(s.UPDATE_COMPLETE,t),this._itemChanged=!1)},l._update=function(t){var e=this._currentItem!==t.item;e&&this._setCurrentItem(t.item);var i={incoming:[t.item],outgoing:this._lastItem?[this._lastItem]:[],interactionEvent:t.interactionEvent||null};e&&(this.trigger(s.UPDATE,i),this._itemChanged=!0),this._updateItems(i)},s._instantiate=function(){return this._galleries=[],this._idCounter=0,this},s._add=function(t,e){this._galleries.push(t),t._id=++this._idCounter,n.add(t,e)},s._remove=function(t){var e=this._galleries.indexOf(t);e>-1&&(this._galleries.splice(e,1),n.remove(t))},s.getAll=function(){return Array.prototype.slice.call(this._galleries)},s.getAllInView=function(){for(var t=[],e=this._galleries.length;e--;)this._galleries[e].isInView()&&t.push(this._galleries[e]);return t},s.destroyAll=function(){for(var t=this._galleries.length;t--;)this._galleries[t].destroy();this._galleries=[]},t.exports=s._instantiate()},,,,function(t,e,i){"use strict";var n=i(176),r=i(1266);t.exports=function(){var t,e,i,o,s=Array.prototype.slice.call(arguments),a=s.shift(s),l=window.getComputedStyle(a),u={};for("string"!=typeof s[0]&&(s=s[0]),o=0;o<s.length;o++)t=s[o],(e=n(t))?(t=r(e),(i=l[e])&&"auto"!==i||(i=null),i&&(i=r(i))):i=null,u[t]=i;return u}},function(t,e,i){"use strict";var n=i(177),r=i(176),o=i(366);function s(t,e){return void 0!==e?!!n(t,e):!!r(t)}t.exports=o(s),t.exports.original=s},,,,function(t,e,i){"use strict";var n,r=i(12).EventEmitterMicro,o=i(66),s={priority:5};function a(t,e){r.call(this),this.options=o(s,e||{}),this.src=t,this.data=null,this.error=null,this.priority=this.options.priority,this.status="idle",this._onLoad=this._onLoad.bind(this),this._onError=this._onError.bind(this)}(n=a.prototype=Object.create(r.prototype)).load=function(){"idle"===this.status&&(this.status="pending",this._load())},n.destroy=function(){r.prototype.destroy.call(this),this.status="destroyed",this.data=null},n._load=function(){this.data={src:this.src},window.setTimeout(this._onLoad.bind(this),20)},n._onLoad=function(){"destroyed"!==this.status&&(this.status="loaded",this.trigger("loaded",this))},n._onError=function(t){"destroyed"!==this.status&&(this.error=t,this.status="error",this.trigger("error",this))},t.exports=a},function(t,e,i){"use strict";t.exports={canvasAvailable:i(1352),continuousScrollEventsAvailable:i(1353),cookiesAvailable:i(1354),cssLinearGradientAvailable:i(1355),cssPropertyAvailable:i(179),cssViewportUnitsAvailable:i(1356),elementAttributeAvailable:i(1357),eventTypeAvailable:i(1358),isDesktop:i(100),isHandheld:i(328),isRetina:i(526),isTablet:i(528),localStorageAvailable:i(1359),mediaElementsAvailable:i(1360),mediaQueriesAvailable:i(1361),prefersReducedMotion:i(393),sessionStorageAvailable:i(1362),svgAvailable:i(1363),threeDTransformsAvailable:i(1364),touchAvailable:i(91),webGLAvailable:i(1365)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function n(){this._events={}}var r=n.prototype;r.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},r.once=function(t,e){var i=this;this.on(t,function n(r){i.off(t,n),void 0!==r?e(r):e()})},r.off=function(t,e){if(this.has(t)){if(1===arguments.length)return this._events[t]=null,void delete this._events[t];var i=this._events[t].indexOf(e);-1!==i&&this._events[t].splice(i,1)}},r.trigger=function(t,e){if(this.has(t))for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},r.has=function(t){return t in this._events!=!1&&0!==this._events[t].length},r.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},t.exports=n},function(t,e,i){"use strict";var n=i(515);t.exports=n.requestAnimationFrame("update")},function(t,e,i){"use strict";var n="Ease expects an easing function.";function r(t,e){if("function"!=typeof t)throw new TypeError(n);this.easingFunction=t,this.cssString=e||null}r.prototype.getValue=function(t){return this.easingFunction(t,0,1,1)},t.exports=r},,function(t,e,i){"use strict";var n=i(1034),r=function(){this.focusableSelectors=n.join(",")},o=r.prototype;o.isFocusableElement=function(t,e,i){if(!e&&!this._isDisplayed(t,e))return!1;var r=t.nodeName.toLowerCase(),o=n.indexOf(r)>-1;return"a"===r||(o?!t.disabled:!t.contentEditable||(i=i||parseFloat(t.getAttribute("tabindex")),!isNaN(i)))},o.isTabbableElement=function(t,e){if(!e&&!this._isDisplayed(t,e))return!1;var i=t.getAttribute("tabindex");return i=parseFloat(i),isNaN(i)?this.isFocusableElement(t,e,i):i>=0},o._isDisplayed=function(t){var e=t.getBoundingClientRect();return e.top>0&&e.left>0&&e.width>0&&e.height>0},o.getTabbableElements=function(t,e){for(var i=t.querySelectorAll(this.focusableSelectors),n=i.length,r=[],o=0;o<n;o++)this.isTabbableElement(i[o],e)&&r.push(i[o]);return r},o.getFocusableElements=function(t,e){for(var i=t.querySelectorAll(this.focusableSelectors),n=i.length,r=[],o=0;o<n;o++)this.isFocusableElement(i[o],e)&&r.push(i[o]);return r},t.exports=new r},,,function(t,e,i){"use strict";t.exports=8},function(t,e,i){"use strict";t.exports=11},function(t,e,i){"use strict";t.exports=3},function(t,e,i){"use strict";var n=i(126);t.exports=function(t){return n.childNode(t,!0,"remove"),t.parentNode?t.parentNode.removeChild(t):t}},function(t,e,i){"use strict";var n=i(530),r=i(325);t.exports=function(t,e,i,o){return e=r(t,e),n(t,e,i,o)}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.nodeType)}},function(t,e,i){"use strict";var n=i(340),r=i(341),o=r.COMMENT,s=r.DOCUMENT_FRAGMENT,a=r.ELEMENT,l=r.TEXT,u=[a,l,o,s],c=[a,l,o],h=[a,s];t.exports={parentNode:function(t,e,i){if(i=i||"target",t&&!n(t,h))throw new TypeError(e+": "+i+" must be an Element, or Document Fragment")},childNode:function(t,e,i){if(i=i||"target",t&&!n(t,c))throw new TypeError(e+": "+i+" must be an Element, TextNode, or Comment")},insertNode:function(t,e,i){if(i=i||"node",t&&!n(t,u))throw new TypeError(e+": "+i+" must be an Element, TextNode, Comment, or Document Fragment")},hasParentNode:function(t,e,i){if(i=i||"target",!t.parentNode)throw new TypeError(e+": "+i+" must have a parentNode")}}},function(t,e,i){"use strict";var n=i(101),r=i(144),o=i(1118),s=i(1119);t.exports=function(t,e){return r.selector(e,!0,"matchesSelector"),!!n(t)&&(o?o.call(t,e):s(t,e))}},function(t,e,i){var n=i(27),r="dataAttributeHelper",o="dataStringToObject";t.exports=function(t){if(!t)return n.log(r,o,"`str` must not be falsey"),{};if("string"!=typeof t||0===t.length)return n.log(r,o,"`str` must contain a value and be of type string"),{};var e,i,s;try{e=JSON.parse(t)}catch(t){}if(e)return e;var a={};i=t.split(",");for(var l=0;l<i.length;l++)a[(s=i[l].split(":"))[0].trim()]=s[1]?s[1].trim():s[1];return a}},function(t,e,i){var n=i(127);t.exports={set:function(t,e){return[{name:"{PAGE_NAME}",value:t.pageName},{name:"{PAGE_NAME_NO_LOCALE}",value:e.pageName},{name:"{CHANNEL}",value:t.channel},{name:"{CAMPAIGN}",value:t.campaign},{name:"{COUNTRY_CODE}",value:t.legacyCountryCode},{name:"{COUNTRY_CODE_FILTER}",value:t.countryCodeFilter},{name:"{PRODUCT_NAME}",value:t.productName},{name:"{PLATFORM}",value:t.platform}]},translate:function(t,e){return"string"==typeof t&&e.forEach(function(e){e.name&&"string"==typeof e.name&&t.toLowerCase().indexOf(e.name.toLowerCase())>-1&&(t=n.stringReplacer(t,e.name,e.value))}),t}}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(339),s=i(559).Region,a=i(559).dataAttribute,l=[],u={};function c(){if(l.length>0)return l;var t,e=document.querySelectorAll("[data-"+a+"]"),i=e.length,n=0;function r(t){for(var i;o.isNodeType(e[n+1],o.NODE_TYPES.ELEMENT)&&t.element.contains(e[n+1]);)i=new s(e[n+1]),l.push(i),i.parentRegion=t.name,t.childRegions[i.name]=i,n+=1,r(i)}for(;n<i;n+=1)t=new s(e[n]),u[t.name]=t,l.push(t),r(t);return l}function h(t){if(o.isNodeType(t,o.NODE_TYPES.ELEMENT)){var e=d(t);if(e.length>0)return e.pop()}}function d(t){var e=c();if(o.isNodeType(t,o.NODE_TYPES.ELEMENT))return e.filter(function(e){if(e.element.contains(t))return p(e),!0})}function p(t){t.options&&t.options.dynamic&&f(t)}function f(t){var e=t;o.isNodeType(t,o.NODE_TYPES.ELEMENT)&&(e=h(t)),"object"===r(e)&&l.forEach(function(t){t.element===e.element&&(t.options=t.getDataOptions(),t.name=t.setName())})}t.exports={getTree:function(){if(c(),Object.keys(u).length>0)return u},getAllRegions:c,getRegionByElement:h,getRegionByName:function(t){var e=c();if("string"==typeof t)return e.filter(function(e){return p(e),e.name===t})},getRegionAncestryByElement:d,refreshRegion:f,clearRegions:function(){l=[]}}},,function(t,e,i){"use strict";t.exports={clone:i(92),create:i(65),defaults:i(66),extend:i(124),getPrototypeOf:i(1199),isDate:i(1200),isEmpty:i(1201),isRegExp:i(1202),toQueryParameters:i(512)}},function(t,e,i){"use strict";t.exports={DOMEmitter:i(1203)}},,function(t,e,i){"use strict";t.exports={Modal:i(1219),Renderer:i(577),classNames:i(581),dataAttributes:i(582)}},function(t,e,i){"use strict";i(175);var n=i(1238),r=i(584),o=i(226),s=i(167),a=i(12).EventEmitterMicro,l=i(354);function u(t,e){this._el=t,e=e||{},this._triggerKeys=[],this._triggerEls={},this._isShown=!1,this._isACaption=void 0!==e.isACaption&&e.isACaption,this._onKeyboardInteraction=this._onKeyboardInteraction.bind(this),this._onTriggered=this._onTriggered.bind(this),this._isACaption||this._el.setAttribute("role","tabpanel"),a.call(this)}u.CSS_CURRENT_ITEM="ac-gallery-currentitem",u.CSS_LAST_ITEM="ac-gallery-lastitem",u.CSS_NEXT_ITEM="ac-gallery-nextitem",u.CSS_PREVIOUS_ITEM="ac-gallery-previousitem",u.SELECTED="selected",u.SHOW="show",u.HIDE="hide";var c=u.prototype=Object.create(a.prototype);c.show=function(){this._isShown=!0,this._addCurrentClassToTriggers(),this._setTabIndexOnFocusableItems(null),this._el.removeAttribute("aria-hidden"),this.trigger(u.SHOW,this)},c.hide=function(){this._isShown=!1,this._removeCurrentClassFromTriggers(),this._setTabIndexOnFocusableItems("-1"),this._el.setAttribute("aria-hidden","true"),this.trigger(u.HIDE,this)},c.addElementTrigger=function(t,e){if(e=e||"click",void 0===this._triggerEls[e]&&(this._triggerEls[e]=[]),this._triggerEls[e].indexOf(t)<0){t.setAttribute("role","tab"),t.setAttribute("tabindex","0");var i=this.getElementId();i&&t.setAttribute("aria-controls",i),(i=t.getAttribute("id"))&&null===this._el.getAttribute("aria-labelledby")&&this._el.setAttribute("aria-labelledby",i),t.addEventListener(e,this._onTriggered),this._triggerEls[e].push(t),this._isShown?(t.setAttribute("aria-selected","true"),t.classList.add("current")):t.setAttribute("aria-selected","false")}},Object.defineProperty(c,"triggerElements",{get:function(){var t=this._triggerEls;return Object.keys(t).reduce(function(e,i){return e.concat(t[i])},[])}}),c.removeElementTrigger=function(t,e){(e=e||"click",void 0!==this._triggerEls[e])&&(this._triggerEls[e].indexOf(t)>-1&&this._cleanElementTrigger(t,e),0===this._triggerEls[e].length&&(this._triggerEls[e]=void 0))},c.addKeyTrigger=function(t){("string"==typeof t&&(t=s[t.toUpperCase()]),"number"==typeof t)&&(this._triggerKeys.indexOf(t)<0&&(l.onDown(t,this._onKeyboardInteraction),this._triggerKeys.push(t)))},c.removeKeyTrigger=function(t){if("string"==typeof t&&(t=s[t.toUpperCase()]),"number"==typeof t){var e=this._triggerKeys.indexOf(t);e>-1&&(l.offDown(t,this._onKeyboardInteraction),this._triggerKeys.splice(e,1))}},c.removeAllTriggers=function(){for(var t,e,i,n=this._triggerKeys.length;n--;)t=this._triggerKeys[n],l.offDown(t,this._onKeyboardInteraction);for(i in this._triggerKeys=[],this._triggerEls)for(n=this._triggerEls[i].length;n--;)e=this._triggerEls[i][n],this._cleanElementTrigger(e,i);this._triggerEls={}},Object.defineProperty(c,"isShown",{get:function(){return this._isShown}}),c.isInView=function(){return!!this._el&&n(this._el)},c.percentageInView=function(){return this._el?r(this._el):0},c.getElement=function(){return this._el},c.getElementId=function(){return void 0!==this._elId?this._elId:(this._elId=this._el.getAttribute("id")||null,this._elId)},c.destroy=function(){this._isShown&&(this._isShown=null,this._el.classList.remove(u.CSS_CURRENT_ITEM,u.CSS_LAST_ITEM,u.CSS_NEXT_ITEM,u.CSS_PREVIOUS_ITEM),this._removeCurrentClassFromTriggers()),this.removeAllTriggers(),this._setTabIndexOnFocusableItems(null),this._el.removeAttribute("aria-hidden"),this._el.removeAttribute("role"),this._el.removeAttribute("aria-labelledby"),this._isACaption=null,this._triggerKeys=null,this._triggerEls=null,this._el=null},c._addCurrentClassToTriggers=function(){var t,e,i;for(e in this._triggerEls)for(i=this._triggerEls[e].length;i--;)(t=this._triggerEls[e][i]).setAttribute("aria-selected","true"),t.classList.add("current")},c._removeCurrentClassFromTriggers=function(){var t,e,i;for(e in this._triggerEls)for(i=this._triggerEls[e].length;i--;)(t=this._triggerEls[e][i]).setAttribute("aria-selected","false"),t.classList.remove("current")},c._cleanElementTrigger=function(t,e){t.removeAttribute("aria-selected"),t.removeAttribute("role"),t.removeAttribute("tabindex"),t.removeAttribute("aria-controls"),t.removeEventListener(e,this._onTriggered),this._isShown&&t.classList.remove("current")},c._onKeyboardInteraction=function(t){this.isInView()&&this._onTriggered(t)},c._setTabIndexOnFocusableItems=function(t){var e=null===t,i=[];this._currentTabbableEls=this._currentTabbableEls||o.getTabbableElements(this._el),e||(i=o.getTabbableElements(this._el),this._currentTabbableEls=i);for(var n=this._currentTabbableEls.length;n--;)e?this._currentTabbableEls[n].removeAttribute("tabindex"):this._currentTabbableEls[n].setAttribute("tabindex",t)},c._onTriggered=function(t){t.preventDefault(),this.trigger(u.SELECTED,{item:this,interactionEvent:t})},t.exports=u},function(t,e,i){"use strict";var n=function(){var t=["","-webkit-","-moz-","-o-","-ms-"],e=document.createElement("_"),i=["","-webkit-","-moz-","-o-","-ms-"];function n(n){for(var r=0;r<i.length;r++){var o=t[r]+n;if(void 0!==e.style[o])return o}}var r=["-webkit-","","-moz-","-o-","-ms-"];return{filter:function(t){for(var i=0;i<r.length;i++){var n=r[i]+t;if(void 0!==e.style[n])return n}}("filter"),transform:n("transform"),transformOrigin:n("transform-origin"),transition:n("transition"),transitionDelay:n("transition-delay"),transitionDuration:n("transition-duration"),transitionProperty:n("transition-property"),transitionTimingFunction:n("transition-timing-function"),transitionEnd:{"animation-delay":"transitionend","-o-animation-delay":"oTransitionEnd","-moz-animation-delay":"transitionend","-webkit-animation-delay":"webkitTransitionEnd","-ms-animation-delay":"transitionend"}[n("animation-delay")],animation:n("animation"),animationDelay:n("animation-delay"),animationDirection:n("animation-direction"),animationDuration:n("animation-duration"),animationFillMode:n("animation-fill-mode"),animationIterationCount:n("animation-iteration-count"),animationName:n("animation-name"),animationTimingFunction:n("animation-timing-function"),animationPlayState:n("animation-play-state"),animationStart:{"animation-delay":"animationstart","-o-animation-delay":"oanimationstart","-moz-animation-delay":"animationstart","-webkit-animation-delay":"webkitAnimationStart","-ms-animation-delay":"MSAnimationStart"}[n("animation-delay")],animationIteration:{"animation-delay":"animationiteration","-o-animation-delay":"oanimationiteration","-moz-animation-delay":"animationiteration","-webkit-animation-delay":"webkitAnimationIteration","-ms-animation-delay":"MSAnimationIteration"}[n("animation-delay")],animationEnd:{"animation-delay":"animationend","-o-animation-delay":"oanimationend","-moz-animation-delay":"animationend","-webkit-animation-delay":"webkitAnimationEnd","-ms-animation-delay":"MSAnimationEnd"}[n("animation-delay")]}}();t.exports=n},,function(t,e,i){"use strict";t.exports={Clip:i(1257),Timeline:i(1294)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(1261),s=i(176),a=i(1265);t.exports=function(t,e){var i,n,l,u,c,h="";if("object"!==r(e))throw new TypeError("setStyle: styles must be an Object");for(n in e)(u=a(e[n]))||0===u?!1!==(i=o(n,u))&&(h+=" "+i):(l=s(n),"removeAttribute"in t.style?t.style.removeAttribute(l):t.style[l]="");return h.length&&(";"!==(c=t.style.cssText).charAt(c.length-1)&&(c+=";"),c+=h,t.style.cssText=c),t}},,function(t,e,i){"use strict";t.exports=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}},function(t,e,i){"use strict";t.exports=function(t){var e=/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/.exec(t);return{r:Number(e[1]),g:Number(e[2]),b:Number(e[3])}}},,,,function(t,e,i){"use strict";var n=i(374),r=i(382),o=i(383),s=i(647),a=i(643),l=i(92);function u(t,e){return(t=[].concat(t)).map(function(t){return s(t,e)})}function c(t,e){var i=l(e||{});return i.privateQueue=a(i.privateQueue,i.privateQueueThreads),t=u(t,i.privateQueue),new r(t,i)}t.exports={count:function(){return n.getInstance().count()},pending:function(){return n.getInstance().pending()},pause:function(){return n.getInstance().pause()},stop:function(){return n.getInstance().stop()},clear:function(){return n.getInstance().clear()},isEmpty:function(){return n.getInstance().isEmpty()},load:function(t,e){return c(t,e).load()},resume:function(){return n.getInstance().start()},setThreads:function(t){n.setThreads(t)},createAssets:function(t,e){return u(t,e)},createAssetGroup:function(t,e){return c(t,e)},types:o}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";t.exports=function(t,e){var i=null;return function(){null===i&&(t.apply(this,arguments),i=setTimeout(function(){i=null},e))}}},,function(t,e,i){"use strict";var n=i(515);t.exports=n.cancelAnimationFrame("update")},function(t,e,i){"use strict";i(518);var n=i(224),r=i(999);t.exports=function(t,e,i,o){var s=Array.prototype.slice.call(arguments),a=s.every(function(t){return"number"==typeof t});if(4!==s.length||!a)throw new TypeError("Bezier curve expects exactly four (4) numbers. Given: "+s);var l=new r(t,e,i,o),u="cubic-bezier("+s.join(", ")+")";return new n(function(t,e,i,n){return l.get(t/n)*i+e},u)}},function(t,e,i){"use strict";var n=i(520);t.exports=function(t,e){var i;return i="tagName"in t?t.tagName:t===window?"window":"document",n(e,i)||e}},,,function(t,e,i){"use strict";var n=i(100).original,r=i(528).original,o=i(42);function s(){return!n()&&!r()}t.exports=o(s),t.exports.original=s},,,,,,,function(t,e,i){"use strict";i(125);var n=i(144),r=i(1090),o="querySelectorAll"in document;t.exports=function(t,e){return e=e||document,n.parentNode(e,!0,"querySelectorAll","context"),n.selector(t,!0,"querySelectorAll"),o?Array.prototype.slice.call(e.querySelectorAll(t)):r(t,e)}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.nodeType)}},function(t,e,i){"use strict";t.exports=9},function(t,e,i){t.exports={observer:{Click:i(548),Event:i(1164),Gallery:i(1165),Link:i(560),Page:i(561),Section:i(562),Video:i(1170)},track:i(76).trackGeneric,passiveTracker:i(1174),regions:i(239),createBasicObserverSuite:i(1176).create,reset:i(1178),resetActivityMap:i(342).ActivityMapCollection.createActivityMapCollection,addActivityMapItem:i(342).ActivityMapCollection.addElToCollection,errorHandler:i(27)}},function(t,e,i){"use strict";t.exports={createDocumentFragment:i(1095),filterByNodeType:i(1096),insertAfter:i(1097),insertBefore:i(1098),insertFirstChild:i(1099),isNode:i(234),isNodeList:i(1100),isNodeType:i(340),replace:i(1101),NODE_TYPES:i(341)}},function(t,e,i){"use strict";var n=i(234);t.exports=function(t,e){return!!n(t)&&("number"==typeof e?t.nodeType===e:!!Array.isArray(e)&&-1!==e.indexOf(t.nodeType))}},function(t,e,i){"use strict";t.exports=Object.freeze({ELEMENT:1,TEXT:3,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11})},,,function(t,e,i){function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r,o=i(27),s=document.getElementsByTagName("head")[0],a="analytics",l=new RegExp("^"+a+"-"),u="metadata",c=n(s.getElementsByTagName("meta")),h=Date.now();function d(t){var e=function(t,e){e=e||"-","string"!=typeof t&&o.log(u,"_strToArray",t+" is not a valid string");if(o.exception)return;return t.split(e)}(t.track);if(Array.isArray(e)&&0!==e.length||o.log(u,"_getProductname",'"track" meta tag value is malformed. e.g. "product name - page name"'),!o.exception)return e[0].trim()}function p(t){var e={};return(t=function(t){return t.filter(function(t){var e=t.getAttribute("property");return l.test(e)})}(t)).forEach(function(t){var i=function(t){return t.replace(a+"-","").replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}(t.getAttribute("property")),n=t.getAttribute("content");e[i]=n}),e}function f(t){return t.pageName=t.pageName||function(t){if(t.track&&""!==t.track?t.track.match(/[^\S ]/g)&&o.warn(u,"_getPageName",'"track" meta tag value includes an invalid whitespace character, identified by the following regex: "[^\\S ]"'):o.log(u,"_getPageName",'"track" meta tag value is malformed. e.g. "product name - page name"'),!o.exception)return t.track.toLowerCase()}(t),t.productName=t.productName||d(t),t.locale=t.locale||function(){var t=document.documentElement,e=t.getAttribute("data-locale")||t.lang;if(e||o.log(u,"_getLocale","html lang attribute can not be empty"),!o.exception)return e}(),t.initialTimeStamp=h,t}function m(t){r=p(t)}m(c),t.exports={getMetadata:function(){return f(r)},refreshMetadata:function(){return c=n(s.getElementsByTagName("meta")),r=null,h=Date.now(),m(c),f(r)}}},function(t,e,i){var n=i(339),r=i(27),o=i(1141),s="appMeasurementPluginHelper-DOM";t.exports={isIntraPageLink:function(t){var e;return!(n.isNodeType(t,n.NODE_TYPES.ELEMENT)&&t.href&&"#"!==(e=t.getAttribute("href")).charAt(0)&&0!==e.indexOf("javascript:")&&0!==e.indexOf("mailto:")&&0!==e.indexOf("tel:")&&!t.classList.contains("ac-gn-link-search")&&!t.classList.contains("ac-gn-link-bag")&&!(t.hasAttribute("data-analytics-intrapage-link")||t.hasAttribute("data-analytics-id")||t.hasAttribute("data-analytics-video-id")))},isStoreLink:function(t){if("string"!=typeof t&&r.log(s,"isStoreLink",t+" is not a valid string"),!r.exception)return o.test(t)},getLinkHref:function(t){return t.getAttribute("href")||""}}},function(t,e,i){var n=i(145),r=n.cookieJson,o=n.beaconHelpers,s=n.toStr,a="mk_epub",l={path:"/",domain:"apple.com",secure:!0};function u(t){return Object.keys(t).forEach(function(e){var i=e.substring(0,4),n=s(t[e]);"prop"===i?t[e]=n.substring(0,100):"eVar"===i&&(t[e]=n.substring(0,250))}),t}t.exports={getSharedCookie:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({},l,t);var e=r.get(a);return r.set(a,null,t),e},setSharedCookie:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({},l,e),o.isNotEmpty(t)&&r.set(a,u(t),e)},sanitizeBeacon:u,updateCookieOptions:function(t){l.domain=t}}},function(t,e,i){"use strict";t.exports=function(t,e){var i;return e?{width:(i=t.getBoundingClientRect()).width,height:i.height}:{width:t.offsetWidth,height:t.offsetHeight}}},function(t,e,i){"use strict";t.exports=function(t){return(t=t||window)===window?window.scrollY||window.pageYOffset:t.scrollTop}},,function(t,e,i){"use strict";t.exports=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}},function(t,e,i){"use strict";t.exports=function(t){(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0}},function(t,e,i){"use strict";t.exports=function(t){return void 0!==(t=t||window.event).target?t.target:t.srcElement}},function(t,e,i){"use strict";var n=i(244).Modal,r=i(12).EventEmitterMicro,o=i(1224);function s(t){r.call(this),this.options=t||{},this._modal=new n(t,this.options.renderer),this.opened=!1,this._render(),this.closeButton=this._modal.renderer.closeButton,this.modalElement=this._modal.renderer.modalElement,this.contentElement=this._modal.renderer.contentElement,this.modalElement.setAttribute("role","dialog"),this.closeButton.setAttribute("aria-label","Close"),this._circularTab=new o(this.modalElement),this._onWillOpen=this._onWillOpen.bind(this),this._onOpen=this._onOpen.bind(this),this._onWillClose=this._onWillClose.bind(this),this._onClose=this._onClose.bind(this),this._bindEvents()}var a=s.prototype=Object.create(r.prototype);a.open=function(){this._modal.open(),this.opened=this._modal.opened},a.close=function(){this._modal.close()},a.appendContent=function(t){this._modal.appendContent(t)},a.removeContent=function(t){this._modal.removeContent(t)},a.destroy=function(){for(var t in this._releaseEvents(),this._modal.destroy(),this._removeModalFocus(),this._circularTab.destroy(),this._focusObj=null,this)this.hasOwnProperty(t)&&(this[t]=null)},a.addKeyToClose=function(t){this._modal.addKeyToClose(t)},a.removeKeyToClose=function(t){this._modal.removeKeyToClose(t)},a._render=function(){this._modal.render(),this._modal.renderer.modalElement.setAttribute("aria-hidden","true")},a._bindEvents=function(){this._modal.on("willopen",this._onWillOpen),this._modal.on("open",this._onOpen),this._modal.on("willclose",this._onWillClose),this._modal.on("close",this._onClose)},a._releaseEvents=function(){this._modal.off("willopen",this._onWillOpen),this._modal.off("open",this._onOpen),this._modal.off("willclose",this._onWillClose),this._modal.off("close",this._onClose)},a._onWillOpen=function(){this.trigger("willopen")},a._onOpen=function(){this.opened=this._modal.opened,this._giveModalFocus(),this.trigger("open")},a._onWillClose=function(){this.trigger("willclose"),this._removeModalFocus()},a._onClose=function(){this.opened=this._modal.opened,this.trigger("close")},a._giveModalFocus=function(){this.modalElement.removeAttribute("aria-hidden"),this._activeElement=document.activeElement,this.closeButton.focus(),this._circularTab.start()},a._removeModalFocus=function(){this._circularTab.stop(),this.modalElement.setAttribute("aria-hidden","true"),this._activeElement&&(this._activeElement.focus(),this._activeElement=null)},t.exports=s},function(t,e,i){"use strict";var n=i(166);t.exports=new n},function(t,e,i){"use strict";i(125),i(356);var n=i(1222);t.exports=function(){var t,e=Array.prototype.slice.call(arguments),i=e.shift(e);if(i.classList&&i.classList.add)i.classList.add.apply(i.classList,e);else for(t=0;t<e.length;t++)n(i,e[t])}},,function(t,e,i){"use strict";i(175);var n=i(167),r=i(1240),o=i(321),s=i(91),a=i(246),l=i(174),u=i(354),c=i(585).PointerTracker,h=i(586),d=3,p="[data-ac-gallery-item]",f=.12,m=i(1255),_="No element supplied.",y='Container element needed when autoPlay is on. Use the "container" option when you instantiate your gallery.',g='Captions datatag needed when enableCaptions is on. Use the "data-related-gallery" tag (with an ID of the related captions container) on your gallery container to automatically use captions.';function b(t,e){if(e=e||{},!t||1!==t.nodeType)throw new Error(_);if(this._el=t,l.call(this,e),this._itemHeights=[],this._itemHeightsLookup={},this._tabNavDuration=e.tabNavDuration,this._tabNavPaddles=!1!==e.tabNavPaddles,this._isRightToLeft=void 0===e.rightToLeft?"rtl"===window.getComputedStyle(t).direction:e.rightToLeft,this._keyboardThrottleDelay=1e3*(void 0===e.keyboardThrottleDelay?f:e.keyboardThrottleDelay),this._resizeContainer=!!e.resizeContainer,this._setUpContainerAutoResize(e.resizeContainerOnUpdate),this._createTabNav(),this._addPaddleNav(e.addPaddleNav),this._isACaptionsGallery=""===t.getAttribute("data-ac-gallery-captions"),this._addItems(e.itemSelector||p),this._wrapAround||this._updatePaddleNavState(),!1!==e.enableArrowKeys&&(this._enableArrowKeys=!0,this._addKeyboardListener()),!1!==e.updateOnWindowResize&&(this._onWindowResize=this._onWindowResize.bind(this),window.addEventListener("resize",this._onWindowResize)),this._componentsContainer=document.getElementById(e.container),e.startAt&&this._startAt(e.startAt),this.stopAutoPlay=this.stopAutoPlay.bind(this),e.autoPlay){if(!this._componentsContainer)throw new Error(y);var i="number"==typeof e.autoPlay?e.autoPlay:d;this.startAutoPlay(i)}if(!1!==e.deeplink){var n=this._getDeeplinkedItem();n&&n!==this._currentItem&&this.show(n)}if(!1!==this._containerResizeDuration){var r=this._itemHeightsLookup[this._currentItem.getElementId()];r&&this._setElHeight(r)}this._tabNav&&this._tabNav.start(),this._setUpSwiping(e.touch&&s(),e.desktopSwipe),this._componentsContainer&&this._componentsContainer.setAttribute("tabIndex",-1);var o=t.getAttribute("data-related-gallery");if(o&&(this._captionsContainer=document.querySelector(o)),e.enableCaptions){if(!this._captionsContainer)throw new Error(g);this._captionsOptions=!!e.captionsOptions&&e.captionsOptions,this.enableCaptions()}}b.RESIZED="resized",b.UPDATE=l.UPDATE,b.UPDATE_COMPLETE=l.UPDATE_COMPLETE;var v=l.prototype,E=b.prototype=Object.create(v);E.addItem=function(t,e){if(t.nodeType){var i=this._isACaptionsGallery;t=new this._itemType(t,{isACaption:i})}else if(this._items.indexOf(t)>-1)return t;return this._resizeContainer&&this._storeItemHeight(t,!1===this._containerResizeDuration),this._addItemTriggers(t),v.addItem.call(this,t,e)},E.removeItem=function(t,e){if(this._resizeContainer)for(var i=this._itemHeights.length;i--;)this._itemHeights[i].item===t&&(this._itemHeights.splice(i,1),0===i&&this._itemHeights.length&&this._setElHeight(this._itemHeights[0].height));return v.removeItem.call(this,t,e)},E.startAutoPlay=function(t,e){if(e=e||{},this._isAutoPlaying=!0,this._autoPlayDelay=1e3*(t||d),this._cancelAutoPlayOnInteraction=void 0===e.cancelOnInteraction||e.cancelOnInteraction,clearTimeout(this._autoPlayTimeoutId),this._autoPlayTimeoutId=setTimeout(this._onAutoPlayToNextItem.bind(this),this._autoPlayDelay),this._cancelAutoPlayOnInteraction&&this.on(l.UPDATE,this.stopAutoPlay),!this._componentsContainer)throw new Error(y);this._componentsContainer.addEventListener("focus",this.stopAutoPlay,!0),this._componentsContainer.addEventListener("touchend",this.stopAutoPlay,!0),this._componentsContainer.addEventListener("click",this.stopAutoPlay,!0)},E.stopAutoPlay=function(){this._isAutoPlaying=!1,clearTimeout(this._autoPlayTimeoutId),this._cancelAutoPlayOnInteraction&&this.off(l.UPDATE,this.stopAutoPlay),this._componentsContainer&&(this._componentsContainer.removeEventListener("focus",this.stopAutoPlay,!0),this._componentsContainer.removeEventListener("touchend",this.stopAutoPlay,!0),this._componentsContainer.removeEventListener("click",this.stopAutoPlay,!0))},E.getElement=function(){return this._el},E.getTabNav=function(){return this._tabNav||null},E.resize=function(t,e){if(this._resizeContainer){this._itemHeights=[];for(var i=this._items.length;i--;)this._storeItemHeight(this._items[i],!1);!1!==this._containerResizeDuration?this._setElHeight(this._itemHeightsLookup[this._currentItem.getElementId()]):this._setElHeight(this._itemHeights[0].height)}this._tabNav&&this._tabNav.resize(),this.trigger(b.RESIZED,this)},E.enableKeyboard=function(){this._enableArrowKeys||(this._enableArrowKeys=!0,this._addKeyboardListener())},E.disableKeyboard=function(){this._enableArrowKeys&&(this._enableArrowKeys=!1,u.offDown(n.ARROW_RIGHT,this._rightArrowFunc),u.offDown(n.ARROW_LEFT,this._leftArrowFunc))},E.enableTouch=function(){this._touchSwipe||this._setUpSwiping(!0,!1)},E.disableTouch=function(){this._touchSwipe&&(this._touchSwipe.off(c.END,this._onSwipeEnd),this._touchSwipe.destroy(),this._touchSwipe=null)},E.enableDesktopSwipe=function(){this._clickSwipe||this._setUpSwiping(!1,!0)},E.disableDesktopSwipe=function(){this._clickSwipe&&(this._clickSwipe.off(c.END,this._onSwipeEnd),this._clickSwipe.destroy(),this._clickSwipe=null)},E.enableCaptions=function(){this._galleryWithCaptions||this._initCaptionsGallery(this._captionsContainer,this._captionsOptions)},E.disableCaptions=function(){this._galleryWithCaptions&&this._galleryWithCaptions.destroy()},E.destroy=function(t){var e;if(this._isAutoPlaying&&this.stopAutoPlay(),this._componentsContainer&&(this._componentsContainer.removeEventListener("focus",this.stopAutoPlay,!0),this._componentsContainer.removeEventListener("touchend",this.stopAutoPlay,!0),this._componentsContainer.removeEventListener("click",this.stopAutoPlay,!0)),this._resizeContainer&&(this._el.style.height=null,this._el.style[a.transition]=null),this._enableArrowKeys&&(u.offDown(n.ARROW_RIGHT,this._rightArrowFunc),u.offDown(n.ARROW_LEFT,this._leftArrowFunc)),this._previousButtons){for(e=this._previousButtons.length;e--;)this._previousButtons[e].removeEventListener("click",this._onPaddlePrevious);this._setPaddleDisabledState(this._previousButtons,!1)}if(this._nextButtons){for(e=this._nextButtons.length;e--;)this._nextButtons[e].removeEventListener("click",this._onPaddleNext);this._setPaddleDisabledState(this._nextButtons,!1)}return this._dynamicPaddleNav&&this._el.removeChild(this._dynamicPaddleNav),this._hasPaddleNavStateHandler&&this.off(l.UPDATE,this._updatePaddleNavState),this.disableTouch(),this.disableDesktopSwipe(),this.disableCaptions(),this._tabNav&&(this._tabNav.destroy(),this._tabNav=null),window.removeEventListener("resize",this._onWindowResize),this._el=null,this._itemHeights=null,this._itemHeightsLookup=null,this._resizeContainer=null,this._isRightToLeft=null,this._enableArrowKeys=null,this._previousButtons=null,this._onPaddlePrevious=null,this._nextButtons=null,this._onPaddleNext=null,this._isACaptionsGallery=null,this._componentsContainer=null,this._galleryWithCaptions=null,this._captionsContainer=null,this._captionsOptions=null,v.destroy.call(this,t)},E._getDeeplinkedItem=function(){for(var t,e=window.location.hash.substr(1),i=this._items.length;i--;)if(e===(t=this._items[i]).getElementId())return t;return null},E._addItems=function(t){for(var e,i=this._el.querySelectorAll(t),n=0,r=i.length,o=this._isACaptionsGallery;n<r;n++)e=new this._itemType(i[n],{isACaption:o}),this.addItem(e),this._addItemTriggers(e)},E._createTabNav=function(){var t='[data-ac-gallery-tabnav="'+this._getElementId()+'"]',e=document.querySelector(t);e&&(this._tabNav=new h(e,this,{duration:this._tabNavDuration,usePaddles:this._tabNavPaddles}))},E._addItemTriggers=function(t,e){var i=Array.from(document.querySelectorAll('[data-ac-gallery-trigger="'+t.getElementId()+'"]'));e&&e.length&&(i=i.concat(e));for(var n=0,r=i.length;n<r;n++)t.addElementTrigger(i[n]),this._tabNav&&this._tabNav.addTrigger(i[n],t)},E._addPaddleNav=function(t){var e,i=this._getElementId();if(t){var n="string"==typeof t?t:m;n=n.replace(/%ID%/g,this._getElementId()),this._dynamicPaddleNav=document.createElement("div"),this._dynamicPaddleNav.innerHTML=n,this._el.insertBefore(this._dynamicPaddleNav,this._el.firstChild)}this._previousButtons=document.querySelectorAll('[data-ac-gallery-previous-trigger="'+i+'"]'),this._nextButtons=document.querySelectorAll('[data-ac-gallery-next-trigger="'+i+'"]');var r=this._el.getAttribute("aria-label")||"";if(r.length&&(r="("+r+")"),this._onPaddlePrevious=this._onPaddleInteraction.bind(null,this.showPrevious),e=this._previousButtons.length){var o=this._el.getAttribute("data-ac-gallery-previouslabel");for(o&&r.length&&(this._isRightToLeft?o=r+" "+o:o+=" "+r);e--;)o&&null===this._previousButtons[e].getAttribute("aria-label")&&this._previousButtons[e].setAttribute("aria-label",o),this._previousButtons[e].addEventListener("click",this._onPaddlePrevious)}if(this._onPaddleNext=this._onPaddleInteraction.bind(null,this.showNext),e=this._nextButtons.length){var s=this._el.getAttribute("data-ac-gallery-nextlabel");for(s&&r.length&&(this._isRightToLeft?s=r+" "+s:s+=" "+r);e--;)s&&null===this._nextButtons[e].getAttribute("aria-label")&&this._nextButtons[e].setAttribute("aria-label",s),this._nextButtons[e].addEventListener("click",this._onPaddleNext)}(this._nextButtons.length||this._previousButtons.length)&&(this._hasPaddleNavStateHandler=!0,this._updatePaddleNavState=this._updatePaddleNavState.bind(this),this.on(l.UPDATE,this._updatePaddleNavState))},E._onPaddleInteraction=function(t,e){e.preventDefault(),t.call(null,{interactionEvent:e})},E._updatePaddleNavState=function(){if(this._wrapAround)this._setPaddleDisabledState(this._previousButtons,!1),this._setPaddleDisabledState(this._nextButtons,!1);else{var t=this._items.indexOf(this._currentItem);0===t&&this._previousButtons.length?(this._setPaddleDisabledState(this._previousButtons,!0),this._setPaddleDisabledState(this._nextButtons,!1)):t===this._items.length-1&&this._nextButtons.length?(this._setPaddleDisabledState(this._nextButtons,!0),this._setPaddleDisabledState(this._previousButtons,!1)):(this._setPaddleDisabledState(this._previousButtons,!1),this._setPaddleDisabledState(this._nextButtons,!1))}},E._setPaddleDisabledState=function(t,e){for(var i=t.length;i--;)t[i].disabled=e,e?t[i].classList.add("disabled"):t[i].classList.remove("disabled")},E._addKeyboardListener=function(){var t,e;this._enableArrowKeys&&(this._onKeyboardInteraction=this._onKeyboardInteraction.bind(this),this._isRightToLeft?(t=this.showPrevious,e=this.showNext):(t=this.showNext,e=this.showPrevious),this._rightArrowFunc=o(this._onKeyboardInteraction.bind(null,t),this._keyboardThrottleDelay),this._leftArrowFunc=o(this._onKeyboardInteraction.bind(null,e),this._keyboardThrottleDelay),u.onDown(n.ARROW_RIGHT,this._rightArrowFunc),u.onDown(n.ARROW_LEFT,this._leftArrowFunc))},E._onKeyboardInteraction=function(t,e){if(this.isInView()&&!r()){var i=l.getAllInView();if(i.length>1&&(i.sort(function(t,e){return t=t._enableArrowKeys?t.getCurrentItem().percentageInView():0,(e=e._enableArrowKeys?e.getCurrentItem().percentageInView():0)-t}),this!==i[0]))return;t.call(null,{interactionEvent:e})}},E._setUpSwiping=function(t,e){this._onSwipeEnd=this._onSwipeEnd.bind(this),t&&(this._touchSwipe=new c(this._el,c.TOUCH_EVENTS),this._touchSwipe.on(c.END,this._onSwipeEnd)),e&&(this._clickSwipe=new c(this._el,c.MOUSE_EVENTS),this._clickSwipe.on(c.END,this._onSwipeEnd))},E._onSwipeEnd=function(t){var e,i,n=t.interactionEvent;("touchend"!==n.type||"touchstart"!==n.type||"touchmove"!==n.type)&&(i={type:"touchmove",target:n.target,srcElement:n.srcElement});var r={interactionEvent:i||n};return t.swipe===c.SWIPE_RIGHT?e=this._isRightToLeft?this.showNext:this.showPrevious:t.swipe===c.SWIPE_LEFT&&(e=this._isRightToLeft?this.showPrevious:this.showNext),e?e.call(this,r):(n=null,null)},E._getElementId=function(){return void 0===this._elementId&&(this._elementId=this._el.getAttribute("id")),this._elementId},E._setUpContainerAutoResize=function(t){this._containerResizeDuration="number"==typeof t?t:!!t&&.5,!1!==this._containerResizeDuration&&(this._resizeContainer=!0,this._updateContainerSize=this._updateContainerSize.bind(this),this.on(l.UPDATE,this._updateContainerSize))},E._updateContainerSize=function(t){if(t.incoming){var e=this._itemHeightsLookup[t.incoming[0].getElementId()];e&&this._setElHeight(e,this._containerResizeDuration)}},E._storeItemHeight=function(t,e){this._itemHeights.push({item:t,height:t.getElement().scrollHeight}),this._itemHeightsLookup[t.getElementId()]=t.getElement().scrollHeight,this._itemHeights.sort(function(t,e){return e.height-t.height}),e&&this._itemHeights[0].item===t&&this._setElHeight(t.getElement().scrollHeight)},E._setElHeight=function(t,e){null!==e&&"number"==typeof e&&(this._el.style[a.transition]="height "+e+"s"),this._el.style.height=t+"px"},E._initCaptionsGallery=function(t,e){t&&(this._galleryWithCaptions=l.create(t,"fade",e||{crossFade:!0}),this._enableArrowKeys&&(this._galleryWithCaptions._enableArrowKeys=!1),this.on(l.UPDATE,function(t){var e=this.getItemIndex(t.incoming[0]);this._galleryWithCaptions.show(e)}.bind(this)))},E._onAutoPlayToNextItem=function(){this._isAutoPlaying&&(!document.hidden&&this._currentItem.isInView()?(this._cancelAutoPlayOnInteraction&&this.off(l.UPDATE,this.stopAutoPlay),null!==this.showNext()&&(this._cancelAutoPlayOnInteraction&&this.on(l.UPDATE,this.stopAutoPlay),clearTimeout(this._autoPlayTimeoutId),this._autoPlayTimeoutId=setTimeout(this._onAutoPlayToNextItem.bind(this),this._autoPlayDelay))):(clearTimeout(this._autoPlayTimeoutId),this._autoPlayTimeoutId=setTimeout(this._onAutoPlayToNextItem.bind(this),this._autoPlayDelay)))},E._onWindowResize=function(t){window.requestAnimationFrame(function(){this._el&&this.resize()}.bind(this))},t.exports=b},,function(t,e,i){"use strict";var n=i(92),r=i(65),o=i(147).createPredefined,s=i(595),a=i(596),l=i(146).Clip,u=i(147).Ease;function c(t,e,i,n){n&&s(n.ease)&&(n.ease=a.create(n.ease).toEasingFunction()),n=n||{},this._propsEase=n.propsEase||{},l.call(this,t,e,i,n)}var h=l.prototype,d=c.prototype=r(h);d.reset=function(){var t=h.reset.call(this);if(this._clips)for(var e=this._clips.length;e--;)this._clips[e].reset();return t},d.destroy=function(){if(this._clips){for(var t=this._clips.length;t--;)this._clips[t].destroy();this._clips=null}return this._eases=null,this._storeOnUpdate=null,h.destroy.call(this)},d._prepareProperties=function(){var t,e,i=0,r={},c={},d={};if(this._propsEase){for(t in this._propsTo)this._propsTo.hasOwnProperty(t)&&(e=this._propsEase[t],s(e)&&(e=a.create(e).toEasingFunction()),void 0===e?(void 0===r[this._ease]&&(r[this._ease]={},c[this._ease]={},d[this._ease]=this._ease.easingFunction,i++),r[this._ease][t]=this._propsTo[t],c[this._ease][t]=this._propsFrom[t]):"function"==typeof e?(r[i]={},c[i]={},r[i][t]=this._propsTo[t],c[i][t]=this._propsFrom[t],d[i]=e,i++):(void 0===r[e]&&(r[e]={},c[e]={},d[e]=e,i++),r[e][t]=this._propsTo[t],c[e][t]=this._propsFrom[t]));if(i>1){var p=n(this._options||{},!0),f=.001*this._duration;for(e in this._storeOnUpdate=this._onUpdate,this._onUpdate=this._onUpdateClips,p.onStart=null,p.onUpdate=null,p.onDraw=null,p.onComplete=null,this._clips=[],r)r.hasOwnProperty(e)&&(p.ease=d[e],p.propsFrom=c[e],this._clips.push(new l(this._target,f,r[e],p)));e="linear",this._propsTo={},this._propsFrom={}}else for(t in d)d.hasOwnProperty(t)&&(e=d[t]);void 0!==e&&(this._ease="function"==typeof e?new u(e):o(e))}return h._prepareProperties.call(this)},d._onUpdateClips=function(t){for(var e=1===this._direction?t.progress():1-t.progress(),i=this._clips.length;i--;)this._clips[i].progress(e);"function"==typeof this._storeOnUpdate&&this._storeOnUpdate.call(this,this)},t.exports=c},function(t,e,i){"use strict";var n=i(361);t.exports=function(t){t=n(t);var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?"rgb("+parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16)+")":null}},function(t,e,i){"use strict";t.exports=function(t){return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return"#"+e+e+i+i+n+n})}},function(t,e,i){"use strict";t.exports=function(t){return null!==/^rgba\(\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.exec(t)}},function(t,e,i){"use strict";t.exports=function(t){var e=/rgba\(\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(0(\.\d+)?|1(\.0+)?)\s*\)/.exec(t);return{r:Number(e[1]),g:Number(e[2]),b:Number(e[3]),a:Number(e[4])}}},function(t,e,i){"use strict";var n=i(252);t.exports=function(t){var e=n(t);return[e.r,e.g,e.b]}},function(t,e,i){"use strict";t.exports=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)}},function(t,e,i){"use strict";var n=function(){var t,e="";for(t=0;t<arguments.length;t++)t>0&&(e+=","),e+=arguments[t];return e};t.exports=function(t,e){e=e||n;var i=function i(){var n=arguments,r=e.apply(this,n);return r in i.cache||(i.cache[r]=t.apply(this,n)),i.cache[r]};return i.cache={},i}},function(t,e,i){"use strict";var n=i(246),r=i(245);function o(t,e){r.call(this,t,e),t.style.position="absolute",t.style[n.transform]="translateZ(0)",this._parentElement=t.parentElement}o.CENTER_POINT_CHANGED="centerpointchanged",o.SELECTED=r.SELECTED,o.SHOW=r.SHOW,o.HIDE=r.HIDE;var s=r.prototype,a=o.prototype=Object.create(s);a.position=function(t){return void 0!==t&&(this._position=t),this._position||0},a.centerPoint=function(t){return void 0!==t&&(this._centerPoint=t,this.trigger(o.CENTER_POINT_CHANGED)),void 0!==this._centerPoint?this._centerPoint:null},a.getOriginalParentElement=function(){return this._parentElement},a.resize=function(){},a.destroy=function(){this._el.style.position=null,this._el.style.left=null,this._el.style[n.transform]=null,s.destroy.call(this)},t.exports=o},,,,,function(t,e,i){"use strict";i(125),i(373);var n=i(102),r=i(170);t.exports=function(t,e){return e=e||r,(t=Array.prototype.slice.call(t)).filter(function(t){return n(t,e)})}},,function(t,e,i){"use strict";var n,r=i(1343).LiveQueue,o=4,s=o;function a(t){return new r(t=t||o)}t.exports={getInstance:function(t){return function(t){return t=t||s,n||(n=a(t)),n}(t)},setThreads:function(t){!function(t){s=t}(t)},newInstance:function(t){return a(t)},isLiveQueue:function(t){return t instanceof r},DEFAULT_THREADS:o}},,,,,,,,function(t,e,i){"use strict";i(148);var n=i(12).EventEmitterMicro,r=i(66),o=i(1345),s=i(643),a={failFast:!0,privateQueue:!1,privateQueueThreads:i(374).DEFAULT_THREADS},l=function(t,e){n.call(this),this.options=r(a,e||{}),this._onGroupError=this._onGroupError.bind(this),this._onAssetError=this._onAssetError.bind(this),this._onScheduled=this._onScheduled.bind(this),this._onProgress=this._onProgress.bind(this),this._onComplete=this._onComplete.bind(this),this.errors=[],this._queue=s(this.options.privateQueue,this.options.privateQueueThreads),this._assets=[].concat(t),this._loaded=[],this._errored=[],this._enqueued=[],this._dequeued=[],this._pending=[],this._isRunning=!1,this._isComplete=!1,this._isErrored=!1,this._destroyPending=!1},u=l.prototype=Object.create(n.prototype);u.load=function(){var t=this._assets.map(function(t){var e={asset:t,success:this._onProgress,failure:this._onAssetError,scheduled:this._onScheduled},i=o(this._queue,e,this.options.failFast);return this._enqueued.push(i),i.promise},this);return Promise.all(t).then(this._onComplete).catch(this._onGroupError),this._isRunning=!0,this._queue.start(),new Promise(function(t,e){this.once("load",t),this.options.failFast&&this.once("error",t)}.bind(this))},u.isRunning=function(){return this._isRunning},u.count=function(){return this._enqueued.length},u.pending=function(){return this._pending.length},u.loadedCount=function(){return this._loaded.length},u.isComplete=function(){return this._isComplete},u.isErrored=function(){return this._isErrored},u.pause=function(){this.isComplete()||this.isErrored()||!this.isRunning()||(this._dequeueItems(),this._pauseAssets(),this._isRunning=!1)},u.resume=function(){this.isComplete()||this.isErrored()||this.isRunning()||this._destroyPending||(this._reenqueueItems(),this._resumeAssets(),this._isRunning=!0)},u.destroy=function(){this._destroyPending||(n.prototype.destroy.call(this),this.pause(),this._destroyPending=!0,this._assets.forEach(function(t){t.destroy()}),0===this.pending()&&this._destroy())},u.trigger=function(){this._destroyPending||n.prototype.trigger.apply(this,arguments)},u._destroy=function(){this.privateQueue&&(this._queue.destroy(),this._queue=null,this.options.privateQueue=null),this.errors=null,this._assets=null,this._loaded=null,this._errored=null,this._enqueued=null,this._dequeued=null,this._pending=null},u._pauseAssets=function(){this._assets.forEach(function(t){"function"==typeof t.pause&&t.pause()})},u._resumeAssets=function(){this._assets.forEach(function(t){"function"==typeof t.resume&&t.resume()})},u._onProgress=function(t){if(!this.isErrored()){var e=this._pending.indexOf(t),i=this._pending.splice(e,1)[0];if(i&&"loaded"===i.asset.status&&this._loaded.push(i.asset),this._destroyPending)return void(0===this.pending()&&this._destroy());var n=this._makeDataObject(t.asset);this.trigger("progress",n)}},u._onScheduled=function(t){var e=this._enqueued.indexOf(t);e>-1&&(this._enqueued.splice(e,1),this._pending.push(t))},u._onComplete=function(t){this._isRunning=!1,this._isComplete=!0;var e=this._makeDataObject(this._loaded[this._loaded.length-1]);this.trigger("load",e)},u._onAssetError=function(t){this.errors.push(t.error),this._errored.push(t);var e=this._pending.indexOf(t);this._pending.splice(e,1);var i=this._makeDataObject(t.asset);this.trigger("error",i)},u._onGroupError=function(t){this.options.failFast&&(this.pause(),this._isErrored=!0,this._isRunning=!1,this._isComplete=!1)},u._makeDataObject=function(t){var e=this.errors.length;this.errors.map(function(t){return this._assets.indexOf(t)},this);return{latest:t,assets:this._assets,error:!!(e>0),errored:this.errors}},u._dequeueItems=function(){this._enqueued.forEach(function(t){this._queue.dequeueQueueItem(t.queueItem),this._dequeued.push(t)},this),this._enqueued=[]},u._reenqueueItems=function(){this._dequeued.forEach(function(t){this._queue.enqueueQueueItem(t.queueItem),this._enqueued.push(t)},this),this._dequeued=[]},t.exports=l},function(t,e,i){"use strict";var n=i(384),r=i(644),o=i(1350),s=i(1351),a=i(645),l=i(646);t.exports={XHR_ASSET:n,JSON_ASSET:l,SPLITFILE_ASSET:r,IMG_ASSET:o,VIDEO_ASSET:s,ARRAY_BUFFER_ASSET:a}},function(t,e,i){"use strict";var n,r=i(1346),o=i(183),s=i(66),a={timeout:3e4,responseType:""};function l(t,e){var i=s(a,e||{});o.call(this,t,i),this._request=this._createRequest(),this._request.xhr.responseType=this.options.responseType}(n=l.prototype=Object.create(o.prototype)).destroy=function(){if("idle"!==this.status&&"loaded"!==this.status||(this._request=null),"pending"===this.status)return this._request.xhr.abort(),void o.prototype.destroy.call(this);o.prototype.destroy.call(this)},n._createRequest=function(){return r.create({url:this.src,method:"GET",timeout:this.options.timeout,responseType:this.options.responseType})},n._load=function(){this._request.send().then(this._onLoad).catch(this._onError)},n._onLoad=function(t){this.data=this.data||t.response,this._request=null,o.prototype._onLoad.call(this)},t.exports=l},function(t,e,i){"use strict";var n=function(t){this._initialize(t)};n.create=function(){var t=function(){};return t.prototype=n.prototype,new t},n.prototype={_addReadyStateChangeHandler:function(){this.xhr.onreadystatechange=function(t){4===this.xhr.readyState&&(clearTimeout(this._timeout),this.xhr.status>=200&&this.xhr.status<300?this.resolve(this.xhr):this.reject(this.xhr))}.bind(this)},_getPromise:function(){this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this))},_getTransport:function(){return new XMLHttpRequest},_initialize:function(t){var e=this._validateConfiguration(t);if(e)throw e;this._configuration=t;var i=this._configuration.method.toUpperCase();this.xhr=this._getTransport(),this._getPromise(),this.xhr.open(i,this._configuration.url),this._setRequestHeaders(t.headers),this._addReadyStateChangeHandler()},_sendXHR:function(){this.xhr&&(this._configuration&&this._configuration.data?this.xhr.send(this._configuration.data):this.xhr.send())},_setRequestHeaders:function(t){t&&t.forEach(function(t){this.xhr.setRequestHeader(t.name,t.value)},this)},_setTimeout:function(t){t||(this._configuration&&this._configuration.timeout?t=this._configuration.timeout:(clearTimeout(this._timeout),this._timeout=null)),null!==this._timeout&&clearTimeout(this._timeout),t>0&&(this._timeout=setTimeout(function(){this.xhr.abort(),this.reject()}.bind(this),t))},_timeout:null,_validateConfiguration:function(t){if(!t)return"Must provide a configuration object";var e=[],i=t.headers;if(t.url||e.push("Must provide a url"),t.method||e.push("Must provide a method"),i){if(!Array.isArray(i))return"Must provide an array of headers";this._validateHeaders(i,e)}return e.join(", ")},_validateHeaders:function(t,e){for(var i=0,n=t.length;i<n;i++)if(!t[i].hasOwnProperty("name")||!t[i].hasOwnProperty("value")){e.push("Must provide a name and value key for all headers");break}},promise:null,reject:null,resolve:null,send:function(){return this._setTimeout(),this._sendXHR(),this.promise},xhr:null},t.exports=n},,,,,,,,function(t,e,i){"use strict";var n=i(50);t.exports=function(){var t=n.getWindow().matchMedia("(prefers-reduced-motion)");return!(!t||!t.matches)}},,,,,,function(t,e,i){"use strict";i(1458);var n=i(1489),r=i(1490);t.exports=new n(document.documentElement,r),t.exports.FeatureDetect=n;var o=i(1491);document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){new o})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(981),r={complete:function(t,e){},error:function(t,e){},method:"GET",headers:{},success:function(t,e,i){},timeout:5e3},o={ajax:function(t,e){e=function(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}({},r,e),"//"===t.substr(0,2)&&(t=window.location.protocol+t);var i=n(t);return i.open(e.method,t),i.setTransportHeaders(e.headers),i.setReadyStateChangeHandlers(e.complete,e.error,e.success),i.setTimeout(e.timeout,e.error,e.complete),i.send(e.data),i},get:function(t,e){return e.method="GET",o.ajax(t,e)},head:function(t,e){return e.method="HEAD",o.ajax(t,e)},post:function(t,e){return e.method="POST",o.ajax(t,e)}};t.exports=o},function(t,e,i){"use strict";var n=function(){};n.create=function(){var t=function(){};return t.prototype=n.prototype,new t},n.prototype.open=function(t,e){t=t.toUpperCase(),this.xhr.open(t,e)},n.prototype.send=function(t){this.xhr.send(t)},n.prototype.setTimeout=function(t,e,i){this.xhr.ontimeout=function(){e(this.xhr,this.status),i(this.xhr,this.status)}.bind(this)},n.prototype.setTransportHeaders=function(t){for(var e in t)this.xhr.setRequestHeader(e,t[e])},t.exports=n},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(984);t.exports=function(t){if("object"!==r(t))throw new TypeError("toQueryParameters error: argument is not an object");return o(t,!1)}},,function(t,e,i){t.exports=i(988)},function(t,e,i){"use strict";var n=i(990),r=function(){this.events={}},o=r.prototype;o.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},o.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new r},function(t,e){t.exports={majorVersionNumber:"3.x"}},function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(223),o=i(323),s=i(142),a=.5,l=.1,u=5,c=20,h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._horizontalFriction=e.friction&&e.friction.x||a,this._verticalFriction=e.friction&&e.friction.x||a,this._horizontalIncrement=e.acceleration&&e.acceleration.x||l,this._verticalIncrement=e.acceleration&&e.acceleration.y||l,this._minVelocity=e.minVelocity||u,this._maxVelocity=e.maxVelocity||c,this._velocity={x:0,y:0},this._bindMethods()}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"_bindMethods",value:function(){this._updateInertia=this._updateInertia.bind(this)}},{key:"_updateInertia",value:function(){Math.abs(this._velocity.x)>this._minVelocity||Math.abs(this._velocity.y)>this._minVelocity?(this._velocity.x*=this._horizontalFriction,this._velocity.y*=this._verticalFriction,this._lon+=this._velocity.x*this._horizontalIncrement,this._lat+=this._velocity.y*this._verticalIncrement,this._inertiaRaf=r(this._updateInertia)):(this._velocity={x:0,y:0},o(this._inertiaRaf),this._inertiaComplete())}},{key:"cancelInertia",value:function(){this._velocity={x:0,y:0},o(this._inertiaRaf)}},{key:"_inertiaComplete",value:function(){}},{key:"position",set:function(t){this._lat=t.lat,this._lon=s(t.lon)},get:function(){return{lat:this._lat,lon:this._lon}}}]),t}();t.exports=h},,function(t,e,i){"use strict";t.exports=function(t,e,i,n){return t.addEventListener?t.addEventListener(e,i,!!n):t.attachEvent("on"+e,i),t}},,function(t,e){t.exports={ENTERFULLSCREEN:"enterfullscreen",EXITFULLSCREEN:"exitfullscreen"}},function(t,e){t.exports={STANDARD:"standard",IOS:"ios"}},,,,function(t,e,i){"use strict";var n=i(50);t.exports=function(){var t=n.getWindow();return"devicePixelRatio"in t&&t.devicePixelRatio>=1.5}},function(t,e,i){"use strict";var n={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=i(1023)(n)},function(t,e,i){"use strict";var n=i(100).original,r=i(50),o=i(42),s=600;function a(){var t=r.getWindow(),e=t.screen.width;return t.orientation&&t.screen.height<e&&(e=t.screen.height),!n()&&e>=s}t.exports=o(a),t.exports.original=a},,function(t,e,i){"use strict";t.exports=function(t,e,i,n){return t.removeEventListener?t.removeEventListener(e,i,!!n):t.detachEvent("on"+e,i),t}},,,,function(t,e,i){"use strict";var n=i(535),r=i(536),o=i(226),s=function(t,e){var i=t.getAttribute("data-original-"+e);i||(i=t.getAttribute(e)||"",n(t,"data-original-"+e,i))};t.exports=function(t){if(o.isFocusableElement(t))s(t,"tabindex"),n(t,"tabindex",-1);else for(var e=o.getTabbableElements(t,!0),i=e.length;i--;)s(e[i],"tabindex"),n(e[i],"tabindex",-1);s(t,r.HIDDEN),n(t,r.HIDDEN,!0)}},function(t,e,i){"use strict";var n=function(t,e,i){t&&1===t.nodeType&&t.setAttribute(e,i)};t.exports=function(t,e,i){if("string"!=typeof i&&(i=i.toString()),t)if(t.length)for(var r=0;r<t.length;r++)n(t[r],e,i);else n(t,e,i)}},function(t,e,i){"use strict";t.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},function(t,e,i){"use strict";var n=i(1035),r=i(535),o=i(536),s="data-original-",a=function(t,e){var i=t.getAttribute(s+e);"string"==typeof i&&(i.length?r(t,e,i):n(t,e),n(t,s+e))};t.exports=function(t){n(t,"tabindex "+o.HIDDEN),a(t,"tabindex"),a(t,o.HIDDEN);for(var e=t.querySelectorAll("["+s+"tabindex]"),i=e.length;i--;)a(e[i],"tabindex")}},,,,,,,,,,function(t,e,i){"use strict";var n=i(102),r=i(230);t.exports=function(t){return n(t,r)}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=i(549),h=i(339),d=i(76),p=i(27),f=i(12).EventEmitterMicro,m={dataAttribute:"analytics-click",titleDataAttribute:"analytics-title",autoEnable:!0},_=/^https?:\/\/|^\/\//i,y=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}(this,a(e).call(this,i))).options=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){o(t,e,i[e])})}return t}({},m,i),t.tracker=d,t.isEnabled=!1,t._boundOnInteraction=t._onInteraction.bind(u(u(t))),t._elements=null,!0===t.options.autoEnable&&t.enable(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,f),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"enable",value:function(){p.exception||this.isEnabled||(this.addListener(),this.isEnabled=!0,this.trigger("enabled"))}},{key:"addListener",value:function(){document.body.addEventListener("click",this._boundOnInteraction)}},{key:"removeListener",value:function(){document.body.removeEventListener("click",this._boundOnInteraction)}},{key:"_onInteraction",value:function(t){var e,i=t.target;i.getAttribute("data-"+this.options.dataAttribute)||(e=c(i,"[data-"+this.options.dataAttribute+"]"))&&(i=e),i.classList.contains("ac-gn-link-bag")||i.hasAttribute("href")&&"A"===i.tagName&&!i.hasAttribute("data-analytics-intrapage-link")&&_.test(i.getAttribute("href"))||i.getAttribute("data-"+this.options.dataAttribute)&&this.track(t,i)}},{key:"track",value:function(t,e){var i={};h.isNodeType(e,h.NODE_TYPES.ELEMENT)||p.log("ClickAnalyticsObserver","track",e+" is not a valid DOM element"),p.exception||(i.targetEl=e,this.tracker.track({type:"click",event:t,data:i,options:this.options}))}},{key:"destroy",value:function(){this.removeListener(),this.options=null,this.tracker=null,this.isEnabled=null,this._boundOnInteraction=null,this._elements=null}}]),e}();t.exports=y},,,,,,,,function(t,e,i){"use strict";var n=i(101),r=i(236),o=i(144);t.exports=function(t,e,i,s){if(o.childNode(t,!0,"ancestors"),o.selector(e,!1,"ancestors"),i&&n(t)&&(!e||r(t,e)))return t;if(t!==(s=s||document.body))for(;(t=t.parentNode)&&n(t);){if(!e||r(t,e))return t;if(t===s)break}return null}},,function(t,e,i){var n=i(345);t.exports={async:function(t){var e=!0;return n.isIntraPageLink(t.targetEl)||(e=!1),e}}},function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=/(?:\w+:\w+)(?:,(?=(?:\w+:\w+))|$)/,o=/[\w\s]+/,s=i(237),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.childRegions={},this.parentRegion="",this.options=this.getDataOptions(),this.name=this.setName()}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"setName",value:function(){var t="";return this.options.name&&(t=this.options.name),!this.options.name&&this.element.id&&(this.options.name=this.element.id),t}},{key:"getDataOptions",value:function(){var t={},e=this.element.getAttribute("data-analytics-region"),i=this.element.getAttribute("data-analytics-options");for(var n in e=this._removeTrailingCommas(e),i=this._removeTrailingCommas(i),this._isJSONable(e)?t=s(e):this._isSingleValue(e)&&(t.name=e),i&&this._isJSONable(i)&&(t=Object.assign({},t,s(i))),t)t.hasOwnProperty(n)&&("false"===t[n]?t[n]=!1:"true"===t[n]&&(t[n]=!0));return t}},{key:"_isJSONable",value:function(t){return r.test(t)}},{key:"_isSingleValue",value:function(t){return o.test(t)}},{key:"_removeTrailingCommas",value:function(t){if(t&&"string"==typeof t)return","===t.charAt(t.length-1)?t.substr(0,t.length-1):t}}]),t}();t.exports={Region:a,dataAttribute:"analytics-region"}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=i(549),h=i(76),d=i(27),p=i(12).EventEmitterMicro,f={dataAttribute:"analytics-link",titleDataAttribute:"analytics-title",silent:!0,autoEnable:!0},m=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}(this,a(e).call(this,i))).options=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){o(t,e,i[e])})}return t}({},f,i),t.tracker=h,t.isEnabled=!1,t.defaultTracking=t.track.bind(u(u(t))),!0===t.options.autoEnable&&t.enable(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,p),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"enable",value:function(){d.exception||this.isEnabled||(this.addListener(),this.isEnabled=!0,this.trigger("enabled"))}},{key:"addListener",value:function(){document.body.addEventListener("mouseup",this.defaultTracking)}},{key:"removeListener",value:function(){document.body.removeEventListener("mouseup",this.defaultTracking)}},{key:"track",value:function(t){var e,i,n={},r=t.target;"a"===r.nodeName.toLowerCase()&&(e=r),e||(i=c(r,"a"))&&(e=i),e&&(n.targetEl=e,this.tracker.track({type:"link",event:t,data:n,options:this.options}))}},{key:"destroy",value:function(){this.removeListener(),this.options=null,this.tracker=null,this.isEnabled=null,this.defaultTracking=null}}]),e}();t.exports=m},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=i(76),h=i(27),d=i(12).EventEmitterMicro,p={autoEnable:!0},f=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=a(this,l(e).call(this,i))).options=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){o(t,e,i[e])})}return t}({},p,i),t.tracker=c,t.data=t.options.data||{},t.isEnabled=!1,!0===t.options.autoEnable&&t.enable(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,d),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"enable",value:function(){h.exception||this.isEnabled||(this.track(),this.isEnabled=!0,this.trigger("enabled"))}},{key:"track",value:function(t){var e=this.options.data||{};this.tracker.track({type:"page",event:t,data:e,options:this.options})}},{key:"destroy",value:function(){this.options=null,this.tracker=null,this.data=null,this.isEnabled=null}}]),e}();t.exports=f},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=i(1166),h=i(76),d=i(27),p=i(237),f=i(12).EventEmitterMicro,m=i(567),_="SectionAnalyticsObserver";c._elementInViewPastThreshold=function(t){return(t.engaged?t.pixelsInView>=Math.min(this._windowHeight/3,325):t.pixelsInView>=Math.min(this._windowHeight/2.1,450))||t.percentInView>t.inViewThreshold};var y={dataAttribute:"analytics-section-engagement",autoEnable:!0,customInitialization:!1},g={stopOnEngaged:!1,timeToEngage:1e3},b={leading:!0},v=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=a(this,l(e).call(this,i)),c.elements.length>0&&d.warn(_,"constructor","element engagement was already tracking elements when a new section observer was created. This could lead to errors in tracking. Make sure to destroy section observer before creating a new one."),t.options=Object.assign({},y,i),t.tracker=h,t.elementEngagement=c,t.isEnabled=!1,t.sections=[],t._listeners=!1,!0===t.options.autoEnable&&t.enable(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,f),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"enable",value:function(){d.exception||this.isEnabled||(this._bindMethods(),this.options.customInitialization||(this._loadSections(),this.initializeTracking()))}},{key:"initializeTracking",value:function(){this.sections&&this.sections.length>0?(this._setPosition(),this.options.elements=this.sections,this._addListeners(),this.elementEngagement.start(),this.isEnabled=!0,this.trigger("enabled")):d.warn(_,"initializeTracking","initialization of Section Observer had no effect because no valid sections were queued before initialization.")}},{key:"initializeSection",value:function(t){if(this.sections&&0!==this.sections.length){var e=this._getTrackedElement(t);e&&(this._setPosition(),this._listeners||this._addListeners(),this.options.elements&&Array.isArray(this.options.elements)?this.options.elements.push(t):this.options.elements=[t],e.tracking=!1,this.elementEngagement.start(e))}}},{key:"addSection",value:function(t){if(t&&t instanceof Element&&!this._getTrackedElement(t)){var e;this.sections.push(t);var i=t.getAttribute("data-"+this.options.dataAttribute);e=p(i),e=this._castDataAttributeOptions(e),e=Object.assign({},g,e),this.elementEngagement.addElement(t,e)}}},{key:"removeSection",value:function(t){var e=this._getTrackedElement(t),i=this.sections.indexOf(t);i>-1&&this.sections.splice(i,1),this.elementEngagement.stop(e)}},{key:"clearSections",value:function(){this.elementEngagement&&this.elementEngagement.elements&&this.elementEngagement.elements.forEach(function(t){this.elementEngagement.stop(t)}.bind(this)),this.sections=[]}},{key:"refreshMetrics",value:function(){this.elementEngagement.refreshAllElementMetrics()}},{key:"startSectionEngagement",value:function(t){var e=this._getTrackedElement(t);e&&(e.trigger("thresholdenter",e),e.trigger("engaged",e),this.elementEngagement._engaged.call(this.elementEngagement,e))}},{key:"endSectionEngagement",value:function(t){var e=this._getTrackedElement(t);e&&e.tracking&&(e.thresholdExitTime=Date.now(),this.elementEngagement.stop(e),this.track({element:e}))}},{key:"pauseElementTracking",value:function(t){var e=this._getTrackedElement(t);e&&(e.isActive=!1)}},{key:"resumeElementTracking",value:function(t){var e=this._getTrackedElement(t);e&&(e.isActive=!0)}},{key:"_bindMethods",value:function(){this._onThresholdExit=this._onThresholdExit.bind(this),this._onScroll=this._onScroll.bind(this),this._onResize=this._onResize.bind(this),this.endSectionEngagement=this.endSectionEngagement.bind(this),this._getTrackedElement=this._getTrackedElement.bind(this)}},{key:"_loadSections",value:function(){o(document.querySelectorAll("[data-"+this.options.dataAttribute+"]")).forEach(function(t){this.addSection(t)},this)}},{key:"_setPosition",value:function(){var t,e=this.sections.length;for(t=0;t<e;t+=1)this.sections[t].position=t+1}},{key:"_castDataAttributeOptions",value:function(t){return t=Object.assign({},t),Object.keys(t).forEach(function(e){var i,n=t[e];i="false"!==n&&("true"===n||(isNaN(parseFloat(n))?n:parseFloat(n))),t[e]=i}),t}},{key:"_addListeners",value:function(){this._listeners=!0,this.elementEngagement.on("thresholdexit",this._onThresholdExit),window.addEventListener("scroll",this._onScroll),window.addEventListener("resize",this._onResize),window.addEventListener("orientationchange",this._onResize)}},{key:"_removeListeners",value:function(){this._listeners=!1,this.elementEngagement&&this.elementEngagement.off&&"function"==typeof this.elementEngagement.off&&this.elementEngagement.off("thresholdexit",this._onThresholdExit),window.removeEventListener("scroll",this._onScroll),window.removeEventListener("resize",this._onResize),window.removeEventListener("orientationchange",this._onResize)}},{key:"_onThresholdExit",value:function(t){if(t.engaged){var e={element:t};this.elementEngagement.stop(t),this.track(e)}}},{key:"_onScroll",value:function(){var t=this;return m(function(){t.refreshMetrics(),t._checkForPageEnd()},300,b)()}},{key:"_onResize",value:function(){var t=this;return m(function(){t._checkForPageEnd()},300,b)()}},{key:"_checkForPageEnd",value:function(){window.pageYOffset>=document.body.scrollHeight-window.innerHeight&&this._pageEnd()}},{key:"_pageEnd",value:function(){var t=[];this.elementEngagement.elements.forEach(function(e){e.inView&&e.inThreshold&&e.tracking&&e.isActive&&t.push(e)}),t.forEach(function(t){t.engaged?this.endSectionEngagement(t):!1===t.has("engaged")&&t.once("engaged",this.endSectionEngagement)},this)}},{key:"track",value:function(t){this.tracker.track({type:"section",data:t,options:this.options})}},{key:"destroy",value:function(){this.elementEngagement&&(this.clearSections(),this.elementEngagement.stop()),this._removeListeners(),this.options=null,this.elementEngagement=null,this.tracker=null,this.sections=null}},{key:"_getTrackedElement",value:function(t){return t instanceof Element&&(t=this.elementEngagement.elements.filter(function(e){return e.element===t})[0]),t instanceof f?t:null}}]),e}();t.exports=v},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=/^\[object (HTMLCollection|NodeList|Object)\]$/;t.exports=function(t){return!!t&&("number"==typeof t.length&&(!!("object"!==r(t[0])||t[0]&&t[0].nodeType)&&o.test(Object.prototype.toString.call(t))))}},function(t,e,i){"use strict";var n=i(347),r=i(565),o=i(348);t.exports=function(t,e){var i,s,a,l;if(e)return i=t.getBoundingClientRect(),s=r(),a=o(),{top:i.top+a,right:i.right+s,bottom:i.bottom+a,left:i.left+s};for(l=n(t,e),i={top:t.offsetTop,left:t.offsetLeft,width:l.width,height:l.height};t=t.offsetParent;)i.top+=t.offsetTop,i.left+=t.offsetLeft;return{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}},function(t,e,i){"use strict";t.exports=function(t){return(t=t||window)===window?window.scrollX||window.pageXOffset:t.scrollLeft}},function(t,e,i){"use strict";var n={isElement:i(101)},r=i(12).EventEmitterMicro,o=r.prototype;function s(t,e){if(!n.isElement(t))throw new TypeError("TrackedElement: "+t+" is not a valid DOM element");r.call(this),this.element=t,this.inView=!1,this.isActive=!0,this.percentInView=0,this.pixelsInView=0,this.offsetTop=0,this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.useRenderedPosition=e||!1}(s.prototype=Object.create(o)).destroy=function(){this.element=null,o.destroy.call(this)},t.exports=s},,,,,,function(t,e,i){"use strict";var n=i(1207),r=i(325);t.exports=function(t,e,i){return e=r(t,e),n(t,e,i)}},,,,function(t,e,i){"use strict";t.exports={Modal:i(353),createStandardModal:i(1227),createFullViewportModal:i(1228)}},function(t,e,i){"use strict";var n={add:i(355),remove:i(580)},r={defaults:i(66)},o={remove:i(232),isElement:i(101)},s={modalElement:null,contentElement:null,closeButton:null,classNames:i(581),dataAttributes:i(582)},a=function(t){t=t||{},this.options=r.defaults(s,t),this.options.classNames=r.defaults(s.classNames,t.classNames),this.options.dataAttributes=r.defaults(s.dataAttributes,t.dataAttributes),this.modalElement=this.options.modalElement,this.contentElement=this.options.contentElement,this.closeButton=this.options.closeButton},l=a.prototype;l.render=function(){return o.isElement(this.modalElement)||(this.modalElement=this.renderModalElement(this.options.classNames.modalElement)),o.isElement(this.contentElement)||(this.contentElement=this.renderContentElement(this.options.classNames.contentElement)),!1!==this.closeButton&&(o.isElement(this.closeButton)||(this.closeButton=this.renderCloseButton(this.options.classNames.closeButton)),this.modalElement.appendChild(this.closeButton)),this.modalElement.appendChild(this.contentElement),document.body.appendChild(this.modalElement),this.modalElement},l.renderCloseButton=function(t){var e;return t=t||this.options.classNames.closeButton,(e=this._renderElement("button",t)).setAttribute(this.options.dataAttributes.close,""),e},l.renderModalElement=function(t){return t=t||this.options.classNames.modalElement,this._renderElement("div",t)},l.renderContentElement=function(t){return t=t||this.options.classNames.contentElement,this._renderElement("div",t)},l.appendContent=function(t,e){o.isElement(t)&&(void 0===arguments[1]?this.contentElement.appendChild(t):o.isElement(e)&&e.appendChild(t))},l.removeContent=function(t){t?this.modalElement.contains(t)&&o.remove(t):this._emptyContent()},l.open=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement),e=[this.modalElement].concat(this.options.classNames.modalOpen);n.add.apply(null,t),n.add.apply(null,e)},l.close=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement),e=[this.modalElement].concat(this.options.classNames.modalOpen);n.remove.apply(null,t),n.remove.apply(null,e)},l.destroy=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement);for(var e in this.modalElement&&document.body.contains(this.modalElement)&&(this.close(),document.body.removeChild(this.modalElement)),n.remove.apply(null,t),this)this.hasOwnProperty(e)&&(this[e]=null)},l._renderElement=function(t,e){var i=document.createElement(t),r=[i];return e&&(r=r.concat(e)),n.add.apply(null,r),i},l._emptyContent=function(){this.contentElement.innerHTML=""},t.exports=a},function(t,e,i){"use strict";var n=i(579);t.exports=function(t,e){return n(e).test(t.className)}},function(t,e,i){"use strict";t.exports=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")}},function(t,e,i){"use strict";i(125),i(356);var n=i(1223);t.exports=function(){var t,e=Array.prototype.slice.call(arguments),i=e.shift(e);if(i.classList&&i.classList.remove)i.classList.remove.apply(i.classList,e);else for(t=0;t<e.length;t++)n(i,e[t])}},function(t,e,i){"use strict";t.exports={modalElement:"modal",modalOpen:"modal-open",documentElement:"has-modal",contentElement:"modal-content",closeButton:"modal-close"}},function(t,e,i){"use strict";t.exports={close:"data-modal-close"}},function(t,e,i){"use strict";var n=i(1239);t.exports=function(t,e){var i,r=window.innerHeight,o=n(t,e);return o.top>=r||o.bottom<=0?0:(i=o.bottom-o.top,o.top<0&&(i+=o.top),o.bottom>r&&(i-=o.bottom-r),i)}},function(t,e,i){"use strict";var n=i(347),r=i(583);t.exports=function(t,e){return r(t,e)/n(t,e).height}},function(t,e,i){"use strict";t.exports={PointerTracker:i(1241)}},function(t,e,i){"use strict";var n=i(1242),r=i(1243),o=i(12).EventEmitterMicro,s=i(174),a=.5;function l(t,e,i){i=i||{},this._el=t,this._gallery=e,this._triggers={},this._ordered=[],i.scrollDuration=void 0===i.duration?a:i.duration,this.tabnav=new r(t,i),o.call(this)}var u=o.prototype,c=l.prototype=Object.create(u);c.start=function(){this._onWindowLoad=this._onWindowLoad.bind(this),this._onGalleryUpdated=this._onGalleryUpdated.bind(this),this._gallery.on(s.UPDATE,this._onGalleryUpdated),this.resize(),window.addEventListener("load",this._onWindowLoad)},c.addTrigger=function(t,e){if(void 0===this._triggers[e.getElementId()]&&n(t).indexOf(this._el)>-1){var i={el:t};this._triggers[e.getElementId()]=i,this._ordered.push(i)}},c.resize=function(){var t;this._ordered.length&&this.tabnav._wrapper.scrollWidth>this.tabnav.el.scrollWidth&&(t=this._triggers[this._gallery.getCurrentItem().getElementId()])&&this.tabnav.centerItem(t.el)},c.destroy=function(){return this._gallery.off(s.UPDATE,this._onGalleryUpdated),window.removeEventListener("load",this._onWindowLoad),this._el=null,this._gallery=null,this._triggers=null,this._ordered=null,this._clip=null,u.destroy.call(this)},c._onWindowLoad=function(){window.removeEventListener("load",this._onWindowLoad),this.resize()},c._onGalleryUpdated=function(t){var e=this._triggers[t.incoming[0].getElementId()];e&&this.tabnav.centerItem(e.el)},t.exports=l},,,function(t,e,i){"use strict";var n=i(224);t.exports=function(t,e){if(e=e||"end","number"!=typeof t||t<1)throw new TypeError("Step function expects a numeric value greater than zero. Given: "+t);if("start"!==e&&"end"!==e)throw new TypeError('Step function direction must be either "start" or "end" (default). Given: '+e);return new n(function(i,n,r,o){return n+r/t*Math["start"===e?"floor":"ceil"](i/o*t)},"steps("+t+", "+e+")")}},function(t,e,i){"use strict";var n;i(358),i(247);var r=i(12).EventEmitterMicro;(new Date).getTime();function o(){r.call(this),this.lastFrameTime=null,this._animationFrame=null,this._active=!1,this._startTime=null,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._getTime=Date.now||function(){return(new Date).getTime()}}(n=o.prototype=new r(null)).start=function(){this._active||this._tick()},n.stop=function(){this._active&&window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null,this.lastFrameTime=null,this._active=!1},n.destroy=function(){var t;for(t in this.stop(),this.off(),this)this.hasOwnProperty(t)&&(this[t]=null)},n.isRunning=function(){return this._active},n._tick=function(){this._active||(this._active=!0),this._animationFrame=window.requestAnimationFrame(this._boundOnAnimationFrame)},n._onAnimationFrame=function(t){null===this.lastFrameTime&&(this.lastFrameTime=t);var e=t-this.lastFrameTime,i=0;if(e>=1e3&&(e=0),0!==e&&(i=1e3/e),!0===this._firstFrame&&(e=0,this._firstFrame=!1),0===i)this._firstFrame=!0;else{var n={time:t,delta:e,fps:i,naturalFps:i,timeNow:this._getTime()};this.trigger("update",n),this.trigger("draw",n)}this._animationFrame=null,this.lastFrameTime=t,!1!==this._active?this._tick():this.lastFrameTime=null},t.exports=o},function(t,e,i){"use strict";var n=i(590);t.exports=new n},function(t,e,i){"use strict";i(172);var n=i(593),r=i(357),o=.5,s=2;function a(t,e){if((e=Object.assign({},e)).itemType=e.itemType||n,this._fadeDuration=void 0!==e.duration?e.duration:o,e.tabNavDuration=void 0!==e.tabNavDuration?e.tabNavDuration:this._fadeDuration,this._crossFade=e.crossFade,this._zIndexBase=e.startZIndex||1,this._ease=e.ease,!0===e.resizeContainerOnUpdate&&(e.resizeContainerOnUpdate=this._fadeDuration),this._onItemShowComplete=this._onItemShowComplete.bind(this),r.call(this,t,e),e.startZIndex)for(var i=this._items.length;i--;)this._items[i].getElement().style.zIndex=this._zIndexBase;this._currentItem&&this._currentItem.fadeIn(0,this._ease,this._zIndexBase+s)}a.RESIZED=r.RESIZED,a.UPDATE=r.UPDATE,a.UPDATE_COMPLETE=r.UPDATE_COMPLETE;var l=r.prototype,u=a.prototype=Object.create(l);u.addItem=function(t,e){t.nodeType&&(t=new this._itemType(t));var i=l.addItem.call(this,t,e);return t!==this._currentItem?t.fadeOut():t.fadeIn(0),i},u.destroy=function(t){var e=l.destroy.call(this,t);return this._fadeDuration=null,this._crossFade=null,this._zIndexBase=null,this._ease=null,this._onItemShowComplete=null,e},u._startAt=function(t){var e=this._items[t];e&&this._currentItem!==e&&(this._currentItem.fadeOut(0),this._currentItem.hide(),this._setCurrentItem(e),this._currentItem.show(),this._currentItem.fadeIn(0),this.trigger(a.UPDATE,this._items))},u._onItemShowComplete=function(t){t&&t.target()!==this._currentItem.getElement()?this._currentItem.isFading()||(this._prepareForTransition(),this._currentItem.fadeIn(this._fadeDuration,this._ease,this._zIndexBase+s,this._onItemShowComplete)):(this._prepareForTransition(!0),this._incomingOutgoingItems&&this.trigger(a.UPDATE_COMPLETE,this._incomingOutgoingItems))},u._updateItems=function(t){if(this._itemChanged){if(this._crossFade){this._prepareForTransition();var e=function(){this.trigger(a.UPDATE_COMPLETE,t),this._itemChanged=!1}.bind(this);t.outgoing[0].fadeOut(.99*this._fadeDuration,this._ease),t.incoming[0].fadeIn(this._fadeDuration,this._ease,this._zIndexBase+s,e)}else this._incomingOutgoingItems=t,t.outgoing[0].isFading()||(this._prepareForTransition(),t.incoming[0].fadeIn(this._fadeDuration,this._ease,this._zIndexBase+s,this._onItemShowComplete));t.outgoing[0].hide(),t.incoming[0].show()}},u._prepareForTransition=function(t){for(var e,i=this._items.length;i--;)(e=this._items[i])!==this._currentItem&&(t&&e.fadeOut(),e.getElement().style.zIndex=this._zIndexBase);this._lastItem._el.style.zIndex=this._zIndexBase+1},t.exports=a},function(t,e,i){"use strict";var n=i(1256),r=i(1297),o=i(1298),s=i(245);function a(t,e){s.call(this,t,e),t.style.position="absolute"}a.SELECTED=s.SELECTED,a.SHOW=s.SHOW,a.HIDE=s.HIDE;var l=s.prototype,u=a.prototype=Object.create(l);u.fadeIn=function(t,e,i,o){this._el.style.zIndex=i||1,t?(this._destroyCurrentClip(),this._clip=n(this._el,0,1,t,{ease:e,onComplete:o})):r(this._el,0)},u.fadeOut=function(t,e){t?(this._destroyCurrentClip(),this._clip=o(this._el,t,{ease:e})):o(this._el,0)},u.isFading=function(){return!(!this._clip||!this._clip.playing())},u.destroy=function(){this._el.style.position=null,this._el.style.opacity=null,this._el.style.zIndex=null,l.destroy.call(this),this._destroyCurrentClip(),this._clip=null},u._destroyCurrentClip=function(){this._clip&&this._clip._el&&this._clip.destroy()},t.exports=a},function(t,e,i){"use strict";var n;t.exports=function(){if(n)return n;var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return n=i[t]}()},function(t,e,i){"use strict";t.exports=function(t){return"string"==typeof t&&"cubic-bezier("===t.substr(0,13)}},function(t,e,i){"use strict";var n=i(1259);function r(){this._instances={}}r.prototype.create=function(t){var e;if(e="string"==typeof t?t.replace(/ /g,""):"cubic-bezier("+t.join(",")+")",void 0===this._instances[e]){if("string"==typeof t)for(var i=(t=t.match(/\d*\.?\d+/g)).length;i--;)t[i]=Number(t[i]);this._instances[e]=new n(t,this)}return this._instances[e]},t.exports=new r},,function(t,e,i){"use strict";t.exports=function(t){var e,i,n={};for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&(t[i].isColor?t[i].isRgb?n[i]="rgb("+Math.round(t[i].r)+", "+Math.round(t[i].g)+", "+Math.round(t[i].b)+")":t[i].isRgba&&(n[i]="rgba("+Math.round(t[i].r)+", "+Math.round(t[i].g)+", "+Math.round(t[i].b)+", "+t[i].a+")"):"transform"===i?(e=6===t[i].length?"matrix":"matrix3d",n[i]=e+"("+t[i].join(",")+")"):t[i].unit?n[i]=t[i].value+t[i].unit:n[i]=t[i].value);return n}},function(t,e,i){"use strict";var n=i(178),r=i(92),o=i(600),s=i(1267),a=i(1268).Color,l=i(179),u=i(607).Transform,c=i(1287),h=function(t){return a.isRgba(t)?(t=new a(t).rgbaObject()).isRgba=!0:(t=new a(t).rgbObject()).isRgb=!0,t.isColor=!0,t},d=function(t){t.isRgb&&(t.isRgb=!1,t.isRgba=!0,t.a=1)},p=function(t,e,i){(t.isRgba||e.isRgba||i.isRgba)&&(d(t),d(e),d(i))},f=function(t){return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]};t.exports=function(t,e,i){var d,m,_,y,g={};e=r(e,!0),i=r(i,!0);var b,v=l("transform");for(b in e)e.hasOwnProperty(b)&&null!==e[b]&&("transform"===b?(v&&(m=new u,d=n(t,"transform").transform||"none",m.setMatrixValue(d),_=new c(new u,t,e[b])),_&&_.toCSSString()!==m.toCSSString()?(y=new c(i[b]?new u:m.clone(),t,i[b]),g[b]=m.toArray(),e[b]=_.toArray(),i[b]=y.toArray()):(g[b]=null,e[b]=null)):(d=n(t,b)[s(b)]||i[b],a.isColor(d)?(g[b]=h(d),i[b]=void 0!==i[b]?h(i[b]):r(g[b],!0),e[b]=h(e[b])):(g[b]=o(d),i[b]=void 0!==i[b]?o(i[b]):r(g[b],!0),e[b]=o(e[b]))));for(b in i)!i.hasOwnProperty(b)||null===i[b]||void 0!==e[b]&&null!==e[b]||("transform"===b?(v&&((m=new u).setMatrixValue(getComputedStyle(t).transform||getComputedStyle(t).webkitTransform||"none"),y=new c(new u,t,i[b])),y&&y.toCSSString()!==m.toCSSString()?(_=new c(m.clone()),g[b]=m.toArray(),e[b]=_.toArray(),i[b]=y.toArray()):(g[b]=null,e[b]=null,i[b]=null)):(d=n(t,b)[s(b)],a.isColor(d)?(g[b]=h(d),e[b]=r(g[b],!0),i[b]=h(i[b])):(g[b]=o(d),i[b]=o(i[b]),e[b]=r(g[b],!0)))),g[b]&&g[b].isColor&&p(g[b],i[b],e[b]);return g.transform&&function(t,e,i){16!==t.transform.length&&16!==e.transform.length&&16!==i.transform.length||(6===t.transform.length&&(t.transform=f(t.transform)),6===e.transform.length&&(e.transform=f(e.transform)),6===i.transform.length&&(i.transform=f(i.transform)))}(g,i,e),{target:g,propsTo:e,propsFrom:i}}},function(t,e,i){"use strict";t.exports=function(t){if((t=String(t)).indexOf(" ")>-1)throw new Error("Shorthand CSS is not supported. Please use longhand CSS only.");var e=1;t&&"-"===t.substr(0,1)&&(t=t.substr(1),e=-1);var i=String(t).match(/(\d*\.?\d*)(.*)/);return{value:Number(i[1])*e,unit:i[2]}}},function(t,e,i){"use strict";var n=i(602),r=i(362),o=i(251);t.exports=function(t){return o(t)||n(t)||r(t)}},function(t,e,i){"use strict";t.exports=function(t){return null!==/^rgb\(\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*\)$/.exec(t)}},function(t,e,i){"use strict";var n=i(251),r=i(360),o=i(252);t.exports=function(t,e,i){t=n(t)?r(t):t,e=n(e)?r(e):e,t=o(t),e=o(e);var s=t.r+(e.r-t.r)*i,a=t.g+(e.g-t.g)*i,l=t.b+(e.b-t.b)*i;return"rgb("+Math.round(s)+", "+Math.round(a)+", "+Math.round(l)+")"}},function(t,e,i){"use strict";var n=i(363);t.exports=function(t){var e=n(t);return[e.r,e.g,e.b,e.a]}},function(t,e,i){"use strict";var n=i(606),r=i(364),o=i(365);t.exports=function(t){var e=o.apply(this,r(t));return n(e)}},function(t,e,i){"use strict";t.exports=function(t){return parseInt(t.substr(1),16)}},,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(249),r=i(178),o=i(1290);t.exports=function(t,e){var i=r(t,"transition","transition-property","transition-duration","transition-timing-function","transition-delay");if((i=i.transition||o(i))&&i.length){for(var s=0,a=(i=i.split(",")).length;a--;)void 0!==e[i[a].trim().split(" ")[0]]&&(i.splice(a,1),++s);s&&(0===i.length&&(i=["all"]),n(t,{transition:i.join(",").trim()}))}}},function(t,e,i){"use strict";t.exports={PageVisibilityManager:i(1293)}},function(t,e,i){"use strict";function n(t,e){this.clip=t,this.position=e,this.duration=this.clip.duration.bind(this.clip),this.lastProgress=-1,this.prev=null,this.next=null}var r=n.prototype;r.currentTime=function(t){var e=Math.min(1,Math.max(0,t/this.clip._duration));return e!=e&&(e=1),this.lastProgress===e?this.lastProgress:(0!==this.lastProgress&&0!==e&&-1!==this.lastProgress||this.clip._storeOnStart&&this.clip._storeOnStart(this.clip),this.clip._playing=e*this.clip._duration===this.clip._duration,this.lastProgress=this.clip.progress(e),this.lastProgress)},r.destroy=function(){this.clip.destroy(),this.prev=null,this.next=null,this.duration=null},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.callback=t,this._delay=0,this.position=e,this._hasTriggered=!1,this.prev=null,this.next=null}var r=n.prototype;r.duration=function(){return 0},r.currentTime=function(t){return t>=0&&!this._hasTriggered&&(this.callback(),this._hasTriggered=!0),t<0&&this._hasTriggered&&(this.callback(),this._hasTriggered=!1),0},t.exports=n},function(t,e,i){"use strict";i(175),i(172);var n=i(626),r=i(1299),o=i(246),s=i(357),a=i(585).PointerTracker,l=i(367),u=i(1301),c=.5,h=.5,d=!0;function p(t,e){(e=Object.assign({},e)).itemType=e.itemType||l,this._itemsPerSlide=e.itemsPerSlide||1;var i=!1!==e.deeplink;if(e.deeplink=!1,this._slideDuration=void 0!==e.duration?e.duration:h,e.tabNavDuration=void 0!==e.tabNavDuration?e.tabNavDuration:this._slideDuration,this._itemCenterPoint=void 0!==e.itemCenterPoint?e.itemCenterPoint:c,this._edgePullResistance=e.edgePullResistance?e.edgePullResistance:d,this._useClientWidthForItemWidth=e.useItemClientWidth||!1,this._slideOptions={ease:e.ease},!0===e.resizeContainerOnUpdate&&(e.resizeContainerOnUpdate=this._slideDuration),e.touch=!1!==e.touch,this._originalWrapAround=e.wrapAround||!1,s.call(this,t,e),i){var n=this._getDeeplinkedItem();n&&this._currentItem!==n&&(this._currentItem.hide(),this._setCurrentItem(n),this._currentItem.show())}this._positionItems=this._positionItems.bind(this),this._createContainer(),0!==this._items.length&&this._positionItems(),this._isInstantiated=!0}p.RESIZED=s.RESIZED,p.UPDATE=s.UPDATE,p.UPDATE_COMPLETE=s.UPDATE_COMPLETE;var f=s.prototype,m=p.prototype=Object.create(f);m.addItem=function(t,e){t.nodeType&&(t=new this._itemType(t));var i=f.addItem.call(this,t,e);return void 0!==this._containerEl&&(this._addItemToContainer(t),this._positionItems()),this._updateWrapAround(),i},m.removeItem=function(t,e){if(this._containerEl&&t.getElement().parentElement===this._containerEl){var i=t.getOriginalParentElement();i?i.appendChild(t.getElement()):"function"==typeof t.removeItems&&(t.removeItems(),e.destroyItem=!0);var n=f.removeItem.call(this,t,e);return this._currentItem&&this._positionItems(this._currentItem),this._updateWrapAround(),n}return f.removeItem.call(this,t,e)},m.resize=function(){return this._positionItems(),this._snapToPosition(this._currentItem.position()),f.resize.call(this)},m.destroy=function(t){this._destroyCurrentClip(),this._clip=null;for(var e=this._items.length;e--;)this._items[e].off(l.CENTER_POINT_CHANGED,this._positionItems);this._touchSwipe&&(this._touchSwipe.off(a.START,this._onSwipeStart),this._touchSwipe.off(a.UPDATE,this._onSwipeUpdate)),this._clickSwipe&&(this._clickSwipe.off(a.START,this._onSwipeStart),this._clickSwipe.off(a.UPDATE,this._onSwipeUpdate));var i=this._el,n=f.destroy.call(this,t);return i.removeChild(this._containerEl),this._containerEl=null,this._slideDuration=null,this._itemCenterPoint=null,this._positionItems=null,this._slideOptions=null,n},m._addItems=function(t){if(this._itemsPerSlide>1)for(var e,i,n,r=this._el.querySelectorAll(t),o=0,s=0,a=r.length;s<a;s++)0===o&&(e=new u(this._useClientWidthForItemWidth)),e.addItem(r[s]),(n=r[s].getAttribute("id"))&&(i=Array.from(document.querySelectorAll("[data-ac-gallery-trigger="+n+"]")),this._addItemTriggers(e,i)),++o!==this._itemsPerSlide&&s!==a-1||(o=0,e.resize(),this.addItem(e));else f._addItems.call(this,t)},m._createContainer=function(){this._containerEl=document.createElement("div"),this._containerEl.classList.add("ac-gallery-slidecontainer"),this._containerEl.style.position="absolute",this._containerEl.style.top="0",this._containerEl.style.left="0",this._containerEl.style.width="100%",this._containerEl.style.height="100%",this._el.appendChild(this._containerEl);for(var t=0,e=this._items.length;t<e;t++)this._addItemToContainer(this._items[t])},m._addItemToContainer=function(t){this._containerEl.appendChild(t.getElement()),this._resizeContainer&&this._itemsPerSlide>1&&this._storeItemHeight(t,!1===this._containerResizeDuration),t.on(l.CENTER_POINT_CHANGED,this._positionItems)},m._positionItems=function(t){t=t||this._currentItem;var e=this._items;this._wrapAround&&(e=this._shuffleItems());for(var i,r,o,s,a,l=this._getActualPositionX()-t.position()||0,u=parseInt(window.getComputedStyle(this._el).width,10),c=0,h=0,d=e.length;h<d;h++)(i=e[h]).resize(),(r=i.getElement()).style.left=c+"px",s=u-(o=n(r,this._useClientWidthForItemWidth)),a=i.centerPoint&&null!==i.centerPoint()?i.centerPoint():this._itemCenterPoint,i.position(-1*c+s*a),this._isRightToLeft?c-=o:c+=o;c=t.position()+l,this._snapToPosition(c)},m._getActualPositionX=function(){var t=window.getComputedStyle(this._containerEl)[o.transform];if(t===this._transformStyles&&void 0!==this._actualPositionX)return this._actualPositionX;this._transformStyles=t;var e=this._transformStyles.split(",");return this._actualPositionX=e[4]||this._currentItem.position(),1*this._actualPositionX},m._snapToPosition=function(t){this._destroyCurrentClip(),this._positionX=t,this._containerEl.style[o.transition]="transform 0s, left 0s",r(this._containerEl,t,0,this._slideOptions)},m._slideToPosition=function(t,e,i){this._positionX=t,this._clip=r(this._containerEl,t,e,{ease:this._slideOptions.ease,onComplete:i})},m._setUpSwiping=function(t,e){var i=f._setUpSwiping.call(this,t,e);return this._onSwipeStart=this._onSwipeStart.bind(this),this._onSwipeUpdate=this._onSwipeUpdate.bind(this),this._touchSwipe&&(this._touchSwipe.on(a.START,this._onSwipeStart),this._touchSwipe.on(a.UPDATE,this._onSwipeUpdate)),this._clickSwipe&&(this._clickSwipe.on(a.START,this._onSwipeStart),this._clickSwipe.on(a.UPDATE,this._onSwipeUpdate)),i},m._onSwipeStart=function(t){this._clip&&this._clip.playing()&&(this._destroyCurrentClip(),this._positionX=this._getActualPositionX())},m._onSwipeUpdate=function(t){this._destroyCurrentClip();var e=this.getItems().slice(-1)[0].position(),i=this._positionX>0||this._positionX<e,n=t.diffX;this._edgePullResistance&&!this._wrapAround&&i&&(n*=.5),this._snapToPosition(this._positionX-n)},m._onSwipeEnd=function(t){var e=f._onSwipeEnd.call(this,t);return null===e&&(e=this.show(this._currentItem,{interactionEvent:t.interactionEvent})),e},m._shuffleItems=function(){if(2===this._items.length&&!this._isAutoPlaying)return this._items.slice();var t,e,i,n=this._items.length,r=this._items.indexOf(this._currentItem),o=Math.floor(.5*n);if(r<o){var s=n-(t=o-r);return e=this._items.slice(s),i=this._items.slice(0,s),e.concat(i)}return r>o?(t=r-o,e=this._items.slice(0,t),(i=this._items.slice(t)).concat(e)):this._items},m._storeItemHeight=function(t,e){var i;if(this._itemsPerSlide>1){for(var n=[],r=0;r<t.getElement().children.length;r++)n.push(t.getElement().children[r].scrollHeight);i=Math.max.apply(null,n)}else i=t.getElement().scrollHeight;i&&(this._itemHeights.push({item:t,height:i}),this._itemHeightsLookup[t.getElementId()]=i,this._itemHeights.sort(function(t,e){return e.height-t.height}),e&&this._itemHeights[0].item===t&&this._setElHeight(i))},m._updateItems=function(t){if(this._destroyCurrentClip(),this._wrapAround&&this._positionItems(t.outgoing[0]),this.getItemIndex(t.outgoing[0])>-1){var e=this._itemChanged?function(){this.trigger(p.UPDATE_COMPLETE,t),this._itemChanged=!1}.bind(this):null,i=this._slideDuration;this._slideToPosition(t.incoming[0].position(),i,e),t.incoming[0]!==t.outgoing[0]&&(t.incoming[0].show(),t.outgoing[0].hide())}else this._slideToPosition(this._currentItem.position(),this._slideDuration),t.incoming[0].show(),this._itemChanged&&(this.trigger(p.UPDATE_COMPLETE,t),this._itemChanged=!1)},m._updateWrapAround=function(){this._items.length<=2?this._wrapAround=!1:this._originalWrapAround&&(this._wrapAround=this._originalWrapAround),this._isInstantiated&&(this._previousButtons||this._nextButtons)&&this._updatePaddleNavState()},m._destroyCurrentClip=function(){this._clip&&this._clip.playing()&&this._clip.destroy()},t.exports=p},function(t,e,i){"use strict";t.exports=function(t,e){var i=window.getComputedStyle(t),n=e?t.clientWidth:t.scrollWidth;return Math.round(n+parseFloat(i.marginRight)+parseFloat(i.marginLeft))}},function(t,e,i){"use strict";t.exports={getStyle:i(178),setStyle:i(249)}},function(t,e,i){"use strict";var n=i(592),r=i(174),o=i(625),s=r.FADE_SELECTOR.replace(/\[|\]/g,""),a=r.SLIDE_SELECTOR.replace(/\[|\]/g,"");t.exports=function(t,e,i){var l;if("string"==typeof e&&(e===r.SLIDE?l=o:e===r.FADE&&(l=n)),void 0===l&&(null!==t.getAttribute(a)?l=o:null!==t.getAttribute(s)&&(l=n)),void 0===l)throw new Error("%TYPE% is not a supported gallery type and el has no gallery data attribute.".replace(/%TYPE%/g,e));return new l(t,i)}},,,,,,,function(t,e,i){"use strict";var n=i(636),r=n.prototype,o=i(332),s=i(639),a=i(242).DOMEmitter,l=i(627),u=i(1342).assetLoader,c=i(46),h=i(184).isHandheld,d=i(184).isTablet,p=function(t,e,i){this.srcForVideoEl=null,this._cannotPlayInlineVideo=null,this._onLoaded=this._onLoaded.bind(this),this._onReady=this._onReady.bind(this),n.call(this,t,e,i),i.iosInline&&this._initInlineVideo()},f=p.prototype=Object.create(n.prototype);f.inlineClassName="mediaobject-ios-inline-video",f.inlineAttribute="playsinline",f._cannotPlayInlineVideo=null,f._initInlineVideo=function(){this.mediaElement.hasAttribute("controls")&&this.mediaElement.removeAttribute("controls"),this.mediaElement.setAttribute(this.inlineAttribute,""),this.mediaElement.classList.add(this.inlineClassName)},f._createMediaElement=function(){this.mediaElement=document.createElement("video"),this._muteMediaElement(this.mediaElement)},f._muteMediaElement=function(t){t.setAttribute("muted",""),t.muted=!0},f._createMediaEmitter=function(){this.mediaEmitter=new a(this.mediaElement)},f._createMediaLoader=function(){var t;if(this.mediaSrc.basePath=this._forceTrailingSlash(this.mediaSrc.basePath),this.mediaSrc.splitFileLoading){var e={src:t=this.mediaSrc.basePath,type:"splitfile"};this.mediaLoader=u.createAssetGroup(e)}else this.mediaSrc.fileFormat=this._checkFileFormat(this.mediaSrc.fileFormat),t=this.mediaSrc.basePath+this.mediaSrc.filename+this.mediaSrc.fileFormat,this.srcForVideoEl=t},f._forceTrailingSlash=function(t){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),t},f._checkFileFormat=function(t){return t&&0!==t.lastIndexOf(".")&&(t="."+t),t},f.load=function(){if(this._setLoadStart(!0),this.mediaSrc.splitFileLoading){var t=function(t){var e=window.URL.createObjectURL(t.latest.data);this.mediaEmitter&&(this.mediaEmitter.once("loadeddata",this._onLoaded),this.mediaEmitter.once("canplaythrough",this._onReady)),this.mediaElement.src=e,this.mediaElement.load(),this.mediaLoader.destroy()}.bind(this);this.mediaLoader.load().then(t).catch(this._setError.bind(this,!0))}else this.cannotPlayInlineVideo()||(this.mediaEmitter.once("loadeddata",this._onLoaded),this.mediaEmitter.once("canplaythrough",this._onReady)),this.mediaElement.src=this.srcForVideoEl,this.cannotPlayInlineVideo()?this._onLoaded():(this.mediaElement.addEventListener("error",this._setError.bind(this,!0)),this.mediaElement.load())},f._onLoaded=function(){this._setLoaded(!0)},f.cannotPlayInlineVideo=function(){if(null!==this._cannotPlayInlineVideo)return this._cannotPlayInlineVideo;var t="iOS"===c.os&&h(),e="iOS"===c.os&&d()&&c.version<8;return this._cannotPlayInlineVideo=t||e,this._cannotPlayInlineVideo},f._onReady=function(){this._setReady(!0),this.getAutoplay()&&(this.getEnhanced()||this.enhance(),this.play())},f.enhance=function(){this._setEnhanced(!0),o(function(){"VIDEO"===this.mediaElement.tagName&&(s.insertLastChild(this.mediaElement,this.el),l.setStyle(this.mediaElement,{visibility:"hidden"}),o(function(){this.mediaElement&&(this.setPlaybackRate(this.getPlaybackRate()),l.setStyle(this.mediaElement,{visibility:"visible"}))}.bind(this)))}.bind(this))},f._destroy=function(){this._remove(),this.mediaEmitter&&this.mediaEmitter.off(),this.mediaLoader&&this.mediaLoader.destroy()},f._remove=function(){s.remove(this.mediaElement)},f._onEndedChange=function(t){r._onEndedChange.call(this,t),this.model.getPaused()||this.mediaElement.pause(),"iOS"===c.os&&h()&&!0===t.value&&this.mediaElement.webkitExitFullScreen()},f.play=function(){if(!1!==this.model.getPaused()){var t=this.mediaElement.play();t&&"undefined"!=typeof Promise&&t instanceof Promise&&t.then(function(){}).catch(function(){})}},f.pause=function(){!0!==this.model.getPaused()&&this.mediaElement.pause()},f.reset=function(){0!==this.model.getCurrentTime()&&(this.setCurrentTime(0),this.pause())},f.setCurrentTime=function(t){this.mediaElement.duration&&(this.model.setCurrentTime(t),this.mediaElement.currentTime=t)},f.setPlaybackRate=function(t){this.mediaElement.playbackRate=t},f._setLooping=function(t){this.mediaElement.loop=t,this.model.setLooping(t)},t.exports=p},function(t,e,i){"use strict";var n=i(1325),r=i(1329).View,o=i(241),s=function(t,e,i){r.call(this,{element:t}),this.options=o.clone(i||{},!0),this.mediaSrc=e||"",this.model=this.options.model||new n(this.options),this._onLoadStartChange=this._onLoadStartChange.bind(this),this._onLoadedChange=this._onLoadedChange.bind(this),this._onPausedChange=this._onPausedChange.bind(this),this._onReadyChange=this._onReadyChange.bind(this),this._onErrorChange=this._onErrorChange.bind(this),this._onEnhancedChange=this._onEnhancedChange.bind(this),this._onCurrentTimeChange=this._onCurrentTimeChange.bind(this),this._onPlaybackRateChange=this._onPlaybackRateChange.bind(this),this._onDestroyedChange=this._onDestroyedChange.bind(this),this._onEndedChange=this._onEndedChange.bind(this),this._respondToPlay=this._respondToPlay.bind(this),this._respondToPause=this._respondToPause.bind(this),this._respondToTimeUpdate=this._respondToTimeUpdate.bind(this),this._respondToEnded=this._respondToEnded.bind(this),this._respondToDurationChange=this._respondToDurationChange.bind(this),this._respondToRateChange=this._respondToRateChange.bind(this),this._init()},a=s.prototype=o.create(r.prototype);a._init=function(){this._createMediaElement(),this._createMediaEmitter(),this._createMediaLoader(),this._bindEvents(),this._config()},a._createMediaElement=function(){},a._createMediaEmitter=function(){},a._createMediaLoader=function(){},a._config=function(){!0===this.options.preload&&(this._setPreload(!0),this.load()),!0===this.options.autoplay&&this._setAutoplay(!0),!0===this.options.looping&&this._setLooping(!0),this.options.frameRate&&this._setFrameRate(this.options.frameRate)},a._bindEvents=function(){this._bindViewEvents(),this._bindModelEvents()},a.destroy=function(){if(!this.getDestroyed())for(var t in this._destroy(),this._setDestroyed(!0),this.model.off(),this.off(),this)this.hasOwnProperty(t)&&"function"!=typeof this[t]&&(this[t]=null)},a._bindModelEvents=function(){this.model.on("change:loadStart",this._onLoadStartChange),this.model.on("change:loaded",this._onLoadedChange),this.model.on("change:paused",this._onPausedChange),this.model.on("change:ready",this._onReadyChange),this.model.on("change:error",this._onErrorChange),this.model.on("change:enhanced",this._onEnhancedChange),this.model.on("change:currentTime",this._onCurrentTimeChange),this.model.on("change:playbackRate",this._onPlaybackRateChange),this.model.on("change:destroyed",this._onDestroyedChange),this.model.on("change:ended",this._onEndedChange)},a._onLoadStartChange=function(){this.trigger("loadstart")},a._onLoadedChange=function(){this.trigger("loaded")},a._onPausedChange=function(t){!0===t.value?(this.trigger("pause"),this.el.classList.remove("mediaobject-playing")):(this.trigger("play"),this.el.classList.remove("mediaobject-ended"),this.el.classList.add("mediaobject-playing"))},a._onReadyChange=function(){this.trigger("ready")},a._onErrorChange=function(){this.trigger("error")},a._onEnhancedChange=function(){this.el.classList.add("mediaobject-enhanced"),this.mediaElement.classList.add("mediaobject-element"),this.trigger("enhanced")},a._onCurrentTimeChange=function(){this.trigger("timeupdate")},a._onPlaybackRateChange=function(){this.trigger("ratechange")},a._onDestroyedChange=function(){this.el.classList.remove("mediaobject-playing"),this.el.classList.remove("mediaobject-ended"),this.el.classList.remove("mediaobject-enhanced"),this.el.classList.add("mediaobject-destroyed"),this.trigger("destroyed")},a._onEndedChange=function(t){!0===t.value&&this.trigger("ended")},a._bindViewEvents=function(){this.mediaEmitter&&(this.mediaEmitter.on("play",this._respondToPlay),this.mediaEmitter.on("pause",this._respondToPause),this.mediaEmitter.on("timeupdate",this._respondToTimeUpdate),this.mediaEmitter.on("ended",this._respondToEnded),this.mediaEmitter.on("durationchange",this._respondToDurationChange),this.mediaEmitter.on("ratechange",this._respondToRateChange))},a._respondToPlay=function(){this.model.set({ended:!1,paused:!1})},a._respondToPause=function(){this.model.setPaused(!0)},a._respondToTimeUpdate=function(){var t=0;if(this.mediaElement.currentTime)t=this.mediaElement.currentTime;else{if(!this.mediaEmitter.currentTime)return;t=this.mediaEmitter.currentTime}this.getCurrentTime()!==t&&this.model.set({currentTime:t})},a._respondToEnded=function(){this.model.set({ended:!0,paused:!0}),this.el.classList.remove("mediaobject-playing"),this.el.classList.add("mediaobject-ended")},a._respondToDurationChange=function(){var t=0;if(this.mediaElement.duration)t=this.mediaElement.duration;else{if(!this.mediaEmitter.duration)return;t=this.mediaEmitter.duration}this.model.set({duration:t})},a._respondToRateChange=function(){var t=0;if(this.mediaElement.playbackRate)t=this.mediaElement.playbackRate;else{if(!this.mediaEmitter.playbackRate)return;t=this.mediaEmitter.playbackRate}this.model.set({playbackRate:t})},a.enhance=function(){},a.play=function(){},a.pause=function(){},a.reset=function(){},a.setCurrentTime=function(t){},a.setPlaybackRate=function(t){},a.goToFrame=function(t){var e=t/this.model.frameRate;return this.setCurrentTime(e)},a.goToPercent=function(t){var e=t*this.getDuration();return this.setCurrentTime(e)},a._setReady=function(t){this.model.setReady(t)},a._setLoadStart=function(t){this.model.setLoadStart(t)},a._setLoaded=function(t){this.model.setLoaded(t)},a._setError=function(t){this.model.setError(t)},a._setDuration=function(t){this.model.setDuration(t)},a._setPreload=function(t){this.model.setPreload(t)},a._setAutoplay=function(t){this.model.setAutoplay(t)},a._setFrameRate=function(t){this.model.setFrameRate(t)},a._setEnhanced=function(t){this.model.setEnhanced(t)},a._setDestroyed=function(t){this.model.setDestroyed(t)},a._setLooping=function(t){},a._destroy=function(){},a.getType=function(){return this.model.getType()},a.getPaused=function(){return this.model.getPaused()},a.getEnded=function(){return this.model.getEnded()},a.getReady=function(){return this.model.getReady()},a.getLoadStart=function(){return this.model.getLoadStart()},a.getLoaded=function(){return this.model.getLoaded()},a.getError=function(){return this.model.getError()},a.getDuration=function(){return this.model.getDuration()},a.getEnhanced=function(){return this.model.getEnhanced()},a.getCurrentTime=function(){return this.model.getCurrentTime()},a.getCurrentFrame=function(){return Math.floor(this.getCurrentTime()*this.options.frameRate)},a.getCurrentPercent=function(){return this.model.getCurrentTime()/this.getDuration()||0},a.getPlaybackRate=function(){return this.model.getPlaybackRate()},a.getFrameRate=function(){return this.model.getFrameRate()},a.getPreload=function(){return this.model.getPreload()},a.getAutoplay=function(){return this.model.getAutoplay()},a.getLooping=function(){return this.model.getLooping()},a.getDestroyed=function(){return!this.model||this.model.getDestroyed()},t.exports=s},function(t,e,i){"use strict";t.exports={CID:i(1328)}},function(t,e,i){"use strict";var n=i(126);t.exports=function(t,e){return n.insertNode(t,!0,"insertLastChild"),n.parentNode(e,!0,"insertLastChild"),e.appendChild(t)}},function(t,e,i){"use strict";t.exports={createDocumentFragment:i(1331),filterByNodeType:i(372),hasAttribute:i(1332),indexOf:i(1333),insertAfter:i(1334),insertBefore:i(1335),insertFirstChild:i(1336),insertLastChild:i(638),isComment:i(1337),isDocument:i(1338),isDocumentFragment:i(547),isDocumentType:i(1339),isElement:i(101),isNode:i(336),isNodeList:i(563),isTextNode:i(1340),remove:i(232),replace:i(1341),COMMENT_NODE:i(229),DOCUMENT_FRAGMENT_NODE:i(230),DOCUMENT_NODE:i(337),DOCUMENT_TYPE_NODE:i(640),ELEMENT_NODE:i(170),TEXT_NODE:i(231)}},function(t,e,i){"use strict";t.exports=10},,,function(t,e,i){"use strict";var n=i(374);t.exports=function(t,e){return e=e||n.DEFAULT_THREADS,n.isLiveQueue(t)?t:!0===t?n.newInstance(e):n.getInstance()}},function(t,e,i){"use strict";i(148);var n,r=i(66),o=i(645),s=i(646),a=i(183),l=i(382),u={manifestTimeout:5e3,chunkTimeout:1e4},c=function(t,e){var i=r(u,e||{});a.call(this,t,i),t.lastIndexOf("/")!==t.length-1&&(t+="/");this._manifestPath=t+"manifest.json",this._chunks=[],this._loadChunks=this._loadChunks.bind(this),this._onChunksLoaded=this._onChunksLoaded.bind(this),this._manifestLoader=null,this._chunkLoader=null};(n=c.prototype=Object.create(a.prototype))._load=function(){this._loadManifest().then(this._loadChunks).then(this._onChunksLoaded).catch(this._onError)},n._loadManifest=function(){var t=new s(this._manifestPath,{timeout:this.options.manifestTimeout}),e=new l(t,{privateQueue:this.options.queue});return e.load(),this._manifestLoader=e,new Promise(function(t,i){e.once("load",function(e){t(e.latest)}),e.once("error",function(t){i(t.latest.error)})})},n._loadChunks=function(t){this._manifest=t.data,this._manifestLoader.destroy(),this._manifestLoader=null;var e=[];this._manifest.files.forEach(function(t,i){e.push(this._getOrCreateChunkObject(t,i))},this);var i=new l(e,{privateQueue:this.options.queue,failFast:!0}),n=new Promise(function(t,e){i.once("load",t),i.once("error",function(t){e(t.latest.error)})});return i.load(),this._chunkLoader=i,n},n._getOrCreateChunkObject=function(t,e){var i=this.options.chunkTimeout?{timeout:this.options.chunkTimeout}:null;if(!this._chunks[e]){var n=t.path;if(n.match(/(^http(s?))/)){if(this.src.match(/(^http(s?))/)){var r=n.indexOf("/",10),s=this.src.indexOf("/",10);n=this.src.substring(0,s)+n.substring(r)}}else n=this.src+"/"+n;this._chunks[e]=new o(n,i)}return this._chunks[e]},n._onChunksLoaded=function(){for(var t=this._chunks.length,e=[],i=0;i<t;i++)e.push(this._chunks[i].data),this._chunks[i].off();this.data=new Blob(e,{type:this._manifest.mimeType}),e=this._chunks=null,this._chunkLoader.destroy(),this._chunkLoader=null,this._onLoad()},n.pause=function(){this._manifestLoader&&this._manifestLoader.pause(),this._chunkLoader&&this._chunkLoader.pause()},n.resume=function(){this._manifestLoader&&this._manifestLoader.resume(),this._chunkLoader&&this._chunkLoader.resume()},n.destroy=function(){this.pause(),this._manifestLoader&&this._manifestLoader.destroy(),this._chunkLoader&&this._chunkLoader.destroy(),this._chunks=null,a.prototype.destroy.call(this)},t.exports=c},function(t,e,i){"use strict";var n=i(384),r=i(124),o={responseType:"arraybuffer"};function s(t,e){var i=r(e||{},o);n.call(this,t,i)}s.prototype=Object.create(n.prototype),t.exports=s},function(t,e,i){"use strict";var n=i(384);function r(t,e){n.apply(this,arguments)}(r.prototype=Object.create(n.prototype))._onLoad=function(t){try{this.data=JSON.parse(t.response||t.responseText)}catch(t){this._onError(t)}n.prototype._onLoad.call(this,t)},t.exports=r},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(383),s=i(183),a={txt:o.XHR_ASSET,xml:o.XHR_ASSET,csv:o.XHR_ASSET,json:o.JSON_ASSET,png:o.IMG_ASSET,jpg:o.IMG_ASSET,gif:o.IMG_ASSET,svg:o.IMG_ASSET,splitfile:o.SPLITFILE_ASSET};function l(t){return t=t.replace(/([?#].*)$/,""),a[t.split(".").pop()]}t.exports=function(t,e){var i={};return s.prototype.isPrototypeOf(t)?src:("string"==typeof t&&(i.src=t,i.type=l(t)),"object"===r(t)&&("string"==typeof(i=t).type&&(i.type=l(i.type)),i.type||(i.type=l(i.src))),i.options||(i.options={}),e&&(i.options.queue=e),new i.type(i.src,i.options))}},,,,,function(t,e,i){"use strict";var n=i(242).DOMEmitter,r=i(1385);function o(t,e){this.element=e,this._domEmitter=new n(e),this._frameRate=30,this.paused=!0,this.loop=!1,this._destroyed=!1,this._flow=t,this._rafEmitter=new r,this._rafDrawSet=!1,this._shouldAdvanceToTimeGlobal=!1,this._shouldGlobalTimeUpdate=!1,this._shouldLocalTimeUpdate=!1,this._boundAdvanceTimeToGlobal=this._advanceToTimeGlobal.bind(this),this._onBoundGlobalTimeUpdate=this._onGlobalTimeUpdate.bind(this),this._onBoundLocalTimeUpdate=this._onLocalTimeUpdate.bind(this),this._rafEmitter.on("draw",this._onDraw.bind(this))}var s=o.prototype;s._timeToFrame=function(t){var e;return e=Math.round(t/this.duration*this._flow.frameCount),(e%=this._flow.frameCount+1)<0?this._flow.frameCount+e:e},s._advanceToTimeGlobal=function(t){if(this._rafDrawSet){this._prevTime=this._prevTime||t.time,this._currentTime+=(t.time-this._prevTime)/1e3*this.playbackRate,this._prevTime=t.time,this._pauseAfterRender=!1;var e=this._timeToFrame(this._currentTime);if(this.loop?this._currentTime=(this.duration+this._currentTime)%this.duration:this.playbackRate>0&&this._currentTime>this.duration?(e=this._flow.frameCount,this._currentTime=this.duration,this._pauseAfterRender=!0):this.playbackRate<0&&this._currentTime<0&&(e=0,this._currentTime=0,this._pauseAfterRender=!0),!this.paused&&!this.seeking)return this._flow.gotoFrame(e).then(this._onBoundGlobalTimeUpdate)}},s._onGlobalTimeUpdate=function(){this.trigger("timeupdate"),this._pauseAfterRender?(this.paused=!0,this.trigger("ended")):this._bindAdvanceToTimeGlobal()},s._onLocalTimeUpdate=function(){this.seeking=!1,this.trigger("timeupdate"),this.trigger("seeked"),this._bindAdvanceToTimeGlobal()},s._advanceToTimeLocal=function(t){this.seeking||(this.seeking=!0,this.trigger("seeking"),this._currentTime=1*t,this._prevTime=null,this._cancelFrame(),this._flow.gotoFrame(this._timeToFrame(t)).then(this._onBoundLocalTimeUpdate))},s._onLoaded=function(){this.trigger("loaded"),this.trigger("canplaythrough")},s._nullProperties=function(t){var e;for(e in t)t.hasOwnProperty(e)&&(t[e]=null);return t},s.destroy=function(){this._rafEmitter.destroy(),this.trigger("destroy"),this.pause(),this.off(),this._flow.destroy(),this._flow=this._nullProperties(this._flow),this._nullProperties(this)},s.load=function(){if(!this._flow.resumeLoading())return this.trigger("loadstart"),this._flow.init().then(function(t){var e=function(){this._onLoaded()}.bind(this),i=function(){!1===this._destroyed&&this.trigger("error")}.bind(this);if(t)return t.then(e,i);e()}.bind(this))},s.pauseLoading=function(){this._flow.pauseLoading()},s.play=function(){return this.paused&&(this.paused=!1,this.trigger("play"),this._prevTime=null,this._bindAdvanceToTimeGlobal()),this},s.pause=function(){return this.paused||(this.paused=!0,this._cancelFrame(),this.trigger("pause")),this},s.on=function(){this._domEmitter.on.apply(this._domEmitter,arguments)},s.once=function(){this._domEmitter.once.apply(this._domEmitter,arguments)},s.trigger=function(){this._domEmitter.trigger.apply(this._domEmitter,arguments)},s.off=function(){this._domEmitter.off.apply(this._domEmitter,arguments)},s._cancelFrame=function(){this._rafEmitter.cancel(),this._rafDrawSet=!1},s._onDraw=function(t){this._shouldAdvanceToTimeGlobal?this._advanceToTimeGlobal(t):this._shouldGlobalTimeUpdate?this._onGlobalTimeUpdate(t):this._shouldLocalTimeUpdate&&this._onLocalTimeUpdate(t),this._shouldLocalTimeUpdate=!1,this._shouldGlobalTimeUpdate=!1,this._shouldLocalTimeUpdate=!1},s._bindAdvanceToTimeGlobal=function(){this._rafDrawSet=!0,this._shouldAdvanceToTimeGlobal=!0,this._rafEmitter.run()},s._bindGlobalTimeUpdate=function(){this._rafDrawSet=!0,this._shouldGlobalTimeUpdate=!0,this._rafEmitter.run()},s._bindLocalTimeUpdate=function(){this._rafDrawSet=!0,this._shouldLocalTimeUpdate=!0,this._rafEmitter.run()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(s,{_currentTime:{value:0,enumerable:!1,writable:!0},_playbackRate:{value:1,enumerable:!1,writable:!0},currentTime:{get:function(){return 1*this._currentTime},set:s._advanceToTimeLocal,enumerable:!0},frameRate:{get:function(){return this._frameRate},set:function(t){isFinite(t)&&(this._frameRate=t,this.trigger("durationchange"))},enumerable:!0},playbackRate:{get:function(){return 1*this._playbackRate},set:function(t){isFinite(t)&&(this._playbackRate=1*t,this.trigger("ratechange"))},enumerable:!0},duration:{get:function(){return this._flow.frameCount/this.frameRate},enumerable:!0}}),t.exports=o},,function(t,e,i){"use strict";t.exports=function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(982),r=i(983),o=/.*(?=:\/\/)/,s=/^.*:\/\/|\/.+$/g,a=window.XDomainRequest&&document.documentMode<10;t.exports=function(t,e){return new(a&&function(t){return!!t.match(o)&&t.replace(s,"")!==window.location.hostname}(t)?r:n)}},function(t,e,i){"use strict";var n=i(511),r=function(){this.xhr=new XMLHttpRequest};(r.prototype=n.create()).setReadyStateChangeHandlers=function(t,e,i){this.xhr.onreadystatechange=function(n){4===this.xhr.readyState&&(clearTimeout(this.timeout),this.xhr.status>=200&&this.xhr.status<300?(i(this.xhr.responseText,this.xhr.status,this.xhr),t(this.xhr,this.status)):(e(this.xhr,this.status),t(this.xhr,this.status)))}.bind(this)},t.exports=r},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(511),s=i(512),a=function(){this.xhr=new XDomainRequest};(a.prototype=o.create()).setReadyStateChangeHandlers=function(t,e,i){this.xhr.onerror=function(){e(this.xhr,this.status),t(this.xhr,this.status)}.bind(this),this.xhr.onload=function(){i(this.xhr.responseText,this.xhr.status,this.xhr),t(this.xhr,this.status)}.bind(this)},a.prototype.send=function(t){t&&"object"===r(t)&&(t=s(t)),this.xhr.send(t)},a.prototype.setTransportHeaders=function(t){},t.exports=a},,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o,s=window||self;try{o=!!s.localStorage.getItem("f7c9180f-5c45-47b4-8de4-428015f096c0")}catch(t){}t.exports=function(t){return function(){if(o&&"object"===r(window.console))return console[t].apply(console,Array.prototype.slice.call(arguments,0))}}},,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=i(989),h=i(223),d=i(323),p=i(997),f=i(998),m=i(222),_=i(324),y=i(46),g=i(1003),b=i(1004),v=(i(142),i(1005)),E=i(1006),w=y.os.ios,S=80,T=1.25,x=y.browser.safari&&y.os.osx?"high-performance":"default",k={slow:80,fast:120},C=_(.25,.1,0,1),P=_(.1,.15,0,1),A=.001,O=.999,I=1600,L=1600,D=12,F=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=s(this,l(e).call(this))).el=t.el,i._textureSrc=t.src,t.video&&(i._videoElement=t.video),i._maxLat=t.maxLat||S,i._pointerControls=new p({el:t.mouseTarget||i.el}),i.arrowControls=new v,i._easing=t.easing||C,i._sineEasing=t.sineEasing||P,i._mapMinValue=void 0!==t.mapMinValue?t.mapMinValue:A,i._mapMaxValue=t.mapMaxValue||O,i._rotationDuration=t.rotationDuration||I,w&&(i._orientationControls=new f),i._panVelocity=Object.assign({},t.panVelocity||k),i._overshootMultiplier=t.overshootMultiplier||T,i._oscillationDuration=t.ocillationDuration||L,i._oscillationDistance=t.ocillationDistance||D,i._bindMethods(),i._attach(),i.refreshSize(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,m),function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(e,[{key:"_bindMethods",value:function(){this._onPlaying=this._onPlaying.bind(this)}},{key:"_attach",value:function(){this._distance=50;var t={lat:0,lon:0};this._cachedPos=t,this._pointerControls.position=t,this._orientationControls&&(this._orientationControls.position=t);var e=this.el.clientWidth,i=this.el.clientHeight,n=e/i;this._camera=new THREE.PerspectiveCamera(75,n,1,1100),this._camera.target=new THREE.Vector3(0,0,0),this._scene=new THREE.Scene,this._geometry=new THREE.SphereBufferGeometry(500,60,40),this._geometry.scale(-1,1,1),this._texture=this._createTexture(this._textureSrc),this._material=new THREE.MeshBasicMaterial({map:this._texture}),this._mesh=new THREE.Mesh(this._geometry,this._material),this._scene.add(this._mesh),this._renderer=new THREE.WebGLRenderer({antialias:!1,powerPreference:x}),this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.setSize(e,i),this._renderer.domElement.classList.add("threesixty-renderer"),this.el.appendChild(this._renderer.domElement),this._animate=this._animate.bind(this),this._animateRAF=h(this._animate)}},{key:"_animate",value:function(){this._update(),this._animateRAF=h(this._animate)}},{key:"_update",value:function(t){var i=t;i||(i=this.arrowControls.isActive?this.arrowControls.position:this._pointerControls.isActive?this._pointerControls.position:this._orientationControls?this._orientationControls.position:this._cachedPos);var n=!1;if(this._cachedPos.lat!==i.lat||this._cachedPos.lon!==i.lon)n=!0;else if(!this._videoElement||this._videoElement.paused)return;var r=Math.max(-this._maxLat,Math.min(this._maxLat,i.lat)),o=THREE.Math.degToRad(90-r),s=THREE.Math.degToRad(i.lon),a=this._distance*Math.sin(o)*Math.cos(s),l=this._distance*Math.cos(o),u=this._distance*Math.sin(o)*Math.sin(s);this._camera.zoom=this._pointerControls.scale,this._camera.position.x=a,this._camera.position.y=l,this._camera.position.z=u,this._camera.lookAt(this._camera.target),this._camera.updateProjectionMatrix(),this._renderer.render(this._scene,this._camera);var c={lat:r,lon:i.lon,x:a,y:l,z:u};this._cachedPos={lat:c.lat,lon:c.lon,x:c.x,y:c.y,z:c.z},this._pointerControls.position=c,this.arrowControls.position=c,this._orientationControls&&(this._orientationControls.position=c),this._originQuaternion||(this._originQuaternion=(new THREE.Quaternion).copy(this._camera.quaternion)),n&&this.trigger(e.POSITION_CHANGE)}},{key:"_createTexture",value:function(t){if(t instanceof HTMLVideoElement){this._videoElement=t,this._videoElement.setAttribute("playsinline","playsinline"),this._videoElement.setAttribute("webkit-playsinline","webkit-playsinline"),this._videoElement.addEventListener("playing",this._onPlaying);var e=new THREE.VideoTexture(this._videoElement);return e.minFilter=THREE.LinearFilter,e.format=THREE.RGBFormat,e}if(t.endsWith(".mp4")||t.endsWith(".m3u8")||t.endsWith(".webm")){this._videoElement||(this._videoElement=document.createElement("video")),this._videoElement.src=t,this._videoElement.loop=!0,this._videoElement.muted=!0,this._videoElement.crossOrigin="anonymous",this._videoElement.setAttribute("webkit-playsinline","webkit-playsinline"),this._videoElement.setAttribute("playsinline","playsinline"),this._videoElement.load(),this._videoElement=this._videoElement,this._videoElement.addEventListener("playing",this._onPlaying);var i=new THREE.VideoTexture(this._videoElement);return i.minFilter=THREE.LinearFilter,i.format=THREE.RGBFormat,i}return this._orientationControls.enable(),(new THREE.TextureLoader).load(t)}},{key:"refreshSize",value:function(){this._onResize()}},{key:"setPos",value:function(t,e){this._pointerControls&&(this._pointerControls.position={lat:t,lon:e}),this._orientationControls&&(this._orientationControls.position={lat:t,lon:e}),this._update({lat:t,lon:e})}},{key:"_onResize",value:function(){var t,e;this._videoElement.parentElement?(t=this._videoElement.clientWidth,e=this._videoElement.clientHeight):(t=this.el.clientWidth,e=this.el.clientHeight),d(this._animateRAF),this._pointerControls.setViewerSize(t,e),this._camera.aspect=t/e,this._camera.updateProjectionMatrix(),this._renderer.setSize(t,e),this._renderer.render(this._scene,this._camera),this._animate()}},{key:"_onPlaying",value:function(){this._videoElement.removeEventListener("playing",this._onPlaying),this._orientationControls&&this._orientationControls.enable()}},{key:"play",value:function(){this._videoElement&&this._videoElement.play()}},{key:"pause",value:function(){this._videoElement&&!this._videoElement.paused&&this._videoElement.pause()}},{key:"sendMouseDown",value:function(t){this._pointerControls.sendMouseDown(t)}},{key:"destroy",value:function(){a(l(e.prototype),"destroy",this).call(this)}},{key:"oscillateLongitude",value:function(){var t=this;this._pointerControls.cancelInertia(),this.arrowControls.cancelInertia();var i=new THREE.Vector2(this.position.lon,this.position.lat),n=this._oscillationDuration,r={time:n,startPosition:Object.assign({},this.position),targetPosition:Object.assign({},this.position)};return this.trigger(e.ROTATION_START,r),new Promise(function(o,s){g(n,function(n){var o=Math.sin(Math.PI*t._sineEasing.getValue(n)),s=(new THREE.Vector2).copy(i);s.x=i.x-o*t._oscillationDistance;var a=c(s.y,s.x,t._distance);t.trigger(e.ROTATION_UPDATE,{t:n,easedVal:o,startPosition:r.startPosition,currentPosition:{lat:s.y,lon:s.x},targetPosition:r.targetPosition}),t._camera.position.copy(a),t._camera.lookAt(t._camera.target),t._camera.updateProjectionMatrix(),t._renderer.render(t._scene,t._camera)}).then(function(){t.trigger(e.ROTATION_COMPLETE,r),t.setPos(i.y,i.x),t._animate(),o()})})}},{key:"panToPosition",value:function(t){return this._respositionCameraToPosition(t)}},{key:"_respositionCameraToPosition",value:function(t){var i=this;if(this._pointerControls.cancelInertia(),this.arrowControls.cancelInertia(),t.lat===this.position.lat&&t.lon===this.position.lon)return this.trigger(e.ROTATION_START,{time:0,startPosition:Object.assign({},this.position),targetPosition:Object.assign({},this.position)}),this.trigger(e.ROTATION_COMPLETE,{time:1,startPosition:Object.assign({},this.position),targetPosition:Object.assign({},this.position)}),Promise.resolve();var n=new THREE.Vector2(this.position.lon,this.position.lat),r=new THREE.Vector2(b(t.lon),t.lat),o=new THREE.Vector2(t.lon,t.lat),s=n.distanceTo(o),a=n.distanceTo(r);a<s&&(s=a,o=r);s<120?this._panVelocity.slow:this._panVelocity.fast;var l=(new THREE.Vector2).copy(n);d(this._animateRAF);var u=this._rotationDuration,h={time:u,startPosition:Object.assign({},this._cachedPos),targetPosition:Object.assign({},t)};return this.trigger(e.ROTATION_START,h),new Promise(function(r,s){g(u,function(t){var r;r=1===t?1:E(i._easing.getValue(t),0,1,i._mapMinValue,i._mapMaxValue);var s=l.lerpVectors(n,o,r),a=c(s.y,s.x,i._distance);i._camera.position.copy(a),i._camera.lookAt(i._camera.target),i._camera.updateProjectionMatrix(),i._renderer.render(i._scene,i._camera),i.trigger(e.ROTATION_UPDATE,{t:t,easedVal:r,startPosition:h.startPosition,currentPosition:{lat:s.y,lon:s.x},targetPosition:{lat:o.x,lon:o.y}})}).then(function(){i.trigger(e.ROTATION_COMPLETE,h),i.setPos(t.lat,t.lon),i._animate(),r()})})}},{key:"position",get:function(){return Object.assign({},this._cachedPos)}},{key:"isAtOrigin",get:function(){return Math.abs(this.position.lat)<=.5&&Math.abs(this.position.lon)<=.5}},{key:"mediaElement",get:function(){return this._videoElement}}]),e}();F.ROTATION_START="RotationStart",F.ROTATION_UPDATE="RotationUpdate",F.ROTATION_COMPLETE="RotationComplete",F.POSITION_CHANGE="360PositionChange",t.exports=F},function(t,e){t.exports=function(t,e,i){var n=THREE.Math.degToRad(90-t),r=THREE.Math.degToRad(e),o=i*Math.sin(n)*Math.cos(r),s=i*Math.cos(n),a=i*Math.sin(n)*Math.sin(r);return new THREE.Vector3(o,s,a)}},function(t,e,i){"use strict";var n=i(991),r=function(t){this.phase=t,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},o=r.prototype;o.requestAnimationFrame=function(t,e){return!0===e&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},o.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},o._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},o._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},o._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},o._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},o._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},o._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},o._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},o._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=r},function(t,e,i){"use strict";var n=i(992),r=function(t){n.call(this,t)};(r.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},function(t,e,i){"use strict";var n,r=i(12).EventEmitterMicro,o=i(993),s=i(996);function a(t){t=t||{},r.call(this),this.id=s.getNewID(),this.executor=t.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}(n=a.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},n.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},n.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,t},n.willRun=function(){return this._willRun},n.isRunning=function(){return this._isRunning},n._subscribe=function(){return this.executor.subscribe(this)},n._unsubscribe=function(){return this.executor.unsubscribe(this)},n._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},n._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},n._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=a},function(t,e,i){"use strict";var n=i(99).SharedInstance,r=i(516).majorVersionNumber,o=i(995);t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,o)},,function(t,e,i){"use strict";var n,r=i(222);function o(t){t=t||{},this._reset(),this.updatePhases(),this.eventEmitter=new r,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(n=o.prototype).frameRequestedPhase="requested",n.startPhase="start",n.runPhases=["update","external","draw"],n.endPhase="end",n.disabledPhase="disabled",n.beforePhaseEventPrefix="before:",n.afterPhaseEventPrefix="after:",n.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},n.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},n.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},n.getSubscribeID=function(){return this._totalSubscribeCount+=1},n.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},n.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},n.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},n._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},n._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},n._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},n._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},n._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=o},function(t,e,i){"use strict";var n=i(99).SharedInstance,r=i(516).majorVersionNumber,o=function(){this._currentID=0};o.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,o)},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=i(142),h=i(517),d={acceleration:{x:.1,y:.1},friction:{x:.95,y:.95},minVelocity:.5,maxVelocity:20},p=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({},d,t),(i=s(this,l(e).call(this,t))).el=t.el,i._mouseDown=!1,i._scale=1,i._hasInertia=!1!==t.inertia||t.inertia,i._bindMethods(),i._addEventListeners(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(e,[{key:"_bindMethods",value:function(){this._onMouseMove=this._onMouseMove.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onClick=this._onClick.bind(this),a(l(e.prototype),"_bindMethods",this).call(this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("mousedown",this._onMouseDown),this.el.addEventListener("touchstart",this._onMouseDown,{passive:!1}),this.el.addEventListener("click",this._onClick),this.el.addEventListener("touchmove",this._onTouchMove,{passive:!1})}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("mousedown",this._onMouseDown),this.el.removeEventListener("touchstart",this._onMouseDown),window.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("mouseup",this._onMouseUp),this.el.removeEventListener("touchmove",this._onTouchMove),document.body.removeEventListener("touchmove",this._onTouchMove),document.body.removeEventListener("touchend",this._onMouseUp)}},{key:"_onMouseUp",value:function(t){var e=this;window.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("mouseup",this._onMouseUp),document.body.removeEventListener("touchmove",this._onTouchMove),document.body.removeEventListener("touchend",this._onMouseUp),this._mouseDown&&this._hasInertia&&Date.now()-this._mouseMoveTime<300&&this._updateInertia(),setTimeout(function(){e._mouseDown||(e._dragging=!1)},350),this._mouseDown=!1}},{key:"sendMouseDown",value:function(t){this._onMouseDown(t)}},{key:"_onClick",value:function(t){this._dragging||(this._velocity={x:0,y:0},this._mouseDown=!1,this._cachedPosition=t,document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp),document.body.removeEventListener("touchmove",this._onTouchMove),document.body.removeEventListener("touchend",this._onMouseUp))}},{key:"_onMouseDown",value:function(t){this._mouseDownTime=Date.now();var e=t;if(t.touches){if(1!==t.touches.length)return;e=t.touches[0]}this._cachedPosition=t,window.addEventListener("mousemove",this._onMouseMove),window.addEventListener("mouseup",this._onMouseUp),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onMouseUp),this._mouseDown=!0,this._lastMouseX=e.clientX,this._lastMouseY=e.clientY,this._lastMouseDownLon=c(this._lon),this._lastMouseDownLat=this._lat}},{key:"_onTouchMove",value:function(t){t.cancelable&&t.preventDefault(),this._onMouseMove(t)}},{key:"_onMouseMove",value:function(t){if(this._mouseDown){this._dragging=!0;var e=t;if(t.touches&&(e=t.touches[0]),this._cachedPosition.clientX!==e.clientX||this._cachedPosition.clientY!==e.clientY){var i=this._lastMouseX-e.clientX,n=this._lastMouseY-e.clientY,r=i/this._viewerWidth,o=n/this._viewerHeight;if(this._cachedPosition){var s=this._cachedPosition.clientX-e.clientX,a=this._cachedPosition.clientY-e.clientY;this._velocity.x=Math.max(Math.min(s,this._maxVelocity),-this._maxVelocity),this._velocity.y=Math.max(Math.min(a,this._maxVelocity),-this._maxVelocity)}this._lon=c(135*r+this._lastMouseDownLon),this._lat=90*o+this._lastMouseDownLat,this._cachedPosition=e,this._mouseMoveTime=Date.now()}}}},{key:"setViewerSize",value:function(t,e){this._viewerWidth=t,this._viewerHeight=e}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"isActive",get:function(){return this._mouseDown||this._hasInertia&&(Math.abs(this._velocity.x)>this._minVelocity||Math.abs(this._velocity.y)>this._minVelocity)}},{key:"scale",get:function(){return this._scale}}]),e}();t.exports=p},function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(142),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._bindMethods()}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"_bindMethods",value:function(){this._onOrientation=this._onOrientation.bind(this)}},{key:"_addEventListeners",value:function(){window.addEventListener("devicemotion",this._onOrientation,!0)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("devicemotion",this._onOrientation,!0)}},{key:"_onOrientation",value:function(t){window.matchMedia("(orientation: portrait)").matches?(this._lon=r(this._lon-.02*t.rotationRate.beta),this._lat=this._lat-.02*t.rotationRate.alpha):t.orientation||-90===window.orientation?(this._lon=r(this._lon+.02*t.rotationRate.alpha),this._lat=this._lat-.02*t.rotationRate.beta):(this._lon=r(this._lon-.02*t.rotationRate.alpha),this._lat=this._lat+.02*t.rotationRate.beta)}},{key:"disable",value:function(){this._removeEventListeners()}},{key:"enable",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"position",set:function(t){this._lat=t.lat,this._lon=r(t.lon)},get:function(){return{lat:this._lat,lon:this._lon}}}]),t}();t.exports=o},function(t,e){t.exports=
/*! MIT License
 *
 * KeySpline - use bezier curve for transition easing function
 * Copyright (c) 2012 Gaetan Renaudeau <renaudeau.gaetan@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 */
function(t,e,i,n){function r(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function s(t){return 3*t}function a(t,e,i){return((r(e,i)*t+o(e,i))*t+s(e))*t}function l(t,e,i){return 3*r(e,i)*t*t+2*o(e,i)*t+s(e)}this.get=function(r){return t===e&&i===n?r:a(function(e){for(var n=e,r=0;r<4;++r){var o=l(n,t,i);if(0===o)return n;var s=a(n,t,i)-e;n-=s/o}return n}(r),e,n)}}},,,,function(t,e,i){var n=i(223);t.exports=function(t,e){return new Promise(function(i){var r=performance.now();n(function o(){var s=(performance.now()-r)/t;s>=1?(e(1),i()):(s,e(s),n(o))})})}},function(t,e,i){var n=i(142);t.exports=function(t){var e=t;return Math.abs(e)>180?n(e):e>0?-360+e:360+e}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=i(517),h=i(142),d=i(223),p=i(323),f={acceleration:{x:.6,y:.6},friction:{x:.95,y:.95},minVelocity:.1,maxVelocity:20},m=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({},f,t),(i=s(this,l(e).call(this,t)))._bindMethods(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(e,[{key:"_bindMethods",value:function(){this.leftArrowDown=this.leftArrowDown.bind(this),this.rightArrowDown=this.rightArrowDown.bind(this),this.downArrowDown=this.downArrowDown.bind(this),this.upArrowDown=this.upArrowDown.bind(this),this.leftArrowUp=this.leftArrowUp.bind(this),this.rightArrowUp=this.rightArrowUp.bind(this),this.downArrowUp=this.downArrowUp.bind(this),this.upArrowUp=this.upArrowUp.bind(this),a(l(e.prototype),"_bindMethods",this).call(this)}},{key:"leftArrowDown",value:function(){Math.abs(this._velocity.x-this._horizontalIncrement)<this._maxVelocity?this._velocity.x-=this._horizontalIncrement:this._velocity.x=-this._maxVelocity,this._lon=h(this._lon+this._velocity.x),this._triggerInertia()}},{key:"rightArrowDown",value:function(){Math.abs(this._velocity.x+this._horizontalIncrement)<this._maxVelocity?this._velocity.x+=this._horizontalIncrement:this._velocity.x=this._maxVelocity,this._velocity.x+=this._horizontalIncrement,this._lon=h(this._lon+this._velocity.x),this._triggerInertia()}},{key:"upArrowDown",value:function(t){Math.abs(this._velocity.y-this._verticalIncrement)<this._maxVelocity?this._velocity.y-=this._verticalIncrement:this._velocity.y=-this._maxVelocity,this._lat=this._lat+this._velocity.y,this._triggerInertia()}},{key:"downArrowDown",value:function(){Math.abs(this._velocity.y+this._verticalIncrement)<this._maxVelocity?this._velocity.y+=this._verticalIncrement:this._velocity.y=this._maxVelocity,this._lat=this._lat+this._velocity.y,this._triggerInertia()}},{key:"leftArrowUp",value:function(){this._triggerInertia()}},{key:"rightArrowUp",value:function(){this._triggerInertia()}},{key:"upArrowUp",value:function(){this._triggerInertia()}},{key:"downArrowUp",value:function(){this._triggerInertia()}},{key:"_triggerInertia",value:function(){p(this._inertiaRaf),d(this._updateInertia)}},{key:"isActive",get:function(){return Math.abs(this._velocity.x)>this._minVelocity||Math.abs(this._velocity.y)>this._minVelocity}}]),e}();t.exports=m},function(t,e){t.exports=function(t,e,i,n,r){return n+(r-n)*(t-e)/(i-e)}},function(t,e,i){"use strict";t.exports=i(1008)},function(t,e,i){"use strict";i(12).EventEmitterMicro;var n="Error: Element missing. ac-fullscreen requires an element to be specified",r=i(1009).create();function o(){throw new Error(n)}var s={requestFullscreen:function(t){return t||o(),r.requestFullscreen(t)},fullscreenEnabled:function(t){return t||o(),r.fullscreenEnabled(t)},fullscreenElement:function(){return r.fullscreenElement()},exitFullscreen:function(t){return t||o(),r.exitFullscreen(t)},getMode:function(){return r.mode},on:function(){return r.on.apply(r,arguments)},off:function(){return r.off.apply(r,arguments)},once:function(){return r.once.apply(r,arguments)}};t.exports=s},function(t,e,i){"use strict";var n=i(1010),r=i(1014);t.exports={create:function(){var t=r;return"webkitEnterFullscreen"in document.createElement("video")&&!("webkitRequestFullScreen"in document.createElement("div"))&&(t=n),t}}},function(t,e,i){"use strict";var n,r=i(143),o=i(12).EventEmitterMicro,s=i(521),a=i(522);function l(t){c.trigger(s.ENTERFULLSCREEN,t)}function u(t){n=void 0,c.trigger(s.EXITFULLSCREEN,t)}r(document,"webkitbeginfullscreen",l,!0),r(document,"webkitendfullscreen",u,!0);var c=new o;c.fullscreenEnabled=function(t){return!!t.webkitSupportsFullscreen},c.fullscreenElement=function(){return n},c.exitFullscreen=function(t){t&&"function"==typeof t.webkitExitFullscreen&&t.webkitExitFullscreen()},c.requestFullscreen=function(t){"function"==typeof t.webkitEnterFullscreen&&t.webkitEnterFullscreen()},c.mode=a.IOS,t.exports=c},,,,function(t,e,i){"use strict";var n=i(143),r=i(12).EventEmitterMicro,o=i(521),s=i(522),a=new r;function l(t){a.fullscreenElement()?function(t){a.trigger(o.ENTERFULLSCREEN,t)}(t):function(t){a.trigger(o.EXITFULLSCREEN,t)}(t)}n(document,"fullscreenchange",l),a.fullscreenEnabled=function(t){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},a.fullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement},a.exitFullscreen=function(t){var e;"function"==typeof document.exitFullscreen?e="exitFullscreen":"function"==typeof document.webkitExitFullscreen?e="webkitExitFullscreen":"function"==typeof document.webkitCancelFullScreen?e="webkitCancelFullScreen":"function"==typeof document.mozCancelFullScreen?e="mozCancelFullScreen":"function"==typeof document.msExitFullscreen&&(e="msExitFullscreen"),"function"==typeof document[e]&&document[e].call(document)},a.requestFullscreen=function(t){var e;"function"==typeof t.requestFullscreen?e="requestFullscreen":"function"==typeof t.webkitRequestFullscreen?e="webkitRequestFullscreen":"function"==typeof t.webkitRequestFullScreen?e="webkitRequestFullScreen":"function"==typeof t.mozRequestFullScreen?e="mozRequestFullScreen":"function"==typeof t.msRequestFullscreen&&(e="msRequestFullscreen"),"function"==typeof t[e]&&t[e].call(t)},a.mode=s.STANDARD,t.exports=a},,,,,,,,,function(t,e,i){"use strict";var n=i(1024),r=i(1025);function o(t){return new RegExp("".concat(t,"[a-zA-Z\\s/\\:]+([0-9_/\\.]+)"),"i")}function s(t,e){if("function"==typeof t.parseVersion)return t.parseVersion(e);var i=t.version||t.userAgent;"string"==typeof i&&(i=[i]);for(var n,r=i.length,s=0;s<r;s++)if((n=e.match(o(i[s])))&&n.length>1)return n[1].replace(/_/g,".");return!1}function a(t,e,i){for(var n,r,o=t.length,a=0;a<o;a++)if("function"==typeof t[a].test?!0===t[a].test(i)&&(n=t[a].name):i.ua.indexOf(t[a].userAgent)>-1&&(n=t[a].name),n){if(e[n]=!0,"string"==typeof(r=s(t[a],i.ua))){var l=r.split(".");e.version.string=r,l&&l.length>0&&(e.version.major=parseInt(l[0]||0),e.version.minor=parseInt(l[1]||0),e.version.patch=parseInt(l[2]||0))}else"edge"===n&&(e.version.string="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0");return"function"==typeof t[a].parseDocumentMode&&(e.version.documentMode=t[a].parseDocumentMode()),e}return e}t.exports=function(t){var e={};return e.browser=a(r.browser,n.browser,t),e.os=a(r.os,n.os,t),e}},function(t,e,i){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},function(t,e,i){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(t){return t.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===t.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(t){return t.ua.indexOf("Firefox")>-1&&-1===t.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(t){return t.ua.indexOf("Safari")>-1&&t.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(t){return t.ua.indexOf("IE")>-1||t.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var t=!1;return document.documentMode&&(t=parseInt(document.documentMode,10)),t}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(t){return t.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(t){return t.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(t){return t.ua.indexOf("iPhone")>-1||t.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(t){return(t.ua.indexOf("Linux")>-1||t.platform.indexOf("Linux")>-1)&&-1===t.ua.indexOf("Android")}},{name:"fireos",test:function(t){return t.ua.indexOf("Firefox")>-1&&t.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(t){return t.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},,,,,,,function(t,e,i){"use strict";var n=["keyLocation"];function r(t){var e;for(e in this.originalEvent=t,t)-1===n.indexOf(e)&&"function"!=typeof t[e]&&(this[e]=t[e]);this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}r.prototype={preventDefault:function(){if("function"==typeof this.originalEvent.preventDefault)return this.originalEvent.preventDefault();this.originalEvent.returnValue=!1},stopPropagation:function(){return this.originalEvent.stopPropagation()}},t.exports=r},,function(t,e,i){"use strict";t.exports=["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","*[tabindex]","*[contenteditable]"]},function(t,e,i){"use strict";var n=function(t,e){if("string"==typeof e)for(var i=e.split(/\s+/),n=0;n<i.length;n++)t.getAttribute(i[n])&&t.removeAttribute(i[n])};t.exports=function(t,e){if(t.length)for(var i=0;i<t.length;i++)n(t[i],e);else n(t,e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";t.exports=function(t){if("function"==typeof t.select){t.select()||t.setSelectionRange(0,t.value.length)}else{var e=document.createRange();e.selectNodeContents(t);var i=window.getSelection();i.removeAllRanges(),i.addRange(e)}}},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(1089);t.exports=function(t){return new n(t)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o,s=i(124),a=i(65),l=i(12).EventEmitterMicro,u=i(335),c=i(143),h=i(233),d=i(1091);try{o=i(338)}catch(t){d.log(t.message)}var p={dataAttribute:"analytics-share",interactionEvents:["click"],autoEnable:!0},f=function(t){t=t||{},this.options=s(p,t),l.call(this),this.elements=[],this.eventObserver=null,this.publishShareClick=this.publishShareClick.bind(this),this.options.autoEnable&&this.enable()},m=l.prototype,_=f.prototype=a(m);_.enable=function(){if(!o)return!1;this._createObserver(),this.bindEventListener()},_.disable=function(){if(!o)return!1;this.unbindEventListener()},_.bindEventListener=function(){var t;this.elements=this.populateElements(),t=this.elements.length;for(var e=0;e<t;e++)c(this.elements[e],"click",this.publishShareClick)},_.unbindEventListener=function(){for(var t=this.elements&&this.elements.length?this.elements.length:0,e=0;e<t;e++)h(this.elements[e],"click",this.publishShareClick)},_.populateElements=function(){return u("[data-"+this.options.dataAttribute+"]",this.options.context||document)},_.publishShareClick=function(t){var e=t.currentTarget,i=this.parseDataAttribute(e.getAttribute("data-"+this.options.dataAttribute));if("object"===r(i)){if(!i.title)return console.log("data-"+this.options.dataAttribute+" attribute must have a `title` property"),!1;this.trigger("click",i)}},_.parseDataAttribute=function(t){var e={};try{e=JSON.parse(t)}catch(t){console.log("data-"+this.options.dataAttribute+" must be a valid JSON string")}return e},_.destroy=function(){this.disable(),this.elements=[],this.eventObserver=null,this.publishShareClick=null,this.options=null},_._createObserver=function(){if(!o||!o.observer||!o.observer.Event)return!1;this.eventObserver=new o.observer.Event(this,this.options)},t.exports=f},function(t,e,i){"use strict";i(228);var n=i(101),r=i(547),o=i(232),s=function(t,e){var i;if(e===document)return!0;for(i=t;(i=i.parentNode)&&n(i);)if(i===e)return!0;return!1},a=function(t){"recalc"in t?t.recalc(!1):document.recalc(!1),window.scrollBy(0,0)};t.exports=function(t,e){var i,n=document.createElement("style"),l="_ac_qsa_"+(Math.random()+"").slice(-6),u=[];for(e=e||document,document[l]=[],r(e)?e.appendChild(n):document.documentElement.firstChild.appendChild(n),n.styleSheet.cssText="*{display:recalc;}"+t+'{ac-qsa:expression(document["'+l+'"] && document["'+l+'"].push(this));}',a(e);document[l].length;)(i=document[l].shift()).style.removeAttribute("ac-qsa"),-1===u.indexOf(i)&&s(i,e)&&u.push(i);return document[l]=null,o(n),a(e),u}},function(t,e,i){"use strict";t.exports={log:i(1092)}},function(t,e,i){"use strict";var n=!!function(){try{return window.localStorage.getItem("f7c9180f-5c45-47b4-8de4-428015f096c0")}catch(t){}}();t.exports=function(){window.console&&void 0!==console.log&&n&&console.log.apply(console,Array.prototype.slice.call(arguments,0))}},,,function(t,e,i){"use strict";t.exports=function(t){var e,i=document.createDocumentFragment();if(t)for((e=document.createElement("div")).innerHTML=t;e.firstChild;)i.appendChild(e.firstChild);return i}},function(t,e,i){"use strict";var n=i(340),r=i(341).ELEMENT;t.exports=function(t,e){return e=e||r,(t=Array.prototype.slice.call(t)).filter(function(t){return n(t,e)})}},function(t,e,i){"use strict";var n=i(235);t.exports=function(t,e){return n.insertNode(t,"insertAfter"),n.childNode(e,"insertAfter"),n.hasParentNode(e,"insertAfter"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)}},function(t,e,i){"use strict";var n=i(235);t.exports=function(t,e){return n.insertNode(t,"insertBefore"),n.childNode(e,"insertBefore"),n.hasParentNode(e,"insertBefore"),e.parentNode.insertBefore(t,e)}},function(t,e,i){"use strict";var n=i(235);t.exports=function(t,e){return n.insertNode(t,"insertFirstChild"),n.parentNode(e,"insertFirstChild"),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=/^\[object (HTMLCollection|NodeList|Object)\]$/;t.exports=function(t){return!!t&&("number"==typeof t.length&&(!!("object"!==r(t[0])||t[0]&&t[0].nodeType)&&o.test(Object.prototype.toString.call(t))))}},function(t,e,i){"use strict";var n=i(235);t.exports=function(t,e){return n.insertNode(t,"insertFirstChild","newNode"),n.childNode(e,"insertFirstChild","oldNode"),n.hasParentNode(e,"insertFirstChild","oldNode"),e.parentNode.replaceChild(t,e)}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=i(1103),a=i(1104),l=i(1151),u=i(27),c="Tracker",h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"function"==typeof a[e]?this.plugin=new a[e]:u.log(c,null,'Could not create a Tracker. "'+e+'" is not a valid plugin'),u.exception||(this.paused=!1,this._queue=new s,this.trackGeneric=this.trackGeneric.bind(this),this.resume())}return function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(t,[{key:"track",value:function(t){var e;t&&"object"===r(t)&&t.type||u.log(c,"track",t+" is not a valid request object"),u.exception||(e=l.translate(t),e=this.plugin.translate(e),this._queue.add(e),!0!==this.paused?this._run():this._queue.collect())}},{key:"isPaused",value:function(){return this.paused}},{key:"resume",value:function(){this._queue.load(),0!==this._queue.size()&&(this.paused=!1,this._run())}},{key:"_run",value:function(){if(0!==this._queue.size()){var t=this._queue.peek().options||{};void 0===t.async&&(t.async=!0),(!1===t.async?this.sync(this.send.bind(this)):this.async(this.send.bind(this))).then(function(){!this.paused&&this._queue.size()>0&&this._run()}.bind(this))}}},{key:"send",value:function(){if("function"!=typeof this.plugin.submit&&u.log(c,"send","provided plugin does not contain a valid submit method"),!u.exception&&0!==this._queue.size()){var t=this._queue.peek();this.plugin.submit(t),this._queue.remove()}}},{key:"pause",value:function(){!0!==this.paused&&this.canPause()&&(this._queue.size()>0&&this._queue.save(),this.paused=!0)}},{key:"canPause",value:function(){return this._queue.canSave()}},{key:"async",value:function(t){if(t&&"function"==typeof t||u.log(c,"async",'Provided callback "'+t+'" is not a function'),!u.exception)return new Promise(function(e){setTimeout(function(){t(),e()},0)})}},{key:"sync",value:function(t){if(t&&"function"==typeof t||u.log(c,"sync",'Provided callback "'+t+'" is not a function'),!u.exception)return new Promise(function(e){t(),e()})}},{key:"trackGeneric",value:function(t,e){var i={data:t,type:"event",options:e||{}};this.track(i)}}]),t}();t.exports=h},function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(145).localStorage,o=i(145).jsonEncoder,s=i(27),a=i(171).analyticsQueueStorageKey,l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._storage=r,this._arr=[],this._length=0}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"add",value:function(t){t||s.log("Queue","add",t+" is not a valid object"),s.exception||(this._arr.push(t),this._updateQueueSize())}},{key:"remove",value:function(){this.size()>0&&(this._arr.shift(),this._updateQueueSize())}},{key:"reset",value:function(){this._arr=[],this._length=0}},{key:"peek",value:function(){if(this.size()>0)return this._arr[0]}},{key:"isEmpty",value:function(){return 0===this.size()}},{key:"size",value:function(){return this._length}},{key:"load",value:function(){var t=this._storage.get(a);(t=o.decode(t))&&t&&Array.isArray(t)&&(this._arr=t,this._storage.remove(a),this._updateQueueSize())}},{key:"save",value:function(){this._storage.set(a,o.encode(this._arr)),this.reset()}},{key:"collect",value:function(){var t=this._arr,e=o.decode(this._storage.get(a));Array.isArray(e)&&(t=e.concat(t)),this._storage.set(a,o.encode(t)),this.reset()}},{key:"canSave",value:function(){return""!==r.get("storagetest")}},{key:"_updateQueueSize",value:function(){this._length=this._arr.length}}]),t}();t.exports=l},function(t,e,i){t.exports={appMeasurement:i(1105)}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=i(27),l=i(342),u=i(344),c=i(127),h=i(1137),d=i(1138),p=i(1148),f=i(238),m=i(171),_=i(346),y=/apple.com.cn$/,g=["us","au|ca|cn|de|es|fr|it|jp|uk","ap|at|bf|bl|br|ce|cr|dk|fi|hk|ie|in|kr|la|mx|nl|no|nz|pl|pt|ru|se|sg|th|tw|za"],b=["apple.com","apple.com.cn"],v="AppMeasurementPlugin",E=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a.exception||(this._replaceTemplateVars=this._replaceTemplateVars.bind(this),this._initializePlugin(u.getMetadata()))}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"reset",value:function(){this.destroyAppMeasurement(),this._initializePlugin(u.refreshMetadata(),{force:!0})}},{key:"_initializePlugin",value:function(t,e){this.setPageMetadata(t),this.setFormattedValues(),this.setTemplateVars(),this.formattedValues.channel=this._replaceTemplateVars(this.formattedValues.channel),this.initializeAppMeasurement(t,e)}},{key:"initializeAppMeasurement",value:function(t,e){(e=e||{}).bucket=this.getBucket(t),e.channel=this.formattedValues.channel,e.pageName=this.formattedValues.pageName,e.linkInternalFilters=this.getLinkInternalFilters(),e.trackingDomain=this.getTrackingDomain(),e.subdomains=this.getSubDomains(),e.subdomainSupportedDomains=b,e.acAnalyticsVersion=m.acAnalyticsVersion,_.updateCookieOptions(e.trackingDomain),l.init(e)}},{key:"getTrackingDomain",value:function(){return y.test(window.location.hostname)?"apple.com.cn":"apple.com"}},{key:"getSubDomains",value:function(){return["www","images","movies","ssl","search","partner-relay"]}},{key:"setPageMetadata",value:function(t){this.pageMetadata=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){o(t,e,i[e])})}return t}({},t),this.pageMetadata.platform=h.platform(),this.pageMetadata.campaign=h.campaign(t),this.pageMetadata.channel=h.channel(t),this.pageMetadata.pageName=c.lowerCaseString(this.pageMetadata.pageName),this.pageMetadata.locale=c.lowerCaseString(this.pageMetadata.locale)}},{key:"setFormattedValues",value:function(){this.formattedValues={pageName:c.pageName(this.pageMetadata.pageName,this.pageMetadata.locale),channel:c.channel(this.pageMetadata.channel,this.pageMetadata.locale),productName:c.productName(this.pageMetadata.productName),countryCodeFilter:c.countryCodeFilter(this.pageMetadata.locale),legacyCountryCode:c.legacyCountryCode(this.pageMetadata.locale),campaign:this.pageMetadata.campaign,platform:this.pageMetadata.platform}}},{key:"setTemplateVars",value:function(){this.templateVarArr=f.set(this.formattedValues,this.pageMetadata)}},{key:"destroyAppMeasurement",value:function(){var t=l.getInstance();"object"===r(t)&&(t.ac_amt.destroy(),t.manageVars("clearVars"),t.tcall=void 0,t.pageURL=t.g_prop6=t.g_pageURL=t.g_channel="")}},{key:"translate",value:function(t){if(t&&"object"===r(t)||a.log(v,"translate","Request param (".concat(t,") is not an object")),!a.exception)return t=d.translate(t,this.formattedValues,this.pageMetadata)}},{key:"submit",value:function(t){var e,i=l.getInstance();t&&"object"===r(t)||a.log(v,"submit","Request param (".concat(t,") is not an object")),a.exception||(t.type&&"string"==typeof t.type||a.log(v,"submit",'property "type" ('.concat(t.type,'") must be a string')),window.s&&"object"===r(window.s)||a.log(v,"submit","appMeasurement (".concat(window.s,") is not an object")),a.exception||(e=t.options||{},this._setAppMeasurementProps(t),!0!==e.silent&&t.submitMethod&&p[t.submitMethod]&&p[t.submitMethod](t,this.formattedValues,i)))}},{key:"getLinkInternalFilters",value:function(){var t;return"us"!==this.formattedValues.countryCodeFilter&&(t=this.formattedValues.countryCodeFilter),t}},{key:"_setAppMeasurementProps",value:function(t){var e=t.properties||{},i=l.getInstance();for(var n in i.linkTrackEvents="",t.data.linkTrackVars=t.data.linkTrackVars||[],e)"events"===n&&(i.linkTrackEvents=e[n].replace(/=([^,]+)/g,"")),"title"!==n&&(t.data.linkTrackVars.push(n),i[n]=e[n])}},{key:"getBucket",value:function(t){for(var e=g.length,i=2,n=0;n<e;n++)if(-1!==g[n].indexOf(this.formattedValues.legacyCountryCode)){i=n;break}var r=h.bucket(i,t),o=this._replaceTemplateVars(r),s=this._replaceTemplateVars(h.bucketProduct(i,t)),a=this._replaceTemplateVars(h.bucketStore(t));return o+(s?","+s:"")+(a?","+a:"")}},{key:"_replaceTemplateVars",value:function(t){return f.translate(t,this.templateVarArr)}}]),t}();t.exports=E},,,,,,,,,,,,,function(t,e,i){"use strict";t.exports=window.Element?function(t){return t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector}(Element.prototype):null},function(t,e,i){"use strict";var n=i(335);t.exports=function(t,e){var i,r=t.parentNode||document,o=n(e,r);for(i=0;i<o.length;i++)if(o[i]===t)return!0;return!1}},function(t,e,i){"use strict";t.exports=function(t,e){return t!==e&&("contains"in t?t.contains(e):!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY))}},,,,,,,,,,,,,,,,,function(t,e,i){var n=i(27),r={channel:"sChannel",campaign:"sCampaign",bucket:"sBucket",bucketProduct:"sBucketProduct",bucketStore:"sBucketStore"},o="AppMeasurementPluginMetadataHelper";t.exports={channel:function(t){var e=t[r.channel];if(e||n.log(o,"channel","analytics-s-channel metadata tag must exist"),!n.exception)return e=e.toLowerCase().split(" ").join(".")},bucket:function(t,e){var i=r.bucket+t;if(e[i]||n.log(o,"bucket","analytics-s-bucket-"+t+" metadata tag must exist"),!n.exception)return e[i]},bucketProduct:function(t,e){return e[r.bucketProduct+t]},bucketStore:function(t){return t[r.bucketStore]||""},platform:function(){var t="other",e=navigator.userAgent,i={"mobile other":"/(kindle|silk-accelerated|android|webos|rim tablet os|windows phone)/i",windows:/windows/i,"iphone/ipod touch":/(iphone|ipod)/i,ipad:/(ipad)/i,Mac:/Mac OS X/i};for(var n in i)if(e.match(i[n])){t=n;break}return t},campaign:function(t){return t[r.campaign]||""}}},function(t,e,i){var n={gallery:i(1139),link:i(1140),click:i(1143),page:i(1144),section:i(1145),video:i(1146),event:i(1147)};t.exports={translate:function(t,e,i){var r=t;return t.type&&n[t.type]&&(r=n[t.type].translate(t,e,i)),r},components:n}},function(t,e,i){var n=i(127),r=i(103);t.exports={translate:function(t,e,i){var o,s,a,l=t,u=l.data,c={click:"ci",keydown:"ki",swipe:"si",dotnav:"bi",thumbnav:"ci",tabnav:"ci",paddlenav:"pi",auto:"ai"},h={};return function(t){t.prop16=t.eVar16=""}(h),c[u.incomingInteractionType]&&(s=c[u.incomingInteractionType]),void 0===s&&(s="ci"),c[u.outgoingInteractionType]&&(o=c[u.outgoingInteractionType]),void 0===o&&(o="ci"),a=i.pageName+r.hyphen+t.options.galleryName+r.hyphen,h.prop2=n.eventString(o,"")+a+u.outgoing.id,h.prop3=h.title=n.eventString(s,"")+a+u.incoming.id,!0===u.galleryFirstTimeTrigger&&(h.prop16="gallery interaction",h.eVar16=(t.options.galleryName?t.options.galleryName+" ":"")+"gallery interaction",h.events="event1"),l.properties=h,l.submitMethod="tl",l}}},function(t,e,i){var n=i(558),r=i(103),o=i(127),s=i(345),a=i(237),l=i(238),u=i(1142);t.exports={translate:function(t,e,i){var c=t,h=s.getLinkHref(c.data.targetEl);return c.properties={},c.options.async=n.async(c.data),function(t,e,i){var n="",s=function(t,e){var i=e.pageName+r.hyphen+t.linkText,n=t.linkImg||t.linkText||t.linkId||"";return t.region&&(i=o.eventString(t.region.charAt(0),n)),i}(t.data,e);(i.indexOf("http://")>-1||i.indexOf("https://")>-1)&&(n=r.hyphen+(i.split("/")[2].split(".")[0]+" link")),t.properties.title=s+n}(c,i,h),function(t,e,i){var n,r=t.data.targetEl.getAttribute("data-"+t.options.dataAttribute),o=l.set(e,i);if(r)for(var s in n=a(r))n.hasOwnProperty(s)&&(t.properties[s]=n[s],"string"==typeof t.properties[s]&&(t.properties[s]=l.translate(t.properties[s],o)))}(c,e,i),u(c.data,e,h),c.submitMethod="tl",c}}},function(t,e){t.exports=new RegExp(/^(https?:\/\/.*\.apple\.com)?(\/[a-z\-_0-9]*)?\/shop(\/.*)?$/i)},function(t,e,i){var n=i(346).setSharedCookie,r=i(171).appleMetricsStorageKey,o=i(145).localStorage,s=i(127),a=i(103);t.exports=function(t,e){var i,l={},u={},c=s.getRegionAncestry(t),h=t.targetEl.getAttribute("data-label")||"";t.region&&(l.prop25=u.region=t.region),u.pageName=e.pageName||"",u.linkText=t.linkText||"",l.eVar1=u.pageName+a.pipe+c+u.linkText,l.prop57=e.channel||"","search"===t.region&&(u.prop7="www"+a.colon+h,u.eVar2=h,u.events="event8"),i=JSON.stringify(u),n(l),o.set(r,i)}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(558),s=i(103),a=i(127);t.exports={translate:function(t,e,i){var n=t;return n.properties={},function(t,e,i){var n=t.data.linkText.toLowerCase(),o=i.pageName+s.hyphen+(t.data.linkImg||n),l=a.getRegionAncestry(t.data);t.properties.title=o,t.properties.prop3=o,t.properties.eVar1=e.pageName+s.pipe+l+n,function(t){if(t.data.dataAnalyticsClick||"object"===r(t.data.dataAnalyticsClick)){for(var e in t.data.dataAnalyticsClick)t.properties[e]=t.data.dataAnalyticsClick[e];!function(t){t.data.dataAnalyticsClick.prefix&&t.properties.prop3&&a.eventString(t.data.dataAnalyticsClick.prefix,t.properties.prop3)}(t)}}(t)}(n,e,i),n.options.async=o.async(n.data),n.submitMethod="tl",n}}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(346).getSharedCookie,s=i(171).appleMetricsStorageKey,a=i(103),l=i(145).localStorage,u=i(238),c=i(27),h="AppMeasurementPageTranslator",d="sPageTrackingData";function p(t,e,i){void 0===t[e]&&(t[e]=i)}t.exports={translate:function(t,e,i){var n=t,f=u.set(e,i);return n.properties={},function(t){t.data.prop20=t.data.prop20||"AOS"+a.colon+"{COUNTRY_CODE}"}(n),function(t,e,i,n){if("object"!==r(t.data)&&c.log(h,"_replaceTemplateVars",t.data+" is not a valid data object in the analytics request"),!c.exception)for(var o in t.data)t.data.hasOwnProperty(o)&&(t.properties[o]=t.data[o],"string"==typeof t.properties[o]&&(t.properties[o]=u.translate(t.properties[o],n)))}(n,0,0,f),function(t,e){"object"!==r(t.properties)&&c.log(h,"_setPageRequestProps",t.properties+" is not a valid properties object in the analytics request"),c.exception||(p(t.properties,"pageName",e.pageName),p(t.properties,"channel",e.channel),p(t.properties,"prop19",t.properties.prop20+a.colon+t.properties.pageName),p(t.properties,"eVar3",t.properties.prop20))}(n,e),function(t){var e=function(){var t,e;t=l.get(s),e=function(t,e){var i;return e&&(t.remove(s),i=JSON.parse(e)),i}(l,t);var i=o();return Object.assign({},e,i)}()||{};p(t.properties,"prop25",function(t){var e=function(){var t,e=document.referrer,i=window.location.host;return e||(t="direct entry"),e&&""!==e&&-1===e.split("?")[0].indexOf(i)&&(t="third party"),t}();return t.prop25?t.prop25:e||"other nav or none"}(e)),p(t.properties,"prop57",e.prop57),p(t.properties,"eVar1",e.eVar1),p(t.properties,"products",e.products),p(t.properties,"eVar2",e.eVar2),p(t.properties,"prop7",e.prop7),e.events&&p(t.properties,"events",e.events)}(n),function(t,e,i){if(d in e){var n;try{n=JSON.parse(e[d])}catch(t){c.warn(h,"_setCustomProps","JSON.parse had an error with the input of: \n\n"+e[d]+"\n\nIs it in proper JSON format? \n\nOriginal error:\n"+t)}if(n&&"object"===r(n)&&!Array.isArray(n))for(var o in n){var s=void 0;n.hasOwnProperty(o)&&(s="string"==typeof n[o]?u.translate(n[o],i):n[o],t.properties[o]=s)}}}(n,i,f),n.submitMethod="t",n}}},function(t,e,i){var n=i(103);t.exports={translate:function(t,e,i){var r=t,o=r.data.element,s={},a=o.name||o.id||"",l=o.thresholdExitTime-o.thresholdEnterTime,u="",c="";if(o.element&&o.element.position&&(u=o.element.position+n.dot+n.space,c=n.space+n.dot+o.element.position),s.prop34=s.title=u+i.pageName+n.hyphen+a+n.hyphen+"section engaged"+c,s.prop35=(l/1e3).toFixed(2),r.properties=s,s.prop35){var h="event243="+s.prop35;r.properties.events=h+",event244"}return r.submitMethod="tl",r}}},function(t,e,i){var n=i(127),r=i(103);function o(t,e){t.events?t.events+=","+e:t.events=e}t.exports={translate:function(t,e,i){var s=t,a=s.data,l={started:"s",ended:"e",texttrackshow:"ce",seeked:"sk",milestone:"m"};l[a.eventType]?s.options.silent=!1:s.options.silent=!0;var u=i.pageName+r.hyphen+a.videoId,c=function(t,e,i){var r=n.eventString("v",i),o=null;return t.hasOwnProperty("milestone")&&!isNaN(t.milestone)&&(o=100*t.milestone),null!==o&&(r+=o),r+=": "+e}(a,u,a.eventType&&l[a.eventType]?l[a.eventType]:a.eventType),h={};return function(t){t.prop16=t.eVar16=t.prop18=t.prop2=""}(h),h.title=h.prop13=c,h.eVar87=u,void 0!==a.duration&&s.options.trackDuration&&(h.eVar91=a.duration,o(h,"event233="+a.duration)),void 0!==a.currentTime&&"ended"!==a.eventType&&s.options.trackCurrentTime&&(h.eVar92=a.currentTime,o(h,"event69="+a.currentTime)),a.src&&(h.eVar95=a.src),"started"===a.eventType&&(h.prop16=h.eVar16="video plays",o(h,"event2")),"ended"===a.eventType&&(h.prop16=h.eVar16="video ends",o(h,"event72"),void 0!==a.duration&&s.options.trackCurrentTime&&(h.eVar92=a.duration,o(h,"event69="+a.duration))),"texttrackshow"===a.eventType&&(h.title=h.prop2=u+r.hyphen+"cc",h.prop13=""),"milestone"!==a.eventType&&"seeked"!==a.eventType||(function(t,e,i){var n;n=e.seeked?t[e.milestone].seek:t[e.milestone].play,o(i,n)}({0:{play:null,seek:"event214"},.1:{play:"event73",seek:"event215"},.25:{play:"event74",seek:"event216"},.5:{play:"event75",seek:"event217"},.75:{play:"event76",seek:"event218"},.9:{play:"event77",seek:"event219"}},a,h),h.prop13=""),"milestone"===a.eventType&&(h.prop16=h.eVar16="video milestone"),"seeked"===a.eventType&&(h.eVar96=""+100*a.milestone,h.prop16=h.eVar16="video seek"),a.videoType&&a.playerType&&(h.prop18=a.videoType+" via "+a.playerType),s.properties=h,s.submitMethod="tl",s}}},function(t,e,i){var n=i(238);t.exports={translate:function(t,e,i){var r=t,o=r.data,s=n.set(e,i),a={};for(var l in o)a[l]=o[l],"string"==typeof a[l]&&(a[l]=n.translate(a[l],s));return r.properties=a,r.submitMethod="tl",r}}},function(t,e,i){var n=i(1149),r=i(1150);t.exports={t:n,tl:r}},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return(n="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)})(t)}t.exports=function(t,e,i){"object"===n(i)&&"function"==typeof i.t&&(i.tcall=!0,i.t())}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(27),s="appMeasurementPluginSubmitMethodtl",a=i(345);function l(t){return!!t&&!0!==a.isIntraPageLink(t)}t.exports=function(t,e,i){var n,a;if("object"===r(i)&&"function"==typeof i.tl){if("object"!==r(t.data)&&o.log(s,"submit","Request param data (".concat(t.data,") is not an object")),"string"!=typeof t.properties.title&&o.log(s,"submit","Request param title (".concat(t.properties.title,") is not a string")),o.exception)return;i.linkTrackVars="eVar54,eVar49",t.data.linkTrackVars&&t.data.linkTrackVars.length>0&&(i.linkTrackVars+=","+t.data.linkTrackVars.join(",")),n=t.data.linkType||"o",a=function(t){return!0!==l(t)||t}(t.data.targetEl),i.forcedLinkTrackingTimeout=function(t){var e=0,i=t.data.targetEl;return(t.type&&"link"===t.type||"click"===t.type)&&!0===l(i)&&(e=500),e}(t),i.tl(a,n,t.properties.title),function(t){t.linkTrackVars="",t.linkTrackEvents=""}(i)}}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(27),s={gallery:i(1152),link:i(1153),click:i(1154),page:i(1160),section:i(1161),video:i(1162),event:i(1163)};t.exports={translate:function(t){var e=t;if(t.type&&s[t.type]){if("object"!==r(t.data)&&o.log("Translator","translate","request.data ("+t.data+") must be an object"),o.exception)return;e=s[t.type].translate(t)}return e},components:s}},function(t,e,i){var n=i(556),r={click:function(t){return function(t){var e=!1,i=o(t);i&&(e=function(t){var e,i,r=null,o=["dotnav","thumbnav","paddlenav","tabnav"],s=n(t,".dotnav, .thumbnav, .paddlenav, .tabnav, [data-analytics-gallery-interaction-type]");if(s)if(s.hasAttribute("data-analytics-gallery-interaction-type"))r=s.getAttribute("data-analytics-gallery-interaction-type");else for(e=s.className,i=0;i<o.length;i++)if(-1!==e.indexOf(o[i])){r=o[i];break}return r}(i));return e}(t)||"click"},auto:function(){return"auto"},keydown:function(){return"keydown"},touchend:function(){return"swipe"},touchstart:function(){return"swipe"},touchmove:function(){return"swipe"}};function o(t){var e=t.data.interactionEvent,i=!1;return e&&(i=e.target||e.srcElement),i}t.exports={translate:function(t){var e=function(t){var e=t.data,i="auto";return e.interactionEvent&&e.interactionEvent.type&&(i=e.interactionEvent.type),i}(t),i=e,n=t.observer,s=t;return r[e]&&(i=r[e](t)),s.data.targetEl=o(t),s.data.slideInViewTime=function(t){return t.data.incomingSlideTimestamp-t.data.outgoingSlideTimestamp}(t),s.data.outgoingInteractionType=t.observer.outgoingSlideInteractionType,s.data.incomingInteractionType=i,s.data.galleryFirstTimeTrigger=function(t){var e=t.data.incomingInteractionType,i=t.observer,n=!1;return"auto"!==e&&-1===i.trackedInteractionTypes.indexOf(e)&&(n=!0,i.trackedInteractionTypes.push(e)),n}(s),n.outgoingSlideInteractionType=i,s}}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(239);t.exports={translate:function(t){var e,i=t,n=t.data.targetEl.querySelector("img"),s=o.getRegionByElement(t.data.targetEl),a=t.data.targetEl.getAttribute("data-"+t.options.titleDataAttribute);return i.data.linkText=a||("string"==typeof t.data.targetEl.innerText?t.data.targetEl.innerText.trim():t.data.targetEl.textContent.trim()),i.data.regionAncestry=o.getRegionAncestryByElement(t.data.targetEl),t.data.targetEl.id&&(i.data.linkId=t.data.targetEl.id),n&&(e=n.getAttribute("src"),i.data.linkImg=e.substring(e.lastIndexOf("/")+1,e.length),"string"==typeof i.data.linkImg&&(i.data.linkImg=i.data.linkImg.toLowerCase())),"object"===r(s)&&(i.data.region=s.name),i}}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(239),s=i(1155);t.exports={translate:function(t){var e,i=t,n=t.data.targetEl.querySelector("img"),a=o.getRegionByElement(t.data.targetEl),l=t.data.targetEl.getAttribute("data-"+t.options.titleDataAttribute),u=t.data.targetEl.getAttribute("data-"+t.options.dataAttribute),c=u?s(u,t.data.targetEl):"";return i.data.regionAncestry=o.getRegionAncestryByElement(t.data.targetEl),n&&(e=n.getAttribute("src"),i.data.linkImg=e.substring(e.lastIndexOf("/")+1,e.length),"string"==typeof i.data.linkImg&&(i.data.linkImg=i.data.linkImg.toLowerCase())),l?i.data.linkText=l:"string"==typeof t.data.targetEl.innerText?i.data.linkText=t.data.targetEl.innerText.trim():i.data.linkText=t.data.targetEl.textContent.trim(),"object"===r(a)&&(i.data.region=a.name),c&&(i.data.dataAnalyticsClick=c),i}}},function(t,e,i){var n=i(1156),r=i(237),o=i(234);t.exports=function(t,e){var i,s,a;return(i=n.parseTokens(t))&&0!==i.length?(s=function(t,e){var i,n={},r=e.length,s=0;if(o(t))for(s=0;s<r;s++)t.getAttribute(e[s])&&(i=t.getAttribute(e[s]),n[e[s]]=i);return n}(e,i),a=n.replace(t,s),r(a)):r(t)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=i(1157),a=i(1158),l=i(1159),u=i(27),c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.registry=l}return function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(t,[{key:"replace",value:function(t,e){if("string"!=typeof t&&u.log("TokenReplacer","replace",t+" is not a valid string"),!u.exception)return"object"===r(e)&&(t=this._replace(t,e)),this.registry.size()>0&&(t=this._replace(t,this.registry.tokens)),t}},{key:"parseTokens",value:function(t){var e,i=this;if("string"!=typeof t&&u.log("TokenReplacer","parseTokens",t+" is not a valid string"),!u.exception)return(e=t.match(s))?e.map(function(t){return i._removeCurlys(t)}):void 0}},{key:"_replace",value:function(t,e){var i=this;return t.replace(s,function(t){return"string"==typeof e[i._removeCurlys(t)]?e[i._removeCurlys(t)]:t})}},{key:"_removeCurlys",value:function(t){return(t=t.trim()).replace(a,"")}}]),t}();t.exports=new c},function(t,e){t.exports=new RegExp(/(\{[a-zA-Z][\w-]+?\})/g)},function(t,e){t.exports=new RegExp(/[{|}]/g)},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(27),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tokens={},this._size=0}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"setToken",value:function(t,e){"string"!=typeof t&&r.log("TokenRegistry","setToken","".concat(t," is not a valid string")),"string"!=typeof e&&r.log("TokenRegistry","setToken","".concat(e," is not a valid string")),r.exception||(this.tokens[t]=e,this._updateSize())}},{key:"removeToken",value:function(t){"string"!=typeof t&&r.log("TokenRegistry","removeToken",t+" is not a valid string"),this.tokens[t]||r.log("TokenRegistry","removeToken",t+" doesnt exist"),r.exception||(delete this.tokens[t],this._updateSize())}},{key:"getToken",value:function(t){if("string"!=typeof t&&r.log("TokenRegistry","getToken",t+" is not a valid string"),!r.exception)return this.tokens[t]}},{key:"size",value:function(){return this._size}},{key:"clear",value:function(){this.tokens={},this._size=0}},{key:"_updateSize",value:function(){this._size=Object.keys(this.tokens).length}}]),t}();t.exports=new o},function(t,e){t.exports={translate:function(t){return t}}},function(t,e){t.exports={translate:function(t){return t}}},function(t,e){var i={play:function(){return"started"},ended:function(){return"ended"},texttrackshow:function(t){return 0===t.data.ttShowCount?"texttrackshow":"texttrackshown"},milestone:function(t){return t.data.seeked?"seeked":"milestone"}},n={click:function(t){return t.data.event.type}};t.exports={translate:function(t){var e=t;return e.data.eventType=i[t.data.eventType]?i[t.data.eventType](t):t.data.eventType,t.data.event&&n[t.data.event.type]&&(e.data.interactionType=n[t.data.event.type](t)),isNaN(e.data.duration)?e.data.duration="unavailable":e.data.duration=Math.round(e.data.duration).toString(),isNaN(e.data.currentTime)?e.data.currentTime="unavailable":e.data.currentTime=Math.round(e.data.currentTime).toString(),e}}},function(t,e){t.exports={translate:function(t){return t}}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=i(27),l=i(76),u={interactionEvents:[],interactionEventCallbacks:{}},c="EventAnalyticsObserver",h=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&"object"===o(e)&&"function"==typeof e.on&&"function"==typeof e.off||a.log(c,null,e+" does not appear to be a valid EventEmitter"),this.options=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){r(t,e,i[e])})}return t}({},u,i),Array.isArray(this.options.interactionEvents)||a.log(c,null,this.options.interactionEvents+" is not an array"),this.tracker=l,this.targetObj=e,this._callbacks={},this.attachEvents()}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"attachEvents",value:function(){if(!a.exception){var t,e=this.options;e.interactionEvents.forEach(function(i){t="function"==typeof(t=e.interactionEventCallbacks[i])?t:this.track.bind(this),this._callbacks[i]=t,this.addListener(i,t)},this)}}},{key:"detachEvents",value:function(){Object.keys(this._callbacks).forEach(function(t){this.removeListener(t,this._callbacks[t])},this)}},{key:"addListener",value:function(t,e){this.targetObj.on(t,e)}},{key:"removeListener",value:function(t,e){this.targetObj.off(t,e)}},{key:"track",value:function(t){this.tracker.track({type:"event",data:t,options:this.options})}},{key:"destroy",value:function(){this.detachEvents(),this.options=null,this.tracker=null,this.targetObj=null,this._callbacks=null}}]),t}();t.exports=h},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=i(76),l=i(344).getMetadata(),u=i(27),c={trackAutoRotate:!1,beforeUpdateEvent:"willShow",afterUpdateEvent:"didShow"},h="GalleryAnalyticsObserver",d=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&"object"===o(e)||u.log(h,null,e+" is not an object"),this.options=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){r(t,e,i[e])})}return t}({},c,i),this.gallery=e,this.tracker=a,this.trackedInteractionTypes=[],this.outgoingSlideInteractionType="auto",this.incomingSlideTimestamp=l.initialTimeStamp,this._onUpdate=this._onUpdate.bind(this),this._onComplete=this.track.bind(this),this.addListener()}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"addListener",value:function(){u.exception||(this.options.beforeUpdateEvent&&this.gallery.on(this.options.beforeUpdateEvent,this._onUpdate),this.options.afterUpdateEvent&&this.gallery.on(this.options.afterUpdateEvent,this._onComplete))}},{key:"removeListener",value:function(){this.options.beforeUpdateEvent&&this.gallery.off(this.options.beforeUpdateEvent,this._onUpdate),this.options.afterUpdateEvent&&this.gallery.off(this.options.afterUpdateEvent,this._onComplete)}},{key:"_createInteractionEvent",value:function(t){var e=t.interactionEvent.originalEvent||t.interactionEvent;return e?{type:e.type,target:e.target,srcElement:e.srcElement}:null}},{key:"_onUpdate",value:function(t){this.interactionEvent=null,t.interactionEvent&&(this.interactionEvent=this._createInteractionEvent(t))}},{key:"_getSlideId",value:function(t){var e="",i=0;if(t&&Array.isArray(t)){i=t.length;for(var n=0;n<i;n++)if("function"==typeof t[n].getElement&&"function"==typeof t[n].getElementId){var r=t[n].getElement(),o=r?r.getAttribute("data-analytics-gallery-item-id"):null;e+=o?o+"-":t[n].getElementId()+"-"}}return e.slice(0,e.length-1)}},{key:"track",value:function(t){if(!1!==this.options.trackAutoRotate||t.interactionEvent&&(!t.interactionEvent.gallery||t.interactionEvent.gallery!==this.gallery)){var e=Object.assign({},t);e.interactionEvent=this.interactionEvent||this._createInteractionEvent(t),this.options.galleryName||u.log(h,"track",this.options.galleryName+" is not a valid gallery name"),u.exception||(e.incoming&&"string"!=typeof e.incoming.id&&(e.incoming.id=this._getSlideId(e.incoming)),e.outgoing&&"string"!=typeof e.outgoing.id&&(e.outgoing.id=this._getSlideId(e.outgoing)),this.outgoingSlideTimestamp=this.incomingSlideTimestamp,this.incomingSlideTimestamp=Date.now(),e.incomingSlideTimestamp=this.incomingSlideTimestamp,e.outgoingSlideTimestamp=this.outgoingSlideTimestamp,this.tracker.track({type:"gallery",data:e,observer:this,options:this.options}))}}},{key:"destroy",value:function(){this.gallery||u.log(h,"destroy",this.gallery+" is not an object"),u.exception||(this.removeListener(),this.options=null,this.tracker=null,this.gallery=null,this.trackedInteractionTypes=null,this.interactionEvent=null)}}]),t}();t.exports=d},function(t,e,i){var n=i(1167);t.exports=new n,t.exports.ElementEngagement=n},function(t,e,i){"use strict";var n,r=i(12).EventEmitterMicro,o={defaults:i(66),extend:i(124)},s=i(1168).ElementTracker,a={timeToEngage:500,inViewThreshold:.75,stopOnEngaged:!0},l={thresholdEnterTime:0,thresholdExitTime:0,inThreshold:!1,engaged:!1,tracking:!0},u=function(t){s.call(this,null,t),r.call(this),this._thresholdEnter=this._thresholdEnter.bind(this),this._thresholdExit=this._thresholdExit.bind(this),this._enterView=this._enterView.bind(this),this._exitView=this._exitView.bind(this)};n=u.prototype=Object.create(s.prototype),(n=o.extend(n,r.prototype))._decorateTrackedElement=function(t,e){var i;i=o.defaults(a,e||{}),o.extend(t,i),o.extend(t,l)},n._attachElementListeners=function(t){t.on("thresholdenter",this._thresholdEnter,this),t.on("thresholdexit",this._thresholdExit,this),t.on("enterview",this._enterView,this),t.on("exitview",this._exitView,this)},n._removeElementListeners=function(t){t.off("thresholdenter",this._thresholdEnter),t.off("thresholdexit",this._thresholdExit),t.off("enterview",this._enterView),t.off("exitview",this._exitView)},n._attachAllElementListeners=function(){this.elements.forEach(function(t){t.stopOnEngaged&&t.engaged||this._attachElementListeners(t)},this)},n._removeAllElementListeners=function(){this.elements.forEach(function(t){this._removeElementListeners(t)},this)},n._elementInViewPastThreshold=function(t){return t.pixelsInView===this._windowHeight||t.percentInView>t.inViewThreshold},n._ifInView=function(t,e){var i=t.inThreshold;s.prototype._ifInView.apply(this,arguments),!i&&this._elementInViewPastThreshold(t)&&(t.inThreshold=!0,t.trigger("thresholdenter",t),"number"==typeof t.timeToEngage&&t.timeToEngage>=0&&(t.engagedTimeout=window.setTimeout(this._engaged.bind(this,t),t.timeToEngage)))},n._ifAlreadyInView=function(t){var e=t.inThreshold;s.prototype._ifAlreadyInView.apply(this,arguments),e&&!this._elementInViewPastThreshold(t)&&(t.inThreshold=!1,t.trigger("thresholdexit",t),t.engagedTimeout&&(window.clearTimeout(t.engagedTimeout),t.engagedTimeout=null))},n._engaged=function(t){t.engagedTimeout=null,this._elementEngaged(t),t.trigger("engaged",t),this.trigger("engaged",t)},n._thresholdEnter=function(t){t.thresholdEnterTime=Date.now(),t.thresholdExitTime=0,this.trigger("thresholdenter",t)},n._thresholdExit=function(t){t.thresholdExitTime=Date.now(),this.trigger("thresholdexit",t)},n._enterView=function(t){this.trigger("enterview",t)},n._exitView=function(t){this.trigger("exitview",t)},n._elementEngaged=function(t){t.engaged=!0,t.stopOnEngaged&&this.stop(t)},n.stop=function(t){this.tracking&&!t&&(this._removeAllElementListeners(),s.prototype.stop.call(this)),t&&t.tracking&&(t.tracking=!1,this._removeElementListeners(t),this.removeElement(t))},n.start=function(t){t||this._attachAllElementListeners(),t&&!t.tracking&&(t.stopOnEngaged&&t.engaged||(t.tracking=!0,this._attachElementListeners(t))),this.tracking?(this.refreshAllElementMetrics(),this.refreshAllElementStates()):s.prototype.start.call(this)},n.addElement=function(t,e){e=e||{};var i=s.prototype.addElement.call(this,t,e.useRenderedPosition);return this._decorateTrackedElement(i,e),i},n.addElements=function(t,e){[].forEach.call(t,function(t){this.addElement(t,e)},this)},t.exports=u},function(t,e,i){var n=i(1169),r=i(566);t.exports=new n,t.exports.ElementTracker=n,t.exports.TrackedElement=r},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o={isNodeList:i(563),isElement:i(101)},s={getDimensions:i(347),getPagePosition:i(564),getScrollY:i(348)},a={clone:i(92),extend:i(124)},l=i(566),u={autoStart:!1,useRenderedPosition:!1};function c(t,e){this.options=a.clone(u),this.options="object"===r(e)?a.extend(this.options,e):this.options,this._scrollY=this._getScrollY(),this._windowHeight=this._getWindowHeight(),this.tracking=!1,this.elements=[],t&&(Array.isArray(t)||o.isNodeList(t)||o.isElement(t))&&this.addElements(t),this.refreshAllElementStates=this.refreshAllElementStates.bind(this),this.refreshAllElementMetrics=this.refreshAllElementMetrics.bind(this),this.options.autoStart&&this.start()}var h=c.prototype;h.destroy=function(){var t,e;for(this.stop(),t=0,e=this.elements.length;t<e;t++)this.elements[t].destroy();this.elements=null,this.options=null},h._registerTrackedElements=function(t){[].concat(t).forEach(function(t){this._elementInDOM(t.element)&&(t.offsetTop=t.element.offsetTop,this.elements.push(t))},this)},h._elementInDOM=function(t){var e=!1,i=document.getElementsByTagName("body")[0];return o.isElement(t)&&i.contains(t)&&(e=!0),e},h._elementPercentInView=function(t){return t.pixelsInView/t.height},h._elementPixelsInView=function(t){var e=t.top-this._scrollY,i=t.bottom-this._scrollY;return e>this._windowHeight||i<0?0:Math.min(i,this._windowHeight)-Math.max(e,0)},h._ifInView=function(t,e){e||t.trigger("enterview",t)},h._ifAlreadyInView=function(t){t.inView||t.trigger("exitview",t)},h.addElements=function(t,e){void 0===e&&(e=this.options.useRenderedPosition);for(var i=0,n=(t=o.isNodeList(t)?Array.prototype.slice.call(t):[].concat(t)).length;i<n;i++)this.addElement(t[i],e)},h.addElement=function(t,e){var i=null;if(void 0===e&&(e=this.options.useRenderedPosition),!o.isElement(t))throw new TypeError("ElementTracker: "+t+" is not a valid DOM element");return i=new l(t,e),this._registerTrackedElements(i),this.refreshElementMetrics(i),this.refreshElementState(i),i},h.removeElement=function(t){var e,i=[];this.elements.forEach(function(e,n){e!==t&&e.element!==t||i.push(n)}),e=this.elements.filter(function(t,e){return i.indexOf(e)<0}),this.elements=e},h.start=function(){!1===this.tracking&&(this.tracking=!0,window.addEventListener("resize",this.refreshAllElementMetrics),window.addEventListener("orientationchange",this.refreshAllElementMetrics),window.addEventListener("scroll",this.refreshAllElementStates),this.refreshAllElementMetrics())},h.stop=function(){!0===this.tracking&&(this.tracking=!1,window.removeEventListener("resize",this.refreshAllElementMetrics),window.removeEventListener("orientationchange",this.refreshAllElementMetrics),window.removeEventListener("scroll",this.refreshAllElementStates))},h.refreshAllElementMetrics=function(t,e){"number"!=typeof t&&(t=this._getScrollY()),"number"!=typeof e&&(e=this._getWindowHeight()),this._scrollY=t,this._windowHeight=e,this.elements.forEach(this.refreshElementMetrics,this)},h.refreshElementMetrics=function(t){if(!t.isActive)return t;var e=s.getDimensions(t.element,t.useRenderedPosition),i=s.getPagePosition(t.element,t.useRenderedPosition);return t=a.extend(t,e,i),this.refreshElementState(t)},h.refreshAllElementStates=function(t){"number"!=typeof t&&(t=this._getScrollY()),this._scrollY=t,this.elements.forEach(this.refreshElementState,this)},h.refreshElementState=function(t){if(!t.isActive)return t;var e=t.inView;return t.pixelsInView=this._elementPixelsInView(t),t.percentInView=this._elementPercentInView(t),t.inView=t.pixelsInView>0,t.inView&&this._ifInView(t,e),e&&this._ifAlreadyInView(t),t},h.pauseElementTracking=function(t){t&&(t.isActive=!1)},h.resumeElementTracking=function(t){t&&(t.isActive=!0)},h._getWindowHeight=function(){return window.innerHeight},h._getScrollY=function(){return s.getScrollY()},t.exports=c},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=i(27),l=i(76),u=i(234),c=i(567),h=i(1171)(),d=i(64),p="VideoAnalyticsObserver",f=[0,.1,.25,.5,.75,.9,1],m={mediaEvents:[],mediaEventCallbacks:{},dataAttribute:"analytics-id",trackCaptions:!0,trackMilestones:!0,trackSeeking:!0,trackDuration:!0,trackCurrentTime:!0,streamingVideo:!1},_=d.browser.ie,y=d.os.ios||d.os.android,g=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&"object"===o(e)||a.log(p,null,e+" is not an object"),this.options=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){r(t,e,i[e])})}return t}({},m,i),!0===this.options.streamingVideo&&(this.options.trackMilestones=!1,this.options.trackSeeking=!1,this.options.trackDuration=!1,this.options.trackCurrentTime=!1),Array.isArray(this.options.mediaEvents)||a.log(p,null,this.options.mediaEvents+" is not a valid media events array"),this.tracker=l,this.video=e,this.playCount=0,this.ttShowCount=0,this._callbacks={},this._events={play:"play",playing:"playing",pause:"pause",timeupdate:"timeupdate",seeking:"seeking",seeked:"seeked",ended:"ended",texttrackshow:"texttrackshow",PlayPromiseResolved:"PlayPromiseResolved"},this._onWebkitEndFullscreen=this._onWebkitEndFullscreen.bind(this),this._onPlayingFromStart=this._onPlayFromStart.bind(this),this._getPlayEventName=this._getPlayEventName.bind(this),this._initializeInDOM()}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"_initializeInDOM",value:function(){a.exception||(this.options.videoElement?this.videoElement=this.options.videoElement:this._isAcVideo()&&this._setVideoElement(),(this.options.trackMilestones||this.options.trackSeeking)&&this._setupMilestoneTracking(),this.attachEvents())}},{key:"_setupMilestoneTracking",value:function(){var t=this;this._milestoneTrackingTimeout=null,this._hadSeeked=!1,this._hadJustEnded=!1,this._milestoneTimeoutDuration=1e3,this._allVideoMilestone=this._createVideoMilestones(),this._activeVideoMilestones=[],this._milestonesSeeked=c(function(){t._hadSeeked||(t._hadJustEnded&&t._isAcVideo()?t._hadJustEnded=!1:(t._hadSeeked=!0,t._refreshMilestones(),t.videoElement&&!t.videoElement.paused&&(t._milestoneTimeoutDuration=2500,t._checkForMilestone())))},100),this._milestonesSeekedCancel=this._milestonesSeeked.cancel,this._bindMilestoneHandlers()}},{key:"_createVideoMilestones",value:function(){var t=[];return f.forEach(function(e,i){i!==f.length-1&&t.push([e,f[i+1]])}),t}},{key:"attachEvents",value:function(){var t,e=this.options;e.mediaEvents.forEach(function(i){t="function"==typeof(t=e.mediaEventCallbacks[i])?t:this._defaultTracking.bind(this,i),this._callbacks[i]=t,this.addListener(i,this._callbacks[i])}.bind(this)),this._attachDefaultEvents()}},{key:"_attachDefaultEvents",value:function(){this._prepareForPlayFromStart(),this.video.on(this._events.ended,this._onEnded,this),this.video.on(this._events.timeupdate,this._onTimeupdate,this),!0===this.options.trackCaptions&&this.video.on(this._events.texttrackshow,this._onTextTrackShow,this)}},{key:"detachEvents",value:function(){this.options.mediaEvents.forEach(function(t){this.removeListener(t,this._callbacks[t])}.bind(this)),this._detachPrivateEvents()}},{key:"_detachPrivateEvents",value:function(){this.video.off(this._events.play,this._onPlayFromStart,this),this.video.off(this._events.PlayPromiseResolved,this._onPlayingFromStart,this),this.video.off(this._events.ended,this._onEnded,this),this.video.off(this._events.timeupdate,this._onTimeupdate,this),this.video.off(this._events.texttrackshow,this._onTextTrackShow,this)}},{key:"_prepareForPlayFromStart",value:function(){this._playBound||((this.options.trackMilestones||this.options.trackSeeking)&&this._cleanUpMilestoneTracking(),_&&this._isAcVideo()&&this.ended?this.videoElement.addEventListener(this._events.playing,this._onPlayingFromStart):_?this.video.once(this._events.play,this._onPlayFromStart,this):this.video.once(this._getPlayEventName(),this._onPlayingFromStart,this),this._playBound=!0)}},{key:"_onPlayFromStart",value:function(t){if(!this.started){(this.options.trackMilestones||this.options.trackSeeking)&&(this._setVideoElement(),this.videoElement&&(_&&this._isAcVideo()&&this.ended&&this.videoElement.removeEventListener(this._events.playing,this._onPlayingFromStart),h&&!this._isAcVideo()&&this.videoElement.addEventListener("webkitendfullscreen",this._onWebkitEndFullscreen)),this._hadSeeked=!1,this._refreshMilestones(),this._startTrackingMilestones()),this._started=!0;var e=this._bundleTrackingData(this._events.play,t);e.playCount=this.playCount,this.track(e),this.playCount+=1,this._playBound=!1}}},{key:"_onWebkitEndFullscreen",value:function(){this._started=!1,this.videoElement&&this.videoElement.removeEventListener("webkitendfullscreen",this._prepareForPlayFromStart),this._prepareForPlayFromStart()}},{key:"_onTimeupdate",value:function(t){if(t.currentTime<.1){var e=!0;this.videoElement&&void 0!==o(this.videoElement.paused)&&(e=this.videoElement.paused),this.playCount>0&&this._started&&e&&(this._started=!1,this._prepareForPlayFromStart())}}},{key:"_onEnded",value:function(t){(this.options.trackMilestones||this.options.trackSeeking)&&(this._milestonesSeekedCancel(),this._hadJustEnded=!0),this._started=!1;var e=this._bundleTrackingData("ended",t);this.ended=!0,this.track(e),this._prepareForPlayFromStart()}},{key:"_onTextTrackShow",value:function(t){var e=this._bundleTrackingData(this._events.texttrackshow,t);e.ttShowCount=this.ttShowCount,this.track(e),this.ttShowCount+=1}},{key:"_setVideoElement",value:function(){this.video&&(void 0!==this.video.getMediaElement&&this.video.getMediaElement()?this.videoElement=this.video.getMediaElement():this.video.videoId&&(this.videoElement=document.querySelector('[data-analytics-video-id="'+this.video.videoId+'"] video')))}},{key:"_startTrackingMilestones",value:function(){this.videoElement&&(this._setMilestoneEventListeners(),this._checkForMilestone())}},{key:"_bindMilestoneHandlers",value:function(){this._milestonesSeeking=this._milestonesSeeking.bind(this),this._milestonesSeeked=this._milestonesSeeked.bind(this),this._milestonesPlay=this._milestonesPlay.bind(this),this._milestonesPause=this._milestonesPause.bind(this)}},{key:"_setMilestoneEventListeners",value:function(){this.videoElement.addEventListener(this._events.seeking,this._milestonesSeeking),this.videoElement.addEventListener(this._events.seeked,this._milestonesSeeked),_||y?this.videoElement.addEventListener(this._events.play,this._milestonesPlay):this.videoElement.addEventListener(this._getPlayEventName(),this._milestonesPlay),this.videoElement.addEventListener(this._events.pause,this._milestonesPause)}},{key:"_milestonesSeeking",value:function(){if(this._hadSeeked&&(this._hadSeeked=!1),this._milestoneTrackingTimeout){if(this._hadJustEnded&&this._isAcVideo())return;clearTimeout(this._milestoneTrackingTimeout),this._milestoneTrackingTimeout=null}}},{key:"_milestonesPlay",value:function(){this._checkForMilestone()}},{key:"_milestonesPause",value:function(){clearTimeout(this._milestoneTrackingTimeout),this._milestoneTrackingTimeout=null}},{key:"_checkForMilestone",value:function(){this._milestoneTrackingTimeout&&clearTimeout(this._milestoneTrackingTimeout),this._milestoneTrackingTimeout=setTimeout(function(){var t=this._getElligibleMilestone();t&&this._trackMilestone(t),this._milestoneTimeoutDuration=1e3,this._checkForMilestone()}.bind(this),this._milestoneTimeoutDuration)}},{key:"_getElligibleMilestone",value:function(){var t;if(!(!this.videoElement||this.videoElement.paused||0===this.videoElement.currentTime||this.videoElement.readyState<3||0===this.videoElement.duration||this.videoElement.duration===1/0||isNaN(this.videoElement.duration))&&(this._activeVideoMilestones[0]&&!(t=this.videoElement.currentTime/this.videoElement.duration,isNaN(t)||this._activeVideoMilestones[0][0]>t))){var e,i=this._activeVideoMilestones.filter(function(i,n){if(t>=i[0]&&t<i[1])return e=n,!0});return i&&i[0]?{name:i[0][0],index:e}:void 0}}},{key:"_trackMilestone",value:function(t){var e;this._activeVideoMilestones.splice(t.index,1),(e=this._bundleTrackingData("milestone")).milestone=t.name,this._hadSeeked&&(e.seeked=!0,this._hadSeeked=!1),this.track(e)}},{key:"_cleanUpMilestoneTracking",value:function(){this._hadSeeked=!1,this._refreshMilestones(),clearTimeout(this._milestoneTrackingTimeout),this._milestoneTrackingTimeout=null,this.videoElement&&(this.videoElement.removeEventListener(this._events.seeking,this._milestonesSeeking),this.videoElement.removeEventListener(this._events.seeked,this._milestonesSeeked),_||y?this.videoElement.removeEventListener(this._events.play,this._milestonesPlay):this.videoElement.removeEventListener(this._getPlayEventName(),this._milestonesPlay),this.videoElement.removeEventListener(this._events.pause,this._milestonesPause))}},{key:"_refreshMilestones",value:function(){this._hadSeeked?this._activeVideoMilestones=this._allVideoMilestone.slice(0):this._activeVideoMilestones=this._allVideoMilestone.slice(1)}},{key:"addListener",value:function(t,e){this.video.on(t,e)}},{key:"removeListener",value:function(t,e){this.video.off(t,e)}},{key:"_getCommonVideoData",value:function(t){var e,i={};return i.targetEl=this.video.el||null,e=i.targetEl&&u(i.targetEl)?i.targetEl.getAttribute("data-analytics-id"):"",i.videoId=e||this.video.targetId,i.ended=this.ended,i.eventType=t,"playing"===i.eventType&&(i.eventType="play"),this.videoElement&&(i.duration=NaN,i.currentTime=NaN,i.src=null,isNaN(this.videoElement.duration)||(i.duration=this.videoElement.duration),isNaN(this.videoElement.currentTime)||(i.currentTime=this.videoElement.currentTime),void 0!==this.videoElement.src&&(i.src=this._getUniqueVideoId(this.videoElement.src))),this._hadSeeked&&i.currentTime&&(i.currentTime=i.currentTime-this._milestoneTimeoutDuration/(this._milestoneTimeoutDuration/2)),i}},{key:"_getUniqueVideoId",value:function(t){var e;return(e=t.match(/[\w\d]{8}[\w\d-]+[\w\d/]+\//g))&&e.length?e[0]:t}},{key:"_bundleTrackingData",value:function(t,e){var i=this._getCommonVideoData(t);return Object.assign({},e,i)}},{key:"_defaultTracking",value:function(t){var e=this._bundleTrackingData(t);this.track(e)}},{key:"_isAcVideo",value:function(){return"function"==typeof this.video.play}},{key:"_getPlayEventName",value:function(){return this.video.VERSION&&this._isVersionGreaterOrEqual(this.video.VERSION.toArray(),"3.6.1".split("."))?this._events.PlayPromiseResolved:this._events.play}},{key:"_isVersionGreaterOrEqual",value:function(t,e){return!t.length&&!e.length||(t[0]>e[0]||(parseInt(t[0])===parseInt(e[0])?this._isVersionGreaterOrEqual(t.slice(1),e.slice(1)):!(t[0]<e[0])&&void 0))}},{key:"track",value:function(t){if("milestone"===t.eventType){if(!this.options.trackMilestones&&void 0===t.seeked)return;if(!this.options.trackSeeking&&void 0!==t.seeked)return}this.tracker.track({type:"video",data:t,options:this.options})}},{key:"destroy",value:function(){this.detachEvents(),this.options=null,this.tracker=null,this.video=null,this.playCount=null,this.ttShowCount=null,this._events=null,this._callbacks=null}}]),t}();t.exports=g},,,,function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=i(27),a="PassiveTracker",l=i(171),u=i(76).plugin._replaceTemplateVars,c=i(1175),h=l.sessionStorage,d=l.passiveTrackerStorageKey;function p(t){if(t&&"string"==typeof t){var e=t.split(","),i={};return e.forEach(function(t){var n=t.split("="),r=e[0],o=!0;2===n.length&&(o=n[1]),i[r]=o}),i}}function f(t,e){return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){r(t,e,i[e])})}return t}({},t,e)}function m(t){window[h].setItem(d,t)}t.exports=function(t,e){if(e=e||{},c())if(t&&"object"===o(t)&&!Array.isArray(t)){e.overwriteStorageItem=!0===e.overwriteStorageItem,e.overwriteStorageItemValues=!0===e.overwriteStorageItemValues,e.overwriteAppMeasurementValues=!0===e.overwriteAppMeasurementValues,e.overwriteAppMeasurementEvents=!1!==e.overwriteAppMeasurementEvents,t.options={},e.overwriteAppMeasurementValues&&(t.options.overwriteAppMeasurementValues=!0),!1===e.overwriteAppMeasurementEvents&&(t.options.overwriteAppMeasurementEvents=!1);var i=JSON.stringify(t);i?(i=u(i),function(t,e,i,n){var r=function(t,e){if(e.overwriteStorageItem)return null;var i=window[h].getItem(t);if(!i)return null;try{i=JSON.parse(i)}catch(t){i=""}return i&&"object"===o(i)?i:null}(t,n);if(r){var s=function(t,e,i){var n;return(n=i.overwriteStorageItemValues?f(e,t):f(t,e)).events=function(t,e,i){var n;t=p(t);var r=p(e);return r&&t&&(n=i.overwriteStorageItemValues?f(r,t):f(t,r)),function(t){var e="",i=[];if(t&&"object"===o(t)){for(var n in t){var r=void 0;t.hasOwnProperty(n)&&(r=parseFloat(t[n]),isNaN(r)?i.push(n):i.push(n+"="+r))}return i.length&&(e=i.join(",")),e}}(n)}(t.events,e.events,i),n}(i,r,n);s=JSON.stringify(s),(s=u(s))&&m(s)}else m(e)}(d,i,t,e)):s.warn(a,"track","data was invalid because it could not be stringified")}else s.warn(a,"track","data must be a valid object");else s.warn(a,"track","sessionStorage is not available")}},,function(t,e,i){function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var r=i(561),o=i(560),s=i(548),a=i(562),l=i(1177),u={page:{},link:{autoEnable:!1},click:{autoEnable:!1},section:{autoEnable:!1}};t.exports={create:function(t){t=t?function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),r.forEach(function(e){n(t,e,i[e])})}return t}({},u,t):u;var e={page:new r(t.page),link:new o(t.link),click:new s(t.click),section:new a(t.section)};return l(function(){!function(t){Object.keys(t).forEach(function(e){"function"==typeof t[e].enable&&t[e].enable()})}(e)}),e}}},function(t,e){t.exports=function(t){"complete"===document.readyState?t():document.addEventListener("readystatechange",function e(){"complete"===document.readyState&&(t(),document.removeEventListener("readystatechange",e))})}},function(t,e,i){function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var r=i(344),o=i(239),s=i(76),a={clearRegions:!0};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),r.forEach(function(e){n(t,e,i[e])})}return t}({},a,t)).clearRegions&&o.clearRegions(),r.refreshMetadata(),s.plugin.reset()}},,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n;t.exports={create:function(){return n||(n=i(1195)),n.apply(this,arguments)}}},function(t,e,i){"use strict";var n=i(1196),r=i(1233),o={dataAttribute:"analytics-video-id",analytics:!0};t.exports=function(t,e){e=e||{},e=Object.assign({},o,e);var i=n(t,e);e.analytics&&new r(i.player,e,t).activate();return i}},function(t,e,i){"use strict";var n=i(1197).Router,r=i(1213),o=i(570),s=i(46),a=i(1214),l=i(1217),u=i(1218),c=i(1231),h=i(1232),d=i(328)(),p=s.os.ios,f={controls:!0,urlOptimizer:o};t.exports=function(t,e){var i;e=e||{},e=Object.assign({},f,e),t.forEach(function(t){t.hasAttribute("data-films-options")&&(!1!==JSON.parse(t.getAttribute("data-films-options")).closeOnEnd||e.closeOnEnd||(e.closeOnEnd=!1))}),e.maxWidth||(e.maxWidth=1280);var o,s=r(e);i=new n({hashChange:!0,pushState:!1});var m=(o=!e.modal||d&&p&&!e.threesixty?e.modal?c(s,document.body,e):h(s,e):u(s,e)).play.bind(o),_=l({player:s,playHandler:m,attr:"data-"+e.dataAttribute});return t.forEach(function(t){a(t,_,m,i)}),i.start(),{play:function(e){for(var i=0,n=t.length;i<n;i++)t[i].id!==e&&t[i]!==e||m(t[i].href)},player:s,modalVideo:o.modal}}},,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=Object.prototype.hasOwnProperty;t.exports=function(t){if(Object.getPrototypeOf)return Object.getPrototypeOf(t);if("object"!==r(t))throw new Error("Requested prototype of a value that is not an object.");if("object"===r(this.__proto__))return t.__proto__;var e,i=t.constructor;if(o.call(t,"constructor")){if(e=i,!delete t.constructor)return null;i=t.constructor,t.constructor=e}return i?i.prototype:null}},function(t,e,i){"use strict";t.exports=function(t){return"[object Date]"===Object.prototype.toString.call(t)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=Object.prototype.hasOwnProperty;t.exports=function(t){var e;if("object"!==r(t))throw new TypeError("ac-base.Object.isEmpty : Invalid parameter - expected object");for(e in t)if(o.call(t,e))return!1;return!0}},function(t,e,i){"use strict";t.exports=function(t){return!!window.RegExp&&t instanceof RegExp}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o,s=i(1204).EventEmitter,a=i(1206),l={addEventListener:i(143),removeEventListener:i(233),dispatchEvent:i(572)},u={querySelectorAll:i(335),matchesSelector:i(236)};function c(t){null!==t&&(this.el=t,this._bindings={},this._delegateFuncs={},this._eventEmitter=new s)}(o=c.prototype).on=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._on),this},o.once=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._once),this},o.off=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._off),this},o.has=function(t,e,i,n){var r,o;return"string"==typeof e?(r=e,o=i):(o=e,n=i),r?this._getDelegateFuncBindingIdx(t,r,o,n,!0)>-1:!(!this._eventEmitter||!this._eventEmitter.has.apply(this._eventEmitter,arguments))},o.trigger=function(t,e,i,n){t=this._parseEventNames(t);var r,o,s,a=(t=this._cleanStringData(t)).length;for("string"==typeof e?(r=this._cleanStringData(e),o=i):(o=e,i),s=0;s<a;s++)this._triggerDOMEvents(t[s],o,r);return this},o.emitterTrigger=function(t,e,i){if(!this._eventEmitter)return this;t=this._parseEventNames(t),t=this._cleanStringData(t),e=new a(e,this);var n,r=t.length;for(n=0;n<r;n++)this._eventEmitter.trigger(t[n],e,i);return this},o.propagateTo=function(t,e){return this._eventEmitter.propagateTo(t,e),this},o.stopPropagatingTo=function(t){return this._eventEmitter.stopPropagatingTo(t),this},o.stopImmediatePropagation=function(){return this._eventEmitter.stopImmediatePropagation(),this},o.destroy=function(){var t;for(t in this._triggerInternalEvent("willdestroy"),this.off(),this)this.hasOwnProperty(t)&&(this[t]=null)},o._parseEventNames=function(t){return t?t.split(" "):[t]},o._onListenerEvent=function(t,e){var i=new a(e,this);this._eventEmitter.trigger(t,i,!1)},o._setListener=function(t){this._bindings[t]=this._onListenerEvent.bind(this,t),l.addEventListener(this.el,t,this._bindings[t])},o._removeListener=function(t){l.removeEventListener(this.el,t,this._bindings[t]),this._bindings[t]=null},o._triggerInternalEvent=function(t,e){this.emitterTrigger("dom-emitter:"+t,e)},o._normalizeArgumentsAndCall=function(t,e){var i={};if(0!==t.length){if("string"==typeof t[0]||null===t[0])return t=this._cleanStringData(t),i.events=t[0],"string"==typeof t[1]?(i.delegateQuery=t[1],i.callback=t[2],i.context=t[3]):(i.callback=t[1],i.context=t[2]),void e.call(this,i);var n,r,o=t[0];for(n in o)o.hasOwnProperty(n)&&(i={},r=this._cleanStringData(n.split(":")),i.events=r[0],i.delegateQuery=r[1],i.callback=o[n],i.context=t[1],e.call(this,i))}else e.call(this,i)},o._registerDelegateFunc=function(t,e,i,n,r){var o=this._delegateFunc.bind(this,t,e,i,r);return this._delegateFuncs[e]=this._delegateFuncs[e]||{},this._delegateFuncs[e][t]=this._delegateFuncs[e][t]||[],this._delegateFuncs[e][t].push({func:n,context:r,delegateFunc:o}),o},o._cleanStringData=function(t){var e=!1;"string"==typeof t&&(t=[t],e=!0);var i,n,r,o=[],s=t.length;for(i=0;i<s;i++){if("string"==typeof(n=t[i])){if(""===n||" "===n)continue;for(r=n.length;" "===n[0];)n=n.slice(1,r),r--;for(;" "===n[r-1];)n=n.slice(0,r-1),r--}o.push(n)}return e?o[0]:o},o._unregisterDelegateFunc=function(t,e,i,n){if(this._delegateFuncs[e]&&this._delegateFuncs[e][t]){var r,o=this._getDelegateFuncBindingIdx(t,e,i,n);return o>-1&&(r=this._delegateFuncs[e][t][o].delegateFunc,this._delegateFuncs[e][t].splice(o,1),0===this._delegateFuncs[e][t].length&&(this._delegateFuncs[e][t]=null)),r}},o._unregisterDelegateFuncs=function(t,e){var i;if(this._delegateFuncs[e]&&(null===t||this._delegateFuncs[e][t]))if(null!==t)this._unbindDelegateFunc(t,e);else for(i in this._delegateFuncs[e])this._delegateFuncs[e].hasOwnProperty(i)&&this._unbindDelegateFunc(i,e)},o._unbindDelegateFunc=function(t,e){for(var i,n,r=0;this._delegateFuncs[e][t]&&this._delegateFuncs[e][t][r];)i=this._delegateFuncs[e][t][r],n=this._delegateFuncs[e][t][r].length,this._off({events:t,delegateQuery:e,callback:i.func,context:i.context}),this._delegateFuncs[e][t]&&n===this._delegateFuncs[e][t].length&&r++;i=n=null},o._unregisterDelegateFuncsByEvent=function(t){var e;for(e in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(e)&&this._unregisterDelegateFuncs(t,e)},o._delegateFunc=function(t,e,i,n,o){if(this._targetHasDelegateAncestor(o.target,e)){var s=Array.prototype.slice.call(arguments,0),a=s.slice(4,s.length);n=n||window,"object"===r(o.detail)&&(a[0]=o.detail),i.apply(n,a)}},o._targetHasDelegateAncestor=function(t,e){for(var i=t;i&&i!==this.el&&i!==document.documentElement;){if(u.matchesSelector(i,e))return!0;i=i.parentNode}return!1},o._on=function(t){var e=t.events,i=t.callback,n=t.delegateQuery,r=t.context,o=t.unboundCallback||i;(e=this._parseEventNames(e)).forEach(function(t,e,i,n,r){this.has(r)||this._setListener(r),"string"==typeof n&&(t=this._registerDelegateFunc(r,n,t,e,i)),this._triggerInternalEvent("willon",{evt:r,callback:t,context:i,delegateQuery:n}),this._eventEmitter.on(r,t,i),this._triggerInternalEvent("didon",{evt:r,callback:t,context:i,delegateQuery:n})}.bind(this,i,o,r,n)),e=i=o=n=r=null},o._off=function(t){var e=t.events,i=t.callback,n=t.delegateQuery,r=t.context,o=t.unboundCallback||i;if(void 0!==e)(e=this._parseEventNames(e)).forEach(function(t,e,i,n,r){("string"!=typeof n||"function"!=typeof e||(t=this._unregisterDelegateFunc(r,n,e,i)))&&("string"!=typeof n||void 0!==t?"string"==typeof r&&void 0===t&&(this._unregisterDelegateFuncsByEvent(r),"string"==typeof n)||(this._triggerInternalEvent("willoff",{evt:r,callback:t,context:i,delegateQuery:n}),this._eventEmitter.off(r,t,i),this._triggerInternalEvent("didoff",{evt:r,callback:t,context:i,delegateQuery:n}),this.has(r)||this._removeListener(r)):this._unregisterDelegateFuncs(r,n))}.bind(this,i,o,r,n)),e=i=o=n=r=null;else{var s;for(s in this._eventEmitter.off(),this._bindings)this._bindings.hasOwnProperty(s)&&this._removeListener(s);for(s in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(s)&&(this._delegateFuncs[s]=null)}},o._once=function(t){var e=t.events,i=t.callback,n=t.delegateQuery,r=t.context;(e=this._parseEventNames(e)).forEach(function(t,e,i,n){if("string"==typeof i)return this._handleDelegateOnce(n,t,e,i);this.has(n)||this._setListener(n),this._triggerInternalEvent("willonce",{evt:n,callback:t,context:e,delegateQuery:i}),this._eventEmitter.once.call(this,n,t,e),this._triggerInternalEvent("didonce",{evt:n,callback:t,context:e,delegateQuery:i})}.bind(this,i,r,n)),e=i=n=r=null},o._handleDelegateOnce=function(t,e,i,n){return this._triggerInternalEvent("willonce",{evt:t,callback:e,context:i,delegateQuery:n}),this._on({events:t,context:i,delegateQuery:n,callback:this._getDelegateOnceCallback.bind(this,t,e,i,n),unboundCallback:e}),this._triggerInternalEvent("didonce",{evt:t,callback:e,context:i,delegateQuery:n}),this},o._getDelegateOnceCallback=function(t,e,i,n){var r=Array.prototype.slice.call(arguments,0),o=r.slice(4,r.length);e.apply(i,o),this._off({events:t,delegateQuery:n,callback:e,context:i})},o._getDelegateFuncBindingIdx=function(t,e,i,n,r){var o=-1;if(this._delegateFuncs[e]&&this._delegateFuncs[e][t]){var s,a,l=this._delegateFuncs[e][t].length;for(s=0;s<l;s++)if(a=this._delegateFuncs[e][t][s],r&&void 0===i&&(i=a.func),a.func===i&&a.context===n){o=s;break}}return o},o._triggerDOMEvents=function(t,e,i){var n=[this.el];i&&(n=u.querySelectorAll(i,this.el));var r,o=n.length;for(r=0;r<o;r++)l.dispatchEvent(n[r],t,{bubbles:!0,cancelable:!0,detail:e})},t.exports=c},,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o,s={preventDefault:i(350),stopPropagation:i(351),target:i(352)},a=function(t,e){this._domEmitter=e,this.originalEvent=t||{},this._originalTarget=s.target(this.originalEvent),this.target=this._originalTarget||this._domEmitter.el,this.currentTarget=this._domEmitter.el,this.timeStamp=this.originalEvent.timeStamp||Date.now(),this._isDOMEvent(this.originalEvent)?"object"===r(this.originalEvent.detail)&&(this.data=this.originalEvent.detail):t&&(this.data=this.originalEvent,this.originalEvent={})};(o=a.prototype).preventDefault=function(){s.preventDefault(this.originalEvent)},o.stopPropagation=function(){s.stopPropagation(this.originalEvent)},o.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this._domEmitter.stopImmediatePropagation()},o._isDOMEvent=function(t){return!!(this._originalTarget||"undefined"!==document.createEvent&&"undefined"!=typeof CustomEvent&&t instanceof CustomEvent)},t.exports=a},function(t,e,i){"use strict";i(573),t.exports=function(t,e,i){var n;return t.dispatchEvent?(n=i?new CustomEvent(e,i):new CustomEvent(e),t.dispatchEvent(n)):(n=document.createEventObject(),i&&"detail"in i&&(n.detail=i.detail),t.fireEvent("on"+e,n)),t}},function(t,e,i){"use strict";t.exports={addEventListener:i(143),dispatchEvent:i(572),preventDefault:i(350),removeEventListener:i(233),stop:i(1209),stopPropagation:i(351),target:i(352)}},function(t,e,i){"use strict";var n=i(351),r=i(350);t.exports=function(t){t=t||window.event,n(t),r(t),t.stopped=!0,t.returnValue=!1}},function(t,e,i){t.exports.EventEmitter=i(1211)},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o="EventEmitter:propagation",s=function(t){t&&(this.context=t)},a=s.prototype,l=function(){return this.hasOwnProperty("_events")||"object"===r(this._events)||(this._events={}),this._events},u=function(t,e){var i=t[0],n=t[1],o=t[2];if("string"!=typeof i&&"object"!==r(i)||null===i||Array.isArray(i))throw new TypeError("Expecting event name to be a string or object.");if("string"==typeof i&&!n)throw new Error("Expecting a callback function to be provided.");if(n&&"function"!=typeof n){if("object"!==r(i)||"object"!==r(n))throw new TypeError("Expecting callback to be a function.");o=n}if("object"===r(i))for(var s in i)e.call(this,s,i[s],o);"string"==typeof i&&(i=i.split(" ")).forEach(function(t){e.call(this,t,n,o)},this)},c=function(t,e){var i,n,r;if((i=l.call(this)[t])&&0!==i.length)for(i=i.slice(),this._stoppedImmediatePropagation=!1,n=0,r=i.length;n<r&&(!this._stoppedImmediatePropagation&&!e(i[n],n));n++);},h=function(t,e,i){var n=-1;c.call(this,e,function(t,e){if(t.callback===i)return n=e,!0}),-1!==n&&t[e].splice(n,1)};a.on=function(){var t=l.call(this);return u.call(this,arguments,function(e,i,n){t[e]=t[e]||(t[e]=[]),t[e].push({callback:i,context:n})}),this},a.once=function(){return u.call(this,arguments,function(t,e,i){this.on(t,function n(r){e.call(i||this,r),this.off(t,n)},this)}),this},a.off=function(t,e){var i=l.call(this);if(0===arguments.length)this._events={};else if(!t||"string"!=typeof t&&"object"!==r(t)||Array.isArray(t))throw new TypeError("Expecting event name to be a string or object.");if("object"===r(t))for(var n in t)h.call(this,i,n,t[n]);if("string"==typeof t){var o=t.split(" ");1===o.length?e?h.call(this,i,t,e):i[t]=[]:o.forEach(function(t){i[t]=[]})}return this},a.trigger=function(t,e,i){if(!t)throw new Error("trigger method requires an event name");if("string"!=typeof t)throw new TypeError("Expecting event names to be a string.");if(i&&"boolean"!=typeof i)throw new TypeError("Expecting doNotPropagate to be a boolean.");return(t=t.split(" ")).forEach(function(t){c.call(this,t,function(t){t.callback.call(t.context||this.context||this,e)}.bind(this)),i||c.call(this,o,function(i){var n=t;i.prefix&&(n=i.prefix+n),i.emitter.trigger(n,e)})},this),this},a.propagateTo=function(t,e){var i=l.call(this);i[o]||(this._events[o]=[]),i[o].push({emitter:t,prefix:e})},a.stopPropagatingTo=function(t){var e=l.call(this);if(t){var i,n=e[o],r=n.length;for(i=0;i<r;i++)if(n[i].emitter===t){n.splice(i,1);break}}else e[o]=[]},a.stopImmediatePropagation=function(){this._stoppedImmediatePropagation=!0},a.has=function(t,e,i){var n=l.call(this),r=n[t];if(0===arguments.length)return Object.keys(n);if(!r)return!1;if(!e)return r.length>0;for(var o=0,s=r.length;o<s;o++){var a=r[o];if(i&&e&&a.context===i&&a.callback===e)return!0;if(e&&!i&&a.callback===e)return!0}return!1},t.exports=s},,,function(t,e,i){"use strict";var n=i(1215),r=i(1216),o=i(46),s=o.os.ios||o.os.android;t.exports=function(t,e,i,o){r.create(t).on("click",function(){e(t)}),t.addEventListener("TriggerAnchor",function(){e(t)}),o&&t.id&&o.createRoute(t.id,function(){n(function(){e(t,!s)})})}},function(t,e,i){"use strict";var n=!1;window.addEventListener("load",function(){n=!0}),t.exports=function(t){n?t():window.addEventListener("load",t)}},function(t,e,i){"use strict";var n=i(12).EventEmitterMicro,r=i(91)();function o(t){t=t||{},this.el=t.el,this._onTouchStart=this._onTouchStart.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onClick=this._onClick.bind(this),this._touchStart=!1,n.call(this),this.activate()}var s=o.prototype=Object.create(n.prototype);s._broadcastClick=function(t){this.trigger("click",{originalEvent:t})},s._onClick=function(t){t.stopPropagation(),t.preventDefault(),r||this._broadcastClick(t)},s._onTouchStart=function(){this._touchStart=!0},s._onTouchEnd=function(t){!0===this._touchStart&&(t.stopPropagation(),t.preventDefault(),this._broadcastClick(t)),this._touchStart=!1},s._onTouchMove=function(){this._touchStart=!1},s.activate=function(){r&&(this.el.addEventListener("touchstart",this._onTouchStart),this.el.addEventListener("touchmove",this._onTouchMove),this.el.addEventListener("touchend",this._onTouchEnd)),this.el.addEventListener("click",this._onClick)},s.deactivate=function(){this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove),this.el.removeEventListener("touchend",this._onTouchEnd),this.el.removeEventListener("click",this._onClick)},o.create=function(t,e){return e=e||{},new o({el:t})},t.exports=o},function(t,e,i){"use strict";t.exports=function(t){return function(e,i){var n,r=e.getAttribute("data-films-options");(n=r?JSON.parse(r):null)&&n.endState&&n.endState.items.forEach(function(t){if(t.url&&0===t.url.indexOf("#")){var e=document.querySelector(t.url);t.onclick=function(){e.dispatchEvent(new CustomEvent("TriggerAnchor"))}}}),n&&n.poster?t.player.setPoster(n.poster):t.player.setPoster(null);var o=e.getAttribute("data-films-modal-label")||n&&n.modalLabel||t.player.options.modalLabel||"Video Player";t.player.el.setAttribute(t.attr,e.getAttribute(t.attr)||e.id),t.playHandler(e.href,n,i,o)}}},function(t,e,i){"use strict";var n=i(576).createFullViewportModal,r=i(46),o=r.os.ios||r.os.android,s=i(1229);t.exports=function(t,e){e=e||{};var i=document.createElement("div");i.classList.add("ac-player-container"),o&&i.classList.add("ac-films-modal-mobile"),i.appendChild(t.el);var r=n(i);return r.modalElement.classList.add("ac-modal-video"),new s({player:t,modal:r,closeOnEnd:e.closeOnEnd})}},function(t,e,i){"use strict";var n={addEventListener:i(143),removeEventListener:i(233),target:i(352)},r={getScrollX:i(1220),getScrollY:i(1221)},o={create:i(65),defaults:i(66)},s=i(354),a=i(167),l=i(12).EventEmitterMicro,u=i(577),c={retainScrollPosition:!1};function h(t,e){l.call(this),this.options=o.defaults(c,t),this.renderer=new u(e),this.opened=!1,this._keysToClose=[a.ESCAPE],this._attachedKeysToClose=[],this.close=this.close.bind(this)}var d=h.prototype=o.create(l.prototype);d.open=function(){this.options.retainScrollPosition&&this._saveScrollPosition(),this.opened||(this._attachEvents(),this.trigger("willopen"),this.renderer.open(),this.opened=!0,this.trigger("open"))},d.close=function(t){var e,i;if(this.opened){if(t&&"click"===t.type&&(e=n.target(t),i=this.renderer.options.dataAttributes.close,!e.hasAttribute(i)))return;this.trigger("willclose"),this._removeEvents(),this.renderer.close(),this.options.retainScrollPosition&&this._restoreScrollPosition(),this.opened=!1,this.trigger("close")}},d.render=function(){this.renderer.render()},d.appendContent=function(t,e){this.renderer.appendContent(t,e)},d.removeContent=function(t){this.renderer.removeContent(t)},d.destroy=function(){for(var t in this._removeEvents(),this.renderer.destroy(),this)this.hasOwnProperty(t)&&(this[t]=null)},d.addKeyToClose=function(t){-1===this._keysToClose.indexOf(t)&&(this._keysToClose.push(t),this._bindKeyToClose(t))},d.removeKeyToClose=function(t){var e=this._keysToClose.indexOf(t);-1!==e&&this._keysToClose.splice(e,1),this._releaseKeyToClose(t)},d._bindKeyToClose=function(t){-1===this._attachedKeysToClose.indexOf(t)&&(s.onUp(t,this.close),this._attachedKeysToClose.push(t))},d._releaseKeyToClose=function(t){var e=this._attachedKeysToClose.indexOf(t);-1!==e&&(s.offUp(t,this.close),this._attachedKeysToClose.splice(e,1))},d._removeEvents=function(){this.renderer.modalElement&&n.removeEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._releaseKeyToClose,this)},d._attachEvents=function(){this.renderer.modalElement&&n.addEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._bindKeyToClose,this)},d._restoreScrollPosition=function(){window.scrollTo(this._scrollX||0,this._scrollY||0)},d._saveScrollPosition=function(){this._scrollX=r.getScrollX(),this._scrollY=r.getScrollY()},t.exports=h},function(t,e,i){"use strict";t.exports=function(t){var e;if((t=t||window)===window){if(e=window.pageXOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollLeft}},function(t,e,i){"use strict";t.exports=function(t){var e;if((t=t||window)===window){if(e=window.pageYOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollTop}},function(t,e,i){"use strict";var n=i(578);t.exports=function(t,e){n(t,e)||(t.className+=" "+e)}},function(t,e,i){"use strict";var n=i(578),r=i(579);t.exports=function(t,e){n(t,e)&&(t.className=t.className.replace(r(e),"$1").trim())}},function(t,e,i){"use strict";var n=i(226),r=i(1225),o=i(1226),s=function(t){this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this.el=t,this._handleOnFocus=this._handleOnFocus.bind(this)},a=s.prototype;a.start=function(){this.updateTabbables(),r(this.el),this._firstTabbableElement?this.el.contains(document.activeElement)||this._firstTabbableElement.focus():console.warn("this._firstTabbableElement is null, CircularTab needs at least one tabbable element."),this._relatedTarget=document.activeElement,document.addEventListener("focus",this._handleOnFocus,!0)},a.stop=function(){o(this.el),document.removeEventListener("focus",this._handleOnFocus,!0)},a.updateTabbables=function(){this._tabbables=n.getTabbableElements(this.el),this._firstTabbableElement=this._tabbables[0],this._lastTabbableElement=this._tabbables[this._tabbables.length-1]},a._handleOnFocus=function(t){if(this.el.contains(t.target))this._relatedTarget=t.target;else{if(t.preventDefault(),this.updateTabbables(),this._relatedTarget===this._lastTabbableElement||null===this._relatedTarget)return this._firstTabbableElement.focus(),void(this._relatedTarget=this._firstTabbableElement);if(this._relatedTarget===this._firstTabbableElement)return this._lastTabbableElement.focus(),void(this._relatedTarget=this._lastTabbableElement)}},a.destroy=function(){this.stop(),this.el=null,this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this._handleOnFocus=null},t.exports=s},function(t,e,i){"use strict";var n=i(534);t.exports=function t(e,i){i=i||document.body;for(var r=e,o=e;r=r.previousElementSibling;)n(r);for(;o=o.nextElementSibling;)n(o);e.parentElement&&e.parentElement!==i&&t(e.parentElement)}},function(t,e,i){"use strict";var n=i(537);t.exports=function t(e,i){i=i||document.body;for(var r=e,o=e;r=r.previousElementSibling;)n(r);for(;o=o.nextElementSibling;)n(o);e.parentElement&&e.parentElement!==i&&t(e.parentElement)}},function(t,e,i){"use strict";var n=i(353),r=i(244).classNames,o=i(244).dataAttributes,s={add:i(355)},a={renderer:{classNames:{documentElement:[r.documentElement].concat("has-modal-standard"),modalElement:[r.modalElement].concat("modal-standard")}}};t.exports=function(t){var e=new n(a);t&&e.appendContent(t);var i=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div");return s.add(i,"content-table"),s.add(r,"content-cell"),s.add(l,"content-wrapper"),s.add(u,"content-padding","large-8","medium-10"),e.modalElement.setAttribute(o.close,""),l.setAttribute(o.close,""),r.setAttribute(o.close,""),i.appendChild(r),r.appendChild(l),l.appendChild(u),e.modalElement.appendChild(i),u.appendChild(e.contentElement),u.appendChild(e.closeButton),e}},function(t,e,i){"use strict";var n=i(353),r=i(244).classNames,o={retainScrollPosition:!0,renderer:{classNames:{documentElement:[r.documentElement].concat("has-modal-full-viewport"),modalElement:[r.modalElement].concat("modal-full-viewport")}}};t.exports=function(t){var e=new n(o);return t&&e.appendContent(t),e}},function(t,e,i){"use strict";var n=/_([0-9]+)x([0-9]+)/,r=i(1230),o=i(571),s=function(t){this.modal=t.modal,this.player=t.player,this._resizeHandler=new r({player:this.player,modal:this.modal}),this._closeOnEnd=void 0===t.closeOnEnd||t.closeOnEnd,this._ended=!1,this._pauseTime=0,this._playing=!1,this._initialize()},a=s.prototype;a._initialize=function(){this._bindMethods(),this.player.on("ended",this._onEnded),this.player.on("pause",this._onPaused),this.modal.on("open",this._onOpen),this.player.supportsPictureInPicture()&&this.player.on("pictureinpicture:change",this._onPipModeChanged)},a._bindMethods=function(){this._onEnded=this._onEnded.bind(this),this._onPipModeChanged=this._onPipModeChanged.bind(this),this._onPaused=this._onPaused.bind(this),this._onModalWillClose=this._onModalWillClose.bind(this),this._onOpen=this._onOpen.bind(this)},a._onOpen=function(){this.player.refreshSize()},a._onPaused=function(){this._pauseTime=Date.now()},a._onEnded=function(){this._ended=!0,!this.player.isPictureInPicture()&&this._closeOnEnd?this.modal.close():this.player.isPictureInPicture()&&(this.player.setPictureInPicture(!1),this.modal.modalElement.classList.remove("ac-modal-video-pip"),this._closeOnEnd||(this.modal.open(),this._bindWillClose()))},a._onPipModeChanged=function(){this._ended||(this.player.isPictureInPicture()&&this._isModalOpen()?(this._unBindWillClose(),this.modal.modalElement.classList.add("ac-modal-video-pip"),this.modal.close()):this._isModalOpen()||(this.modal.modalElement.classList.remove("ac-modal-video-pip"),!this._pauseTime||Date.now()-this._pauseTime>400?(this._bindWillClose(),this.modal.open()):this._resetVideo()))},a._resetVideo=function(){this.player.pause(),this.player.setCurrentTime(0)},a._onModalWillClose=function(){this._unBindWillClose(),this._resetVideo(),this.player.setPictureInPicture(!1),this.modal.modalElement.classList.remove("ac-modal-video-pip")},a._clearAspectRatio=function(){this.player.el.parentElement.classList.remove("ac-video-cinematic-aspect-ratio"),this.player.el.parentElement.classList.remove("ac-video-square-aspect-ratio"),this.player.el.parentElement.classList.remove("ac-video-vertical-aspect-ratio"),this.player.el.parentElement.classList.remove("ac-video-19x9-aspect-ratio"),this.player.el.parentElement.classList.remove("ac-video-9x19-aspect-ratio")},a._set19X9Mode=function(){this.player.el.parentElement.classList.add("ac-video-19x9-aspect-ratio")},a._set9X19Mode=function(){this.player.el.parentElement.classList.add("ac-video-9x19-aspect-ratio")},a._setCinematicMode=function(){this.player.el.parentElement.classList.add("ac-video-cinematic-aspect-ratio")},a._setSquareVideo=function(){this.player.el.parentElement.classList.add("ac-video-square-aspect-ratio")},a._setVerticalVideo=function(){this.player.el.parentElement.classList.add("ac-video-vertical-aspect-ratio")},a._resetPiPVideo=function(){var t=this.player.getVisibleTextTracks();t.forEach(function(t){t.mode="hidden"}),this._resetVideo(),t.forEach(function(t){t.mode="showing"})},a.play=function(t,e,i,r){if(this._ended=!1,this._clearAspectRatio(),t.match("-tft-"))this._setCinematicMode();else if(n.test(t)){var s=parseInt(RegExp.$1,10),a=parseInt(RegExp.$2,10);!function(t,e){return t.find(function(t){return t.width===e.width&&(t.height=e.height)||t.width===e.height&&(t.height=e.width)})}(o,{width:s,height:a})?a>s?this._setVerticalVideo(!0):a===s&&this._setSquareVideo(!0):a>s?this._set9X19Mode(!0):this._set19X9Mode(!0)}this.modal.modalElement.setAttribute("aria-label",r),this.player.load(t,null,0,Object.assign({},e,{maxWidth:window.innerWidth})),this.player.isPictureInPicture()?this._resetPiPVideo():(this.modal.open(),this._bindWillClose()),!1!==i&&this.player.play()},a._bindWillClose=function(){this.modal.on("willclose",this._onModalWillClose)},a._unBindWillClose=function(){this.modal.off("willclose",this._onModalWillClose)},a._isModalOpen=function(){return document.documentElement.classList.contains("has-modal")},a.destroy=function(){this.player.off("ended",this._onEnded),this.player.off("paused",this._onPaused),this.player.off("pictureinpicture:change",this._onPipModeChanged),this._unBindWillClose(),this._resizeHandler.destroy(),this.modal.destroy(),this.player.destroy()},t.exports=s},function(t,e,i){"use strict";var n=/_([0-9]+)x([0-9]+)/,r=i(46),o=r.os.ios||r.os.android;function s(t){this._modal=t.modal,this._player=t.player,this._mediaElement=t.player.getMediaElement(),this._posterEl=this._player.el.querySelector(".ac-video-poster img"),this._playerContainer=this._player.el.parentElement,this._bindMethods(),this._addEventListeners(),this._calcAspectRatio()}var a=s.prototype;a._bindMethods=function(){this._onLoadStart=this._onLoadStart.bind(this),this._onResize=this._onResize.bind(this),this._fullScreenChange=this._fullScreenChange.bind(this),this._calcAspectRatio=this._calcAspectRatio.bind(this),this._addResizeListeners=this._addResizeListeners.bind(this),this._removeResizeListeners=this._removeResizeListeners.bind(this),this._onModalOpen=this._onModalOpen.bind(this)},a._addEventListeners=function(){this._posterEl&&this._posterEl.addEventListener("load",this._calcAspectRatio),this._modal.on("willopen",this._addResizeListeners),this._modal.on("open",this._onModalOpen),this._modal.on("close",this._removeResizeListeners)},a._onModalOpen=function(){this._loadStarted&&(this._onResize(),this._player.el.style.display="",this._player.el.style.opacity="")},a._addResizeListeners=function(){this._player.el.style.display="block",this._player.el.style.opacity=0,window.addEventListener("resize",this._onResize),window.addEventListener("orientationchange",this._onResize),this._player.on("loadstart",this._onLoadStart),this._player.on("loadeddata",this._calcAspectRatio),this._player.on("fullscreen:change",this._fullScreenChange),this._player.on("fullscreen:willenter",this._fullScreenChange),this._calcAspectRatio()},a._removeResizeListeners=function(){this._onResize(),window.removeEventListener("resize",this._onResize),window.removeEventListener("orientationchange",this._onResize),this._player.off("loadstart",this._onLoadStart),this._player.off("loadeddata",this._calcAspectRatio),this._player.off("fullscreen:change",this._fullScreenChange)},a._removeEventListeners=function(){this._removeResizeListeners(),this._modal.off("willopen",this._addResizeListeners),this._modal.off("open",this._onModalOpen),this._modal.off("close",this._removeResizeListeners),this._posterEl&&this._posterEl.removeEventListener("load",this._calcAspectRatio)},a._onLoadStart=function(){this._loadStarted=!1,requestAnimationFrame(function(){this._loadStarted=!0,this._onModalOpen()}.bind(this)),this._calcAspectRatio()},a._calcAspectRatio=function(){this._aspectRatio=this._player.getMediaWidth()/this._player.getMediaHeight(),(isNaN(this._aspectRatio)||this._aspectRatio<=0)&&this._mediaElement.src&&n.test(this._mediaElement.src)&&(this._aspectRatio=parseInt(RegExp.$1,10)/parseInt(RegExp.$2,10)),(isNaN(this._aspectRatio)||this._aspectRatio<=0)&&this._posterEl&&(this._aspectRatio=this._posterEl.naturalWidth/this._posterEl.naturalHeight),this._onResize()},a._fullScreenChange=function(t){t&&"enter"===t.type?setTimeout(function(){this._isFullScreen=!0,this._onResize()}.bind(this),60):(this._isFullScreen=this._player.isFullscreen(),this._onResize())},a.destroy=function(){this._removeEventListeners()},a._onResize=function(){var t=this._aspectRatio;if(isNaN(t))return this._mediaElement.style.width="",void(this._mediaElement.style.height="");var e=window.innerWidth,i=window.innerHeight,n=e/i;if(this._mediaElement.readyState<1){var r=parseInt(getComputedStyle(this._playerContainer).maxWidth.replace("px","")),s=r/t,a=o?parseInt(getComputedStyle(this._player.el).maxHeight.replace("px","")):s;(s>i||a&&s>a)&&(r=(a||i)*t,s=Math.min(r/t,i)),(r>e||r>s*t)&&(r=(s=Math.min(e/t,i))*t),this._mediaElement.style.width=r+"px",this._mediaElement.style.height=Math.min(s,i)+"px"}else this._mediaElement.style.width="",this._mediaElement.style.height="";n>t&&!this._isFullScreen?this._playerContainer.parentElement.classList.add("center-horizontal"):this._playerContainer.parentElement.classList.remove("center-horizontal"),this._player.refreshSize()},t.exports=s},function(t,e,i){"use strict";t.exports=function(t,e,i){t.el.classList.add("ac-films-handheld-player");return e.appendChild(t.el),{play:function(e,i){var n=function(){t.getPaused()||t.pause(),t.el.classList.remove("player-fullscreen")};t.el.classList.add("player-fullscreen"),t.once("ended",n),t.once("exitfullscreen",n),t.load(e),!1!==i&&t.play()},player:t}}},function(t,e,i){"use strict";t.exports=function(t,e){var i=e.targetElement,n=function(e,i){t.load(e,null,0,i),t.play()};return e.playHandler=n,i&&i.appendChild(t.el),{play:n,player:t}}},function(t,e,i){"use strict";var n;try{n=i(338)}catch(t){}var r=i(46).browser,o=r.ie||r.edge,s=i(508),a=function(t,e,i){if(i){s.prototype.once.apply(this,[t,function(){e.apply(i,arguments)}])}else s.prototype.once.apply(this,arguments)};function l(t,e,i){this.player=t,this.sources={},this.currentStubPlayer=null,this.playerType="",this.videoType="",this.options=e,i&&this._bindAnchors(i)}var u=l.prototype;u._bindAnchors=function(t){for(var e=0,i=t.length;e<i;e++)this._bindAnchorForAnalytics(t[e])},u.activate=function(){this._onPlay=this._onPlay.bind(this),this._onEnded=this._onEnded.bind(this),this._onTimeupdate=this._onTimeupdate.bind(this),this._onTexttrackshow=this._onTexttrackshow.bind(this),this._onLoadStart=this._onLoadStart.bind(this),this.setCurrentStubPlayer=this.setCurrentStubPlayer.bind(this),this._onPlayPromiseResolved=this._onPlayPromiseResolved.bind(this),o?this.player.on("playing",this._onPlay):this.player.on("play",this._onPlay),this.player.on("ended",this._onEnded),this.player.on("loadstart",this._onLoadStart),this.player.on("timeupdate",this._onTimeupdate),this.player.on("texttrackshow",this._onTexttrackshow),this.player.on("PlayPromiseResolved",this._onPlayPromiseResolved),this.player.on("durationchange",this.setCurrentStubPlayer)},u.deactivate=function(){o?this.player.off("playing",this._onPlay):this.player.off("play",this._onPlay),this.player.off("ended",this._onEnded),this.player.off("timeupdate",this._onTimeupdate),this.player.off("texttrackshow",this._onTexttrackshow),this.player.off("durationchange",this.setCurrentStubPlayer),this.player.off("PlayPromiseResolved",this._onPlayPromiseResolved)},u._bindAnchorForAnalytics=function(t){var e;if(t){if(this.sources[t.id])return;e=this._createStubPlayer(t),t.getAttribute("data-"+this.options.dataAttribute)||(e.videoId=t.id),this.sources[t.id]={stubPlayer:e,observer:this._createObserver(e)}}},u.addSourceObject=u._bindAnchorForAnalytics,u.setCurrentStubPlayer=function(){var t,e=this.player.el.getAttribute("data-"+this.options.dataAttribute),i=this._getCurrentSourceObject(e);i&&i.stubPlayer&&(this.currentStubPlayer=i.stubPlayer,this.playerType="html5",(t=this.player.getCurrentSrc())&&t.attributes&&t.attributes.src&&(this.videoType=t.attributes.src.value.split(".").pop()))},u.destroy=function(){this.deactivate(),this.player=null,this.sources=null,this.currentStubPlayer=null,this.options=null},u._onPlay=function(){this.setCurrentStubPlayer(),this._started||(this._proxyEvent("play"),this._started=!0)},u._onPlayPromiseResolved=function(){this.setCurrentStubPlayer(),this._proxyEvent("PlayPromiseResolved")},u._onLoadStart=function(){this._started=!1},u._onEnded=function(){this._started=!1,this._proxyEvent("ended")},u._onTimeupdate=function(){this._proxyEvent("timeupdate"),this._started&&0===this.player.getCurrentTime()&&this.player.getPaused()&&(this._started=!1)},u._onTexttrackshow=function(){this._proxyEvent("captions-enabled")},u._getSourceObjectBySrcObjId=function(t){return this.sources[t]||null},u._getCurrentSourceObject=function(t){var e;return t&&(e=this._getSourceObjectBySrcObjId(t)),e},u._createStubPlayer=function(t){var e=new s;return e.once=a,e.el=t,e.VERSION=this.player.VERSION,e},u._getEventData=function(){return{currentTime:this.player.getCurrentTime(),playerType:this.playerType||"html5",videoType:this.videoType||null}},u._createObserver=function(t){var e;return n&&n.observer&&n.observer.Video&&(e=new n.observer.Video(t,{dataAttribute:this.options.dataAttribute})),e},u._proxyEvent=function(t){this.currentStubPlayer&&this.currentStubPlayer.trigger(t,this._getEventData())},t.exports=l},function(t,e,i){"use strict";var n=i(1235),r=i(174),o=i(357),s=i(592),a=i(593),l=i(625),u=i(367),c=i(245);r.create=i(628),r.autoCreate=i(1302),r.extend=n,o.extend=n,s.extend=n,a.extend=n,l.extend=n,u.extend=n,c.extend=n,t.exports={Gallery:r,AutoGallery:o,FadeGallery:s,FadeGalleryItem:a,SlideGallery:l,SlideGalleryItem:u,Item:c,TabNav:i(586)}},function(t,e,i){"use strict";i(172),t.exports=function(t){var e=this,i=function(){e.apply(this,arguments)},n=Object.create(this.prototype);return i.prototype=Object.assign(n,t),Object.assign(i,this),i}},function(t,e,i){"use strict";var n=i(1237);t.exports=new n},function(t,e,i){"use strict";var n;try{n=i(338).observer.Gallery}catch(t){}function r(){this._observers={}}var o=r.prototype;o.add=function(t,e){var i=t.getId();if(n&&!this._observers[i]){(e=e||{}).galleryName||(e.galleryName=this._getAnalyticsId(t,e.dataAttribute)||i),e.beforeUpdateEvent||(e.beforeUpdateEvent="update"),e.afterUpdateEvent||(e.afterUpdateEvent="update:complete");var r=new n(t,e);r.gallery&&(this._observers[i]=r)}},o.remove=function(t){var e=t.getId();n&&this._observers[e]&&("function"==typeof this._observers[e].destroy&&this._observers[e].destroy(),this._observers[e]=null)},o._getAnalyticsId=function(t,e){if("function"==typeof t.getElement){e=e||"data-analytics-gallery-id";var i=t.getElement();return i.getAttribute(e)||i.getAttribute("id")}return null},t.exports=r},function(t,e,i){"use strict";var n=i(583),r=i(584);t.exports=function(t,e,i){var o;return"string"==typeof(i=i||0)&&"px"===i.slice(-2)?(i=parseInt(i,10),o=n(t,e)):o=r(t,e),o>0&&o>=i}},function(t,e,i){"use strict";var n=i(564),r=i(565),o=i(348);t.exports=function(t,e){var i,s,a;return e?{top:(i=t.getBoundingClientRect()).top,right:i.right,bottom:i.bottom,left:i.left}:(i=n(t),s=r(),a=o(),{top:i.top-a,right:i.right-s,bottom:i.bottom-a,left:i.left-s})}},function(t,e,i){"use strict";t.exports=function(){return["input","select","textarea"].indexOf(document.activeElement.nodeName.toLowerCase())>-1}},function(t,e,i){"use strict";var n=i(64),r=n.os.android,o=!n.browser.ie&&{passive:!1},s=i(91)(),a=i(12).EventEmitterMicro;function l(t,e,i){this._el=t,i=i||{},this._lockVertical=!1!==i.lockVertical,this._swipeThreshold=i.swipeThreshold||l.DEFAULT_SWIPE_THRESHOLD,this._pointerEvents=e||{},this._trackHover=i.trackHover,this._trackHover?(this._pointerEvents.down=this._pointerEvents.down||l.MOUSE_EVENTS.over,this._pointerEvents.up=this._pointerEvents.up||l.MOUSE_EVENTS.out):(this._pointerEvents.down=this._pointerEvents.down||(s?l.TOUCH_EVENTS.down:l.MOUSE_EVENTS.down),this._pointerEvents.up=this._pointerEvents.up||(s?l.TOUCH_EVENTS.up:l.MOUSE_EVENTS.up)),this._pointerEvents.out=this._pointerEvents.out||(s?l.TOUCH_EVENTS.out:l.MOUSE_EVENTS.out),this._pointerEvents.move=this._pointerEvents.move||(s?l.TOUCH_EVENTS.move:l.MOUSE_EVENTS.move),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseMove=this._onMouseMove.bind(this),a.call(this),this._el.addEventListener(this._pointerEvents.down,this._onMouseDown,o),this._setCursorStyle("grab")}l.START="start",l.END="end",l.UPDATE="update",l.SWIPE_RIGHT="swiperight",l.SWIPE_LEFT="swipeleft",l.DEFAULT_SWIPE_THRESHOLD=r?2:8,l.TOUCH_EVENTS={down:"touchstart",up:"touchend",out:"mouseout",move:"touchmove"},l.MOUSE_EVENTS={down:"mousedown",up:"mouseup",out:"mouseout",move:"mousemove",over:"mouseover"};var u=a.prototype,c=l.prototype=Object.create(u);c.destroy=function(){return this._isDragging&&this._onMouseUp(),this._el.removeEventListener(this._pointerEvents.down,this._onMouseDown),this._setCursorStyle(null),this._el=null,this._pointerEvents=null,this._lockVertical=null,this._swipeThreshold=null,this._checkForTouchScrollY=null,this._isDragging=null,this._currentX=null,this._currentY=null,this._velocityX=null,this._velocityY=null,this._lastX=null,this._lastY=null,u.destroy.call(this)},c._onMouseDown=function(t){if(!this._isDragging){this._isDragging=!0,this._setCursorStyle("grabbing"),this._el.removeEventListener(this._pointerEvents.down,this._onMouseDown),document.body.addEventListener(this._pointerEvents.up,this._onMouseUp,o),document.addEventListener(this._pointerEvents.out,this._onMouseOut,o),document.body.addEventListener(this._pointerEvents.move,this._onMouseMove,o),this._checkForTouchScrollY=this._lockVertical&&!(!t.touches||!t.touches[0]),this._checkForTouchScrollY&&(this._lastY=this._getTouchY(t));var e=this._storeAndGetValues(t);this._velocityX=e.diffX=0,this._velocityY=e.diffY=0,this.trigger(l.START,e)}},c._onMouseUp=function(t){if(this._isDragging){var e;this._isDragging=!1,this._setCursorStyle("grab"),this._el.addEventListener(this._pointerEvents.down,this._onMouseDown,o),document.body.removeEventListener(this._pointerEvents.up,this._onMouseUp),document.removeEventListener(this._pointerEvents.out,this._onMouseOut),document.body.removeEventListener(this._pointerEvents.move,this._onMouseMove),this._checkForTouchScrollY||this._trackHover?e=null:this._velocityX>this._swipeThreshold?e=l.SWIPE_LEFT:-1*this._velocityX>this._swipeThreshold&&(e=l.SWIPE_RIGHT);var i=this._storeAndGetValues(t);i.swipe=e,this.trigger(l.END,i),e&&!this._trackHover&&this.trigger(e,i)}},c._onMouseOut=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||this._onMouseUp(t)},c._onMouseMove=function(t){this._checkForTouchScrollY&&this._isVerticalTouchMove(t)?this._onMouseUp(t):(t.preventDefault(),this.trigger(l.UPDATE,this._storeAndGetValues(t)))},c._storeAndGetValues=function(t){if(void 0===t)return{};this._currentX=this._getPointerX(t),this._currentY=this._getPointerY(t),this._velocityX=this._lastX-this._currentX,this._velocityY=this._lastY-this._currentY;var e={x:this._currentX,y:this._currentY,lastX:this._lastX,lastY:this._lastY,diffX:this._velocityX,diffY:this._velocityY,interactionEvent:t};return this._lastX=this._currentX,this._lastY=this._currentY,e},c._getPointerX=function(t){return t.pageX?t.pageX:t.touches&&t.touches[0]?t.touches[0].pageX:t.clientX?t.clientX:0},c._getPointerY=function(t){return t.pageY?t.pageY:t.touches&&t.touches[0]?t.touches[0].pageY:t.clientY?t.clientY:0},c._getTouchX=function(t){return t.touches&&t.touches[0]?t.touches[0].pageX:0},c._getTouchY=function(t){return t.touches&&t.touches[0]?t.touches[0].pageY:0},c._isVerticalTouchMove=function(t){var e=this._getTouchX(t),i=this._getTouchY(t),n=Math.abs(e-this._lastX),r=Math.abs(i-this._lastY);return this._checkForTouchScrollY=n<r,this._checkForTouchScrollY},c._setCursorStyle=function(t){this._el.style.cursor=t},t.exports=l},function(t,e,i){"use strict";var n=i(101),r=i(236),o=i(144);t.exports=function(t,e,i,s){var a=[];if(o.childNode(t,!0,"ancestors"),o.selector(e,!1,"ancestors"),i&&n(t)&&(!e||r(t,e))&&a.push(t),t!==(s=s||document.body))for(;(t=t.parentNode)&&n(t)&&(e&&!r(t,e)||a.push(t),t!==s););return a}},,,,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}i(349);var o=i(65),s=i(147).createPredefined,a=i(1251),l=i(147).Ease,u=i(1253).EventEmitterMicro,c="ease";function h(t,e,i,n){n=n||{},this._options=n,this._isYoyo=n.yoyo,this._direction=1,this._timeScale=1,this._loop=n.loop||0,this._loopCount=0,this._target=t,this.duration(e),this._delay=1e3*(n.delay||0),this._remainingDelay=this._delay,this._progress=0,this._clock=n.clock||a,this._playing=!1,this._getTime=Date.now||function(){return(new Date).getTime()},this._propsTo=i||{},this._propsFrom=n.propsFrom||{},this._onStart=n.onStart||null,this._onUpdate=n.onUpdate||null,this._onDraw=n.onDraw||null,this._onComplete=n.onComplete||null;var r=n.ease||c;this._ease="function"==typeof r?new l(r):s(r),this._start=this._start.bind(this),this._update=this._update.bind(this),this._draw=this._draw.bind(this),this._isPrepared=!1,h._add(this),u.call(this)}var d=h.prototype=o(u.prototype);h.COMPLETE="complete",h.PAUSE="pause",h.PLAY="play",d.play=function(){return this._playing||(this._playing=!0,0===this._delay||0===this._remainingDelay?this._start():(this._isPrepared||(this._setDiff(),this._updateProps()),this._startTimeout=setTimeout(this._start,this._remainingDelay/this._timeScale),this._delayStart=this._getTime())),this},d.pause=function(){return this._playing&&(this._startTimeout&&(this._remainingDelay=this._getTime()-this._delayStart,clearTimeout(this._startTimeout)),this._stop(),this.trigger(h.PAUSE,this)),this},d.destroy=function(){return this.pause(),this._options=null,this._target=null,this._storeTarget=null,this._ease=null,this._clock=null,this._propsTo=null,this._propsFrom=null,this._storePropsTo=null,this._storePropsFrom=null,this._propsDiff=null,this._propsEase=null,this._onStart=null,this._onUpdate=null,this._onDraw=null,this._onComplete=null,h._remove(this),u.prototype.destroy.call(this),this},d.reset=function(){if(this._isPrepared)return this._stop(),this._resetLoop(this._target,this._storeTarget),this._direction=1,this._loop=this._options.loop||0,this._loopCount=0,this._propsFrom=this._storePropsFrom,this._propsTo=this._storePropsTo,this._progress=0,this._setStartTime(),this._onUpdate&&this._onUpdate.call(this,this),this._onDraw&&this._onDraw.call(this,this),this},d.playing=function(){return this._playing},d.target=function(){return this._target},d.duration=function(t){return void 0!==t&&(this._duration=t,this._durationMs=1e3*t/this._timeScale,this._playing&&this._setStartTime()),this._duration},d.timeScale=function(t){return void 0!==t&&(this._timeScale=t,this.duration(this._duration)),this._timeScale},d.currentTime=function(t){return void 0!==t?this.progress(t/this._duration)*this._duration:this.progress()*this._duration},d.progress=function(t){return void 0!==t&&(this._progress=Math.min(1,Math.max(0,t)),this._setStartTime(),this._isPrepared||this._setDiff(),this._playing&&1===t?(this._completeProps(),this._onUpdate&&this._onUpdate.call(this,this),this._onDraw&&this._onDraw.call(this,this),this._complete()):(this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this),this._onDraw&&this._onDraw.call(this,this))),this._progress},d._resetLoop=function(t,e){var i;for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&("object"===r(e[i])?this._resetLoop(t[i],e[i]):t[i]=e[i])},d._cloneObjects=function(){var t={},e={},i={};return this._cloneObjectsLoop(this._target,this._propsTo,this._propsFrom,t,e,i),{target:t,propsTo:e,propsFrom:i}},d._cloneObjectsLoop=function(t,e,i,n,o,s){var a,l;for(l in i)i.hasOwnProperty(l)&&void 0===e[l]&&void 0!==t[l]&&(n[l]=t[l],o[l]=t[l],s[l]=i[l]);for(l in e)t.hasOwnProperty(l)&&(a=r(t[l]),null!==t[l]&&"object"===a?(Array.isArray(t[l])?(n[l]=[],o[l]=[],s[l]=[]):(n[l]={},o[l]={},s[l]={}),this._cloneObjectsLoop(t[l],e[l]||{},i[l]||{},n[l],o[l],s[l])):null!==e[l]&&"number"===a&&(n[l]=t[l],o[l]=e[l],i&&void 0!==i[l]&&(s[l]=i[l])))},d._prepareProperties=function(){if(!this._isPrepared){var t=this._cloneObjects();this._storeTarget=t.target,this._propsTo=t.propsTo,this._storePropsTo=this._propsTo,this._propsFrom=t.propsFrom,this._storePropsFrom=this._propsFrom,this._isPrepared=!0}},d._setStartTime=function(){this._startTime=this._getTime()-this.progress()*this._durationMs},d._setDiff=function(){this._isPrepared||this._prepareProperties(),this._propsDiff={},this._setDiffLoop(this._propsTo,this._propsFrom,this._target,this._propsDiff)},d._setDiffLoop=function(t,e,i,n){var o,s;for(s in t)t.hasOwnProperty(s)&&(o=r(t[s]),null!==t[s]&&"object"===o?(e[s]=e[s]||{},n[s]=n[s]||{},this._setDiffLoop(t[s],e[s],i[s],n[s])):"number"===o&&void 0!==i[s]?(void 0!==e[s]?i[s]=e[s]:e[s]=i[s],n[s]=t[s]-i[s]):(t[s]=null,e[s]=null))},d._start=function(){this._startTimeout=null,this._remainingDelay=0,this._setStartTime(),this._clock.on("update",this._update),this._clock.on("draw",this._draw),this._clock.isRunning()||this._clock.start(),this._setDiff(),this._playing=!0,this._running=!0,this._onStart&&this._onStart.call(this,this),this.trigger(h.PLAY,this)},d._stop=function(){this._playing=!1,this._running=!1,this._clock.off("update",this._update),this._clock.off("draw",this._draw)},d._updateProps=function(){var t;t=1===this._direction?this._ease.getValue(this._progress):1-this._ease.getValue(1-this._progress),this._updatePropsLoop(this._propsTo,this._propsFrom,this._target,this._propsDiff,t)},d._updatePropsLoop=function(t,e,i,n,r){var o;for(o in t)t.hasOwnProperty(o)&&null!==t[o]&&("number"!=typeof t[o]?this._updatePropsLoop(t[o],e[o],i[o],n[o],r):i[o]=e[o]+n[o]*r)},d._completeProps=function(){this._completePropsLoop(this._propsTo,this._target)},d._completePropsLoop=function(t,e){var i;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&("number"!=typeof t[i]?this._completePropsLoop(t[i],e[i]):e[i]=t[i])},d._complete=function(){this._isYoyo&&(this._loop>0&&this._loopCount<=this._loop||0===this._loop&&0===this._loopCount)?(this._propsFrom=1===this._direction?this._storePropsTo:this._storePropsFrom,this._propsTo=1===this._direction?this._storePropsFrom:this._storePropsTo,this._direction*=-1,-1===this._direction&&++this._loopCount,this.progress(0),this._start()):this._loopCount<this._loop?(++this._loopCount,this.progress(0),this._start()):(this.trigger(h.COMPLETE,this),this._onComplete&&this._onComplete.call(this,this),this._options&&this._options.destroyOnComplete&&this.destroy())},d._update=function(t){this._running&&(this._progress=(t.timeNow-this._startTime)/this._durationMs,this._progress>=1?(this._progress=1,this._running=!1,this._completeProps()):this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this))},d._draw=function(t){this._onDraw&&this._onDraw.call(this,this),this._running||(this._stop(),1===this._progress&&this._complete())},h._instantiate=function(){return this._clips=[],this},h._add=function(t){this._clips.push(t)},h._remove=function(t){var e=this._clips.indexOf(t);e>-1&&this._clips.splice(e,1)},h.getAll=function(t){if(void 0!==t){for(var e=[],i=this._clips.length;i--;)this._clips[i].target()===t&&e.push(this._clips[i]);return e}return Array.prototype.slice.call(this._clips)},h.destroyAll=function(t){var e=this.getAll(t);this._clips.length===e.length&&(this._clips=[]);for(var i=e.length;i--;)e[i].destroy();return e},h.to=function(t,e,i,n){return void 0===(n=n||{}).destroyOnComplete&&(n.destroyOnComplete=!0),new h(t,e,i,n).play()},h.from=function(t,e,i,n){return(n=n||{}).propsFrom=i,void 0===n.destroyOnComplete&&(n.destroyOnComplete=!0),new h(t,e,n.propsTo,n).play()},t.exports=h._instantiate()},function(t,e,i){"use strict";var n=i(589),r=i(1249),o=i(1250),s=i(224),a='Easing function "%TYPE%" not recognized among the following: '+Object.keys(o).join(", ");t.exports=function(t){var e;if("step-start"===t)return n(1,"start");if("step-end"===t)return n(1,"end");if(!(e=o[t]))throw new Error(a.replace("%TYPE%",t));return new s(e,r[t])}},function(t,e,i){"use strict";var n={linear:"cubic-bezier(0, 0, 1, 1)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","ease-in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","ease-out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","ease-in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","ease-in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","ease-out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","ease-in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","ease-in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","ease-out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","ease-in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","ease-in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","ease-out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","ease-in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","ease-in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","ease-out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","ease-in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","ease-in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","ease-out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","ease-in-out-expo":"cubic-bezier(1, 0, 0, 1)","ease-in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","ease-out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","ease-in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","ease-in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"};n.easeIn=n["ease-in"],n.easeOut=n["ease-out"],n.easeInOut=n["ease-in-out"],n.easeInCubic=n["ease-in-cubic"],n.easeOutCubic=n["ease-out-cubic"],n.easeInOutCubic=n["ease-in-out-cubic"],n.easeInQuad=n["ease-in-quad"],n.easeOutQuad=n["ease-out-quad"],n.easeInOutQuad=n["ease-in-out-quad"],n.easeInQuart=n["ease-in-quart"],n.easeOutQuart=n["ease-out-quart"],n.easeInOutQuart=n["ease-in-out-quart"],n.easeInQuint=n["ease-in-quint"],n.easeOutQuint=n["ease-out-quint"],n.easeInOutQuint=n["ease-in-out-quint"],n.easeInSine=n["ease-in-sine"],n.easeOutSine=n["ease-out-sine"],n.easeInOutSine=n["ease-in-out-sine"],n.easeInExpo=n["ease-in-expo"],n.easeOutExpo=n["ease-out-expo"],n.easeInOutExpo=n["ease-in-out-expo"],n.easeInCirc=n["ease-in-circ"],n.easeOutCirc=n["ease-out-circ"],n.easeInOutCirc=n["ease-in-out-circ"],n.easeInBack=n["ease-in-back"],n.easeOutBack=n["ease-out-back"],n.easeInOutBack=n["ease-in-out-back"],t.exports=n},function(t,e,i){"use strict";var n=i(324),r=n(.25,.1,.25,1).easingFunction,o=n(.42,0,1,1).easingFunction,s=n(0,0,.58,1).easingFunction,a=n(.42,0,.58,1).easingFunction,l=function(t,e,i,n){return i*(t/=n)*t+e},u=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},c=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},h=function(t,e,i,n){return i*(t/=n)*t*t+e},d=function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},p=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},f=function(t,e,i,n){return i*(t/=n)*t*t*t+e},m=function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},_=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},y=function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},g=function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},b=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},v=function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},E=function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},w=function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},S=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},T=function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e},x=function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},k=function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},C=function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},P=function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},A=function(t,e,i,n){var r=1.70158,o=0,s=i;return 0===t?e:1==(t/=n)?e+i:(o||(o=.3*n),s<Math.abs(i)?(s=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/o)+e)},O=function(t,e,i,n){var r=1.70158,o=0,s=i;return 0===t?e:1==(t/=n)?e+i:(o||(o=.3*n),s<Math.abs(i)?(s=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/o)+i+e)},I=function(t,e,i,n){var r=1.70158,o=0,s=i;return 0===t?e:2==(t/=n/2)?e+i:(o||(o=n*(.3*1.5)),s<Math.abs(i)?(s=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/o)*-.5+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/o)*.5+i+e)},L=function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e},D=function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e},F=function(t,e,i,n,r){return void 0===r&&(r=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(r*=1.525))*t-r))+e:i/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},M=function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},R=function(t,e,i,n){return i-M(n-t,0,i,n)+e},N=function(t,e,i,n){return t<n/2?.5*R(2*t,0,i,n)+e:.5*M(2*t-n,0,i,n)+.5*i+e};t.exports={linear:function(t,e,i,n){return i*t/n+e},ease:r,easeIn:o,"ease-in":o,easeOut:s,"ease-out":s,easeInOut:a,"ease-in-out":a,easeInCubic:h,"ease-in-cubic":h,easeOutCubic:d,"ease-out-cubic":d,easeInOutCubic:p,"ease-in-out-cubic":p,easeInQuad:l,"ease-in-quad":l,easeOutQuad:u,"ease-out-quad":u,easeInOutQuad:c,"ease-in-out-quad":c,easeInQuart:f,"ease-in-quart":f,easeOutQuart:m,"ease-out-quart":m,easeInOutQuart:_,"ease-in-out-quart":_,easeInQuint:y,"ease-in-quint":y,easeOutQuint:g,"ease-out-quint":g,easeInOutQuint:b,"ease-in-out-quint":b,easeInSine:v,"ease-in-sine":v,easeOutSine:E,"ease-out-sine":E,easeInOutSine:w,"ease-in-out-sine":w,easeInExpo:S,"ease-in-expo":S,easeOutExpo:T,"ease-out-expo":T,easeInOutExpo:x,"ease-in-out-expo":x,easeInCirc:k,"ease-in-circ":k,easeOutCirc:C,"ease-out-circ":C,easeInOutCirc:P,"ease-in-out-circ":P,easeInBack:L,"ease-in-back":L,easeOutBack:D,"ease-out-back":D,easeInOutBack:F,"ease-in-out-back":F,easeInElastic:A,"ease-in-elastic":A,easeOutElastic:O,"ease-out-elastic":O,easeInOutElastic:I,"ease-in-out-elastic":I,easeInBounce:R,"ease-in-bounce":R,easeOutBounce:M,"ease-out-bounce":M,easeInOutBounce:N,"ease-in-out-bounce":N}},function(t,e,i){var n=i(590),r=i(1252),o=i(591);o.Clock=n,o.ThrottledClock=r,t.exports=o},function(t,e,i){"use strict";var n;i(247);var r=i(591),o=i(12).EventEmitterMicro;function s(t,e){null!==t&&(o.call(this),e=e||{},this._fps=t||null,this._clock=e.clock||r,this._lastThrottledTime=null,this._clockEvent=null,this._boundOnClockDraw=this._onClockDraw.bind(this),this._boundOnClockUpdate=this._onClockUpdate.bind(this),this._clock.on("update",this._boundOnClockUpdate))}(n=s.prototype=new o(null)).setFps=function(t){return this._fps=t,this},n.getFps=function(){return this._fps},n.start=function(){return this._clock.start(),this},n.stop=function(){return this._clock.stop(),this},n.isRunning=function(){return this._clock.isRunning()},n.destroy=function(){this._clock.off("update",this._boundOnClockUpdate),this._clock.destroy.call(this)},n._onClockUpdate=function(t){null===this._lastThrottledTime&&(this._lastThrottledTime=this._clock.lastFrameTime);var e=t.time-this._lastThrottledTime;if(!this._fps)throw new TypeError("FPS is not defined.");Math.ceil(1e3/e)>=this._fps+2||(this._clockEvent=t,this._clockEvent.delta=e,this._clockEvent.fps=1e3/e,this._lastThrottledTime=this._clockEvent.time,this._clock.once("draw",this._boundOnClockDraw),this.trigger("update",this._clockEvent))},n._onClockDraw=function(){this.trigger("draw",this._clockEvent)},t.exports=s},function(t,e,i){"use strict";t.exports={EventEmitterMicro:i(1254)}},function(t,e,i){"use strict";function n(){this._events={}}var r=n.prototype;r.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},r.once=function(t,e){var i=this;this.on(t,function n(r){i.off(t,n),void 0!==r?e(r):e()})},r.off=function(t,e){if(this.has(t)){var i=this._events[t].indexOf(e);-1!==i&&this._events[t].splice(i,1)}},r.trigger=function(t,e){if(this.has(t))for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},r.has=function(t){return t in this._events!=!1&&0!==this._events[t].length},r.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},t.exports=n},function(t,e,i){"use strict";var n="";n+='<div class="paddlenav" data-analytics-gallery-interaction-type="paddlenav">',n+="<ul>",n+='<li><button class="paddlenav-arrow paddlenav-arrow-previous" data-ac-gallery-previous-trigger="%ID%"></button></li>',n+='<li><button class="paddlenav-arrow paddlenav-arrow-next" data-ac-gallery-next-trigger="%ID%"></button></li>',n+="</ul>",n+="</div>",t.exports=n},,function(t,e,i){"use strict";i(1258);var n=i(594),r=i(146).Clip,o=i(359),s=i(1260),a=i(1291);function l(t,e,i,r){return t.nodeType?void 0===n||r&&r.inlineStyles?new s(t,e,i,r):new a(t,e,i,r):new o(t,e,i,r)}for(var u in r)"function"==typeof r[u]&&"_"!==u.substr(0,1)&&(l[u]=r[u].bind(r));l.to=function(t,e,i,n){return void 0===(n=n||{}).destroyOnComplete&&(n.destroyOnComplete=!0),new l(t,e,i,n).play()},l.from=function(t,e,i,n){return(n=n||{}).propsFrom=i,void 0===n.destroyOnComplete&&(n.destroyOnComplete=!0),new l(t,e,n.propsTo,n).play()},t.exports=l},function(t,e,i){"use strict";void 0===window.Float32Array&&(window.Float32Array=function(){})},function(t,e,i){"use strict";var n=i(147).createBezier;function r(t,e){this.manager=e,this.p1={x:t[0],y:t[1]},this.p2={x:t[2],y:t[3]},this._isLinear=this.p1.x===this.p1.y&&this.p2.x===this.p2.y,this._cacheSplits={}}var o=r.prototype;o.splitAt=function(t){if(this._isLinear)return this;if(0===(t=Math.round(40*t)/40))return this;if(void 0!==this._cacheSplits[t])return this._cacheSplits[t];for(var e=[this.p1.x,this.p2.x],i=[this.p1.y,this.p2.y],n=0,r=t,o=0,s=1,a=this._getStartX(t,e);r!==a&&n<1e3;)r<a?s=t:o=t,t=o+.5*(s-o),a=this._getStartX(t,e),++n;var l=this._splitBezier(t,e,i),u=this._normalize(l),c=this.manager.create(u);return this._cacheSplits[r]=c,c},o.reversed=function(){var t=this.toArray();return this.manager.create([.5-(t[2]-.5),.5-(t[3]-.5),.5-(t[0]-.5),.5-(t[1]-.5)])},o.toArray=function(){return[this.p1.x,this.p1.y,this.p2.x,this.p2.y]},o.toCSSString=function(){return"cubic-bezier("+this.p1.x+", "+this.p1.y+", "+this.p2.x+", "+this.p2.y+")"},o.toEasingFunction=function(){return n.apply(this,this.toArray()).easingFunction},o._getStartX=function(t,e){var i=t-1,n=t*t,r=i*i;return n*t-3*n*i*e[1]+3*t*r*e[0]},o._splitBezier=function(t,e,i){var n=t-1,r=t*t,o=n*n,s=r*t;return[s-3*r*n*e[1]+3*t*o*e[0],s-3*r*n*i[1]+3*t*o*i[0],r-2*t*n*e[1]+o*e[0],r-2*t*n*i[1]+o*i[0],t-n*e[1],t-n*i[1]]},o._normalize=function(t){return[(t[2]-t[0])/(1-t[0]),(t[3]-t[1])/(1-t[1]),(t[4]-t[0])/(1-t[0]),(t[5]-t[1])/(1-t[1])]},t.exports=r},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(249),s=i(598),a=i(599),l=i(65),u=i(621),c=i(359);function h(t,e,i,n){n=n||{},this._el=t,this._storeOnStart=n.onStart||null,this._storeOnDraw=n.onDraw||null,this._storeOnComplete=n.onComplete||null,n.onStart=this._onStart,n.onDraw=this._onDraw,n.onComplete=this._onComplete,c.call(this,{},e,i,n)}var d=c.prototype,p=h.prototype=l(d);p.play=function(){var t=d.play.call(this);return 0!==this._remainingDelay&&o(this._el,s(this._target)),t},p.reset=function(){var t=d.reset.call(this);return o(this._el,s(this._target)),t},p.destroy=function(){return this._el=null,this._completeStyles=null,this._storeOnStart=null,this._storeOnDraw=null,this._storeOnComplete=null,d.destroy.call(this)},p.target=function(){return this._el},p._prepareProperties=function(){var t=a(this._el,this._propsTo,this._propsFrom);this._target=t.target,this._propsFrom=t.propsFrom,this._propsTo=t.propsTo,u(this._el,this._target);var e=this._isYoyo?this._propsFrom:this._propsTo;if(this._completeStyles=s(e),void 0!==this._options.removeStylesOnComplete){var i,n=this._options.removeStylesOnComplete;if("boolean"==typeof n&&n)for(i in this._completeStyles)this._completeStyles.hasOwnProperty(i)&&(this._completeStyles[i]=null);else if("object"===r(n)&&n.length)for(var o=n.length;o--;)i=n[o],this._completeStyles.hasOwnProperty(i)&&(this._completeStyles[i]=null)}return d._prepareProperties.call(this)},p._onStart=function(t){this.playing()&&1===this._direction&&0===this._delay&&o(this._el,s(this._propsFrom)),"function"==typeof this._storeOnStart&&this._storeOnStart.call(this,this)},p._onDraw=function(t){o(this._el,s(this._target)),"function"==typeof this._storeOnDraw&&this._storeOnDraw.call(this,this)},p._onComplete=function(t){o(this._el,this._completeStyles),"function"==typeof this._storeOnComplete&&this._storeOnComplete.call(this,this)},t.exports=h},,,,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}t.exports=function(t){var e,i,n;if(!t&&0!==t)return"";if(Array.isArray(t))return t+"";if("object"===r(t)){for(e="",i=Object.keys(t),n=0;n<i.length;n++)e+=i[n]+"("+t[i[n]]+") ";return e.trim()}return t}},,function(t,e,i){"use strict";t.exports=function(t){return t.replace(/-(\w)/g,function(t,e,i,n){return 0===i&&"moz"!==n.substr(1,3)?e:e.toUpperCase()})}},function(t,e,i){"use strict";var n=i(1269);n.decimalToHex=i(1271),n.hexToDecimal=i(606),n.hexToRgb=i(360),n.isColor=i(601),n.isHex=i(251),n.isRgb=i(602),n.isRgba=i(362),n.mixColors=i(603),n.rgbaToArray=i(604),n.rgbToArray=i(364),n.rgbToDecimal=i(605),n.rgbToHex=i(365),n.rgbToHsl=i(1272),n.rgbToHsv=i(1273),n.rgbaToObject=i(363),n.rgbToObject=i(252),n.shortToLongHex=i(361),t.exports={Color:n}},function(t,e,i){"use strict";var n=i(1270),r=i(360),o=i(601),s=i(251),a=i(362),l=i(603),u=i(604),c=i(364),h=i(605),d=i(365),p=i(363),f=i(252),m=i(361);function _(t){if(!o(t)&&!n.nameToRgbObject[t])throw new Error(t+" is not a supported color.");this._setColor(t)}var y=_.prototype;y._setColor=function(t){if(this._color={},s(t))this._color.hex=m(t),this._color.rgb={color:r(t)};else if(a(t)){this._color.rgba={color:t};var e=this.rgbaObject();this._color.rgb={color:"rgb("+e.r+", "+e.g+", "+e.b+")"}}else if(n.nameToRgbObject[t]){var i=n.nameToRgbObject[t];this._color.rgb={object:i,color:"rgb("+i.r+", "+i.g+", "+i.b+")"}}else this._color.rgb={color:t}},y.rgb=function(){return this._color.rgb.color},y.rgba=function(){if(void 0===this._color.rgba){var t=this.rgbObject();this._color.rgba={color:"rgba("+t.r+", "+t.g+", "+t.b+", 1)"}}return this._color.rgba.color},y.hex=function(){return void 0===this._color.hex&&(this._color.hex=d.apply(this,this.rgbArray())),this._color.hex},y.decimal=function(){return void 0===this._color.decimal&&(this._color.decimal=h(this.rgb())),this._color.decimal},y.cssName=function(){return n.rgbToName[this.rgb()]||null},y.rgbArray=function(){return void 0===this._color.rgb.array&&(this._color.rgb.array=c(this.rgb())),this._color.rgb.array},y.rgbaArray=function(){return void 0===this._color.rgba&&this.rgba(),void 0===this._color.rgba.array&&(this._color.rgba.array=u(this.rgba())),this._color.rgba.array},y.rgbObject=function(){return void 0===this._color.rgb.object&&(this._color.rgb.object=f(this.rgb())),this._color.rgb.object},y.rgbaObject=function(){return void 0===this._color.rgba&&this.rgba(),void 0===this._color.rgba.object&&(this._color.rgba.object=p(this.rgba())),this._color.rgba.object},y.getRed=function(){return this.rgbObject().r},y.getGreen=function(){return this.rgbObject().g},y.getBlue=function(){return this.rgbObject().b},y.getAlpha=function(){return void 0===this._color.rgba?1:this.rgbaObject().a},y.setRed=function(t){return t!==this.getRed()&&this._setColor("rgba("+t+", "+this.getGreen()+", "+this.getBlue()+", "+this.getAlpha()+")"),this.rgbObject().r},y.setGreen=function(t){return t!==this.getGreen()&&this._setColor("rgba("+this.getRed()+", "+t+", "+this.getBlue()+", "+this.getAlpha()+")"),this.rgbObject().g},y.setBlue=function(t){return t!==this.getBlue()&&this._setColor("rgba("+this.getRed()+", "+this.getGreen()+", "+t+", "+this.getAlpha()+")"),this.rgbObject().b},y.setAlpha=function(t){return t!==this.getAlpha()&&this._setColor("rgba("+this.getRed()+", "+this.getGreen()+", "+this.getBlue()+", "+t+")"),this.rgbaObject().a},y.mix=function(t,e){var i=f(l(this.rgb(),t,e));return this._setColor("rgba("+i.r+", "+i.g+", "+i.b+", "+this.getAlpha()+")"),this.rgb()},y.clone=function(){return new _(this.rgb())},t.exports=_},function(t,e,i){"use strict";t.exports={rgbToName:{"rgb(240, 248, 255)":"aliceblue","rgb(250, 235, 215)":"antiquewhite","rgb(0, 0, 0)":"black","rgb(0, 0, 255)":"blue","rgb(0, 255, 255)":"cyan","rgb(0, 0, 139)":"darkblue","rgb(0, 139, 139)":"darkcyan","rgb(0, 100, 0)":"darkgreen","rgb(0, 206, 209)":"darkturquoise","rgb(0, 191, 255)":"deepskyblue","rgb(0, 128, 0)":"green","rgb(0, 255, 0)":"lime","rgb(0, 0, 205)":"mediumblue","rgb(0, 250, 154)":"mediumspringgreen","rgb(0, 0, 128)":"navy","rgb(0, 255, 127)":"springgreen","rgb(0, 128, 128)":"teal","rgb(25, 25, 112)":"midnightblue","rgb(30, 144, 255)":"dodgerblue","rgb(32, 178, 170)":"lightseagreen","rgb(34, 139, 34)":"forestgreen","rgb(46, 139, 87)":"seagreen","rgb(47, 79, 79)":"darkslategray","rgb(50, 205, 50)":"limegreen","rgb(60, 179, 113)":"mediumseagreen","rgb(64, 224, 208)":"turquoise","rgb(65, 105, 225)":"royalblue","rgb(70, 130, 180)":"steelblue","rgb(72, 61, 139)":"darkslateblue","rgb(72, 209, 204)":"mediumturquoise","rgb(75, 0, 130)":"indigo","rgb(85, 107, 47)":"darkolivegreen","rgb(95, 158, 160)":"cadetblue","rgb(100, 149, 237)":"cornflowerblue","rgb(102, 205, 170)":"mediumaquamarine","rgb(105, 105, 105)":"dimgray","rgb(106, 90, 205)":"slateblue","rgb(107, 142, 35)":"olivedrab","rgb(112, 128, 144)":"slategray","rgb(119, 136, 153)":"lightslategray","rgb(123, 104, 238)":"mediumslateblue","rgb(124, 252, 0)":"lawngreen","rgb(127, 255, 212)":"aquamarine","rgb(127, 255, 0)":"chartreuse","rgb(128, 128, 128)":"gray","rgb(128, 0, 0)":"maroon","rgb(128, 128, 0)":"olive","rgb(128, 0, 128)":"purple","rgb(135, 206, 250)":"lightskyblue","rgb(135, 206, 235)":"skyblue","rgb(138, 43, 226)":"blueviolet","rgb(139, 0, 139)":"darkmagenta","rgb(139, 0, 0)":"darkred","rgb(139, 69, 19)":"saddlebrown","rgb(143, 188, 143)":"darkseagreen","rgb(144, 238, 144)":"lightgreen","rgb(147, 112, 219)":"mediumpurple","rgb(148, 0, 211)":"darkviolet","rgb(152, 251, 152)":"palegreen","rgb(153, 50, 204)":"darkorchid","rgb(154, 205, 50)":"yellowgreen","rgb(160, 82, 45)":"sienna","rgb(165, 42, 42)":"brown","rgb(169, 169, 169)":"darkgray","rgb(173, 255, 47)":"greenyellow","rgb(173, 216, 230)":"lightblue","rgb(175, 238, 238)":"paleturquoise","rgb(176, 196, 222)":"lightsteelblue","rgb(176, 224, 230)":"powderblue","rgb(178, 34, 34)":"firebrick","rgb(184, 134, 11)":"darkgoldenrod","rgb(186, 85, 211)":"mediumorchid","rgb(188, 143, 143)":"rosybrown","rgb(189, 183, 107)":"darkkhaki","rgb(192, 192, 192)":"silver","rgb(199, 21, 133)":"mediumvioletred","rgb(205, 92, 92)":"indianred","rgb(205, 133, 63)":"peru","rgb(210, 105, 30)":"chocolate","rgb(210, 180, 140)":"tan","rgb(211, 211, 211)":"lightgray","rgb(216, 191, 216)":"thistle","rgb(218, 165, 32)":"goldenrod","rgb(218, 112, 214)":"orchid","rgb(219, 112, 147)":"palevioletred","rgb(220, 20, 60)":"crimson","rgb(220, 220, 220)":"gainsboro","rgb(221, 160, 221)":"plum","rgb(222, 184, 135)":"burlywood","rgb(224, 255, 255)":"lightcyan","rgb(230, 230, 250)":"lavender","rgb(233, 150, 122)":"darksalmon","rgb(238, 232, 170)":"palegoldenrod","rgb(238, 130, 238)":"violet","rgb(240, 255, 255)":"azure","rgb(240, 255, 240)":"honeydew","rgb(240, 230, 140)":"khaki","rgb(240, 128, 128)":"lightcoral","rgb(244, 164, 96)":"sandybrown","rgb(245, 245, 220)":"beige","rgb(245, 255, 250)":"mintcream","rgb(245, 222, 179)":"wheat","rgb(245, 245, 245)":"whitesmoke","rgb(248, 248, 255)":"ghostwhite","rgb(250, 250, 210)":"lightgoldenrodyellow","rgb(250, 240, 230)":"linen","rgb(250, 128, 114)":"salmon","rgb(253, 245, 230)":"oldlace","rgb(255, 228, 196)":"bisque","rgb(255, 235, 205)":"blanchedalmond","rgb(255, 127, 80)":"coral","rgb(255, 248, 220)":"cornsilk","rgb(255, 140, 0)":"darkorange","rgb(255, 20, 147)":"deeppink","rgb(255, 250, 240)":"floralwhite","rgb(255, 215, 0)":"gold","rgb(255, 105, 180)":"hotpink","rgb(255, 255, 240)":"ivory","rgb(255, 240, 245)":"lavenderblush","rgb(255, 250, 205)":"lemonchiffon","rgb(255, 182, 193)":"lightpink","rgb(255, 160, 122)":"lightsalmon","rgb(255, 255, 224)":"lightyellow","rgb(255, 0, 255)":"magenta","rgb(255, 228, 225)":"mistyrose","rgb(255, 228, 181)":"moccasin","rgb(255, 222, 173)":"navajowhite","rgb(255, 165, 0)":"orange","rgb(255, 69, 0)":"orangered","rgb(255, 239, 213)":"papayawhip","rgb(255, 218, 185)":"peachpuff","rgb(255, 192, 203)":"pink","rgb(255, 0, 0)":"red","rgb(255, 245, 238)":"seashell","rgb(255, 250, 250)":"snow","rgb(255, 99, 71)":"tomato","rgb(255, 255, 255)":"white","rgb(255, 255, 0)":"yellow","rgb(102, 51, 153)":"rebeccapurple"},nameToRgbObject:{aqua:{r:0,g:255,b:255},aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},black:{r:0,g:0,b:0},blue:{r:0,g:0,b:255},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgreen:{r:0,g:100,b:0},darkturquoise:{r:0,g:206,b:209},deepskyblue:{r:0,g:191,b:255},green:{r:0,g:128,b:0},lime:{r:0,g:255,b:0},mediumblue:{r:0,g:0,b:205},mediumspringgreen:{r:0,g:250,b:154},navy:{r:0,g:0,b:128},springgreen:{r:0,g:255,b:127},teal:{r:0,g:128,b:128},midnightblue:{r:25,g:25,b:112},dodgerblue:{r:30,g:144,b:255},lightseagreen:{r:32,g:178,b:170},forestgreen:{r:34,g:139,b:34},seagreen:{r:46,g:139,b:87},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},limegreen:{r:50,g:205,b:50},mediumseagreen:{r:60,g:179,b:113},turquoise:{r:64,g:224,b:208},royalblue:{r:65,g:105,b:225},steelblue:{r:70,g:130,b:180},darkslateblue:{r:72,g:61,b:139},mediumturquoise:{r:72,g:209,b:204},indigo:{r:75,g:0,b:130},darkolivegreen:{r:85,g:107,b:47},cadetblue:{r:95,g:158,b:160},cornflowerblue:{r:100,g:149,b:237},mediumaquamarine:{r:102,g:205,b:170},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},slateblue:{r:106,g:90,b:205},olivedrab:{r:107,g:142,b:35},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},mediumslateblue:{r:123,g:104,b:238},lawngreen:{r:124,g:252,b:0},aquamarine:{r:127,g:255,b:212},chartreuse:{r:127,g:255,b:0},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},maroon:{r:128,g:0,b:0},olive:{r:128,g:128,b:0},purple:{r:128,g:0,b:128},lightskyblue:{r:135,g:206,b:250},skyblue:{r:135,g:206,b:235},blueviolet:{r:138,g:43,b:226},darkmagenta:{r:139,g:0,b:139},darkred:{r:139,g:0,b:0},saddlebrown:{r:139,g:69,b:19},darkseagreen:{r:143,g:188,b:143},lightgreen:{r:144,g:238,b:144},mediumpurple:{r:147,g:112,b:219},darkviolet:{r:148,g:0,b:211},palegreen:{r:152,g:251,b:152},darkorchid:{r:153,g:50,b:204},yellowgreen:{r:154,g:205,b:50},sienna:{r:160,g:82,b:45},brown:{r:165,g:42,b:42},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},greenyellow:{r:173,g:255,b:47},lightblue:{r:173,g:216,b:230},paleturquoise:{r:175,g:238,b:238},lightsteelblue:{r:176,g:196,b:222},powderblue:{r:176,g:224,b:230},firebrick:{r:178,g:34,b:34},darkgoldenrod:{r:184,g:134,b:11},mediumorchid:{r:186,g:85,b:211},rosybrown:{r:188,g:143,b:143},darkkhaki:{r:189,g:183,b:107},silver:{r:192,g:192,b:192},mediumvioletred:{r:199,g:21,b:133},indianred:{r:205,g:92,b:92},peru:{r:205,g:133,b:63},chocolate:{r:210,g:105,b:30},tan:{r:210,g:180,b:140},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},thistle:{r:216,g:191,b:216},goldenrod:{r:218,g:165,b:32},orchid:{r:218,g:112,b:214},palevioletred:{r:219,g:112,b:147},crimson:{r:220,g:20,b:60},gainsboro:{r:220,g:220,b:220},plum:{r:221,g:160,b:221},burlywood:{r:222,g:184,b:135},lightcyan:{r:224,g:255,b:255},lavender:{r:230,g:230,b:250},darksalmon:{r:233,g:150,b:122},palegoldenrod:{r:238,g:232,b:170},violet:{r:238,g:130,b:238},azure:{r:240,g:255,b:255},honeydew:{r:240,g:255,b:240},khaki:{r:240,g:230,b:140},lightcoral:{r:240,g:128,b:128},sandybrown:{r:244,g:164,b:96},beige:{r:245,g:245,b:220},mintcream:{r:245,g:255,b:250},wheat:{r:245,g:222,b:179},whitesmoke:{r:245,g:245,b:245},ghostwhite:{r:248,g:248,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},linen:{r:250,g:240,b:230},salmon:{r:250,g:128,b:114},oldlace:{r:253,g:245,b:230},bisque:{r:255,g:228,b:196},blanchedalmond:{r:255,g:235,b:205},coral:{r:255,g:127,b:80},cornsilk:{r:255,g:248,b:220},darkorange:{r:255,g:140,b:0},deeppink:{r:255,g:20,b:147},floralwhite:{r:255,g:250,b:240},fuchsia:{r:255,g:0,b:255},gold:{r:255,g:215,b:0},hotpink:{r:255,g:105,b:180},ivory:{r:255,g:255,b:240},lavenderblush:{r:255,g:240,b:245},lemonchiffon:{r:255,g:250,b:205},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightyellow:{r:255,g:255,b:224},magenta:{r:255,g:0,b:255},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},pink:{r:255,g:192,b:203},red:{r:255,g:0,b:0},seashell:{r:255,g:245,b:238},snow:{r:255,g:250,b:250},tomato:{r:255,g:99,b:71},white:{r:255,g:255,b:255},yellow:{r:255,g:255,b:0},rebeccapurple:{r:102,g:51,b:153}}}},function(t,e,i){"use strict";t.exports=function(t){return"#"+t.toString(16)}},function(t,e,i){"use strict";t.exports=function(t,e,i){if(3!==arguments.length)return!1;t/=255,e/=255,i/=255;var n,r,o=Math.max(t,e,i),s=Math.min(t,e,i),a=o+s,l=o-s,u=a/2;if(o===s)n=r=0;else{switch(r=u>.5?l/(2-o-s):l/a,o){case t:n=(e-i)/l;break;case e:n=2+(i-t)/l;break;case i:n=4+(t-e)/l}(n*=60)<0&&(n+=360)}return[n,Math.round(100*r),Math.round(100*u)]}},function(t,e,i){"use strict";t.exports=function(t,e,i){if(3!==arguments.length)return!1;var n,r,o=t/255,s=e/255,a=i/255,l=Math.max(o,s,a),u=Math.min(o,s,a),c=l,h=l-u;if(r=0===l?0:h/l,l===u)n=0;else{switch(l){case o:n=(s-a)/h+(s<a?6:0);break;case s:n=(a-o)/h+2;break;case a:n=(o-s)/h+4}n/=6}return[Math.round(360*n),Math.round(100*r),Math.round(100*c)]}},,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(1288),r=i(600),o={translateX:"width",translateY:"height"};function s(t,e,i){var n,o,s;for(s in this._transform=t,i)i.hasOwnProperty(s)&&"function"==typeof this._transform[s]&&(o="%"===(n=r(i[s])).unit?this._convertPercentToPixelValue(s,n.value,e):n.value,this._transform[s].call(this._transform,o))}var a=s.prototype;a._convertPercentToPixelValue=function(t,e,i){t=o[t];var r=n(i);return r[t]?(e*=.01,r[t]*e):e},a.toArray=function(){return this._transform.toArray()},a.toCSSString=function(){return this._transform.toCSSString()},t.exports=s},function(t,e,i){"use strict";var n=i(1289);t.exports=function(t,e){var i;return e?{width:(i=n(t)).width,height:i.height}:{width:t.offsetWidth,height:t.offsetHeight}}},function(t,e,i){"use strict";t.exports=function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}},function(t,e,i){"use strict";t.exports=function(t){if(t.transitionProperty){for(var e="",i=t.transitionProperty.split(", "),n=t.transitionDuration.split(", "),r=t.transitionTimingFunction.replace(/\d+[,]+[\s]/gi,function(t){return t.substr(0,t.length-1)}).split(", "),o=t.transitionDelay.split(", "),s=i.length;s--;)e+=i[s]+" "+n[s]+" "+r[s]+" "+o[s]+", ";return e.substr(0,e.length-2)}return!1}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(249),s=i(178),a=i(598),l=i(599),u=i(92),c=i(65),h=i(147).createPredefined,d=i(595),p=i(621),f=i(594),m=i(1292),_=i(596),y=i(146).Clip,g=i(359),b=i(622).PageVisibilityManager,v="%EASE% is not a supported predefined ease when transitioning with Elements and CSS transition. If you need to use %EASE% then pass the inlineStyle:true option.",E="Function eases are not supported when using CSS transitions with Elements. Either use a cubic-bezier string (e.g. 'cubic-bezier(0, 0, 1, 1)' or pass the inlineStyle option as `true` to render styles each frame instead of using CSS transitions.";function w(t,e,i,n){if(n=n||{},this._el=t,this._storeEase=n.ease,"function"==typeof this._storeEase)throw new Error(E);this._storeOnStart=n.onStart||null,this._storeOnComplete=n.onComplete||null,n.onStart=this._onStart.bind(this),n.onComplete=this._onComplete.bind(this),this._stylesTo=u(i,!0),this._stylesFrom=n.propsFrom?u(n.propsFrom,!0):{},this._propsEase=n.propsEase?u(n.propsEase,!0):{},d(n.ease)&&(n.ease=_.create(n.ease).toEasingFunction()),y.call(this,{},e,{},n),this._propsFrom={}}var S=y.prototype,T=w.prototype=c(S);T.play=function(){var t=S.play.call(this);return 1===this._direction&&0===this.progress()&&0!==this._remainingDelay&&this._applyStyles(0,a(this._stylesFrom)),t},T.reset=function(){var t=S.reset.call(this);return this._stylesClip.reset(),this._applyStyles(0,a(this._styles)),t},T.destroy=function(){return b.off("changed",this._onVisibilityChanged),this._removeTransitionListener(),this.off("pause",this._onPaused),this._onPaused(),this._stylesClip.destroy(),this._stylesClip=null,this._el=null,this._propsArray=null,this._styles=null,this._stylesFrom=null,this._stylesTo=null,this._completeStyles=null,this._storeOnStart=null,this._storeOnComplete=null,this._onTransitionEnded=null,S.destroy.call(this)},T.target=function(){return this._el},T.duration=function(t){var e=S.duration.call(this,t);return void 0===t?e:(this.playing()&&this.progress(this._progress),e)},T.progress=function(t){var e=S.progress.call(this,t);return void 0===t?e:(t=1===this._direction?t:1-t,this._stylesClip.progress(t),this._applyStyles(0,a(this._styles)),this.playing()&&(this._isWaitingForStylesToBeApplied=!0,m(this._setStylesAfterWaiting,2)),e)},T._prepareProperties=function(){var t=l(this._el,this._stylesTo,this._stylesFrom);this._styles=t.target,this._stylesTo=t.propsTo,this._stylesFrom=t.propsFrom;var e,i,n=this._storeEase||"ease";for(i in this._eases={},this._propsArray=[],this._styleCompleteTo=a(this._stylesTo),this._styleCompleteFrom=a(this._stylesFrom),this._propsEaseKeys={},this._stylesTo)this._stylesTo.hasOwnProperty(i)&&(this._propsArray[this._propsArray.length]=i,void 0===this._propsEase[i]?(void 0===this._eases[n]&&(e=this._convertEase(n),this._eases[n]=e.css),this._propsEaseKeys[i]=n):void 0===this._eases[this._propsEase[i]]?(e=this._convertEase(this._propsEase[i]),this._eases[this._propsEase[i]]=e.css,this._propsEaseKeys[i]=this._propsEase[i],this._propsEase[i]=e.js):d(this._propsEase[i])&&(this._propsEaseKeys[i]=this._propsEase[i],this._propsEase[i]=this._eases[this._propsEase[i]][1].toEasingFunction()));if(this._onPaused=this._onPaused.bind(this),this.on("pause",this._onPaused),this._setOtherTransitions(),this._currentTransitionStyles=this._otherTransitions,this._completeStyles=a(this._isYoyo?this._stylesFrom:this._stylesTo),void 0!==this._options.removeStylesOnComplete){var o=this._options.removeStylesOnComplete;if("boolean"==typeof o&&o)for(i in this._stylesTo)this._completeStyles[i]=null;else if("object"===r(o)&&o.length)for(var s=o.length;s--;)this._completeStyles[o[s]]=null}return this._onTransitionEnded=this._onTransitionEnded.bind(this),this._setStylesAfterWaiting=this._setStylesAfterWaiting.bind(this),this._onVisibilityChanged=this._onVisibilityChanged.bind(this),b.on(b.CHANGED,this._onVisibilityChanged),this._stylesClip=new g(this._styles,1,this._stylesTo,{ease:this._options.ease,propsFrom:this._stylesFrom,propsEase:this._options.propsEase}),y._remove(this._stylesClip),S._prepareProperties.call(this)},T._convertEase=function(t){if("function"==typeof t)throw new Error(E);var e,i;if(d(t))i=(e=_.create(t)).toEasingFunction();else{var n=h(t);if(null===n.cssString)throw new Error(v.replace(/%EASE%/g,t));e=_.create(n.cssString),i=t}return{css:{1:e,"-1":e.reversed()},js:i}},T._complete=function(){!this._isWaitingForStylesToBeApplied&&!this._isTransitionEnded&&this._isListeningForTransitionEnd||1!==this.progress()||(this._isWaitingForStylesToBeApplied=!1,S._complete.call(this))},T._onTransitionEnded=function(){this._isTransitionEnded=!0,this._complete()},T._addTransitionListener=function(){!this._isListeningForTransitionEnd&&this._el&&this._onTransitionEnded&&(this._isListeningForTransitionEnd=!0,this._isTransitionEnded=!1,this._el.addEventListener(f,this._onTransitionEnded))},T._removeTransitionListener=function(){this._isListeningForTransitionEnd&&this._el&&this._onTransitionEnded&&(this._isListeningForTransitionEnd=!1,this._isTransitionEnded=!1,this._el.removeEventListener(f,this._onTransitionEnded))},T._applyStyles=function(t,e){if(t>0){var i,n="",r={};for(i in this._eases)this._eases.hasOwnProperty(i)&&(r[i]=this._eases[i][this._direction].splitAt(this.progress()).toCSSString());for(i in this._stylesTo)this._stylesTo.hasOwnProperty(i)&&(n+=i+" "+t+"ms "+r[this._propsEaseKeys[i]]+" 0ms, ");this._currentTransitionStyles=n.substr(0,n.length-2),this._doStylesMatchCurrentStyles(e)?this._removeTransitionListener():this._addTransitionListener()}else this._currentTransitionStyles="",this._removeTransitionListener();e.transition=this._getOtherClipTransitionStyles()+this._currentTransitionStyles,o(this._el,e)},T._doStylesMatchCurrentStyles=function(t){var e,i=s.apply(this,[this._el].concat([this._propsArray]));for(e in t)if(t.hasOwnProperty(e)&&i.hasOwnProperty(e)&&t[e]!==i[e])return!1;return!0},T._setStylesAfterWaiting=function(){if(this._isWaitingForStylesToBeApplied=!1,this.playing()){var t=this._durationMs*(1-this.progress()),e=this._direction>0?this._styleCompleteTo:this._styleCompleteFrom;this._applyStyles(t,e)}},T._setOtherTransitions=function(){p(this._el,this._stylesTo);for(var t=y.getAll(this._el),e=t.length;e--;)if(t[e]!==this&&t[e].playing()&&t[e]._otherTransitions&&t[e]._otherTransitions.length)return void(this._otherTransitions=t[e]._otherTransitions);this._otherTransitions=s(this._el,"transition").transition,null!==this._otherTransitions&&"all 0s ease 0s"!==this._otherTransitions||(this._otherTransitions="")},T._getTransitionStyles=function(){var t=this._getOtherClipTransitionStyles();return this._otherTransitions.length?t+=this._otherTransitions:t.length&&(t=t.substr(0,t.length-2)),t},T._getOtherClipTransitionStyles=function(){for(var t="",e=y.getAll(this._el),i=e.length;i--;)e[i]!==this&&e[i].playing()&&e[i]._currentTransitionStyles&&e[i]._currentTransitionStyles.length&&(t+=e[i]._currentTransitionStyles+", ");return t},T._onVisibilityChanged=function(t){if(this.playing()&&!t.isHidden){this._update({timeNow:this._getTime()});var e=this.progress();e<1&&this.progress(e)}},T._onPaused=function(t){var e=s.apply(this,[this._el].concat([this._propsArray]));e.transition=this._getTransitionStyles(),this._removeTransitionListener(),o(this._el,e)},T._onStart=function(t){var e=1===this._direction&&0===this.progress()&&0===this._delay?2:0;e&&(this._isWaitingForStylesToBeApplied=!0,this._applyStyles(0,this._styleCompleteFrom)),m(this._setStylesAfterWaiting,e),"function"==typeof this._storeOnStart&&this._storeOnStart.call(this,this)},T._onComplete=function(t){this._removeTransitionListener(),this._completeStyles.transition=this._getTransitionStyles(),o(this._el,this._completeStyles),"function"==typeof this._storeOnComplete&&this._storeOnComplete.call(this,this)},t.exports=w},function(t,e,i){"use strict";var n=i(622).PageVisibilityManager;t.exports=function(t,e){if(e){var i=0;!function r(){i===e?t.call(this):(++i,function(t){n.isHidden?setTimeout(t,16):window.requestAnimationFrame(t)}(r))}()}else t.call(this)}},function(t,e,i){"use strict";var n=i(65),r=i(12).EventEmitterMicro;function o(){var t;void 0!==document.addEventListener&&(void 0!==document.hidden?(this._hidden="hidden",t="visibilitychange"):void 0!==document.mozHidden?(this._hidden="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(this._hidden="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(this._hidden="webkitHidden",t="webkitvisibilitychange"),void 0===document[this._hidden]?this.isHidden=!1:this.isHidden=document[this._hidden],t&&document.addEventListener(t,this._handleVisibilityChange.bind(this),!1),r.call(this))}var s=o.prototype=n(r.prototype);s.CHANGED="changed",s._handleVisibilityChange=function(t){this.isHidden=document[this._hidden],this.trigger(this.CHANGED,{isHidden:this.isHidden})},t.exports=new o},function(t,e,i){"use strict";t.exports=i(1295)},function(t,e,i){"use strict";var n=i(65),r=i(146).Clip,o=i(623),s=i(624),a=i(1296),l=r.prototype;function u(t){(t=t||{}).ease=t.ease||"linear",t.destroyOnComplete=!1,this.options=t,r.call(this,{t:0},0,{t:1},t),this._itemList=new a}var c=u.prototype=n(l);u.prototype.constructor=u,c._update=function(t){l._update.call(this,t),this._render()},c.progress=function(t){return l.progress.call(this,t),void 0!==t&&this._render(),this._progress},c._render=function(){if(0!==this._itemList.length)for(var t=this._target.t*this._duration,e=this._itemList.head,i=e;i;){i=e.next;var n=t-e.position;e.currentTime(n),e=i}},c.addClip=function(t,e){e=void 0===e?this.duration():e;var i=t._delay/1e3;this._itemList.append(new o(t,e+i)),this._updateDuration()},c.addCallback=function(t,e){e=void 0===e?this.duration():e,this._itemList.append(new s(t,e)),this._updateDuration()},c.remove=function(t){var e=this._itemList.getItem(t);e&&(this._itemList.remove(e),this._updateDuration())},c._updateDuration=function(){var t=this._itemList.head,e=t.position+t.duration();this._itemList.forEach(function(i){var n=i.position+i.duration();n>=e&&(t=i,e=n)}),this.duration(e)},c.destroy=function(){for(var t=this._itemList.head;t;){var e=t;t=e.next,this._itemList.remove(e)}return this._duration=0,l.destroy.call(this)},t.exports=u},function(t,e,i){"use strict";var n=i(623),r=i(624),o=function(){this.head=null,this.tail=null,this.length=0},s=o.prototype;s.append=function(t){t.prev=null,t.next=null,this.tail?(this.tail.next=t,t.prev=this.tail):this.head=t,this.tail=t,this.length++},s.remove=function(t){t===this.head?this.head=this.head.next:t===this.tail&&(this.tail=this.tail.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.next=t.prev=null,null===this.head&&(this.tail=null),this.length--},s.getItem=function(t){for(var e=this.head;e;){var i=e;if(i instanceof n&&i.clip===t||i instanceof r&&i.callback===t)return i;e=i.next}return null},s.forEach=function(t){for(var e=this.head;e;){var i=e;t(i,0,this.length),e=i.next}},s.destroy=function(){for(;this.head;){var t=this.head;this.remove(t),t.destroy()}},t.exports=o},,,,,function(t,e,i){"use strict";i(175);var n=i(626),r=i(367),o="ac-gallery-slideitemwrapper";function s(t){r.call(this,document.createElement("div")),this._useClientWidthForItemWidth=t,this._items=[],this._currentWidth=0,this._el.classList.add(o)}var a=r.prototype,l=s.prototype=Object.create(a);l.addItem=function(t){this._items.push({el:t,parentElement:t.parentElement}),this._el.appendChild(t);var e=t.getAttribute("id");if(e){var i=this._el.getAttribute("id")||"";i+=(i.length?"-":"")+e,this._el.setAttribute("id",i)}},l.removeItems=function(){for(var t,e,i=0,n=this._items.length;i<n;i++)(t=this._items[i].el).style.position=null,t.style.left=null,(e=this._items[i].parentElement)&&e.appendChild(t)},l.resize=function(){var t;this._currentWidth=0;for(var e=0,i=this._items.length,r="rtl"===document.dir?"right":"left";e<i;e++)(t=this._items[e].el).style.position="absolute",t.style[r]=this._currentWidth+"px",this._currentWidth+=n(t,this._useClientWidthForItemWidth);this._el.style.width=this._currentWidth+"px"},l.destroy=function(){this.removeItems(),this._items=null,this._currentWidth=null;var t=this._el.parentElement;t&&t.removeChild(this._el),a.destroy.call(this)},t.exports=s},function(t,e,i){"use strict";var n=i(628),r=i(174);t.exports=function(t){var e,i,o=(t=t||{}).context||document.body;for(i=(e=o.querySelectorAll(r.SLIDE_SELECTOR)).length;i--;)n(e[i],r.SLIDE,t);for(i=(e=o.querySelectorAll(r.FADE_SELECTOR)).length;i--;)n(e[i],r.FADE,t);return r.getAll()}},,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(1324),r=i(1367);t.exports={createFlow:r,createVideo:n}},function(t,e,i){var n=i(635),r=i(1366),o=i(184).isHandheld,s=i(184).isTablet,a=i(92);t.exports=function(t,e,i){var l,u=a(i||{},!0);function c(t){throw new Error(t)}return u.type="video",e?e.basePath||c("Please provide a valid mediaSrc object with a basePath property."):c("Please provide both a valid container element and a valid mediaSrc object as arguments."),u.mediaObjectView?l=u.mediaObjectView:(l=u.iosInline&&!window.matchMedia("(-webkit-video-playable-inline)").matches&&(o()||s())?new r(t,e,u):new n(t,e,u)).options.mediaObjectView=l,l}},function(t,e,i){"use strict";var n=i(1326).Model,r=i(241);function o(t){n.apply(this,arguments)}var s=o.prototype=r.create(n.prototype);s.defaultAttributes={type:"video",paused:!0,ended:!1,ready:!1,loadStart:!1,loaded:!1,error:!1,destroyed:!1,currentTime:0,playbackRate:1,duration:0,preload:!1,autoplay:!1,frameRate:24,enhanced:!1,looping:!1},s.getType=function(){return this.get("type")},s.getPaused=function(){return this.get("paused")},s.getEnded=function(){return this.get("ended")},s.getReady=function(){return this.get("ready")},s.getDestroyed=function(){return this.get("destroyed")},s.getLoadStart=function(){return this.get("loadedStart")},s.getLoaded=function(){return this.get("loaded")},s.getError=function(){return this.get("error")},s.getCurrentTime=function(){return this.get("currentTime")},s.getPlaybackRate=function(){return this.get("playbackRate")},s.getDuration=function(){return this.get("duration")},s.getPreload=function(){return this.get("preload")},s.getAutoplay=function(){return this.get("autoplay")},s.getFrameRate=function(){return this.get("frameRate")},s.getEnhanced=function(){return this.get("enhanced")},s.getLooping=function(){return this.get("looping")},s.setPaused=function(t){this.set({paused:t})},s.setEnded=function(t){this.set({ended:t})},s.setReady=function(t){this.set({ready:t})},s.setDestroyed=function(t){this.set({destroyed:t})},s.setDuration=function(t){this.set({duration:t})},s.setLoadStart=function(t){this.set({loadStart:t})},s.setLoaded=function(t){this.set({loaded:t})},s.setError=function(t){this.set({error:t})},s.setCurrentTime=function(t){this.set({currentTime:t})},s.setPlaybackRate=function(t){this.set({playbackRate:t})},s.setPreload=function(t){this.set({preload:t})},s.setAutoplay=function(t){this.set({autoplay:t})},s.setFrameRate=function(t){this.set({frameRate:t})},s.setEnhanced=function(t){this.set({enhanced:t})},s.setLooping=function(t){this.set({looping:t})},t.exports=o},function(t,e,i){"use strict";t.exports={Model:i(1327)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(12).EventEmitterMicro,s=i(66),a=i(65),l=i(637).CID;function u(t){o.call(this),this.attributes=s(this.defaultAttributes,t||{}),this.cid=l.getNewCID(),this.attributes[this.idAttribute]&&(this.id=this.attributes[this.idAttribute])}var c=o.prototype,h=u.prototype=a(c);h.defaultAttributes={},h.idAttribute="id",h.get=function(t){if(this.attributes)return this.attributes[t]},h.set=function(t,e){if(this.attributes){var i,n,o,s={},a=!1;for(i in t)if(t.hasOwnProperty(i)){if((o=this.get(i))===t[i]||"object"===r(o)&&"object"===r(t[i])&&JSON.stringify(o)===JSON.stringify(t[i]))continue;a=!0,this.attributes[i]=t[i],n={value:t[i],previous:o},s[i]=n,this._triggerChange(i,n,e)}a&&this._trigger("change",s,e)}},h.hasAttribute=function(t){return!!this.attributes&&void 0!==this.attributes[t]},h.eachAttribute=function(t,e){var i;if(this.attributes)for(i in this.attributes)this.attributes.hasOwnProperty(i)&&t.call(e,{attribute:i,value:this.attributes[i]})},h.destroy=function(){var t;for(t in this.trigger("destroy"),c.destroy.call(this),this)this.hasOwnProperty(t)&&(this[t]=null)},h._trigger=function(t,e,i){!0!==(i=i||{}).silent&&this.trigger(t,e)},h._triggerChange=function(t,e,i){return this._trigger("change:"+t,e,i)},t.exports=u},function(t,e,i){"use strict";var n=i(99).SharedInstance;function r(){this._idCount=0}var o=r.prototype;o._cidPrefix="cid",o.getNewCID=function(){var t=this._cidPrefix+"-"+this._idCount;return this._idCount++,t},t.exports=n.share("ac-mvc-cid:CID","1.0.0",r)},function(t,e,i){"use strict";t.exports={View:i(1330)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=i(242).DOMEmitter,s=i(637).CID,a={create:i(65),defaults:i(66)},l={insertLastChild:i(638),remove:i(232)},u=i(355),c=i(580);function h(t){var e,i,n;this.options=a.defaults(this.defaultOptions,t||{}),this.cid=s.getNewCID(),this.model=this.options.model,this.options.template&&(this.template=this.options.template),e=this.options.tagName||this.tagName,i=this.options.element,n=this.options.className||this.className,i||(i=document.createElement(e)),o.call(this,i),n&&this.addClassName(n),this.options.events&&this.delegateEvents(this.options.events)}var d=h.prototype=a.create(o.prototype);d.tagName="div",d.defaultOptions={},d.getTagName=function(){return this.el.tagName.toLowerCase()},d.appendTo=function(t){return l.insertLastChild(this.el,t),this},d.render=function(){},d.addClassName=function(t){return this._manipulateClassName(t,u)},d.removeClassName=function(t){return this._manipulateClassName(t,c)},d.destroy=function(){var t;for(t in this.emitterTrigger("destroy"),this.off(),l.remove(this.el),this)this.hasOwnProperty(t)&&(this[t]=null)},d.delegateEvents=function(t,e){var i;for(i in e=e||this,t)t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=this[t[i]]);return this.on(t,e),this},d._manipulateClassName=function(t,e){var i;if("string"==typeof t)i=t.split(" ");else{if("object"!==r(t)||!Array.isArray(t))return this;i=t.slice()}return i.unshift(this.el),e.apply(this.el,i),this},t.exports=h},function(t,e,i){"use strict";t.exports=function(t){var e,i=document.createDocumentFragment();if(t)for((e=document.createElement("div")).innerHTML=t;e.firstChild;)i.appendChild(e.firstChild);return i}},function(t,e,i){"use strict";t.exports=function(t,e){return"hasAttribute"in t?t.hasAttribute(e):null!==t.attributes.getNamedItem(e)}},function(t,e,i){"use strict";i(228),i(125);i(126);var n=i(372);t.exports=function(t,e){var i,r=t.parentNode;return r?(i=r.childNodes,(i=!1!==e?n(i,e):Array.prototype.slice.call(i)).indexOf(t)):0}},function(t,e,i){"use strict";var n=i(126);t.exports=function(t,e){return n.insertNode(t,!0,"insertAfter"),n.childNode(e,!0,"insertAfter"),n.hasParentNode(e,"insertAfter"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)}},function(t,e,i){"use strict";var n=i(126);t.exports=function(t,e){return n.insertNode(t,!0,"insertBefore"),n.childNode(e,!0,"insertBefore"),n.hasParentNode(e,"insertBefore"),e.parentNode.insertBefore(t,e)}},function(t,e,i){"use strict";var n=i(126);t.exports=function(t,e){return n.insertNode(t,!0,"insertFirstChild"),n.parentNode(e,!0,"insertFirstChild"),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}},function(t,e,i){"use strict";var n=i(102),r=i(229);t.exports=function(t){return n(t,r)}},function(t,e,i){"use strict";var n=i(102),r=i(337);t.exports=function(t){return n(t,r)}},function(t,e,i){"use strict";var n=i(102),r=i(640);t.exports=function(t){return n(t,r)}},function(t,e,i){"use strict";var n=i(102),r=i(231);t.exports=function(t){return n(t,r)}},function(t,e,i){"use strict";var n=i(126);t.exports=function(t,e){return n.insertNode(t,!0,"insertFirstChild","newNode"),n.childNode(e,!0,"insertFirstChild","oldNode"),n.hasParentNode(e,"insertFirstChild","oldNode"),e.parentNode.replaceChild(t,e)}},function(t,e,i){t.exports.assetLoader=i(256),t.exports.types=i(383),t.exports.AssetGroup=i(382),t.exports.createAsset=i(647)},,,function(t,e,i){"use strict";function n(t,e){"function"==typeof t[e]&&t[e](t)}i(148),t.exports=function(t,e,i){var r=function(t,n){e.scheduled(e),e.asset.once("loaded",function(i){t(e)}),e.asset.once("error",function(r){if(i)return n(r);t(e)}),e.asset.load()},o=new Promise(function(t,r){e.asset.once("loaded",function(i){n(e,"success"),t(i)}),e.asset.once("error",function(o){if(e.error=o,n(e,"failure"),i)return r(o);t(e)})});return e.queueItem=t.enqueue(function(){return new Promise(r)},e.asset.priority),e.promise=o,e}},function(t,e,i){"use strict";var n=i(1347),r=i(385);t.exports=new n,t.exports.Ajax=n,t.exports.Request=r},function(t,e,i){"use strict";var n=i(385),r=i(1348),o=i(1349),s=function(){};s._Request=n,s.prototype={_defaults:{method:"get",timeout:5e3},_extend:function(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]},_getOptions:function(t,e){return this._extend({},this._defaults,e,t)},_isCrossDomainRequest:function(t){var e=new o,i=e.parse(window.location.href).origin,n=e.parse(t).origin;return e.destroy(),n!==i},create:function(t){return new n(t)},cors:function(t){return new(window.XDomainRequest&&document.documentMode<10?r:n)(t)},get:function(t){return t=this._getOptions({method:"get"},t),(this._isCrossDomainRequest(t.url)?this.cors(t):this.create(t)).send()},getJSON:function(t){return this.get(t).then(function(t){return JSON.parse(t.responseText)})},head:function(t){return t=this._getOptions({method:"head"},t),this.create(t).send()},isCrossDomainRequest:function(t){return this._isCrossDomainRequest(t)},post:function(t){return t=this._getOptions({method:"post"},t),this.create(t).send()}},t.exports=s},function(t,e,i){"use strict";var n=i(385),r=function(t){n.apply(this,arguments)};(r.prototype=n.create())._getTransport=function(){return new XDomainRequest},r.prototype._addReadyStateChangeHandler=function(){this.xhr.ontimeout=function(){this.reject(this.xhr)}.bind(this),this.xhr.onerror=function(){this.reject(this.xhr)}.bind(this),this.xhr.onload=function(){this.resolve(this.xhr)}.bind(this)},r.prototype._setTimeout=function(t){t||this._configuration&&this._configuration.timeout&&(t=this._configuration.timeout),t>0&&(this.xhr.timeout=t)},r.prototype._sendXHR=function(){setTimeout(function(){n.prototype._sendXHR.call(this)}.bind(this),0)},t.exports=r},function(t,e,i){"use strict";var n=function(){this.parser=null},r=n.prototype;r.parse=function(t){var e,i,n,r,o;if("string"!=typeof t)throw new TypeError(t+" must be a string");return this.parser||(this.parser=document.createElement("a")),this._qualifyPath(t),n=this.parser.hostname,i=this.parser.protocol,r=this._normalizePort(this.parser),e=this.parser.origin||this._constructOriginString(this.parser,r),o=this.parser.search,{originalPath:t,qualifiedPath:this.parser.href,protocol:i,hostname:n,origin:e,port:r,search:o}},r.destroy=function(){this.parser=null},r._constructOriginString=function(t,e){var i=e?":"+e:"";return t.protocol+"//"+t.hostname+i},r._normalizePort=function(t){return"80"===t.port||"443"===t.port||"0"===t.port?"":t.port},r._qualifyPath=function(t){this.parser.href=t,this.parser.href=this.parser.href},t.exports=n},function(t,e,i){"use strict";var n,r=i(183);function o(t,e){r.apply(this,arguments)}(n=o.prototype=Object.create(r.prototype))._load=function(){this.data=new Image,this.data.addEventListener("load",this._onLoad),this.data.addEventListener("error",this._onError),this.data.src=this.src},n.destroy=function(){this.data&&(this.data.removeEventListener("load",this._onLoad),this.data.removeEventListener("error",this._onError)),this.status="destroyed",this.data=null},t.exports=o},function(t,e,i){"use strict";var n,r=i(183),o=i(644);function s(t,e){r.apply(this,arguments),this.options=e||{},this._binary=this.options.binary||this._createAssetType()}(n=s.prototype=Object.create(r.prototype))._canUseBlob=function(){return void 0!==window.Blob&&void 0!==window.URL&&"function"==typeof window.URL.createObjectURL},n._createAssetType=function(){if(this._canUseBlob())return new o(this.src,this.options)},n._load=function(){this._binary.on("loaded",this._onLoad),this._binary.on("error",this._onError),this._binary.load()},n._onLoad=function(t){this.data=t,this.data instanceof window.Blob&&(this.data=this.options.element,this.data||(this.data=document.createElement("video")),this.data.getAttribute("type")!==t.type&&this.data.setAttribute("type",t.type),this.data.src=window.URL.createObjectURL(t)),r.prototype._onLoad.call(this,this.data)},n.pause=function(){this._binary.pause()},n.destroy=function(){this._binary.destroy(),r.prototype.destroy.call(this)},t.exports=s},function(t,e,i){"use strict";var n=i(50),r=i(42),o=function(){var t=n.getDocument().createElement("canvas");return!("function"!=typeof t.getContext||!t.getContext("2d"))};t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(527),r=i(91).original,o=i(42);function s(){return!r()||n.os.ios&&n.os.version.major>=8||n.browser.chrome}t.exports=o(s),t.exports.original=s},function(t,e,i){"use strict";var n=i(50),r=i(42);function o(){var t=!1,e=n.getDocument(),i=n.getNavigator();try{"cookie"in e&&i.cookieEnabled&&(e.cookie="ac_feature_cookie=1",t=-1!==e.cookie.indexOf("ac_feature_cookie"),e.cookie="ac_feature_cookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")}catch(t){}return t}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(177),r=i(42);function o(){return["linear-gradient(to bottom right, #9f9, white)","linear-gradient(top left, #9f9, white)","gradient(linear, left top, right bottom, from(#9f9), to(white))"].some(function(t){return!!n("background-image",t)})}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(177),r=i(42);function o(){return!!n("margin","1vw 1vh")}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(50),r=i(366);function o(t,e){var i=n.getDocument();return e=e||"div",t in i.createElement(e)}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(520),r=i(366);function o(t,e){return!!n(t,e)}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(50),r=i(42);function o(){var t=n.getWindow(),e=!1;try{e=!(!t.localStorage||null===t.localStorage.non_existent)}catch(t){}return e}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(50),r=i(42);function o(){return"HTMLMediaElement"in n.getWindow()}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";i(648);var n=i(50),r=i(42);function o(){var t=n.getWindow().matchMedia("only all");return!(!t||!t.matches)}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(50),r=i(42);function o(){var t=n.getWindow(),e=!1;try{"sessionStorage"in t&&"function"==typeof t.sessionStorage.setItem&&(t.sessionStorage.setItem("ac_feature","test"),e=!0,t.sessionStorage.removeItem("ac_feature","test"))}catch(t){}return e}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(50),r=i(42);function o(){return!!n.getDocument().implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(177),r=i(42);function o(){return!(!n("perspective","1px")||!n("transform","translateZ(0)"))}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(50),r=i(42);function o(){var t=n.getDocument().createElement("canvas");return"function"==typeof t.getContext&&!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}t.exports=r(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(635),r=n.prototype,o=i(523),s=function(t,e,i){n.call(this,t,e,i),this._polyfillRAFEmitter=i.polyfillRAFEmitter||new o,this._boundHandlePolyfillRAFEmitterDraw=this._handlePolyfillRAFEmitterDraw.bind(this),this._polyfillRAFEmitter.on("draw",this._boundHandlePolyfillRAFEmitterDraw)},a=s.prototype=Object.create(n.prototype);a._initInlineVideo=function(){r._initInlineVideo.apply(this,arguments),this._shouldLoop=!1},a._destroy=function(){r._destroy.apply(this,arguments),this._polyfillRAFEmitter&&(this._polyfillRAFEmitter.destroy(),this._polyfillRAFEmitter=null)},a.play=function(){!1!==this.model.getPaused()&&(this.model.setPaused(!1),this._polyfillRAFEmitter.run())},a.pause=function(){!0!==this.model.getPaused()&&(this.model.setPaused(!0),this._polyfillRAFEmitter.cancel())},a.setCurrentTime=function(t){r.setCurrentTime.apply(this,arguments),this._polyfillRAFEmitter.run()},a._handlePolyfillRAFEmitterDraw=function(t){var e=this.model.getCurrentTime(),i=this.model.getPlaybackRate(),n=this.mediaElement.duration,r=t.delta/1e3*i;if(!this.model.getPaused()){var o=(e+=r)<=0,s=e>=n,a=i>=0,l=i<0;if(o&&(e=0),s&&(e=n),this._shouldLoop)return this._shouldLoop=!1,void(a?this.setCurrentTime(r):this.setCurrentTime(n-r));this.setCurrentTime(e),(o&&l||s&&a)&&(this.model.getLooping()?this._shouldLoop=!0:(this.pause(),this.model.setEnded(!0)))}},t.exports=s},function(t,e,i){var n=i(1368),r=i(92);t.exports=function(t,e,i){var o,s=r(i||{},!0);function a(t){throw new Error(t)}return s.type="flow",e?e.basePath||a("Please provide a valid mediaSrc object with a basePath property."):a("Please provide both a valid container element and a valid mediaSrc object as arguments."),s.mediaObjectView?o=s.mediaObjectView:(o=new n(t,e,s)).options.mediaObjectView=o,o}},function(t,e,i){"use strict";var n=i(636),r=i(639),o=i(1369).createFlow,s=i(332),a=function(t,e,i){n.call(this,t,e,i),this._onLoad=this._onLoad.bind(this),this._onError=this._onError.bind(this),this._onReady=this._onReady.bind(this)},l=a.prototype=Object.create(n.prototype);l._createMediaElement=function(){this.mediaElement=document.createElement("canvas")},l._createMediaEmitter=function(){this.flowOptions={element:this.mediaElement,preload:!1,keyframeCache:this.options.keyframeCache||!1},this.mediaEmitter=o(this.flowOptions,this.mediaSrc)},l._createMediaLoader=function(){this.mediaLoader=this.mediaEmitter},l.load=function(){this._setLoadStart(!0),this.mediaLoader.once("loaded",this._onLoad),this.mediaLoader.once("error",this._onError),this.mediaEmitter.once("canplaythrough",this._onReady),this.loaded||this.mediaLoader.load().catch(this._onError)},l._onLoad=function(){this._setLoaded(!0)},l._onError=function(){this.model&&this._setError(!0)},l._onReady=function(){this._setReady(!0),this._setDuration(this.mediaEmitter.duration),this.setPlaybackRate(this.getPlaybackRate()),this._totalFrames=this._getTotalFrames(),this.getAutoplay()&&(!1===this.getEnhanced&&this.enhance(),this.play())},l._getTotalFrames=function(){return this.getDuration()*this.getFrameRate()},l.enhance=function(){this._setEnhanced(!0),s(function(){this.mediaElement&&this._inject()}.bind(this))},l._inject=function(){r.insertFirstChild(this.mediaElement,this.el)},l._destroy=function(){this._remove(),this.mediaEmitter&&this.mediaEmitter.destroy()},l._remove=function(){r.remove(this.mediaElement)},l.play=function(){!1!==this.model.getPaused()&&(this.mediaEmitter.currentTime>=this.getDuration()&&this.setCurrentTime(0),this.getReady()&&null!==this.mediaEmitter&&this.mediaEmitter.play())},l.pause=function(){!0!==this.model.getPaused()&&this.mediaEmitter.pause()},l.reset=function(){0!==this.model.getCurrentTime()&&(this.setCurrentTime(0),this.pause())},l.setCurrentTime=function(t){t<0&&(t=0),t>this.getDuration()&&(t=this.getDuration()),this.mediaEmitter.currentTime=t},l.setPlaybackRate=function(t){this.mediaEmitter.playbackRate=t},l._setLooping=function(t){this.mediaEmitter.loop=t,this.model.setLooping(t)},t.exports=a},function(t,e,i){"use strict";i(148),i(651),t.exports={createFlow:i(1370),Player:i(652)}},function(t,e,i){"use strict";var n=i(66),r=i(1371),o=i(652),s={keyframeCache:8,preload:!0},a={fileFormat:"jpg",baseName:"flow",imageUrlPattern:"###",startframeFileFormat:null,endframeFileFormat:null,basePath:null,manifestPath:null,manifestFileFormat:"json",diffPath:null,framePath:null},l=function(t){return t.lastIndexOf("/")!==t.length-1&&(t+="/"),t},u=function(t,e){var i=function(t){var e=t.basePath?l(t.basePath):null,i=t.framePath?l(t.framePath):null,n=t.diffPath?l(t.diffPath):null,r=t.manifestPath?l(t.manifestPath):null,o=t.baseName+"_",s={};return s.startframe=(i||e)+o+"startframe."+(t.startframeFileFormat||t.fileFormat),s.endframe=(i||e)+o+"endframe."+(t.endframeFileFormat||t.fileFormat),s.imageUrlPattern=(n||e)+o+t.imageUrlPattern+"."+t.fileFormat,s.manifest=(r||e)+o+"manifest."+t.manifestFileFormat,s}(e),n=[i.startframe,i.endframe];return new r(t,i.manifest,n,i.imageUrlPattern)};t.exports=function(t,e){var i,r;i=n(s,t),r=n(a,e),i.element||(t.element=document.createElement("canvas"));var l=u(i,r),c=new o(l,i.element);return i.preload&&c.load(),c}},function(t,e,i){"use strict";var n=i(12).EventEmitterMicro,r=i(1372),o=i(1375),s=i(1376),a=i(1377),l=i(1378);function u(t,e,i,r){n.call(this),this._compositor=new l(e,i,r),this.options=t||{}}var c=u.prototype=new n(null);c._gotoImageFrame=function(t){return this._rendering?Promise.resolve():this._currentFrame===t?Promise.resolve():(this._rendering=!0,this._compositor.compositeFrames(this._currentFrame,t).then(function(){this._rendering=!1,this._currentFrame=t}.bind(this)))},c.init=function(){var t;return"CANVAS"===this.options.element.nodeName?t=this.options.element:(t=document.createElement("canvas"),this.options.element.appendChild(t)),this.gotoFrame=this._gotoImageFrame,this._compositor.init(t).then(this._decorateCompositor.bind(this))},c.resumeLoading=function(){return this._compositor.resumeLoading()},c.pauseLoading=function(){this._compositor.pauseLoading()},c._decorateCompositor=function(){var t,e,i=this._compositor;return i?(t=this._compositor._diffRender.flowData,e=this._compositor.canvas,t.superframeFrequency&&(i=new o(i,t.superframeFrequency)),t.version>=4&&(i=new r(i)),t.version>=4&&t.superframeFrequency&&(i=new s(i)),this.options.keyframeCache&&(i=new a(i,this.options.keyframeCache)),i===this._compositor?Promise.resolve():(this._compositor=i,this._compositor.init(e))):Promise.reject()},c._destroy=function(){this.off(),this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(c,{_currentFrame:{value:0,enumerable:!1,writable:!0},frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0}}),t.exports=u},function(t,e,i){"use strict";var n=i(1373);function r(t){this._compositor=t,this._flowDataProvider=this.mainCompositor._loadController._loaders.manifest}var o=r.prototype;o.init=function(t){return this._keyframeDiffRender=new n(this._flowDataProvider._data,this.mainCompositor._imageUrlPattern),this._keyframeDiffRender.init()},o.resumeLoading=function(){return this._compositor.resumeLoading()},o.pauseLoading=function(){return this._compositor.pauseLoading()},o.applyFrame=function(t){return this._compositor.applyFrame.apply(this._compositor,arguments)},o.applyKeyframe=function(t,e){this._keyframeDiffRender.renderKeyframe(this.canvas,t,e)},o.compositeFrames=function(t,e){return this._isKeyframeDiff(e-1)?(this.applyKeyframe(e-1),Promise.resolve(t-1)):this._compositor.compositeFrames.apply(this._compositor,arguments)},o._isKeyframeDiff=function(t){return t in this._keyframeDiffRender._loader._keyframes},o.calculateRenderCount=function(t,e){return this._compositor.calculateRenderCount.apply(this._compositor,arguments)},o.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(o,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(t){return this._compositor.canvas=t},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=r},function(t,e,i){"use strict";var n=i(1374);function r(t,e){this.flowData=t,this.flowData.imageUrlPattern=e}var o=r.prototype;o._storeImages=function(t){var e,i=0;if(t&&t.assets.length>0)for(var n in this._loader._keyframes)this._loader._keyframes.hasOwnProperty(n)&&(e=t.assets[i],this._loader._keyframes[n].image=e.data,i+=1)},o.init=function(){return this._loader=new n(this.flowData.imageUrlPattern,this.flowData),this._loader.load().then(this._storeImages.bind(this))},o.renderKeyframe=function(t,e,i){var n=t.getContext("2d"),r=this._loader.keyframes[e],o=r.image,s=r.x,a=r.y,l=r.width,u=r.height;!0===i?n.drawImage(o,s,a,l,u,s,a,l,u):this.flowData.reversible?n.drawImage(o,0,0):n.drawImage(o,s,a,l,u)},t.exports=r},function(t,e,i){"use strict";var n=i(256);function r(t,e){var i,n=t.match(/#/g).length;this._keyframes={},t=t.replace(/([^#]+)(#+)(\..*)/,"$1key_$2$3"),this._imageUrls=[],e.frames&&e.frames.forEach(function(e,r){"keyframe"===e.type&&(i=(i="0000"+r).substring(i.length-n),this._imageUrls.push(t.replace(/#+/g,i)),this._keyframes[r]=e)}.bind(this))}var o=r.prototype;o.load=function(){return this._imageUrls.length>0?n.load(this._imageUrls):Promise.resolve()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(o,{keyframes:{get:function(){return this._keyframes},enumerable:!0}}),t.exports=r},function(t,e,i){"use strict";function n(t,e){this._compositor=t,this._superframeInterval=e||4}var r=n.prototype;r._getClosestSuperframe=function(t){return Math.round(t/this._superframeInterval)*this._superframeInterval},r.init=function(t){this._screenCanvas=t},r.resumeLoading=function(){return this._compositor.resumeLoading()},r.pauseLoading=function(){return this._compositor.pauseLoading()},r.applyFrame=function(){this._compositor.applyFrame.apply(this._compositor,arguments)},r.calculateRenderCount=function(t,e){var i=this._getClosestSuperframe(t);return Math.abs(i-e)>this._superframeInterval/2?(t=i+(t>e?-1:1)*this._superframeInterval,this.calculateRenderCount(t,e)+1):Math.abs(i-e)+1},r.compositeFrames=function(t,e){var i,n;return(e<=0||e>=this.frameCount-2)&&this._compositor.compositeFrames(t,e),t>this.frameCount-2?t=this.frameCount-2:t<=0&&(t=1),n=this._getClosestSuperframe(t),(i=this._compositor.calculateRenderCount(t,e)>this.calculateRenderCount(t,e)?this._compositor.compositeFrames(n,n).then(function(){var i=n+(t>e?-1:1)*this._superframeInterval;this._compositor.compositeFrames(n,i).then(function(){return this.compositeFrames(i,e)}.bind(this))}.bind(this)):this._compositor.compositeFrames(t,e).then(function(){}.bind(this))).then(function(){}.bind(this)),i},r.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(t){return this._compositor.canvas=t},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=n},function(t,e,i){"use strict";function n(t){this._compositor=t,this._frames=this.mainCompositor._loadController._loaders.manifest._data.frames,this._superframeInterval=this.mainCompositor._diffRender.flowData.superframeFrequency}var r=n.prototype;r.init=function(t){return this._compositor.init.apply(this._compositor,arguments)},r.resumeLoading=function(){return this._compositor.resumeLoading()},r.pauseLoading=function(){return this._compositor.pauseLoading()},r.applyFrame=function(t){return this._compositor.applyFrame.apply(this._compositor,arguments)},r.applyKeyframe=function(t,e){this._compositor.applyKeyframe.apply(this._compositor,arguments)},r.compositeFrames=function(t,e){var i,n;return e<1||e>this.frameCount-2?this._compositor.compositeFrames.apply(this._compositor,arguments):this._isKeyframeDiff(e-1)?(i=1===Math.abs(t-e),this.applyKeyframe(e-1,i),Promise.resolve(t-1)):Math.abs(e-t)>this._superframeInterval&&(n=this._getShortestRender(t,e),this._isKeyframeDiff(n-1)||n<=0||n>=this.frameCount-2)?this._compositeFromSuperKeyframe(n,e):this._compositor.compositeFrames.apply(this._compositor,[t,e])},r._getShortestRender=function(t,e){var i=this._compositor.calculateRenderCount,n=this._getClosestSuperKeyframe(e-1);return i.apply(this._compositor,[n,e])+1<=i.apply(this._compositor,[t,e])?n:t},r._compositeFromSuperKeyframe=function(t,e){var i=this.canvas.getContext("2d"),n=t<=0?this.mainCompositor._images[0]:t>=this.frameCount-2?this.mainCompositor._images[1]:this._frames[t-1].image;return i.drawImage(n,0,0),this._compositor.compositeFrames.call(this._compositor,t,e)},r._getClosestSuperFrame=function(t){return Math.round(t/this._superframeInterval)*this._superframeInterval},r._getClosestSuperKeyframe=function(t){var e,i,n,r=this._frames.length;if(t<r+1&&t>0){for(n=t-1;n>=0;){if("keyframe"===this._frames[n].type){e=n+1;break}n-=1}for(n=t+1;n<=r-1;){if("keyframe"===this._frames[n].type){i=n+1;break}n+=1}}return t-(e=e||0)<(i=i||this.frameCount)-t?e:i},r._isKeyframeDiff=function(t){return this._compositor._isKeyframeDiff.apply(this._compositor,arguments)},r.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(t){return this._compositor.canvas=t},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=n},function(t,e,i){"use strict";function n(t,e){this._compositor=t,this._keyframeInterval=e||8,this._keyframes=[]}var r=n.prototype;r._getClosestKeyframe=function(t){var e=t%this._keyframeInterval;return Math.floor(t/this._keyframeInterval)+(e>this._keyframeInterval/2?1:0)},r._getFrameFromKeyframe=function(t){return t*this._keyframeInterval},r._saveKeyframe=function(t){var e,i=Math.floor(t/this._keyframeInterval);t%this._keyframeInterval!=0||this._keyframes[i]||((e=document.createElement("canvas")).width=this._compositor.canvas.width,e.height=this._compositor.canvas.height,e.getContext("2d").drawImage(this._compositor.canvas,0,0),this._keyframes[i]=e)},r.init=function(t){return this._compositor.init.apply(this._compositor,arguments)},r.resumeLoading=function(){return this._compositor.resumeLoading()},r.pauseLoading=function(){return this._compositor.pauseLoading()},r.applyFrame=function(){this._compositor.applyFrame.apply(this._compositor,arguments)},r.calculateRenderCount=function(t,e){return t=this._getFrameFromKeyframe(this._getClosestKeyframe(e)),this._compositor.calculateRenderCount(t,e)+1},r.compositeFrames=function(t,e){var i=this._getClosestKeyframe(e);return this._keyframes[i]&&this._compositor.calculateRenderCount(t,e)>this.calculateRenderCount(t,e)?(t=this._getFrameFromKeyframe(i),this.applyFrame(this._keyframes[i]),this._compositor.compositeFrames(t,e).then(function(){})):this._compositor.compositeFrames(t,e).then(function(){},null,this._saveKeyframe.bind(this))},r.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(t){return this._compositor.canvas=t},enumerable:!0}}),t.exports=n},function(t,e,i){"use strict";var n=i(1379),r=i(1380);function o(t,e,i){this._keyframes=e,this._imageUrlPattern=i,this._loadController=new r(t,e,i)}var s=o.prototype;s._initDiffRender=function(t){this._images=t.assets.map(function(t){return t.data}),this.canvas.height=this._images[0].height,this.canvas.width=this._images[0].width,this.applyFrame(this._images[0])},s.init=function(t){return this.canvas=t||document.createElement("canvas"),this.context=t.getContext("2d"),this._loadController.loadKeyframes().then(this._initDiffRender.bind(this)).then(this._loadController.loadManifest.bind(this._loadController)).then(this.createDiffRender.bind(this))},s.resumeLoading=function(){return this._loadController.load()},s.pauseLoading=function(){this._loadController.pause()},s.createDiffRender=function(t){return this._diffRender=new n(t,this._imageUrlPattern,this._loadController),this._diffRender.init()},s.applyFrame=function(t){this.context.drawImage(t,0,0)},s.calculateRenderCount=function(t,e){var i=0;return Math.abs(e-t)>=e?(t=1,i=1):Math.abs(e-t)>=this.frameCount-e&&this._images[1]&&(t=this.frameCount-2,i=1),e>0&&e<this.frameCount-1?Math.abs(t-e)+i:i},s.compositeFrames=function(t,e){var i;if(e=this.frameCount<e?this.frameCount-1:e<0?0:e,t=this.frameCount-2<t?this.frameCount-2:t<0?0:t,Math.abs(e-t)>=e?(t=1,this.applyFrame(this._images[0])):Math.abs(e-t)>=this.frameCount-e&&this._images[1]&&(t=this.frameCount-2,this.applyFrame(this._images[1])),i=t>e?-1:t<e?1:0,e>0&&e<this.frameCount-1)for(;t!==e;)this._diffRender.renderDiff(this.canvas,t),t+=i;return Promise.resolve(t)},s.destroy=function(){this._loadController.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(s,{frameCount:{get:function(){return this._diffRender.frames.length+2},enumerable:!0},canvas:{get:function(){return this._canvas},set:function(t){return this._canvas=t},enumerable:!0},mainCompositor:{get:function(){for(var t=this;t._compositor;)t=t._compositor;return t},enumerable:!0}}),t.exports=o},function(t,e,i){"use strict";function n(t,e,i){this.flowData=t,this.flowData.imageUrlPattern=e,this._loadController=i}var r=n.prototype;r._storeImages=function(t){var e=t.assets.length;this.images=t.assets.map(function(t){return t.data}),this._blocksPerFullDiff=[],this._blockCountUpToIndex=[];for(var i=0,n=0;n<e;n++)this._blocksPerFullDiff[n]=this.images[n].width/this.flowData.blockSize*(this.images[n].height/this.flowData.blockSize),i+=this._blocksPerFullDiff[n],this._blockCountUpToIndex[n]=i},r._applyDiffRange=function(t,e){for(var i,n,r=e.block,o=e.length,s=t.canvas.width/this.flowData.blockSize,a=e.startImageIndex,l=this.images[a].width,u=r%this._blockCountUpToIndex[a],c=l/this.flowData.blockSize,h=u%c*this.flowData.blockSize,d=Math.floor(u/(c||1))*this.flowData.blockSize,p=e.location%s*this.flowData.blockSize,f=Math.floor(e.location/s)*this.flowData.blockSize;o;)n=(i=Math.min(o*this.flowData.blockSize,t.canvas.width-p,l-h))/this.flowData.blockSize,t.drawImage(this.images[a],h,d,i,this.flowData.blockSize,p,f,i,this.flowData.blockSize),(o-=n)&&((h+=i)>=l&&(h=0,d+=this.flowData.blockSize),(p+=i)>=t.canvas.width&&(p=0,f+=this.flowData.blockSize),r+=n)},r.init=function(){return this._loadController.loadDiffs().then(this._storeImages.bind(this))},r.renderDiff=function(t,e){var i=t.getContext("2d");e-=1;for(var n=0,r=this.frames[e].length;n<r;n++)this._applyDiffRange(i,this.frames[e][n])},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frames:{get:function(){return this.flowData.frames},set:function(t){this.flowData.frames=t},enumerable:!0}}),t.exports=n},function(t,e,i){"use strict";var n=i(256),r=i(1381),o=function(t,e,i){this._manifestUrl=t,this._keyframeUrls=e,this._imageUrlPattern=i,this.state={manifestLoaded:!1,keyframesLoaded:!1,diffsLoaded:!1,diffCountLoaded:0,totalDiffs:null},this.assets={keyframes:null,manifest:null,diffs:null},this._promises={},this._loaders={},this._activeLoaders=[],this._resumeQueue=[],this._paused=!0,this._shouldPause=!1,this._boundOnManifestLoaded=this._onManifestLoaded.bind(this),this._boundOnKeyframesLoaded=this._onKeyframesLoaded.bind(this),this._boundOnDiffsLoaded=this._onDiffsLoaded.bind(this)},s=o.prototype;s.setManifestUrl=function(t){return this._manifestUrl=t,this},s.setKeyframeUrls=function(t){return this._keyframeUrls=t,this},s.setImageUrlPattern=function(t){return this._imageUrlPattern=t,this},s.pause=function(){this._shouldPause=!0;var t,e=this._activeLoaders.length;for(t=0;t<e;t++)this._activeLoaders[t].pause();this._paused=!0},s.destroy=function(){var t,e,i;for(t in this.pause(),this._loaders)this._loaders.hasOwnProperty(t)&&this._loaders[t].destroy();for(e in this._promises)this._promises.hasOwnProperty(e)&&"pending"===this._promises[e].status()&&this._promises[e].reject();for(i in this)this.hasOwnProperty(i)&&(this[i]=null)},s.load=function(){if(this._paused&&(this._activeLoaders.length>0||this._resumeQueue.length>0))return this._resume(),!0},s._resume=function(){this._shouldPause=!1;var t,e=this._activeLoaders.length;for(t=0;t<e;t++)this._activeLoaders[t].load();var i,n=this._resumeQueue.length;for(i=0;i<n;i++)this._resumeQueue[i].call(this);this._resumeQueue=[],this._paused=!1},s.loadManifest=function(){if(!this._shouldPause)return this.assets.manifest?this.assets.manifest:(this._paused=!1,this._loaders.manifest=new r(this._getManifestAssetsData()),this._activeLoaders.push(this._loaders.manifest),this._loaders.manifest.load().then(this._boundOnManifestLoaded));this._resumeQueue.push(this.loadManifest)},s.loadKeyframes=function(){var t;return this._shouldPause&&this._resumeQueue.push(this.loadKeyframes),this.assets.keyframes?t=Promise.resolve(this.assets.keyframes):(this._paused=!1,this._loaders.keyframes=n.createAssetGroup(this._getKeyframesAssetsData()),this._activeLoaders.push(this._loaders.keyframes),t=this._loaders.keyframes.load().then(this._boundOnKeyframesLoaded)),this._promises.keyframes=t,this._promises.keyframes},s.loadDiffs=function(){var t;return this._shouldPause&&this._resumeQueue.push(this.loadDiffs),this.assets.diffs?t=this._promises.diffs.resolve(this.assets.diffs):(this._paused=!1,this._loaders.diffs=n.createAssetGroup(this._getDiffsAssetsData()),this._activeLoaders.push(this._loaders.diffs),t=this._loaders.diffs.load().then(this._boundOnDiffsLoaded)),this._promises.diffs=t,this._promises.diffs},s._getManifestAssetsData=function(){return this._manifestUrl},s._getKeyframesAssetsData=function(){return this._keyframeUrls},s._getDiffsAssetsData=function(){var t,e,i=this.assets.manifest.imagesRequired,n=[],r=this._imageUrlPattern.match(/#/g).length;for(t=1;t<=i;t++)e=(e="0000"+t).substring(e.length-r),n.push(this._imageUrlPattern.replace(/#{2,}/g,e));return n},s._onManifestLoaded=function(t){if(this.assets)return this.assets.manifest=t,this.state.manifestLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.manifest),this.assets.manifest},s._onKeyframesLoaded=function(t){if(this.assets)return this.assets.keyframes=t,this.state.keyframeLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.keyframes),Promise.resolve(this.assets.keyframes)},s._onDiffsLoaded=function(t){if(this.assets)return this.assets.diffs=t,this.state.diffsLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.diffs),Promise.resolve(this.assets.diffs)},s._removeFromActiveLoaders=function(t){var e,i=this._activeLoaders.length;for(e=0;e<i;e++)if(this._activeLoaders[e]===t)return void this._activeLoaders.splice(e,1)},t.exports=o},function(t,e,i){"use strict";var n=i(256),r=i(1382);function o(t){this.url=t}o.prototype.load=function(){return n.load(this.url).then(function(t){var e;return t&&t.latest&&t.latest.data&&(e=r.parseData(t.latest.data),this._data=e),e}.bind(this))},t.exports=o},function(t,e,i){"use strict";var n=i(1383),r=i(1384),o={parseData:function(t){0;var e=t.frames.map(this._parseFrame,this);return Object.create(n.prototype,{version:{value:t.version},framecount:{value:t.frameCount},blockSize:{value:t.blockSize},imagesRequired:{value:t.imagesRequired},reversible:{value:t.reversible},superframeFrequency:{value:t.superframeFrequency},frames:{value:e}})},_valueForCharAt:function(t,e){var i=t.charCodeAt(e);return i>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:void 0},_createNumberFromBase64Range:function(t,e,i){for(var n=0;i--;)n+=this._valueForCharAt(t,e++)<<6*i;return n},_parseFrame:function(t){var e,i,n,o=[],s=t.value,a=t.startImageIndex,l=t.startBlockIndex;if("keyframe"===t.type)return o.type="keyframe",o.width=t.width,o.height=t.height,o.x=t.x,o.y=t.y,o;for(e=0;e<s.length;e+=5)n=this._createNumberFromBase64Range(s,e,3),i=this._createNumberFromBase64Range(s,e+3,2),o.push(Object.create(r.prototype,{location:{value:n,enumerable:!0},length:{value:i,enumerable:!0},block:{value:(l+=i)-i,enumerable:!0},startImageIndex:{value:a,enumerable:!0}}));return o}};t.exports=o},function(t,e,i){"use strict";t.exports=function(){}},function(t,e,i){"use strict";t.exports=function(t,e){this.location=t,this.length=e}},function(t,e,i){"use strict";var n,r=i(12).EventEmitterMicro,o=i(1386),s=i(525);function a(t){t=t||{},r.call(this),this.id=s.getNewID(),this.executor=t.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}(n=a.prototype=Object.create(r.prototype)).run=function(){return!this._willRun&&(this._willRun=!0,this.executor.subscribe(this),!0)},n.cancel=function(){var t=!1;return this._willRun&&(this.executor.unsubscribe(this),this._willRun=!1,t=!0),this._reset(),t},n.destroy=function(){var t=this.cancel();return this.executor.unsubscribe(this),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,t},n.willRun=function(){return this._willRun},n.isRunning=function(){return this._isRunning},n._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},n._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},n._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=a},function(t,e,i){"use strict";var n=i(99).SharedInstance,r=i(1387);t.exports=n.share("ac-raf-executor:sharedRAFExecutorInstance","1.0.3",r)},function(t,e,i){"use strict";var n;function r(t){t=t||{},this._reset(),this._willRun=!1,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}i(327),(n=r.prototype).subscribe=function(t){return!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberCount++,this._run(),!0)},n.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},n.trigger=function(t,e){var i;for(i in this._subscribers)this._subscribers.hasOwnProperty(i)&&null!==this._subscribers[i]&&!1===this._subscribers[i]._didDestroy&&this._subscribers[i].trigger(t,e)},n.destroy=function(){var t=this._cancel();return this._subscribers=null,this._nextFrameSubscribers=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},n.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=window.requestAnimationFrame(this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},n._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=requestAnimationFrame(this._boundOnAnimationFrame)),!0},n._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},n._onSubscribersAnimationFrameStart=function(t){var e;for(e in this._subscribers)this._subscribers.hasOwnProperty(e)&&null!==this._subscribers[e]&&!1===this._subscribers[e]._didDestroy&&this._subscribers[e]._onAnimationFrameStart(t)},n._onSubscribersAnimationFrameEnd=function(t){var e;for(e in this._subscribers)this._subscribers.hasOwnProperty(e)&&null!==this._subscribers[e]&&!1===this._subscribers[e]._didDestroy&&this._subscribers[e]._onAnimationFrameEnd(t)},n._onAnimationFrame=function(t){this._subscribers=this._nextFrameSubscribers,this._nextFrameSubscribers={},this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},n._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},n._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._nextFrameSubscribers={},this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=r},,,,,,,,,,function(t,e,i){"use strict";var n=i(66),r=i(178),o=i(1398),s=i(1400),a=i(146).Clip,l=i(91),u={itemsSelector:".chapternav-items",leftPaddleSelector:".chapternav-paddle-left",rightPaddleSelector:".chapternav-paddle-right",scrollEasing:"ease-out",scrollDuration:.4};function c(t,e){if(this.el=t,this._options=n(u,e||{}),!l()){this._isRightToLeft="rtl"===r(this.el,"direction").direction,this._inlineStart=this._isRightToLeft?"right":"left",this._inlineEnd=this._isRightToLeft?"left":"right",this._scrollType=this._scrollDirection();var i=this._isRightToLeft?this._options.rightPaddleSelector:this._options.leftPaddleSelector,s=this._isRightToLeft?this._options.leftPaddleSelector:this._options.rightPaddleSelector;this._wrapper=this.el.querySelector(this._options.itemsSelector),this._paddleStart=this.el.querySelector(i),this._paddleEnd=this.el.querySelector(s),this._children=o(this._wrapper),this._childCount=this._children.length,this._onScrollClipUpdate=this._onScrollClipUpdate.bind(this),this._onScrollClipComplete=this._onScrollClipComplete.bind(this),this._onPaddleStartClick=this._onPaddleStartClick.bind(this),this._paddleStart.addEventListener("click",this._onPaddleStartClick),this._onPaddleEndClick=this._onPaddleEndClick.bind(this),this._paddleEnd.addEventListener("click",this._onPaddleEndClick),this._onScroll=this._onScroll.bind(this),this._wrapper.addEventListener("scroll",this._onScroll),this._updateElementMetrics=this._updateElementMetrics.bind(this),window.addEventListener("resize",this._updateElementMetrics),window.addEventListener("orientationchange",this._updateElementMetrics),this._updateElementMetrics()}}var h=c.prototype;h._updateElementMetrics=function(){this._scrollStart=this._wrapper.scrollLeft,this._wrapperWidth=this._wrapper.offsetWidth,this._contentWidth=this._wrapper.scrollWidth,this._paddleWidth=this._paddleStart.offsetWidth,this._updatePaddleDisplay()},h._onScroll=function(){this._lockPaddles||(this._scrollStart=this._wrapper.scrollLeft,this._updatePaddleDisplay())},h._updatePaddleDisplay=function(){var t=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth;this._paddleStart.disabled=this._getNormalizedScroll(this._scrollStart)<=1,this._paddleEnd.disabled=t>=this._contentWidth-1},h._onPaddleStartClick=function(t){this._smoothScrollTo(this._getPaddleStartScrollDestination())},h._getPaddleStartScrollDestination=function(){var t,e,i=this._getNormalizedScroll(this._scrollStart);for(e=this._childCount-1;e>0;e--)if((t=this._normalizePosition(s(this._children[e])))[this._inlineStart]<i)return t[this._inlineEnd]-this._wrapperWidth;return 0},h._onPaddleEndClick=function(t){this._smoothScrollTo(this._getPaddleEndScrollDestination())},h._getPaddleEndScrollDestination=function(){var t,e,i=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth;for(e=0;e<this._childCount;e++)if((t=this._normalizePosition(s(this._children[e])))[this._inlineEnd]>i)return t[this._inlineStart];return this._contentWidth},h._getBoundedScrollX=function(t){var e=this._contentWidth-this._wrapperWidth;return Math.max(Math.min(t,e),0)},h._smoothScrollTo=function(t){if(this._updateElementMetrics(),!this._lockPaddles&&t!==this._scrollStart){this._lockPaddles=!0;var e={scrollLeft:this._wrapper.scrollLeft},i={scrollLeft:this._setNormalizedScroll(this._getBoundedScrollX(t))},n={ease:this._options.scrollEasing,onUpdate:this._onScrollClipUpdate,onComplete:this._onScrollClipComplete};a.to(e,this._options.scrollDuration,i,n)}},h._onScrollClipUpdate=function(t){this._scrollStart=this._wrapper.scrollLeft=Math.round(t.target().scrollLeft)},h._onScrollClipComplete=function(){this._updatePaddleDisplay(),this._lockPaddles=!1},h._scrollDirection=function(){var t="reverse",e=document.createElement("div");return e.style.cssText="width:2px; height:1px; position:absolute; top:-1000px; overflow:scroll; font-size: 14px;",e.style.direction="rtl",e.innerHTML="test",document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),document.body.removeChild(e),t},h._getNormalizedScroll=function(t){if(!this._isRightToLeft)return t;var e=Math.abs(t);return"default"===this._scrollType&&(e=this._contentWidth-this._wrapperWidth-e),e},h._setNormalizedScroll=function(t){return this._isRightToLeft&&"reverse"!==this._scrollType?"negative"===this._scrollType?-t:-(t-this._contentWidth+this._wrapperWidth):t},h._normalizePosition=function(t){return this._isRightToLeft?{top:t.top,right:this._wrapperWidth-t.right+this._paddleWidth,bottom:t.bottom,left:this._wrapperWidth-t.left+this._paddleWidth}:{top:t.top,right:t.right-this._paddleWidth,bottom:t.bottom,left:t.left-this._paddleWidth}},t.exports=c},function(t,e,i){"use strict";var n=i(372),r=i(1399),o=i(144);t.exports=function(t,e){var i;return o.parentNode(t,!0,"children"),o.selector(e,!1,"children"),i=t.children||t.childNodes,i=n(i),e&&(i=r(i,e)),i}},function(t,e,i){"use strict";i(125),i(373);var n=i(236),r=i(144);t.exports=function(t,e){return r.selector(e,!0,"filterBySelector"),(t=Array.prototype.slice.call(t)).filter(function(t){return n(t,e)})}},function(t,e,i){"use strict";var n=i(1401),r=i(654);t.exports=function(t,e){var i,o,s;return e?(i=r(t),t.offsetParent&&(o=r(t.offsetParent),i.top-=o.top,i.left-=o.left)):(s=n(t,e),i={top:t.offsetTop,left:t.offsetLeft,width:s.width,height:s.height}),{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}},function(t,e,i){"use strict";var n=i(654);t.exports=function(t,e){var i;return e?{width:(i=n(t)).width,height:i.height}:{width:t.offsetWidth,height:t.offsetHeight}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=function(t,e){this._target=t,this._tests={},this.addTests(e)},r=n.prototype;r.addTests=function(t){this._tests=Object.assign(this._tests,t)},r._supports=function(t){return void 0!==this._tests[t]&&("function"==typeof this._tests[t]&&(this._tests[t]=this._tests[t]()),this._tests[t])},r._addClass=function(t,e){e=e||"no-",this._supports(t)?this._target.classList.add(t):this._target.classList.add(e+t)},r.htmlClass=function(){var t;for(t in this._target.classList.remove("no-js"),this._target.classList.add("js"),this._tests)this._tests.hasOwnProperty(t)&&this._addClass(t)},t.exports=n},function(t,e,i){"use strict";var n=i(91);t.exports={touch:n,"progressive-image":!0}},function(t,e,i){"use strict";var n="data-focus-method";function r(t,e){this._target=t||document.body,this._attr=e||n,this._focusMethod=this._lastFocusMethod=!1,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this),this._bindEvents()}var o=r.prototype;o._bindEvents=function(){this._target.addEventListener("keydown",this._onKeyDown,!0),this._target.addEventListener("mousedown",this._onMouseDown,!0),this._target.addEventListener("touchstart",this._onTouchStart,!0),this._target.addEventListener("focus",this._onFocus,!0),this._target.addEventListener("blur",this._onBlur,!0),window.addEventListener("blur",this._onWindowBlur)},o._onKeyDown=function(t){this._focusMethod="key"},o._onMouseDown=function(t){"touch"!==this._focusMethod&&(this._focusMethod="mouse")},o._onTouchStart=function(t){this._focusMethod="touch"},o._onFocus=function(t){this._focusMethod||(this._focusMethod=this._lastFocusMethod),t.target.setAttribute(this._attr,this._focusMethod),this._lastFocusMethod=this._focusMethod,this._focusMethod=!1},o._onBlur=function(t){t.target.removeAttribute(this._attr)},o._onWindowBlur=function(t){this._focusMethod=!1},t.exports=r}]]);