(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};r.LOADING=n(674).default,r.GEOLOCATION=n(675).default,r.HERO_PLAY_DARK=n(387).default,r.HERO_PLAY_LIGHT=n(388).default},120:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},128:function(e,t,n){"use strict";var r,o,a=n(0),i=n(14),c=(n(710),n(4)),l=n.n(c);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e.regular="regular",e.inactive="inactive"}(r||(r={})),function(e){e.medium="medium",e.large="large"}(o||(o={}));var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a["Component"]),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,c=e.size,s=e.disabled,f=e.children,p=e.ariaLabel,d=e.ariaLabelledBy,h=u(e,["className","style","size","disabled","children","ariaLabel","ariaLabelledBy"]),y=l()("pill",c===o.large&&"pill-large",n===r.inactive&&"pill-unavailable inactive",n===r.regular&&"pill-active",s&&"pill-disabled disabled",t);return a.createElement(i.a,Object.assign({ariaLabel:p,ariaLabelledBy:d,disabled:s,className:y},h),f)}}]),t}();y.defaultProps={style:r.regular,size:o.medium,disabled:!1},n.d(t,"a",function(){return y})},1492:function(e,t,n){},1493:function(e,t,n){},1494:function(e,t,n){},1495:function(e,t,n){},1496:function(e,t,n){},1516:function(e,t,n){},1517:function(e,t,n){},1520:function(e,t,n){},1521:function(e,t,n){},1522:function(e,t,n){},1523:function(e,t,n){},1524:function(e,t,n){},1525:function(e,t,n){},1526:function(e,t,n){},1527:function(e,t,n){},1528:function(e,t,n){"use strict";n.r(t),t.default={id:"email.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#email.icon-usage",toString:function(){return this.url}}},1529:function(e,t,n){"use strict";n.r(t),t.default={id:"facebook.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#facebook.icon-usage",toString:function(){return this.url}}},1530:function(e,t,n){"use strict";n.r(t),t.default={id:"instagram.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#instagram.icon-usage",toString:function(){return this.url}}},1531:function(e,t,n){"use strict";n.r(t),t.default={id:"link.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#link.icon-usage",toString:function(){return this.url}}},1532:function(e,t,n){"use strict";n.r(t),t.default={id:"linkedin.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#linkedin.icon-usage",toString:function(){return this.url}}},1533:function(e,t,n){"use strict";n.r(t),t.default={id:"no-geolocation.icon-usage",viewBox:"0 0 36.17 36",url:n.p+"sprite.svg#no-geolocation.icon-usage",toString:function(){return this.url}}},1534:function(e,t,n){"use strict";n.r(t),t.default={id:"qq.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#qq.icon-usage",toString:function(){return this.url}}},1535:function(e,t,n){"use strict";n.r(t),t.default={id:"refine.icon-usage",viewBox:"0 0 28.2 23",url:n.p+"sprite.svg#refine.icon-usage",toString:function(){return this.url}}},1536:function(e,t,n){"use strict";n.r(t),t.default={id:"snapchat.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#snapchat.icon-usage",toString:function(){return this.url}}},1537:function(e,t,n){"use strict";n.r(t),t.default={id:"twitter.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#twitter.icon-usage",toString:function(){return this.url}}},1538:function(e,t,n){"use strict";n.r(t),t.default={id:"wechat.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#wechat.icon-usage",toString:function(){return this.url}}},1539:function(e,t,n){"use strict";n.r(t),t.default={id:"weibo.icon-usage",viewBox:"0 0 34 34",url:n.p+"sprite.svg#weibo.icon-usage",toString:function(){return this.url}}},154:function(e,t,n){"use strict";var r=n(150);n.d(t,"a",function(){return r.a});var o=n(108);n.d(t,"b",function(){return o.a})},1540:function(e,t,n){},1541:function(e,t,n){},1542:function(e,t,n){},1543:function(e,t,n){},1544:function(e,t,n){},1545:function(e,t,n){},1546:function(e,t,n){},1547:function(e,t,n){},1548:function(e,t,n){},1549:function(e,t,n){},1550:function(e,t,n){},1551:function(e,t,n){},1552:function(e,t,n){},1553:function(e,t,n){},1554:function(e,t,n){},1555:function(e,t,n){},1558:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(21),i=n(8),c=n(3),l=n(4),s=n.n(l),u=n(2),f=n(14),p=n(1),d=n(57),h=n(94),y=n(77),m=(n(1492),n(194)),v=n(95),b=n(11);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var R=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":w(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},_=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=S(this,E(t).apply(this,arguments))).state={isOpen:!1,width:0},e.inputRef=o.a.createRef(),e.landingTagProps={"data-analytics-title":"discover","aria-describedby":"hint"},e.calendarTagProps={"data-analytics-title":"calendar","aria-describedby":"hint"},e.reservationsTagProps={target:"_blank","data-analytics-title":"my reservations"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,o.a.Component),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(t,[{key:"updateMenuState",value:function(){this.setState({isOpen:this.inputRef.current.checked})}},{key:"closeMenu",value:function(){var e=this.inputRef.current;e&&e.checked&&(e.checked=!1,this.updateMenuState())}},{key:"render",value:function(){var e=this,t=this.props,n=t.configManager,r=t.i18n,a=this.getLink(n,p.PageName.DISCOVER),i=r.value("global.link-title-discover"),c=this.getLink(n,p.PageName.CALENDAR),l=r.value("global.link-title-calendar"),u=this.getReservationsLink(),d=r.value("global.link-title-my-reservations"),h=s()("localnav-content",this.state.isOpen&&"opened");return o.a.createElement("div",{className:"nav-wrapper theme-dark"},o.a.createElement("input",{type:"checkbox",id:"localnav-menustate",className:"localnav-menustate",ref:this.inputRef,onChange:this.updateMenuState}),o.a.createElement("nav",{id:"localnav",className:"localnav","aria-label":r.value("global.local-navigation-title"),"data-analytics-region":"local nav"},o.a.createElement("div",{className:"localnav-wrapper"},o.a.createElement("div",{className:"localnav-background"}),o.a.createElement("div",{className:h},o.a.createElement("div",{className:"localnav-title today-title"},o.a.createElement(f.a,{addLocation:!0,href:a},"Today at Apple")),o.a.createElement("div",{className:"localnav-menu"},o.a.createElement("a",{href:"#localnav-menustate",className:"localnav-menucta-anchor localnav-menucta-anchor-open",id:"localnav-menustate-open"},o.a.createElement("span",{className:"localnav-menucta-anchor-label"},r.value("global.local-nav-open"))),o.a.createElement("a",{href:"#",className:"localnav-menucta-anchor localnav-menucta-anchor-close",id:"localnav-menustate-close"},o.a.createElement("span",{className:"localnav-menucta-anchor-label"},r.value("global.local-nav-close"))),o.a.createElement("div",{className:"localnav-menu-tray"},o.a.createElement("ul",{className:"localnav-menu-items",role:"presentation"},o.a.createElement("li",{className:"localnav-menu-item",role:"presentation"},this.renderNavLink(a,i,this.landingTagProps,function(){e.props.setNavigatedFromLocalAction(!0)})),o.a.createElement("li",{className:"localnav-menu-item",role:"presentation"},this.renderNavLink(c,l,this.calendarTagProps,function(){e.resetSelectedDate(),e.props.setNavigatedFromLocalAction(!0)})),o.a.createElement("li",{className:"localnav-menu-item",role:"presentation"},this.renderNavLink(u,d,this.reservationsTagProps)),o.a.createElement("span",{id:"hint",className:"a11y"},r.value("global.a11y-update-content")))),o.a.createElement("div",{className:"localnav-actions localnav-actions"},o.a.createElement("div",{className:"localnav-action localnav-action-menucta","aria-hidden":"true"},o.a.createElement("label",{htmlFor:"localnav-menustate",className:"localnav-menucta"},o.a.createElement("span",Object.assign({className:"localnav-menucta-chevron"},this.state.isOpen?"":{"data-analytics-click":"prop3: t@a - mobile nav open"}))))))))),o.a.createElement("label",{id:"localnav-curtain",className:"localnav-curtain",htmlFor:"localnav-menustate"}))}},{key:"componentDidMount",value:function(){this.setState({width:window.innerWidth}),window.addEventListener("resize",this.updateWidth),window.addEventListener("scroll",this.closeMenu)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWidth),window.removeEventListener("scroll",this.closeMenu)}},{key:"getReservationsLink",value:function(){var e=this.props,t=e.configManager,n=e.allLocales,r=e.i18n,o=t.getProperty("externalLinks.myReservationsRoot"),a=r.value("global.my-reservations-store-number"),i=n.currentLocale.id;return Object(b.g)(o,{sn:a,localeId:i})}},{key:"getLink",value:function(e,t){return{pathname:e.getPageRoute(t)}}},{key:"updateWidth",value:function(){this.state.isOpen&&window.innerWidth>=Object(y.b)().DEFAULT_VIEWPORT_WIDTHS[p.ViewportSizes.LARGE]&&this.closeMenu()}},{key:"renderNavLink",value:function(e,t,n,r){return o.a.createElement(f.a,{href:e,className:"localnav-menu-link",activeClassName:"current",addLocation:!0,isNavLink:!0,tagProps:n,onClick:r},t)}},{key:"resetSelectedDate",value:function(){this.props.sessionStorage.remove(h.b.CALENDAR_SELECTED_DATE)}}]),t}();R([u.a],_.prototype,"updateMenuState",null),R([u.a],_.prototype,"closeMenu",null),R([u.a],_.prototype,"updateWidth",null),R([u.a],_.prototype,"resetSelectedDate",null),_=R([Object(v.b)(null,function(e){return{setNavigatedFromLocalAction:Object(d.b)(m.setNavigatedFromLocalNav,e)}}),Object(i.a)(c.b.I18N,c.b.CONFIG_MANAGER,c.b.ALL_LOCALES,c.b.SESSION_STORAGE)],_);var N=n(158);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var j=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,L(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["Component"]),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(t,[{key:"render",value:function(){var e=this.props.i18n.value("global.ip-sosumi");return e?r.createElement("div",{className:"ac-gf-sosumi"},r.createElement("ul",{dangerouslySetInnerHTML:{__html:e}})):null}}]),t}();I=j([Object(i.a)(c.b.I18N)],I);var D=n(1557);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var V=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":U(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,F(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r["Component"]),function(e,t,n){t&&A(e.prototype,t),n&&A(e,n)}(t,[{key:"renderAppleIcon",value:function(){var e=this.props,t=e.configManager,n=e.match.params.stageRootPath;return t.getMainSiteUrl(n)&&r.createElement(f.a,{href:Object(b.g)("/:stageRootPath?/",{stageRootPath:n}),className:"home ac-gf-breadcrumbs-home"},r.createElement("span",{className:"ac-gf-breadcrumbs-home-icon"}),r.createElement("span",{className:"ac-gf-breadcrumbs-home-label"},"Apple"))}},{key:"render",value:function(){var e=this.props,t=e.breadcrumbTitle,n=e.configManager;return r.createElement("nav",{className:"ac-gf-breadcrumbs","aria-label":"Breadcrumbs"},this.renderAppleIcon(),r.createElement("div",{className:"ac-gf-breadcrumbs-path"},r.createElement("ol",{className:"ac-gf-breadcrumbs-list"},t&&r.createElement(r.Fragment,null,r.createElement("li",{className:"ac-gf-breadcrumbs-item"},r.createElement(f.a,{className:"ac-gf-breadcrumbs-link",href:n.getPageRoute(p.PageName.DISCOVER)},"Today at Apple")),r.createElement("li",{className:"ac-gf-breadcrumbs-item"},t)),!t&&r.createElement("li",{className:"ac-gf-breadcrumbs-item"},"Today at Apple"))))}}]),t}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}G=V([D.a,Object(i.a)(c.b.CONFIG_MANAGER)],G);var Y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W(this,q(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,r["Component"]),function(e,t,n){t&&H(e.prototype,t),n&&H(e,n)}(t,[{key:"render",value:function(){return r.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.content}})}}]),t}(),z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.async,o=void 0!==r&&r,a=n.defer,i=void 0!==a&&a,c=document.createElement("script");c.src=e,o?c.async=o:i&&(c.defer=i),t.appendChild(c)};function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ee,te,ne=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Q(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},re=ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,J(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,o.a.Component),function(e,t,n){t&&X(e.prototype,t),n&&X(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props.staticContent,t=e.globalFooterScriptSrc,n=e.localeSwitcherScriptSrc;ee.initialized||(z(t,document.body),z(n,document.body)),ee.initialized=!0}},{key:"render",value:function(){var e=this.props,t=e.allLocales,n=e.staticContent,r=e.breadcrumbTitle,a=n.directoryFooter,i=n.copyrightFooter;return o.a.createElement("footer",{id:"ac-globalfooter",className:"no-js",lang:t.currentLocale.getIETF(),"data-analytics-region":"global footer",role:"contentinfo","aria-labelledby":"ac-gf-label"},o.a.createElement("div",{className:"ac-gf-content"},o.a.createElement("h2",{id:"ac-gf-label",className:"ac-gf-label"},"Apple Footer"),o.a.createElement(I,null),o.a.createElement(G,{breadcrumbTitle:r,stageRootPath:t.currentLocale.stageRootPath}),o.a.createElement(Y,{content:a}),o.a.createElement(Y,{content:i})))}}]),t}();re.initialized=!1,re=ee=ne([Object(i.a)(c.b.ALL_LOCALES)],re),function(e){e.label="typography-label",e.body="typography-body",e.bodyReduced="typography-body-reduced",e.headline="typography-headline",e.headlineReduced="typography-headline-reduced",e.headlineElevated="typography-headline-elevated",e.manifesto="typography-manifesto",e.tout="typography-tout",e.intro="typography-intro",e.introElevated="typography-intro-elevated",e.caption="typography-caption",e.headlineStandalone="typography-headline-standalone",e.headlineSuper="typography-headline-super",e.headlineDescription="typography-headline-description",e.eyebrowReduced="typography-eyebrow-reduced"}(te||(te={}));var oe=n(190),ae=n(51);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return function(n){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),le(this,se(o).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(o,r["Component"]),function(e,t,n){t&&ce(e.prototype,t),n&&ce(e,n)}(o,[{key:"render",value:function(){var n=this.props.error;return n?e.processBffError(this.props,n):r.createElement(t,Object.assign({},this.props))}}]),o}()}},pe=n(7);function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ye=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&he(e.prototype,t),n&&he(e,n)}(e,[{key:"processBffError",value:function(e,t){var n=e.configManager,r=e.history,o=e.match,a=e.actions,i=e.sessionStorage,c=Object(pe.l)(n.getPageRoute(p.PageName.DISCOVER),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){de(e,t,n[t])})}return e}({},o.params)),l=null;return i.getNearbyFlag()&&(l="?".concat([pe.m.NEAR_BY],"=true")),a&&a.setReduxStoreToEmpty&&setTimeout(function(){return a.setReduxStoreToEmpty()},0),r.push({pathname:c,search:l}),null}}]),e}());function me(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function ve(e,t,n){return n?t?t(e):e:(e=Promise.resolve(e),t?e.then(t):e)}var be=function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}();function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Se=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sessionStorage=t,this.allStores=n,this.allLocales=r,this.mapkitDataService=o}return function(e,t,n){t&&ge(e.prototype,t),n&&ge(e,n)}(e,[{key:"actualizeLocation",value:be(function(e,t,n){return n?this.prioritizeSessionStorage(e,t):this.prioritizeUrl(e,t)})},{key:"updateUserLocationOnResponse",value:function(e,t){var n=this.sessionStorage,r=this.allStores;if(t&&t.storeNum&&(e.courseSlug&&n.getLocationLabelInfo()||n.setLocationLabelInfo(t),!(n.getUserLocation()||n.getSelectedStoreLocation()))){var o=r.getInfoByUserLocation(t).store,a=(o=void 0===o?{lat:null,long:null}:o).lat,i=o.long;n.setUserLocation({lat:a,long:i})}}},{key:"isGenericEventPageWithSpecifiedStore",value:function(e,t){return e.courseSlug&&!e.scheduleId&&t[pe.m.STORE_NUMBER]}},{key:"prioritizeSessionStorage",value:be(function(e,t){var n=this,r=n.sessionStorage;if(t[pe.m.SELECTED_STORE]){var o=JSON.parse(t[pe.m.SELECTED_STORE]);return r.updateLocationToSelectedByStore({storeNum:o.storeNum,locale:o.locale,slug:o.slug},!1),{selectedStore:r.getSelectedStoreLocation(),nearby:!1}}var a=r.getSelectedStoreLocation(),i=r.getSelectedMarket();if(n.isStageRootPathValid(e,a,i)||(a=null,i=null,r.removeLocationLabelInfo(),r.removeSelectedStoreLocation()),n.isGenericEventPageWithSpecifiedStore(e,t)){var c=n.allStores.getStoreByStoreNumber(Object(b.f)(e.stageRootPath),t[pe.m.STORE_NUMBER]);return r.updateLocationToSelectedByStore({storeNum:c.store.storeNum,locale:n.allLocales.getLocaleByStageRootPath(c.country.stageRootPath).id,slug:c.store.slug},!1),{selectedStore:r.getSelectedStoreLocation(),nearby:!1}}if(a)return{selectedStore:a,nearby:r.getNearbyFlag()};if(i)return{marketSlug:i};var l=r.getUserLocation();return me(function(){if(!l)return ve(n.updateUserCoordinates(),function(e){l=e})},function(){return{userLocation:l}})})},{key:"prioritizeUrl",value:be(function(e,t){var n=this,r=n.sessionStorage,o=n.allStores,a=n.allLocales,i=e.storeLocation,c=e.marketSlug;if(i){if(c)return r.updateLocationToSelectedByMarket(c),{marketSlug:c};var l="true"===t[pe.m.NEAR_BY],s={slug:i,storeNum:o.getStoreByStoreSlug(o.stageRootPath,i).store.storeNum,locale:a.currentLocale.id};return r.updateLocationToSelectedByStore(s,l),{selectedStore:s,nearby:l}}var u=r.getUserLocation();return me(function(){if(!u)return ve(n.updateUserCoordinates(!!t[pe.m.USE_MY_LOCATION]),function(e){u=e})},function(){return{userLocation:u}})})},{key:"updateUserCoordinates",value:be(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.mapkitDataService,n=this.sessionStorage;return ve(t.getMyIpLookup(),function(){var t=n.getUserLocation();return n.updateLocationToSelectedByCoordinates(t,e),t})})},{key:"isStageRootPathValid",value:function(e,t,n){var r=this.sessionStorage,o=this.allStores,a=Object(b.f)(e.stageRootPath);if(t&&t.locale){if(a!==o.countriesMap[t.locale].stageRootPath)return!1}else if(n){var i=r.getLocationLabelInfo();if(i&&i.locale)if(a!==o.countriesMap[i.locale].stageRootPath)return!1}return!0}}]),e}();function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Oe(e,t,n[t])})}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return Te});var we=function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}();function Re(){}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ke=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Le(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isLocalNavSticky,n=e.stickyConnectionId,r=e.pageClassName,l=e.prioritizeSessionStorage,u=e.fallbackStrategy,f=void 0===u?ye:u,d=e.wrappedPageName,h=e.getBreadcrumbTitle;return function(e){var u=function(a){function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(t=Ne(this,Pe(i).call(this,e))).props,r=n.sessionStorage,o=n.allStores,a=n.allLocales,c=n.mapkitDataService;return t.fetchInitialDataPromise=new Promise(function(e){t.resolvePromise=e}),t.locationService=new Se(r,o,a,c),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(i,o.a.Component),function(e,t,n){t&&_e(e.prototype,t),n&&_e(e,n)}(i,[{key:"componentWillMount",value:function(){d&&this.props.globalActions.setPageName(d)}},{key:"componentDidMount",value:we(function(){var e=this,t=e.props,n=t.globalState,r=n.isPreloaded,o=n.pageName,a=t.actions,i=t.match,c=t.location,s=t.allLocales,u=i.params.scheduleId,f={},d=new URLSearchParams(decodeURIComponent(document.location.search)),h=!0,y=!1,m=void 0;try{for(var v,g=d.keys()[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var S=v.value;f[S]=d.get(S)}}catch(e){y=!0,m=e}finally{try{h||null==g.return||g.return()}finally{if(y)throw m}}var E=Ee({},i.params,{stageRootPath:s.currentLocale.stageRootPath}),O=l||e.isNotifyMeSuccessResult();return function(e,t,n){return n?t?t(e):e:(e=Promise.resolve(e),t?e.then(t):e)}(e.locationService.actualizeLocation(E,f,O),function(t){var n=t.userLocation,i=t.nearby,l=t.selectedStore,s=t.marketSlug,d=t.areaSlug;return e.removeSelectedStore(),function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}(function(){if(!r||o===p.PageName.EVENT){var e=c.state&&c.state.preventFetchCall;return function(e){var t=e();if(t&&t.then)return t.then(Re)}(function(){if(a&&a.fetchInitialData&&!e)return function(e,t){if(!t)return Promise.resolve(e).then(Re)}(a.fetchInitialData({params:E,queryParams:Ee({},f,{nearby:i,selectedStore:l,marketSlug:s,areaSlug:d}),userLocation:o===p.PageName.EVENT&&u?null:n}))})}},function(){e.resolvePromise(),Object(b.d)()&&e.props.globalActions.setIsPreloaded(!1)})})})},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.metaData,r=t.configManager,o=t.match;if(n&&Object.keys(n).length>0&&e.metaData!==n){var a=this.props.globalState,i=a.seoStoreTitle,c=a.seoCityName,l=a.pageName,s=n.description,u=Object(ae.a)(s,{title:i,name:c});n.description=u,n.metaTitle=r.getPageMetaTitle(l),this.setSEOMetaClientside(n)}this.locationService.updateUserLocationOnResponse({courseSlug:o.params.courseSlug},this.props.userLocation)}},{key:"componentWillUnmount",value:function(){this.props.globalActions.setIsPreloaded(!1)}},{key:"renderStaticLocalNav",value:function(){return o.a.createElement(_,null)}},{key:"removeSelectedStore",value:function(){window.history.replaceState({},document.title,Object(b.a)())}},{key:"renderStickyLocalNav",value:function(){return o.a.createElement(N.b,{releaseSiblingBottom:"#".concat(n),targetHeightOffset:{selector:"#localnav",set:N.a.SUBTRACT},zIndex:3},o.a.createElement(_,null))}},{key:"render",value:function(){var n=this.props,a=n.globalState,i=n.metaData,c=n.analyticsService,l=n.heroGallery,u=n.store,f=n.schedule,d=n.match,h=n.allLocales;if(!a||!i)return null;var y=h.currentLocale,m=y.stageRootPath,v=y.urlStageRootPath,b=d.params.courseSlug,g=a.ssiContent,S=a.pageName,E=a.canonicalURL,O=i.description,w=i.pageName;if(!g||!w)return null;var R=s()(r,"page-wrapper",te.body),_=S===p.PageName.EVENT;return o.a.createElement(o.a.Fragment,null,o.a.createElement(oe.c,{analyticsService:c},o.a.createElement("div",{className:R},t?this.renderStickyLocalNav():this.renderStaticLocalNav(),o.a.createElement("main",null,o.a.createElement(e,Object.assign({},this.props,{fetchInitialDataPromise:this.fetchInitialDataPromise}))),o.a.createElement(re,{staticContent:g,breadcrumbTitle:this.getBreadcrumb(this.props)}))),_&&this.includeLinkedDataOnEventPage(m,v,w,l,O,E,b,u,f))}},{key:"isNotifyMeSuccessResult",value:function(){var e=this.props.location,t=e.pathname,n=e.search;return!!/.*\/today\/camp\/?$/i.test(t)&&new URLSearchParams(n).get(pe.m.STATUS)===pe.n.THANK_YOU}},{key:"setSEOMetaClientside",value:function(e){var t=this.props,n=t.allLocales.currentLocale,r=t.globalState,o=r.canonicalURL,a=r.seoImagePath,i=e.title,c=e.description,l=e.metaTitle,s=i||l;document.title!==s&&(document.title=s,document.head.querySelector('meta[property="analytics-track"]').setAttribute("content",l),document.head.querySelector('meta[name="description"]').setAttribute("content",c),document.head.querySelector('meta[property="og:title"]').setAttribute("content",s),document.head.querySelector('meta[property="og:description"]').setAttribute("content",c),document.head.querySelector('meta[property="og:url"]').setAttribute("content",o),document.head.querySelector('meta[property="og:locale"]').setAttribute("content",n.id),document.head.querySelector('meta[name="twitter:title"]').setAttribute("content",s),document.head.querySelector('meta[name="twitter:description"]').setAttribute("content",c),document.head.querySelector('link[rel="canonical"]').setAttribute("href",o),a&&(document.head.querySelector('meta[property="og:image"]').setAttribute("content",a),document.head.querySelector('meta[name="twitter:image"]').setAttribute("content",a)))}},{key:"includeLinkedDataOnEventPage",value:function(e,t,n,r,a,i,c,l,s){var u=this.props.configManager,f="";r&&r.length>0&&(f=r[0].backgroundMedia.images[0].landscape.source);var p=function(e,t){var n=void 0!==t.stageRootPath?"".concat(e).concat(t.stageRootPath,"/"):"".concat(e,"/"),r=t.schedule||{},o=t.store||{};if(t.schedule){var a=Object(b.b)(t.canonicalURL,r.id,o.storeNum);return{"@context":"http://schema.org","@type":"Event",name:t.pageTitle,image:t.backgroundImage,description:t.description,url:a,startDate:r.displayStartTime,endDate:r.displayEndTime,eventStatus:"https://schema.org/EventScheduled",location:{"@type":"Store","@id":"".concat(n,"retail/").concat(o.slug,"/#store-address"),name:o.title,url:"".concat(n,"retail/").concat(o.slug,"/"),address:{"@type":"PostalAddress",streetAddress:o.address1,addressLocality:o.city,addressRegion:o.stateCode,postalCode:o.zip}},offers:{"@type":"Offer",url:a,category:"Primary",availability:"https://schema.org/OnlineOnly",price:"0"}}}return{"@context":"http://schema.org","@type":"Event",name:t.pageTitle,image:t.backgroundImage,description:t.description,url:t.canonicalURL}}(u.getMainSiteUrl(e),{stageRootPath:t,pageTitle:n,backgroundImage:f,description:a,canonicalURL:i,courseSlug:c,store:l,schedule:s});return o.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(p)}})}},{key:"getBreadcrumb",value:function(e){return h?h(e):this.props.metaData.pageName}}]),i}();return u.displayName="".concat(e.name,"WithBasicFunctionality"),u=ke([Object(i.a)(c.b.ALL_LOCALES,c.b.ALL_STORES,c.b.ANALYTICS_SERVICE,c.b.APP_DATA_SERVICE,c.b.CONFIG_MANAGER,c.b.I18N,c.b.LOGGER,c.b.MAPKIT_DATA_SERVICE,c.b.SESSION_STORAGE),fe(f),a.attachViewportEmitter],u)}}},1559:function(e,t,n){"use strict";var r=n(0),o=n(4),a=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,o=c(e,["className","children"]),i=a()("description",t);return r.createElement("p",Object.assign({className:i},o),n)}}]),t}(),d=n(16);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,b(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"render",value:function(){if(this.props.analyticsDescriptor){var e=Object(d.e)({sectionName:this.props.analyticsDescriptor},"name: {{sectionName}}")(p),t=this.props,n=(t.analyticsDescriptor,y(t,["analyticsDescriptor"]));return r.createElement(e,Object.assign({},n))}return r.createElement(p,Object.assign({},this.props))}}]),t}();n.d(t,"a",function(){return p}),n.d(t,"b",function(){return S})},1560:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n.n(r),a=n(3),i=n(48),c=(n(1554),function(e){var t=e.children,n=Object(i.b)(),r=n.get(a.b.I18N),c=n.get(a.b.CONFIG_MANAGER),l=(new Date).getFullYear(),s=c.getProperty("appIcons.assetsPath"),u="".concat(s,"/ios12-wallet-app-icon_2x.png");return o.a.createElement("section",{className:"".concat(i.a," section-content")},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"".concat(i.a,"__vertical-content-wrapper column large-8 small-centered medium-centered large-centered")},o.a.createElement("div",{className:"".concat(i.a,"__vertical-content")},o.a.createElement("img",{className:"".concat(i.a,"__image"),width:"64",src:u,alt:""}),t,o.a.createElement("p",{className:"".concat(i.a,"__small-text ").concat(i.a,"__requirements")},r.value("wallet.requirements")),o.a.createElement("p",{className:"".concat(i.a,"__small-text ").concat(i.a,"__copyright")},r.compileValue("wallet.copyright",{year:l}))))))})},1561:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n.n(r),a=n(3),i=n(48);n(1555);function c(){var e=Object(i.b)().get(a.b.I18N),t=/^true/i.test(e.value("wallet.learn-more-wallet-reverse-pre-post")),n=e.value("wallet.about-wallet-learn-post");return o.a.createElement("p",{className:"".concat(i.a,"__learn-more ").concat(i.a,"__paragraph")},t&&"".concat(n),o.a.createElement("a",{className:"".concat(i.a,"__learn-more-link"),href:"".concat(e.value("wallet.learn-more-url"))},e.value("wallet.learn-more-wallet-pre")),!t&&"".concat(n))}},1562:function(e,t,n){"use strict";var r=n(134),o=n(0),a=n.n(o);n(1520);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["Component"]),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.name,r=t.collectionName;return!(e.name===n&&e.collectionName===r)}},{key:"render",value:function(){var e=this.props,t=e.collectionName,n=e.name;return o.createElement("div",{className:"row"},o.createElement("div",{className:"column large-offset-1 large-7 medium-10 small-10"},t&&o.createElement("span",{className:"typography-body headline-eyebrow"},this.props.collectionName),o.createElement("h1",{className:"typography-headline-reduced"},n)))}}]),t}(),p=n(4),d=n.n(p),h=n(104),y=n.n(h),m=n(1557),v=n(55),b=n(2),g=n(8),S=n(3),E=n(56);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":N(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},C=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=w(this,R(t).apply(this,arguments))).timeSelectorClassName=function(){return d()("form-dropdown-option",{checked:e.isEventSelected(),selected:e.isEventSelected()})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,a.a.Component),function(e,t,n){t&&O(e.prototype,t),n&&O(e,n)}(t,[{key:"isEventSelected",value:function(){return this.props.selectedSchedule===this.props.scheduleId}},{key:"render",value:function(){var e=this.props,t=e.eventType,n=e.displayDate,r=e.storeTitle,o=e.scheduleId,i=e.onClickHandler;return a.a.createElement("li",{onClick:i,key:"form-dropdown-".concat(o),className:this.timeSelectorClassName(),role:"option","aria-selected":this.isEventSelected(),"aria-current":this.isEventSelected(),tabIndex:-1},t===v.a.CAMPS?this.renderCampTimeSelectorItem(n,r):this.renderStandardTimeSelectorItem(n,r))}},{key:"renderCampTimeSelectorItem",value:function(e,t){var n=this.props.i18n;if(!e||!e.length)return null;var r=n.value("details.multisession-three-parts");return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,r,this.renderMultiLanguageText()),a.a.createElement("div",null,this.renderCampTimeList(e),a.a.createElement("div",{className:"dropdown-camp-info"},t)),this.renderViolator())}},{key:"renderCampTimeList",value:function(e){if(!e||!e.length)return null;var t=e.map(function(e,t){return a.a.createElement("div",{className:"dropdown-camp-info",key:"camp-date-".concat(t)},a.a.createElement("p",{className:"form-dropdown-option-title"},e.date),a.a.createElement("p",{className:"form-dropdown-option-time"},e.timeRange))});return a.a.createElement(a.a.Fragment,null,t)}},{key:"renderViolator",value:function(){var e=this.props.eventStatus,t=this.props.i18n;if(Object(E.c)(e)){this.props.eventType;var n=d()("event-violator","typography-body-reduced");return a.a.createElement("p",{className:n},t.value("global.".concat(E.a[e])))}return null}},{key:"renderStandardTimeSelectorItem",value:function(e,t){return e&&e[0]?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"form-dropdown-option-title"},e[0].date,this.renderMultiLanguageText()),a.a.createElement("p",{className:"form-dropdown-option-time"},e[0].timeRange),a.a.createElement("p",{className:"form-dropdown-option-store"},t),this.renderViolator()):null}},{key:"renderMultiLanguageText",value:function(){var e=this.props,t=e.isMultiLanguage,n=e.lang,r=e.i18n;return t&&n&&a.a.createElement(a.a.Fragment,null," "+r.value("global.delivery-language-open-punctuation"),a.a.createElement("span",{className:"delivery-language"},r.value("language.".concat(n))),r.value("global.delivery-language-close-punctuation"))}}]),t}();P([b.a],C.prototype,"renderViolator",null),P([b.a],C.prototype,"renderMultiLanguageText",null),C=P([Object(g.a)(S.b.I18N)],C);var L=n(1),k=n(7),T=n(51),j=n(16),I=n(21);n(1521);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var V,G=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":U(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.DROPDOWN="DROPDOWN",e.DROPDOWN_OPTIONS="DROPDOWN_OPTIONS"}(V||(V={}));var B=new j.b,H=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=M(this,F(t).call(this,e))).DropdownCSSConfig={UNIT:"px",STANDARD_EVENT_HEIGHT:131,DEFAULT_DROPDOWN_OFFSET:24,TOP_OFFSET:104,BOTTOM_OFFSET:60,BORDER_HEIGHT_DEFAULT:2},n.dropdownScheduleIds=[],n.violatorCount=0,n.dropdownFocusInterval=null,n.dropdownBlur=!1,n.dropdownOptionsFocus=!1,n.isPermittedElement=function(e){for(var t=e;t;){var n="multi-dropdown"===t.id,r=t.classList&&t.classList.contains("generic-list-modal-close");if(n||r)return t;t=t.parentNode}},n.shouldDropdownClose=function(e){!n.isPermittedElement(e.target)&&n.dropdownFocusInterval&&(n.dropdownBlur=!0)},n.toggleDropdownClassNames=function(){return d()("form-dropdown-multiline",{"is-expanded":n.state.isDropdownOpen,focused:n.state.isDropdownOpen})},n.toggleIconClassNames=function(){return d()("form-icon icon",{"icon-chevrondown":!n.state.isDropdownOpen,"icon-chevronup":n.state.isDropdownOpen})},n.dropdownClassNames=function(){var e=n.props.dropdownSchedules;return d()("form-dropdown",{"no-dropdown":!e||!e.length})},n.timeSelectorClassNames=function(){var e=n.props,t=e.disabled,r=e.eventType,o=e.dropdownSchedules;return d()("row","time-selector",r!==L.EventType.CAMPS?"time-selector-standard":"time-selector-camp",{"single-session":!o||!o.length,disabled:t})},n.dropDownParent=a.a.createRef(),n.dropDown=a.a.createRef(),n.dropDownTitle=a.a.createRef(),n.dropDownOptions=a.a.createRef(),n.seeMore=a.a.createRef(),n.dropDownInfo=a.a.createRef(),n.shouldHandleDropdownEventListeners=!1,n.state={isDropdownOpen:!1,selectedSchedule:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,a.a.Component),function(e,t,n){t&&A(e.prototype,t),n&&A(e,n)}(t,[{key:"selectEventFromDropdown",value:function(e){var t=this;return function(){return t.changeDropdownSchedules(e)}}},{key:"changeDropdownSchedules",value:function(e){var t=this.props,n=t.configManager,r=t.match,o=t.storeNum;this.props.onChangeSchedule(e),this.setState({isDropdownOpen:!1});var a=Object(k.a)(Object(k.l)(n.getPageRoute(L.PageName.EVENT),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){D(e,t,n[t])})}return e}({},r.params,{scheduleId:e})),o);window.history.pushState(null,document.title,a)}},{key:"toggleDropdown",value:function(){if(this.shouldHandleDropdownEventListeners){var e=this.state.isDropdownOpen;this.setState({isDropdownOpen:!e})}}},{key:"componentWillUpdate",value:function(e,t){var n=this.props.dropdownSchedules;if(!y()(n,e.dropdownSchedules)){var r=this.getDropdownSchedulesInfo(e.dropdownSchedules);this.dropdownScheduleIds=r.ids,this.violatorCount=r.violatorCount,this.shouldHandleDropdownEventListeners=!(!e.dropdownSchedules||!e.dropdownSchedules.length)}}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.dropdownSchedules,o=n.scheduleModalIsOpen,a=this.state.isDropdownOpen,i=!y()(e.dropdownSchedules,r),c=e.scheduleModalIsOpen&&!o,l=t.isDropdownOpen&&!a;a&&(o||c||this.scrollDropdownPosition(),this.startDropdownFocusInterval()),i&&this.setState({isDropdownOpen:!1,selectedSchedule:null}),this.updateDropdownHeight(),this.updateDropdownFocus(i,c,l),a||this.stopDropdownFocusInterval()}},{key:"updateDropdownHeight",value:function(){var e=this.props,t=e.eventType,n=e.viewportData,r=this.dropDownParent.current,o=this.dropDown.current,a=this.dropDownOptions.current,i=this.dropDownInfo.current,c=this.dropDownTitle.current,l=this.state.isDropdownOpen;if(null!==c){var s=c.getBoundingClientRect().height;if(r.style.height=s+this.DropdownCSSConfig.UNIT,l){if(i.style.top=s+this.DropdownCSSConfig.UNIT,this.shouldFullyExpand(n.viewport,t))return a.style.height=null,void(o.style.height=this.getFullyExpandedHeight(s,a.getBoundingClientRect().height)+this.DropdownCSSConfig.UNIT);var u=i.getBoundingClientRect().top;o.style.height=this.getUpdatedDropdownHeight(u,V.DROPDOWN)+this.DropdownCSSConfig.UNIT,a.style.height=this.getUpdatedDropdownHeight(u,V.DROPDOWN_OPTIONS)+this.DropdownCSSConfig.UNIT}else o.style.height=s+this.DropdownCSSConfig.UNIT}}},{key:"shouldFullyExpand",value:function(e,t){return t===L.EventType.CAMPS||this.isSmallViewport(e)||!this.isMinimumViewportHeight()}},{key:"isSmallViewport",value:function(e){return e===L.ViewportSizes.SMALL||e===L.ViewportSizes.XSMALL}},{key:"isMinimumViewportHeight",value:function(){return window.innerHeight>500}},{key:"getFullyExpandedHeight",value:function(e,t){return e+t+this.getSeeMoreButtonHeight()+this.DropdownCSSConfig.BORDER_HEIGHT_DEFAULT}},{key:"getUpdatedDropdownEventHeight",value:function(e){return e?this.DropdownCSSConfig.STANDARD_EVENT_HEIGHT+this.DropdownCSSConfig.DEFAULT_DROPDOWN_OFFSET:this.DropdownCSSConfig.STANDARD_EVENT_HEIGHT}},{key:"getUpdatedDropdownHeight",value:function(e,t){var n=this.props,r=n.dropdownSchedules,o=n.eventStatus,a=window.innerHeight,i=a-e,c=this.violatorCount*this.DropdownCSSConfig.DEFAULT_DROPDOWN_OFFSET,l=r.length*this.DropdownCSSConfig.STANDARD_EVENT_HEIGHT+c,s=Object(E.c)(o),u=this.getUpdatedDropdownEventHeight(s),f=this.getSeeMoreButtonHeight();if(t===V.DROPDOWN){var p=this.dropDown.current.getBoundingClientRect().top;return(l+f<i?l+u+f:a-p-this.DropdownCSSConfig.BOTTOM_OFFSET)+this.DropdownCSSConfig.BORDER_HEIGHT_DEFAULT}if(t===V.DROPDOWN_OPTIONS)return l+f<i?l:i-f-this.DropdownCSSConfig.BOTTOM_OFFSET}},{key:"startDropdownFocusInterval",value:function(){var e=this;this.dropdownFocusInterval||(this.dropdownFocusInterval=window.setInterval(function(){e.dropdownBlur&&e.setState({isDropdownOpen:!1,selectedSchedule:null})},250))}},{key:"stopDropdownFocusInterval",value:function(){window.clearInterval(this.dropdownFocusInterval),this.dropdownFocusInterval=null}},{key:"updateDropdownFocus",value:function(e,t,n){var r=this.state.isDropdownOpen;(!r&&t||n&&!this.dropdownBlur)&&(this.scrollDropdownPosition(),this.dropDown.current.focus()),r&&(this.dropdownOptionsFocus&&(this.dropDownOptions.current.focus(),this.dropdownOptionsFocus=!1),t&&!e&&this.seeMore.current.focus()),this.dropdownBlur=!1}},{key:"scrollDropdownPosition",value:function(){var e=this.props.browserService,t=window.pageYOffset+this.dropDown.current.getBoundingClientRect().top-this.DropdownCSSConfig.TOP_OFFSET;e.windowScrollToY(t,{withAnimation:!1})}},{key:"getSeeMoreButtonHeight",value:function(){return this.seeMore&&this.seeMore.current?this.seeMore.current.offsetHeight:0}},{key:"multilineOptionsKeydownHandler",value:function(e){var t=this.state.selectedSchedule,n=e.KeyCode||e.which,r=this.dropdownScheduleIds,o=r.indexOf(t);switch(n){case L.KeyCodeMap.UP:r.length&&o>0&&(e.preventDefault(),o--,this.setState({selectedSchedule:r[o]}),this.dropDownOptions.current.scrollIntoView());break;case L.KeyCodeMap.DOWN:r.length&&o<r.length-1?(e.preventDefault(),o++,this.setState({selectedSchedule:r[o]}),this.dropDownOptions.current.scrollIntoView()):r.length&&o===r.length-1&&this.seeMore&&this.seeMore.current&&this.seeMore.current.focus&&(e.preventDefault(),this.setState({selectedSchedule:null}),this.seeMore.current.focus());break;case L.KeyCodeMap.ENTER:case L.KeyCodeMap.SPACE:r.length&&t&&(e.preventDefault(),this.changeDropdownSchedules(t));break;case L.KeyCodeMap.HOME:e.preventDefault(),this.setState({selectedSchedule:r[0]}),this.dropDown.current.scrollIntoView();break;case L.KeyCodeMap.END:e.preventDefault(),this.setState({selectedSchedule:r[r.length-1]}),this.dropDown.current.scrollIntoView();break;case L.KeyCodeMap.TAB:this.setState({selectedSchedule:null});break;case L.KeyCodeMap.ESCAPE:this.setState({isDropdownOpen:!1,selectedSchedule:null}),this.dropDown.current.focus()}}},{key:"multilineDropdownKeydownHandler",value:function(e){var t=this.state.isDropdownOpen,n=e.KeyCode||e.which,r=this.dropdownScheduleIds;switch(this.dropdownOptionsFocus=!1,n){case L.KeyCodeMap.ENTER:case L.KeyCodeMap.SPACE:case L.KeyCodeMap.UP:e.preventDefault(),this.setState({isDropdownOpen:!t}),this.dropDown.current.focus();break;case L.KeyCodeMap.DOWN:e.preventDefault(),this.setState({isDropdownOpen:!0,selectedSchedule:r[0]}),this.dropdownOptionsFocus=!0,this.dropDownOptions.current.focus();break;case L.KeyCodeMap.ESCAPE:this.setState({isDropdownOpen:!1,selectedSchedule:null})}}},{key:"seeMoreKeydownHandler",value:function(e){var t=e.KeyCode||e.which,n=this.dropdownScheduleIds;switch(t){case L.KeyCodeMap.UP:e.preventDefault(),this.seeMore.current&&this.seeMore.current.blur&&this.dropDownOptions.current&&this.dropDownOptions.current.focus&&(this.seeMore.current.blur(),this.dropDownOptions&&this.dropDownOptions.current&&(this.setState({selectedSchedule:n[n.length-1]}),this.dropDownOptions.current.focus()));break;case L.KeyCodeMap.ESCAPE:e.preventDefault(),this.setState({isDropdownOpen:!1,selectedSchedule:null}),this.dropDown.current.focus()}}},{key:"componentDidMount",value:function(){var e=this.props.dropdownSchedules;this.isComponentMounted=!0;var t=this.getDropdownSchedulesInfo(e);this.dropdownScheduleIds=t.ids,this.violatorCount=t.violatorCount,this.shouldHandleDropdownEventListeners=!(!e||!e.length),document.body.addEventListener("focusin",this.shouldDropdownClose),document.body.addEventListener("click",this.shouldDropdownClose),document.body.addEventListener("touchstart",this.shouldDropdownClose)}},{key:"componentWillUnmount",value:function(){this.isComponentMounted=!1,this.stopDropdownFocusInterval(),document.body.removeEventListener("focusin",this.shouldDropdownClose),document.body.removeEventListener("click",this.shouldDropdownClose),document.body.removeEventListener("touchstart",this.shouldDropdownClose)}},{key:"getDropdownSchedulesInfo",value:function(e){var t={ids:[],violatorCount:0};return e.forEach(function(e){t.ids.push(e.id),Object(E.c)(e.status)&&t.violatorCount++}),t}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.displayDate,r=e.dropdownSchedules,o=e.eventStatus,i=e.eventType,c=e.isMultiLanguage,l=e.lang,s=e.nearbySchedules,u=e.scheduleId,f=e.storeTitle,p=e.i18n,h=this.state.isDropdownOpen,y=d()("column large-4 large-offset-1 medium-6",r&&r.length?"small-12 small-offset-0":"small-10"),m=p.value("global.cta-select"),v=p.value("details.alternate-times-title"),b="".concat(m," ").concat(v);return a.a.createElement("div",{className:this.timeSelectorClassNames(),"data-analytics-click":B.withProp3("t@a - time selection dropdown").build()},a.a.createElement("div",{className:y},a.a.createElement("div",{className:this.toggleDropdownClassNames(),ref:this.dropDownParent,id:"multi-dropdown"},a.a.createElement("button",{"aria-controls":"form-dropdown-options-container","aria-disabled":t,"aria-expanded":h,"aria-haspopup":"listbox",className:this.dropdownClassNames(),disabled:t,onClick:this.toggleDropdown,onKeyDown:this.multilineDropdownKeydownHandler,ref:this.dropDown},a.a.createElement("ul",{className:"form-dropdown-title",ref:this.dropDownTitle,tabIndex:-1},a.a.createElement(C,{displayDate:n,eventType:i,eventStatus:o,scheduleId:u,storeTitle:f,isMultiLanguage:c,lang:l}))),s&&s.length>0&&!t&&a.a.createElement("span",{className:this.toggleIconClassNames(),"aria-hidden":"true"}),a.a.createElement("div",{className:"form-dropdown-options-container"},a.a.createElement("div",{className:"form-dropdown-options",ref:this.dropDownInfo},a.a.createElement("ul",{ref:this.dropDownOptions,role:"listbox",onKeyDown:this.multilineOptionsKeydownHandler,"aria-label":b,tabIndex:-1},this.renderTimeSelectorList(r,i)),this.renderSeeMore())))))}},{key:"renderSeeMore",value:function(){var e=this.props,t=e.nearbySchedules,n=e.eventType,r=e.callback,o=e.i18n.value("global.cta-see-more-numbered"),i=Object(E.b)(t,n)?{total:Object(E.b)(t,n)}:0;return i?a.a.createElement("button",{className:"see-more",ref:this.seeMore,onClick:r,onKeyDown:this.seeMoreKeydownHandler,"data-analytics-click":B.withProp3("t@a - time selection see more").build()},Object(T.a)(o,i)):null}},{key:"getStatus",value:function(e,t){var n=this.props.historyReservations;return(void 0===n?[]:n).find(function(t){return t.workshopId===e})&&L.EventStatus.RESERVED||t}},{key:"renderTimeSelectorList",value:function(e,t){var n=this,r=this.props.isMultiLanguage,o=this.state.selectedSchedule,i=e.length?e.map(function(e){return a.a.createElement(C,{key:e.id,displayDate:e.displayDate,eventType:t,selectedSchedule:o,storeTitle:e.storeTitle,eventStatus:n.getStatus(e.id,e.status),scheduleId:e.id,onClickHandler:n.selectEventFromDropdown(e.id),isMultiLanguage:r,lang:e.lang})}):null;return a.a.createElement(a.a.Fragment,null,i)}}]),t}();H.defaultProps={disabled:!1},G([b.a],H.prototype,"selectEventFromDropdown",null),G([b.a],H.prototype,"changeDropdownSchedules",null),G([b.a],H.prototype,"toggleDropdown",null),G([b.a],H.prototype,"updateDropdownHeight",null),G([b.a],H.prototype,"shouldFullyExpand",null),G([b.a],H.prototype,"isSmallViewport",null),G([b.a],H.prototype,"isMinimumViewportHeight",null),G([b.a],H.prototype,"getFullyExpandedHeight",null),G([b.a],H.prototype,"getUpdatedDropdownEventHeight",null),G([b.a],H.prototype,"getUpdatedDropdownHeight",null),G([b.a],H.prototype,"startDropdownFocusInterval",null),G([b.a],H.prototype,"stopDropdownFocusInterval",null),G([b.a],H.prototype,"updateDropdownFocus",null),G([b.a],H.prototype,"scrollDropdownPosition",null),G([b.a],H.prototype,"getSeeMoreButtonHeight",null),G([b.a],H.prototype,"multilineOptionsKeydownHandler",null),G([b.a],H.prototype,"multilineDropdownKeydownHandler",null),G([b.a],H.prototype,"seeMoreKeydownHandler",null),G([b.a],H.prototype,"renderSeeMore",null),G([b.a],H.prototype,"getStatus",null),G([b.a],H.prototype,"renderTimeSelectorList",null),H=G([Object(g.a)(S.b.ALL_LOCALES,S.b.I18N,S.b.SESSION_STORAGE,S.b.CONFIG_MANAGER,S.b.BROWSER_SERVICE),m.a],H);var W=Object(I.WithViewportEmitter)(H),q=n(193);n(1524);function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var J=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Z(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},$=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Y(this,z(t).call(this,e))).selectRef=Object(o.createRef)(),n.state={selectedValue:n.props.defaultValue},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,o["Component"]),function(e,t,n){t&&K(e.prototype,t),n&&K(e,n)}(t,[{key:"render",value:function(){var e=this.state.selectedValue,t=this.props,n=t.className,r=t.flyout,o=t.id,i=t.name,c=t.required,l=t.options,s=d()("form-element","dropdown-field",n),u="".concat(o,"_label");return a.a.createElement("div",{className:s},a.a.createElement("select",{"aria-labelledby":u,"aria-required":c,className:"form-dropdown",name:i,onChange:this.handleChange,ref:this.selectRef,required:c,value:e},l.map(function(e){var t=e.value,n=e.label;return a.a.createElement("option",{key:t,value:t},n||t)})),a.a.createElement("span",{"aria-hidden":!0,className:"form-icon icon icon-chevrondown"}),a.a.createElement("span",{"aria-hidden":!0,className:"form-label",id:u},r))}},{key:"focus",value:function(e){this.selectRef.current&&(this.selectRef.current.focus({preventScroll:!0}),e&&e())}},{key:"reset",value:function(){this.setState({selectedValue:this.props.defaultValue})}},{key:"validate",value:function(){return Promise.resolve(this)}},{key:"handleChange",value:function(e){var t=this.props.onChange,n=e.currentTarget.value;this.setState({selectedValue:n},function(){return t(n)})}},{key:"isValid",get:function(){return!0},set:function(e){}},{key:"isValidationRequired",get:function(){return!1},set:function(e){}},{key:"name",get:function(){return this.props.name}},{key:"sortNumber",get:function(){return this.props.sortNumber}},{key:"value",get:function(){return this.state.selectedValue},set:function(e){this.setState({selectedValue:e})}}]),t}();$.defaultProps={onChange:function(){},required:!1},J([b.a],$.prototype,"handleChange",null);n(1525);var Q=function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}();function ee(e,t,n){if("undefined"!=typeof Symbol){var r=Symbol.iterator;if(r&&r in e){var o,a=e[r](),i=te(n?function(){return!(o=a.next()).done&&!n()}:function(){return!(o=a.next()).done},void 0,function(){return t(o.value)});if(a.return){function c(e){if((!o||!o.done)&&a.return)try{a.return()}catch(e){}return e}return i&&i.then?i.then(c,function(e){throw c(e)}):c(i)}return i}}if(!("length"in e))throw new TypeError("value is not iterable");for(var l=[],s=0;s<e.length;s++)l.push(e[s]);return function(e,t,n){var r=0;return te(n?function(){return r<e.length&&!n()}:function(){return r<e.length},function(){r++},function(){return t(e[r])})}(l,t,n)}function te(e,t,n){for(var r;;){var o=e();if(ne(o)&&(o=o.__value),!o)return a;if(o.then){r=0;break}var a=n();if(a&&a.then){if(!ne(a)){r=1;break}a=a.__state}if(t){var i=t();if(i&&i.then&&!ne(i)){r=2;break}}}var c=new re,l=oe.bind(null,c,2);return(0===r?o.then(u):1===r?a.then(s):i.then(f)).then(void 0,l),c;function s(r){a=r;do{if(t&&(i=t())&&i.then&&!ne(i))return void i.then(f).then(void 0,l);if(!(o=e())||ne(o)&&!o.__value)return void oe(c,1,a);if(o.then)return void o.then(u).then(void 0,l);ne(a=n())&&(a=a.__value)}while(!a||!a.then);a.then(s).then(void 0,l)}function u(e){e?(a=n())&&a.then?a.then(s).then(void 0,l):s(a):oe(c,1,a)}function f(){(o=e())?o.then?o.then(u).then(void 0,l):u(o):oe(c,1,a)}}function ne(e){return e instanceof re&&1===e.__state}var re=function(){function e(){}return e.prototype.then=function(t,n){var r=this.__state;if(r){var o=1==r?t:n;if(o){var a=new e;try{oe(a,1,o(this.__value))}catch(e){oe(a,2,e)}return a}return this}var i=new e;return this.__observer=function(e){try{var r=e.__value;1==e.__state?oe(i,1,t?t(r):r):n?oe(i,1,n(r)):oe(i,2,r)}catch(e){oe(i,2,e)}},i},e}();function oe(e,t,n){if(!e.__state){if(n instanceof re){if(!n.__state)return void(n.__observer=oe.bind(null,e,t));1===t&&(t=n.__state),n=n.__value}if(n&&n.then)return void n.then(oe.bind(null,e,t),oe.bind(null,e,2));e.__state=t,e.__value=n;var r=e.__observer;r&&r(e)}}function ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pe,de,he=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":fe(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.COUNTRY_CODE="countryCode",e.EMAIL="email",e.FIRST_NAME="firstName",e.LAST_NAME="lastName",e.PHONE="phone"}(pe||(pe={})),function(e){e.CN="86"}(de||(de={}));var ye=/^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,me=/\S+/gi,ve=/^\d+$/gi,be=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=le(this,se(t).apply(this,arguments))).state={isExpanded:!1},e.fields=new Map,e.ref=a.a.createRef(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,o["Component"]),function(e,t,n){t&&ce(e.prototype,t),n&&ce(e,n)}(t,[{key:"handleErrorClientHeightChange",value:function(e,t){e?this.expandFormAnimation(t):this.collapseFormAnimation(t)}},{key:"expandFormAnimation",value:function(e){if(this.ref&&this.ref.current)if(e){var t=parseInt(this.ref.current.style.height,10)+e;this.ref.current.style.height=t+"px"}else this.ref.current.style.height=this.ref.current.scrollHeight+"px"}},{key:"collapseFormAnimation",value:function(e){if(this.ref&&this.ref.current)if(e){var t=parseInt(this.ref.current.style.height,10)+e;this.ref.current.style.height=t+"px"}else this.ref.current.style.height="0px"}},{key:"componentDidUpdate",value:function(e){var t=this.props.isGuestRegistrationFormDisplayed;t&&this.expandFormAnimation(null),t||this.collapseFormAnimation(null)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.i18n,r=e.isEmailForm,o=e.defaultCountryCode,i=this.state.isExpanded,c=this.isFirstNameFirst(),l=d()("guest-registration-form",t,{expanded:i}),s=d()("buttons-row",{expanded:i,collapsed:!i}),u=d()("pill","pill-large","pill-active","submit-button",{hidden:!i});return a.a.createElement("form",{ref:this.ref,className:l},r&&this.emailField(),!r&&a.a.createElement("div",{className:"phone-fields-row"},this.countryCodeField(),this.phoneField()),this.renderSignUpLink(i,o),a.a.createElement(a.a.Fragment,null,!c&&this.lastNameField(c),this.firstNameField(c),c&&this.lastNameField(c)),a.a.createElement("div",{className:s},a.a.createElement("button",{className:u,onClick:this.handleSubmitClick},n.value("registration-form.submit-cta")),a.a.createElement("button",{className:"action-button cancel-button",onClick:this.handleCancelClick},n.value("registration-form.cancel-cta"))))}},{key:"showErrorFor",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=this.fields.entries()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=ie(o.value,2),c=i[0],l=i[1];c===e?(l.isValid=!1,l.isValidationRequired=!1):l.validate()}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"setValueFor",value:function(e,t){this.fields.has(e)&&(this.fields.get(e).value=t)}},{key:"reset",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.fields.values()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.reset()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this.setState({isExpanded:!1})}},{key:"focusFirstField",value:function(e){var t=null,n=Number.MAX_SAFE_INTEGER,r=!0,o=!1,a=void 0;try{for(var i,c=this.fields.values()[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value;e&&l.isValid||!(l.sortNumber<n)||(t=l,n=l.sortNumber)}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}t&&t.focus()}},{key:"isFirstNameFirst",value:function(){var e=this.props.i18n;return/^true/i.test(e.value("config.first-name-first"))}},{key:"handleFlowFieldValidation",value:function(e,t,n){var r=this,o=this.props,a=o.onFlowFieldValidation,i=o.onFormExpanded,c=this.fields.get(e);c&&(c.isValid&&!this.state.isExpanded&&(i(),this.setState({isExpanded:!0},function(){var e=ae(r.fields.values()).sort(function(e,t){return e.sortNumber-t.sortNumber}).find(function(e){return e.sortNumber>2});e&&e.focus()})),c.isValid||c.focus()),a(e,t,n)}},{key:"handleSignupClick",value:function(e){e.preventDefault(),this.props.doAppleIDReservation()}},{key:"handleSubmitClick",value:Q(function(e){var t=this;e.preventDefault();var n=!0,r={};return function(e,t){return e&&e.then?e.then(t):t(e)}(ee(t.fields.values(),function(e){return function(e,t,n){return n?t?t(e):e:(e=Promise.resolve(e),t?e.then(t):e)}(e.validate(),function(){var t=e.isValid,o=e.name,a=e.value;n=n&&t,r[o]=a})}),function(){if(n){var e,o=t.props,a=o.doGuestRegistration,i=o.isEmailForm,c=o.scheduleId,l=r.firstName,s=r.lastName;if(i)e={email:r.email,firstName:l,lastName:s,sessionId:c};else e={countryCode:r.countryCode,phone:r.phone,firstName:l,lastName:s,sessionId:c};a(e)}else t.focusFirstField(!0)})})},{key:"handleCancelClick",value:function(e){e.preventDefault(),this.reset(),this.props.cancelGuestRegistration()}},{key:"handleField",value:function(e){e&&this.fields.set(e.name,e)}},{key:"emailField",value:function(){var e=this.props,t=e.i18n,n=(e.onFlowFieldValidation,this.state.isExpanded);return a.a.createElement(q.FlowTextField,{autoCapitalize:L.FormFieldCapitalization.OFF,errorMessage:t.value("registration-form.error-email-guest"),flyout:t.value("global.email"),i18n:t,id:pe.EMAIL,name:pe.EMAIL,onValidate:this.handleFlowFieldValidation,pattern:ye,ref:this.handleField,required:!0,sortNumber:0,type:L.FormFieldType.TEXT,validateOnEnter:!n,getErrorClientHeight:this.handleErrorClientHeightChange})}},{key:"countryCodeField",value:function(){var e=this.props,t=e.countryCodes,n=void 0===t?[]:t,r=e.defaultCountryCode,o=e.i18n,i=e.onCountryCodeChange,c=n.map(function(e){return{value:e,label:"+".concat(e)}});return a.a.createElement($,{className:"country-code",defaultValue:r,flyout:o.value("registration-form.a11y-select-country-code"),id:pe.COUNTRY_CODE,onChange:i,options:c,name:pe.COUNTRY_CODE,ref:this.handleField,sortNumber:1})}},{key:"phoneField",value:function(){var e=this.props,t=e.i18n,n=(e.onFlowFieldValidation,this.state.isExpanded);return a.a.createElement(q.FlowTextField,{autoCapitalize:L.FormFieldCapitalization.OFF,className:"phone",errorMessage:t.value("registration-form.error-phone-guest"),flyout:t.value("registration-form.phone-number"),i18n:t,id:pe.PHONE,name:pe.PHONE,onValidate:this.handleFlowFieldValidation,pattern:ve,ref:this.handleField,required:!0,sortNumber:2,type:L.FormFieldType.TEL,validateOnEnter:!n,getErrorClientHeight:this.handleErrorClientHeightChange})}},{key:"renderSignUpLink",value:function(e,t){var n=this.props.i18n,r=d()("apple-id-signup-invitation",{hidden:e});return t!==de.CN&&a.a.createElement("span",{className:r},n.value("registration-form.signup-apple-id-pre"),a.a.createElement("a",{className:"action-button signup-button",href:"#",onClick:this.handleSignupClick},n.value("registration-form.signup-apple-id")),n.value("registration-form.signup-apple-id-post"))}},{key:"firstNameField",value:function(e){var t=this.props.i18n,n=this.state.isExpanded,r=d()("first-name",{hidden:!n});return a.a.createElement(q.TextField,{className:r,errorMessage:t.value("registration-form.error-fname-guest"),flyout:t.value("registration-form.name-first"),id:pe.FIRST_NAME,name:pe.FIRST_NAME,pattern:me,ref:this.handleField,required:!0,sortNumber:e?3:4,getErrorClientHeight:this.handleErrorClientHeightChange})}},{key:"lastNameField",value:function(e){var t=this.props.i18n,n=this.state.isExpanded,r=d()("last-name",{hidden:!n});return a.a.createElement(q.TextField,{className:r,errorMessage:t.value("registration-form.error-lname-guest"),flyout:t.value("registration-form.name-last"),id:pe.LAST_NAME,name:pe.LAST_NAME,pattern:me,ref:this.handleField,required:!0,sortNumber:e?4:3,getErrorClientHeight:this.handleErrorClientHeightChange})}}]),t}();be.defaultProps={isEmailForm:!0,onCountryCodeChange:function(){}},he([b.a],be.prototype,"handleErrorClientHeightChange",null),he([b.a],be.prototype,"showErrorFor",null),he([b.a],be.prototype,"setValueFor",null),he([b.a],be.prototype,"reset",null),he([b.a],be.prototype,"focusFirstField",null),he([b.a],be.prototype,"handleFlowFieldValidation",null),he([b.a],be.prototype,"handleSignupClick",null),he([b.a],be.prototype,"handleSubmitClick",null),he([b.a],be.prototype,"handleCancelClick",null),he([b.a],be.prototype,"handleField",null),he([b.a],be.prototype,"emailField",null),he([b.a],be.prototype,"countryCodeField",null),he([b.a],be.prototype,"phoneField",null),he([b.a],be.prototype,"renderSignUpLink",null),he([b.a],be.prototype,"firstNameField",null),he([b.a],be.prototype,"lastNameField",null);var ge=n(288),Se=n(13),Ee=n(14);n(1541);function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Pe=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ne(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Ce=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=we(this,Re(t).apply(this,arguments))).ADDRESS_SECTION_NAMES=["address-format-line-1","address-format-line-2","address-format-line-3"],e.SKIP_LOCALES=[Se.a.en_AE,Se.a.zh_CN],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,o["Component"]),function(e,t,n){t&&Oe(e.prototype,t),n&&Oe(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.store;return t&&o.createElement("address",{className:"address-information"},this.ADDRESS_SECTION_NAMES.map(function(n){return e.renderStoreAddress(n,t)}),this.renderLocationLink(t))}},{key:"renderStoreAddress",value:function(e,t){var n=this.props.i18n.value("global.".concat(e));return n&&o.createElement("p",{key:e,className:"typography-body"},Object(T.a)(n,t))}},{key:"renderLocationLink",value:function(e){var t=this.props,n=t.i18n,r=t.configManager.getExternalLink("appleMapsRoot");return!this.SKIP_LOCALES.includes(e.locale)&&o.createElement("p",null,o.createElement(Ee.a,{href:"".concat(r,"?daddr=").concat(e.lat,",").concat(e.long),className:"more",onClick:this.onClickHandler},n.value("global.cta-directions")))}},{key:"onClickHandler",value:function(){this.props.analyticsService.trackEvent({title:"Get Directions",prop3:"t@a - get directions",events:"event251"})}}]),t}();Pe([b.a],Ce.prototype,"onClickHandler",null),Ce=Pe([Object(g.a)(S.b.I18N,S.b.CONFIG_MANAGER,S.b.ANALYTICS_SERVICE)],Ce);var Le=n(186),ke=n(684),Te=n(287),je=n(391),Ie=n(281),De=n(195),Ae=n(81),Me=n(197),Fe=n(109),xe=n(405),Ue=(n(709),n(79)),Ve=n.n(Ue),Ge=n(15),Be=n(24);n(1548);function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ze=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ye(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Xe=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=We(this,qe(t).call(this,e))).wrapper=a.a.createRef();var r=n.props.i18n;return n.wrapper=a.a.createRef(),n.button=n.props.forwardedRef||Object(o.createRef)(),n.placeHolderText=a.a.createRef(),n.SIGN_ME_UP=r.value("global.cta-rsvp"),n.WAITLIST=r.value("global.cta-join-wait-list"),n.IM_GOING=r.value("global.cta-active-rsvp"),n.SIGN_UP=r.value("global.cta-sign-up"),n.IN_PROGRESS=r.value("global.cta-in-session"),n.state={buttonWidth:"auto"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,a.a.Component),function(e,t,n){t&&He(e.prototype,t),n&&He(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.eventType,n=(e.reservation,e.className),r=e.schedule,o=e.tagProps,i=e.augmentedContainerClass,c=this.getButtonState(r,t),l=c.isVisible,s=c.isDisabled,u=c.buttonText,f=c.showSignUp,p=c.isReserved,h=d()("rsvp-button","pill-large",s&&"disabled pill-unavailable",p||"not-reserved",this.getScheduleStatus()===Be.a.WAITLIST&&"waitlist"),y=d()("rsvp","typography-body-reduced",n,{hidden:!l}),m=i||"";return a.a.createElement("div",{className:y,ref:this.wrapper},a.a.createElement("div",{className:m},a.a.createElement("div",{className:"reservation-text-confirmation","aria-hidden":!0,ref:this.placeHolderText},a.a.createElement("span",null,this.IM_GOING)),a.a.createElement("button",Object.assign({disabled:s,className:h,"aria-disabled":s,onClick:this.getClickHandler(),ref:this.button,style:{width:this.state.buttonWidth}},o),a.a.createElement("span",{className:"rsvp-signup-content ".concat(p?"rsvp-hidden":""),hidden:p,"aria-hidden":p},a.a.createElement("span",{className:"rsvp-signup-text"},u)),a.a.createElement("span",{className:"rsvp-active-content ".concat(f?"rsvp-hidden":""),hidden:f,"aria-hidden":f},a.a.createElement("i",{className:"icon icon-check"}),a.a.createElement("span",{className:"rsvp-active-text"},u)))))}},{key:"componentDidMount",value:function(){this.setButtonWidth(this.getCurrentWidth())}},{key:"shouldComponentUpdate",value:function(e,t){var n=e.className,r=e.reservation,o=e.schedule,a=this.getReservationStatus(),i=this.getScheduleStatus(),c=r&&r.status,l=o&&o.status;return this.props.className!==n||a!==c||i!==l||this.state.buttonWidth!==t.buttonWidth}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.eventType,r=this.getReservationStatus(),o=n===v.a.CAMPS,a=r===Ge.a.RESERVED||r===Ge.a.ALREADY_RESERVED;!o&&a?(this.setButtonWidth(this.getAltWidth()),this.wrapper.current.classList.add("active")):(this.setButtonWidth("auto"),this.wrapper.current.classList.remove("active"))}},{key:"getAltWidth",value:function(){var e=this.placeHolderText.current,t=Ve.a.findDOMNode(e),n=window.getComputedStyle(t).width;return parseFloat(n.slice(0,n.length-2))+59+"px"}},{key:"getCurrentWidth",value:function(){var e=this.button.current,t=e?Ve.a.findDOMNode(e):null;return t?window.getComputedStyle(t).width:"auto"}},{key:"setButtonWidth",value:function(e){this.setState({buttonWidth:e})}},{key:"isBeforeSession",value:function(e){if(e){var t,n,r=Object(Ae.a)(e.startTime,e.endTime);return r&&(t=r.eventInSession,n=r.eventHasEnded),{eventInSession:t,eventHasEnded:n}}}},{key:"noClick",value:function(e){return!1}},{key:"getClickHandler",value:function(){var e=this.props,t=e.eventType,n=e.schedule,r=this.isBeforeSession(n),o=r.eventInSession,a=r.eventHasEnded,i=this.getReservationStatus(),c=this.getScheduleStatus(),l=t===v.a.CAMPS,s=i&&!l?i:c;return!this.isReservationPossible(s)||o||a?this.noClick:this.props.onClick}},{key:"getReservationStatus",value:function(){var e=this.props.reservation;return e&&e.status}},{key:"getScheduleStatus",value:function(){var e=this.props.schedule;return e&&e.status}},{key:"getButtonText",value:function(e,t){var n;switch(e){case Be.a.WAITLIST:n=this.WAITLIST;break;case Be.a.RSVP:n=t?this.SIGN_UP:this.SIGN_ME_UP;break;case Be.a.RESERVED:case Ge.a.ALREADY_RESERVED:n=this.IM_GOING;break;default:n=this.SIGN_ME_UP}return n}},{key:"getButtonState",value:function(e,t){var n=t===v.a.CAMPS,r=this.getReservationStatus(),o=this.getScheduleStatus(),a=this.isBeforeSession(e),i=a.eventInSession,c=a.eventHasEnded;if(i)return{isVisible:!0,isDisabled:!0,buttonText:this.IN_PROGRESS,showSignUp:!1};if(c)return{isVisible:!1,isDisabled:!0,buttonText:"",showSignUp:!1};var l=r&&!n?r:o,s=o===Be.a.FULL,u=l===Be.a.RESERVED||l===Ge.a.ALREADY_RESERVED,f=this.getButtonText(s&&!u?Be.a.RSVP:l,n),p=s||o===Be.a.WAITLIST||o===Be.a.RSVP;return{isVisible:p,isDisabled:!this.isReservationPossible(l),buttonText:f,showSignUp:!u&&p,isReserved:u}}},{key:"isReservationPossible",value:function(e){switch(e){case Ge.a.REQUEST_REJECTED:case Ge.a.RSVP:case Ge.a.WAITLIST:return!0;default:return!1}}}]),t}();Xe=ze([Object(g.a)(S.b.I18N)],Xe);var Ze=n(196),Je=n(688),$e=n(129),Qe=n(289);n(1550);function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var at=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ot(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},it=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tt(this,nt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,o["Component"]),function(e,t,n){t&&et(e.prototype,t),n&&et(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.talents;return o.createElement("section",{className:"section section-performer"},(t||[]).map(function(t,n){return e.renderTalent(t,n)}))}},{key:"renderTalent",value:function(e,t){var n=e.title,r=e.name,a=e.backgroundImage,i=e.description;return o.createElement("div",{className:"row",key:t},o.createElement("div",{className:"column large-10 large-offset-1 small-12 small-offset-0 border-top"}),o.createElement("div",{className:"row section-content"},o.createElement("div",{className:"column large-8 large-offset-1 medium-9 medium-offset-1 small-10"},o.createElement("div",{className:"performer-info"},a&&o.createElement("figure",{style:{backgroundImage:"url('".concat(Object($e.a)(a,250),"')")},className:"performer-image"}),o.createElement("h2",{className:"typography-label"},r),n&&o.createElement("h3",null,n),o.createElement("p",{className:"typography-body"},i))),this.renderSocialUrls(e),this.renderTalentUrl(e)))}},{key:"renderTalentUrl",value:function(e){var t=e.websiteUrl;return t&&o.createElement("div",{className:"row"},o.createElement("div",{className:"column large-10 large-offset-1"},o.createElement("a",{href:t,className:"performer-link more",target:"_blank"},this.props.i18n.value("details.cta-performer-website"))))}},{key:"renderSocialUrls",value:function(e){var t=this.props,n=t.i18n,r=t.schedule,a=t.course,i=t.store,c=t.canonicalURL,l=e.socialLinks;return l&&l.length?o.createElement("div",{className:"row"},o.createElement("div",{className:"column large-8 large-offset-1 medium-9 medium-offset-1"},o.createElement("p",{className:"typography-body"},n.compileValue("details.cta-talent-social-share",e)),o.createElement("div",{className:"icon-set"},o.createElement(Qe.a,{social:l,schedule:r,course:a,store:i,canonicalURL:c})))):null}}]),t}();at([b.a],it.prototype,"renderTalent",null),it=at([Object(g.a)(S.b.I18N)],it);var ct=n(128);n(686);function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dt=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":pt(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},ht=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=st(this,ut(t).apply(this,arguments))).SELECT_BUTTON_LABEL=e.props.i18n.value("global.cta-select"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,o["Component"]),function(e,t,n){t&&lt(e.prototype,t),n&&lt(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.schedule,n=e.i18n,r=t.displayDate.length;return o.createElement("li",{className:"location-time-list-item row",role:"listitem"},o.createElement("div",{className:"column large-8 large-offset-1 small-11 small-push-1 schedule-list-item__left-information"},o.createElement("div",{className:"typography-label schedule-list-item-title"},r>1?t.storeTitle:t.displayDate[0].date,1===r&&this.renderMultiLanguageText()),r>1&&o.createElement("div",{className:"camp-schedule-label"},n.value("details.multisession-three-parts"),this.renderMultiLanguageText()),this.renderDates(t),1===r&&o.createElement("span",{className:"schedule-list-item__store-name typography-body-reduced"},t.storeTitle)),o.createElement("div",{className:"column large-3 small-11 small-push-1 schedule-list-item__right-information"},o.createElement("div",{className:"schedule-list-item__button","data-schedule-id":t.id},this.renderSelectButton(t.id)),o.createElement("div",{className:"schedule-list-item__violator"},this.renderViolator())))}},{key:"getAriaLabel",value:function(e){var t=e.displayDate,n=e.storeTitle,r="";if(t){var o=t[0],a=o.date,i=o.timeRange;r="".concat(a," ").concat(i)}return"".concat(this.SELECT_BUTTON_LABEL," - ").concat(r," ").concat(n)}},{key:"renderSelectButton",value:function(e){var t=this.props,n=t.schedule,r=t.callback,a=t.reservations,i=t.i18n,c=this.getAriaLabel(n);return 1===n.displayDate.length&&a.includes(n.id)?o.createElement(ct.a,{className:"rsvp-reserved",onClick:r},o.createElement("i",{className:"icon icon-check"}),o.createElement("span",{className:"rsvp-reserved-text"},i.value("global.cta-active-rsvp"))):o.createElement(ct.a,{onClick:r,ariaLabel:c},this.SELECT_BUTTON_LABEL)}},{key:"renderViolator",value:function(){var e=this.props,t=e.schedule,n=e.i18n,r=e.reservations;if(this.isAReservedCampEvent()||!r.includes(t.id)&&Object(E.c)(t.status)){var a=this.isAReservedCampEvent()?Be.a.RESERVED:t.status;return o.createElement("span",{className:"schedule-list-item__status typography-body-reduced"},n.value("global.".concat(E.a[a])))}return null}},{key:"isAReservedCampEvent",value:function(){var e=this.props,t=e.schedule,n=e.reservations;return 3===t.displayDate.length&&n.includes(t.id)}},{key:"renderMultiLanguageText",value:function(){var e=this.props,t=e.isMultiLanguage,n=e.schedule,r=e.i18n;return t&&n.lang&&o.createElement(o.Fragment,null," "+r.value("global.delivery-language-open-punctuation"),o.createElement("span",{className:"delivery-language"},r.value("language.".concat(n.lang))),r.value("global.delivery-language-close-punctuation"))}},{key:"renderDates",value:function(e){var t=e.displayDate,n=t.length;return t.map(function(e,t){return o.createElement("span",{className:"schedule-list-item__store-time typography-body-reduced",key:t},n>1?e.fullDate:e.timeRange)})}}]),t}();dt([b.a],ht.prototype,"renderSelectButton",null),dt([b.a],ht.prototype,"renderViolator",null),dt([b.a],ht.prototype,"isAReservedCampEvent",null),dt([b.a],ht.prototype,"renderMultiLanguageText",null),dt([b.a],ht.prototype,"renderDates",null),ht=dt([Object(g.a)(S.b.I18N)],ht);var yt=function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}();function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Et=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":St(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vt(this,bt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,a.a.Component),function(e,t,n){t&&mt(e.prototype,t),n&&mt(e,n)}(t,[{key:"selectEvent",value:yt(function(e){var t=this,n=t.props.updateCurrentSchedule;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(function(){return function(e,t,n){return n?t?t(e):e:(e=Promise.resolve(e),t?e.then(t):e)}(n(e),function(){t.isComponentMounted&&t.props.callback(!1)})},function(e){throw new Error(e)})})},{key:"componentWillMount",value:function(){this.isComponentMounted=!1}},{key:"componentDidMount",value:function(){this.isComponentMounted=!0}},{key:"handleEventSelect",value:function(e){return this.selectEvent.bind(this,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.schedules,r=t.reservations,o=t.reservationResult,i=t.isMultiLanguage,c=t.title;return a.a.createElement(a.a.Fragment,null,n&&n.length>0&&a.a.createElement("ul",{className:"location-time-list",role:"list","aria-label":c},n.map(function(t,n){return a.a.createElement(ht,{key:n,reservationResult:o,isMultiLanguage:i,callback:e.handleEventSelect(t.id),reservations:r,schedule:t})})))}}]),t}();Et([b.a],Ot.prototype,"selectEvent",null),Et([b.a],Ot.prototype,"handleEventSelect",null),Ot=Et([m.a,Object(g.a)(S.b.I18N,S.b.SESSION_STORAGE,S.b.CONFIG_MANAGER)],Ot);var wt=n(20);n(1551);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nt(this,Pt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,o["Component"]),function(e,t,n){t&&_t(e.prototype,t),n&&_t(e,n)}(t,[{key:"render",value:function(){var e=this.props.course,t=e.accessibilityText1,n=e.accessibilityText2;return o.createElement(o.Fragment,null,t&&o.createElement("p",{className:"accessibility-information"},t),n&&o.createElement("p",{className:"accessibility-information"},n))}}]),t}();function kt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Tt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function jt(){}n.d(t,"a",function(){return Qt});var It=function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}();function Dt(e,t,n){return n?t?t(e):e:(e=Promise.resolve(e),t?e.then(t):e)}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mt(e,t,n[t])})}return e}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Bt=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Gt(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Ht=Object(j.e)({sectionName:"Hero"},"name: {{sectionName}}")(r.b),Wt=Object(j.c)(Ee.a),qt=Object(j.c)(Xe),Kt=new j.b,Yt=Kt.withProp3("t@a - sign me up").addPropToTrackers("events","event207").withEventDetails().build(),zt=Kt.resetTrackers().withProp3("t@a - see sign up page for this session").withEventDetails().build(),Xt=Kt.resetTrackers().withProp3("t@a - more to discover").addPropToTrackers("events","event253").build(),Zt=",",Jt={from:L.PageName.EVENT},$t=Object(Ze.a)(De.a),Qt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=xt(this,Ut(t).call(this,e))).guestRegistrationFormRef=Object(o.createRef)(),n.rsvpButtonRef=Object(o.createRef)(),n.state={scheduleModalIsOpen:!1,waitlistPromptIsOpen:!1,loaded:!1,historyReplaced:!1,isGuestRegistrationFormDisplayed:!1,isConfirmationError:!1},n.moreAboutLinkUrl="",n.locationUpdateStrategy=new Me.EventPageLocationUpdateStrategy(n.props),n.props.fetchInitialDataPromise.then(function(){n.afterInitialDataLoaded()});var r=n.props.i18n;n.defaultCountryCode=r.value("config.default-country-code");var a=r.value("config.country-codes");return a&&(n.countryCodes=a.split(Zt).filter(Boolean)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,a.a.Component),function(e,t,n){t&&Ft(e.prototype,t),n&&Ft(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.schedule,r=t.course,o=t.configManager,i=t.heroGallery,c=t.reservation,l=t.reservationUpdateTime,s=t.moreAbout,u=t.nearbySchedules,p=t.scheduleId,h=t.dropdownSchedules,y=t.actions,m=t.store,v=t.talents,b=t.socialLinks,g=t.i18n,S=t.relatedSchedules,E=t.isConfirmationPage,O=t.allStores,w=t.sessionStorage,R=t.analyticsService,_=t.historyReservations,N=t.globalState,P=t.match,C=this.state,T=C.isGuestRegistrationFormDisplayed,j=C.scheduleModalIsOpen,D=C.isConfirmationError,A=d()("row","section-registration",{"guest-registration":this.useGuestRegistration(),"show-form":T}),M=N.canonicalURL,F=void 0===M?"":M;s&&(s.description=s.mediumDescription,this.moreAboutLinkUrl=this.getMoreAboutLink());var x=n&&n.isStoreSpecific,U=w&&!!w.getSelectedStoreLocation(),V=x?this.props.store:this.getSelectedLocation(),G=r.promoType===Fe.b.BUSINESS,B=E&&Object(k.a)(Object(k.l)(o.getPageRoute(L.PageName.EVENT),At({},P.params,{courseSlug:r.urlTitle,scheduleId:p})),m.storeNum),H={wrapAround:!0,autoPlay:3,touch:i.length>1,duration:.8,ease:"cubic-bezier(0.46, 0.11, 0.47, 0.94)"},q=d()("row","event-see-more",{hidden:0===u.length||T||E});return a.a.createElement("div",null,a.a.createElement(ke.PageStatus,{schedule:n,course:r,social:b,reservation:c,reservationUpdateTime:l,location:V,storeInfo:m,scheduleType:r.type,showBusinessSection:G,showCopyMessage:!this.useGuestRegistration(),showMyReservationsLink:!this.useGuestRegistration(),components:{getLocationSelector:this.getLocationSelector},canonicalURL:F,onNewReservationClick:this.createReservationClick,className:E?"confirmation-status":null}),!D&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(Ht,{heroGalleryData:i,forceImages:E,disableLink:!0,config:H,id:"hero-gallery-slide-wrapper"})),a.a.createElement("section",{className:"section-content section-detail"},a.a.createElement(f,{name:r.name,collectionName:r.collectionName}),!r.isLocationSelectionDisabled&&!E&&a.a.createElement("div",{className:"row location-selector"},a.a.createElement("div",{className:"column large-8 large-offset-1 medium-9 small-10 typography-intro location-button-wrapper"},a.a.createElement($t,{disabled:T||x,resetAccessibilityFocusTargetId:"#current-location-button",wrappedComponentRef:this.setLocationSelector,shouldConcreteStoreBeSelected:U,isStoreSpecific:x,userLocation:V,controlsVisibility:{country:!1},locationUpdateStrategy:this.locationUpdateStrategy}))),n&&a.a.createElement(W,{disabled:T||E,fetchInitialData:y.fetchInitialData,nearbySchedules:u,dropdownSchedules:h,eventType:r.type,callback:this.toggleScheduleModal,onChangeSchedule:this.changeSchedule,scheduleId:p,displayDate:n.displayDate,eventStatus:n.status,storeTitle:n.storeTitle,storeNum:n.storeNum,isMultiLanguage:O.isMultiLanguage(),lang:n&&n.lang||null,historyReservations:_,scheduleModalIsOpen:j}),a.a.createElement("div",{className:q},a.a.createElement("p",{className:"column large-4 large-offset-1 medium-8 small-10 typography-body-reduced"},this.renderSeeMoreText())),n&&!E&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(xe.a,{type:I.ModalType.STANDARD,title:g.value("details.alternate-times-title"),renderList:this.renderList,isOpened:this.state.scheduleModalIsOpen,onClose:this.toggleScheduleModal})),a.a.createElement("div",{className:A},a.a.createElement("div",{className:"column large-6 large-offset-1 medium-8 small-10"},a.a.createElement(qt,{onClick:this.createReservationClick,augmentedContainerClass:"event-page-fixed-height",schedule:n,eventType:r.type,reservation:c,analyticsAttr:Yt,analyticsData:{scheduleName:r.title,programName:r.prefix,storeNum:n.storeNum,sessionTime:new Date(n.startTime).toUTCString()},forwardedRef:this.rsvpButtonRef}),a.a.createElement(be,{defaultCountryCode:this.defaultCountryCode,doAppleIDReservation:this.doAppleIdRegistration,doGuestRegistration:this.doGuestRegistration,cancelGuestRegistration:this.cancelGuestRegistrationAndFocusRsvpButton,countryCodes:this.countryCodes,i18n:g,configManager:o,isEmailForm:this.useEmailGRForm(),onCountryCodeChange:this.handleCountryCodeChange,onFlowFieldValidation:this.handleFlowFieldValidation,ref:this.guestRegistrationFormRef,scheduleId:p,onFormExpanded:this.trackGuestRegistrationStart,isGuestRegistrationFormDisplayed:T})))),a.a.createElement("div",{className:"row"},a.a.createElement("article",{className:"column large-8 large-offset-1 medium-9 small-10"},E&&n&&this.renderAddress(),a.a.createElement("p",{className:"description"},r.mediumDescription),a.a.createElement(Lt,{course:r}),E&&n&&a.a.createElement("p",{className:"description session-url"},a.a.createElement(Wt,{addLocation:!0,href:B,className:"more",analyticsAttr:zt,analyticsData:{scheduleName:r.title,programName:r.prefix,storeNum:n.storeNum,sessionTime:new Date(n.startTime).toUTCString()}},g.value("registration-form.see-signup-session"))),!E&&n&&this.renderAddress(),!E&&a.a.createElement("div",{className:"spread-the-word-wrapper"},a.a.createElement(ge.a,{idPrefix:"event-page",social:b,schedule:n,course:r,storeState:m,canonicalURL:F})))),v&&v.length>0&&a.a.createElement(it,{talents:v,schedule:n,course:r,store:m,canonicalURL:F}),a.a.createElement("div",{className:"timeselector-schedule-list"})),!E&&s&&a.a.createElement(Le.a,{heading:g.compileValue("details.more-about-title",s),info:At({},s,{analyticsInfo:{prop3:"t@a - collection: "+s.collId}}),link:{url:this.moreAboutLinkUrl,text:g.value("details.cta-program-learn-more")}}),!E&&S&&S.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"section-more-in-collection","data-analytics-activitymap-region-id":"you might also like"},a.a.createElement(Te.a,{title:g.value("details.related-component-title"),spotlightGalleryData:S,isMultiLanguage:O.isMultiLanguage(),forceImages:!0})),a.a.createElement("section",{className:"section section-more-programs"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"all column large-8 large-offset-2"},a.a.createElement(Wt,{addLocation:!0,href:{pathname:o.getPageRoute(L.PageName.DISCOVER),state:Jt},className:"more",analyticsAttr:Xt},g.value("details.cta-related-component"))))))),!E&&a.a.createElement("div",null,a.a.createElement(Je.a,{status:this.state.waitlistPromptIsOpen?je.a.RSVP_FULL:null,errorMapping:Mt({},je.a.RSVP_FULL,{label:"error.camp-session-full",buttons:[{text:"global.cta-yes",callback:function(){e.props.actions.updateEventStatus(L.EventStatus.WAITLIST),e.redirectToCampRegistrationPage(),R.trackEvent({title:"Waitlist attempt",events:"event256"})}},{text:"global.cta-no"}]}),onClose:this.resetModalState})))}},{key:"componentWillUnmount",value:function(){var e=this.state.historyReplaced,t=this.props.course;e||t.type===L.EventType.CAMPS||this.props.actions.setReduxStoreToEmpty()}},{key:"toggleScheduleModal",value:function(){this.setState({scheduleModalIsOpen:!this.state.scheduleModalIsOpen})}},{key:"afterInitialDataLoaded",value:It(function(){var e=this,t=!1,n=e.props,r=n.scheduleId,o=n.authenticationService,a=n.baseWorkflowDataService,i=n.actions,c=n.schedule,l=n.browserService,s=(n.history,n.reservation),u=n.match,f=n.isConfirmationPage;return e.setState({loaded:!0}),function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}(function(){if(!f)return function(){if(c){if(u&&u.params&&u.params.scheduleId&&u.params.scheduleId!==c.id)return void(t=!0);if(e.isGenericCoursePage()){var n=Object(k.d)();e.actualizeUrl(c),n===k.n.SESSION_NOT_FOUND&&i.updateReservation(Object(wt.f)(L.ReservationStatus.THIS_SESSION_NOT_AVAILABLE_TRY_ANOTHER))}return function(){if(!o.validateReservationRedirect(r))return Dt(a.initiateWorkflow(e.getWorkshopRequestParams()),function(n){var r=n.status,o=n.reservations;if(!r)return i.updateReservation(Object(wt.f)(L.ReservationStatus.GENERIC_ERROR)),void(t=!0);i.setIsUserLoggedIn(null!=o),o&&i.updateHistory(o),e.checkSessionAvailability();var a=s&&s.status,c=r&&r.eventStatus||null,l=c;switch(a){case L.ReservationStatus.RESERVED:case L.ReservationStatus.WAITLIST:return void(c===L.ReservationStatus.FULL&&(l=a));case L.ReservationStatus.HOLD_WAITLIST_FULL:return void(l=a)}i.updateEventStatus(l),l&&!Object(Ae.b)(l)&&(i.updateReservation(Object(wt.f)(l)),t=!0)});e.createReservation(!0)}()}e.isOtherSessionAvailableForCourse()||i.updateReservation(Object(wt.f)(L.ReservationStatus.NO_AVAILABLE_SESSIONS_FOR_COURSE))}();!c||c.status===L.EventStatus.CLOSED||c.status===L.EventStatus.CANCELLED||e.isInSessionOrEnded(c)?e.setState({isConfirmationError:!0},function(){i.updateReservation(Object(wt.f)(L.ReservationStatus.CONFIRMATION_ERROR))}):i.updateReservation(Object(wt.f)(L.ReservationStatus.CONFIRMED))},function(e){if(t)return e;l.windowScrollToY(0,{withAnimation:!1})})})},{key:"checkSessionAvailability",value:function(){var e=this.props,t=e.course.type,n=e.actions,r=e.schedule,o=e.historyReservations,a=e.reservation;if(this.isOtherSessionAvailableForCourse()){if(r){var i=this.findReservationByScheduleId(r.id,o);i?(a&&a.workshopId===r.id&&(i=At({},a,i)),i.status===L.ReservationStatus.RESERVED&&t!==L.EventType.CAMPS&&(i=At({},i,{status:L.ReservationStatus.ALREADY_RESERVED,iCalLink:r.icalUrl})),n.updateReservation(i)):this.isInSessionOrEnded(r)||!Object(Ae.b)(r.status)?n.updateReservation(Object(wt.f)(L.ReservationStatus.THIS_SESSION_NOT_AVAILABLE_TRY_ANOTHER)):n.updateReservation(null)}}else n.updateReservation(Object(wt.f)(L.ReservationStatus.NO_AVAILABLE_SESSIONS_FOR_SELECTED_LOCALE_AND_COURSE))}},{key:"isInSessionOrEnded",value:function(e){var t=Object(Ae.a)(e.startTime,e.endTime);return t.eventInSession||t.eventHasEnded}},{key:"isOtherSessionAvailableForCourse",value:function(){var e=this.props,t=e.schedules;return e.scheduleId&&t&&Object.keys(t).length>0}},{key:"componentDidMount",value:function(){this.props.browserService.windowScrollToY(0,{withAnimation:!1})}},{key:"componentDidUpdate",value:It(function(e,t){var n=e.schedule&&this.props.schedule&&e.schedule.id!==this.props.schedule.id;this.shouldFindNextAvailableSchedule()?this.fetchNextAvailableSchedule():n&&(this.actualizeUrl(this.props.schedule),this.checkSessionAvailability())})},{key:"changeSchedule",value:function(e){var t=this.props,n=t.actions,r=t.historyReservations;if(e){n.updateCurrentSchedule(e);var o=this.findReservationByScheduleId(e,r);o?n.updateReservation(o):n.updateReservation(null)}}},{key:"findReservationByScheduleId",value:function(e,t){if(t&&t.length)return t.find(function(t){return t.workshopId===e})}},{key:"renderAddress",value:function(){var e=this.props.store;return a.a.createElement(Ce,{store:e})}},{key:"renderSeeMoreText",value:function(){var e=this.props,t=e.nearbySchedules,n=e.i18n,r=t.length;return 1===r?n.value("details.sessions-near-numbered-singular"):Object(T.a)(n.value("details.sessions-near-numbered"),{sessionsTotal:r})}},{key:"shouldFindNextAvailableSchedule",value:function(){return this.isGenericCoursePage()&&this.props.schedule&&this.props.schedule.status===L.EventStatus.FULL}},{key:"fetchNextAvailableSchedule",value:function(){var e=this.getTheNextAvailableSchedule();e&&this.changeSchedule(e.id)}},{key:"goToEvent",value:function(e){var t=this.props,n=t.match,r=t.configManager,o=t.history,a=Object(k.l)(r.getPageRoute(L.PageName.EVENT),At({},n.params,{scheduleId:e.id})),i=Object(k.a)(a,e.storeNum);o.push({pathname:i})}},{key:"actualizeUrl",value:function(e){var t=this.props,n=t.match,r=t.configManager;t.history;if(e){var o=Object(k.l)(r.getPageRoute(L.PageName.EVENT),At({},n.params,{scheduleId:e.id})),a=Object(k.a)(o,e.storeNum,new URLSearchParams(document.location.search));window.history.replaceState({},document.title,a)}}},{key:"getTheNextAvailableSchedule",value:function(){return(this.props.nearbySchedules||[]).find(function(e){return e.status===L.EventStatus.RSVP})}},{key:"getWorkshopRequestParams",value:function(){var e=this.props;return{storeInfo:e.store,schedule:e.schedule,course:e.course,localeId:e.allLocales.currentLocale.id}}},{key:"useEmailGRForm",value:function(){return!("TRUE"===this.props.i18n.value("config.guest-registration-phone-enabled"))&&this.countryCodes&&this.countryCodes.length>0}},{key:"getDefaultCountryCode",value:function(){var e=this.props.sessionStorage;if(!this.countryCodes||!this.countryCodes.length)return null;var t=e.getGuestRegistrationCountryCode();return this.countryCodes.includes(t)||(t=null),t||this.defaultCountryCode||this.countryCodes[0]}},{key:"createReservationClick",value:function(){var e=this;this.useGuestRegistration()?this.setState({isGuestRegistrationFormDisplayed:!0},function(){var t=e.guestRegistrationFormRef.current;if(t){var n=e.props.sessionStorage;if(e.useEmailGRForm()){var r=n.getGuestRegistrationEmail();r&&t.setValueFor(pe.EMAIL,r)}else{var o=n.getGuestRegistrationCountryCode();o&&t.setValueFor(pe.COUNTRY_CODE,o);var a=n.getGuestRegistrationPhone();a&&t.setValueFor(pe.PHONE,a)}setTimeout(function(){t.focusFirstField(!1)},1250)}}):this.doAppleIdRegistration()}},{key:"createReservation",value:It(function(e){var t=this,n=t.props,r=n.scheduleId,o=n.baseWorkflowDataService,a=n.authenticationService,i=n.actions,c=n.schedule,l=t.props.course.type;return Dt(o.initiateWorkflow(t.getWorkshopRequestParams()),function(n){var s=n.reservations,u=n.status;if(u)if(i.setIsUserLoggedIn(null!=s),s){if(!Object(Ae.b)(u.eventStatus))return i.updateEventStatus(u.eventStatus),void i.updateReservation(Object(wt.f)(u.eventStatus));if(!t.isInSessionOrEnded(c))return function(e){var t=e();if(t&&t.then)return t.then(jt)}(function(){if(l!==L.EventType.CAMPS)return Dt(o.createReservation(At({},t.getWorkshopRequestParams())),function(e){var t=e.reservation;if(t&&t.status&&t.status!==L.ReservationStatus.ALREADY_RESERVED){i.updateReservation(t);var n=s||[];n.push(t),i.updateHistory(n)}else if(s){i.updateHistory(s);var r=s.find(function(e){return e.workshopId===c.id});r&&i.updateReservation(r)}});Object(Ae.d)(c.status,u.eventStatus)?t.setWaitlistPromptVisibility(!0):t.redirectToCampRegistrationPage()});i.updateReservation(Object(wt.f)(L.ReservationStatus.THIS_SESSION_NOT_AVAILABLE_TRY_ANOTHER))}else a.redirectToIDMS(r,e);else i.updateReservation(Object(wt.f)(L.ReservationStatus.GENERIC_ERROR))})})},{key:"useGuestRegistration",value:function(){var e=this.props,t=e.course,n=e.isUserLoggedIn;return t.type!==L.EventType.CAMPS&&t.guestRegistration&&!n}},{key:"trackGuestRegistrationStart",value:function(){this.trackRegistration("event355")}},{key:"trackRegistration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props,r=n.analyticsService,o=n.schedule,a=n.course,i=At({title:"Registration tracking"},e&&{events:e},{eVar80:o.storeNum,eVar81:a.prefix,eVar82:a.name,eVar83:new Date(o.startTime).toUTCString()},t&&{prop3:"t@a reg error ".concat(t)});r.trackEvent(At({},i))}},{key:"doAppleIdRegistration",value:It(function(){this.trackRegistration("event360"),this.createReservation(!1)})},{key:"doGuestRegistration",value:It(function(e){var t=this,n=t.props,r=n.actions,o=n.guestRegistrationDataService,a=n.allLocales.currentLocale.id;return Dt(o.performRegistration(e,a),function(e){var n=e.errorField,o=e.errorStatus,a=e.registration;if(n){var i=t.guestRegistrationFormRef.current;i&&(i.showErrorFor(n),i.focusFirstField(!0))}else if(o)r.updateReservation(Object(wt.f)(o)),t.trackRegistration(null,o),t.cancelGuestRegistration();else if(a){var c=a.sessionId,l=a.templateId,s=Tt(a,["sessionId","templateId"]);r.updateReservation(At({courseId:l,workshopId:c},s)),t.trackRegistration("event356"),t.cancelGuestRegistration()}})})},{key:"cancelGuestRegistration",value:function(e){this.setState({isGuestRegistrationFormDisplayed:!1},e);var t=this.props.sessionStorage;t.removeGuestRegistrationEmail(),t.removeGuestRegistrationCountryCode(),t.removeGuestRegistrationPhone()}},{key:"cancelGuestRegistrationAndFocusRsvpButton",value:function(){var e=this;this.cancelGuestRegistration(function(){var t=e.rsvpButtonRef.current;t&&t.focus({preventScroll:!0})})}},{key:"handleFlowFieldValidation",value:function(e,t,n){var r=this.props.sessionStorage;e===pe.EMAIL&&(n?r.setGuestRegistrationEmail(t):r.removeGuestRegistrationEmail()),e===pe.PHONE&&(n?r.setGuestRegistrationPhone(t):r.removeGuestRegistrationPhone())}},{key:"handleCountryCodeChange",value:function(e){this.props.sessionStorage.setGuestRegistrationCountryCode(e)}},{key:"redirectToCampRegistrationPage",value:function(){var e=this.props,t=e.configManager,n=e.match,r=e.history,o=e.allLocales.currentLocale.urlStageRootPath,a=n.params,i=a.courseSlug,c=a.scheduleId,l=t.getPageRoute(L.PageName.CAMP_REGISTRATION),s=Object(k.l)(l,{courseSlug:i,scheduleId:c,stageRootPath:o});r.push({pathname:s,state:{preventFetchCall:!0}})}},{key:"setWaitlistPromptVisibility",value:function(e){this.setState({waitlistPromptIsOpen:e})}},{key:"resetModalState",value:function(){this.setWaitlistPromptVisibility(!1)}},{key:"isGenericCoursePage",value:function(){var e=this.props.configManager,t=Object(Ie.a)(window.location.pathname,{path:e.getPageRoute(L.PageName.EVENT),exact:!0,strict:!1});return t&&!t.params.scheduleId}},{key:"getSelectedLocation",value:function(){var e=this.props,t=e.userLocation,n=e.sessionStorage,r=n&&n.getSelectedStoreLocation();return r||(n&&n.getLocationLabelInfo()||t)}},{key:"setLocationSelector",value:function(e){this.locationSelector=e}},{key:"getLocationSelector",value:function(){return this.locationSelector}},{key:"sortSchedules",value:function(e){return e.length>1&&e.sort(function(e,t){return e.storeName.toUpperCase().localeCompare(t.storeName.toUpperCase())}).sort(function(e,t){return e.startTime-t.startTime})||e}},{key:"renderList",value:function(e){var t=this.props,n=t.nearbySchedules,r=t.schedule,o=t.i18n,i=t.reservation,c=t.allStores,l=t.actions,s=i&&i.workshopId||null,u=this.sortSchedules([r].concat(kt(n)));return a.a.createElement(Ot,{callback:e.toggleModal,schedules:u,updateCurrentSchedule:l.updateCurrentSchedule,isMultiLanguage:c.isMultiLanguage(),reservationResult:s,title:o.value("details.alternate-times-title"),reservations:this.getReservedScheduleIds()})}},{key:"getReservedScheduleIds",value:function(){return(this.props.historyReservations||[]).map(function(e){return e.workshopId})}},{key:"getMoreAboutLink",value:function(){var e=this.props,t=e.moreAbout,n=e.configManager,r=e.schedule;return"CAMP"===t.type?this.props.configManager.getPageRoute(L.PageName.CAMP):n.getPageRoute(r&&r.isStoreSpecific?L.PageName.STORE_COLLECTION:L.PageName.COLLECTION).replace(":collectionSlug",t.collId)}}]),t}();Bt([b.a],Qt.prototype,"toggleScheduleModal",null),Bt([b.a],Qt.prototype,"afterInitialDataLoaded",null),Bt([b.a],Qt.prototype,"changeSchedule",null),Bt([b.a],Qt.prototype,"findReservationByScheduleId",null),Bt([b.a],Qt.prototype,"renderAddress",null),Bt([b.a],Qt.prototype,"renderSeeMoreText",null),Bt([b.a],Qt.prototype,"shouldFindNextAvailableSchedule",null),Bt([b.a],Qt.prototype,"fetchNextAvailableSchedule",null),Bt([b.a],Qt.prototype,"goToEvent",null),Bt([b.a],Qt.prototype,"actualizeUrl",null),Bt([b.a],Qt.prototype,"getTheNextAvailableSchedule",null),Bt([b.a],Qt.prototype,"getWorkshopRequestParams",null),Bt([b.a],Qt.prototype,"useEmailGRForm",null),Bt([b.a],Qt.prototype,"getDefaultCountryCode",null),Bt([b.a],Qt.prototype,"createReservationClick",null),Bt([b.a],Qt.prototype,"createReservation",null),Bt([b.a],Qt.prototype,"useGuestRegistration",null),Bt([b.a],Qt.prototype,"trackGuestRegistrationStart",null),Bt([b.a],Qt.prototype,"trackRegistration",null),Bt([b.a],Qt.prototype,"doAppleIdRegistration",null),Bt([b.a],Qt.prototype,"doGuestRegistration",null),Bt([b.a],Qt.prototype,"cancelGuestRegistration",null),Bt([b.a],Qt.prototype,"cancelGuestRegistrationAndFocusRsvpButton",null),Bt([b.a],Qt.prototype,"handleFlowFieldValidation",null),Bt([b.a],Qt.prototype,"handleCountryCodeChange",null),Bt([b.a],Qt.prototype,"redirectToCampRegistrationPage",null),Bt([b.a],Qt.prototype,"setWaitlistPromptVisibility",null),Bt([b.a],Qt.prototype,"resetModalState",null),Bt([b.a],Qt.prototype,"isGenericCoursePage",null),Bt([b.a],Qt.prototype,"setLocationSelector",null),Bt([b.a],Qt.prototype,"getLocationSelector",null),Bt([b.a],Qt.prototype,"sortSchedules",null),Bt([b.a],Qt.prototype,"renderList",null),Bt([b.a],Qt.prototype,"getReservedScheduleIds",null),Bt([b.a],Qt.prototype,"getMoreAboutLink",null)},1563:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n(134),c=n(186),l=n(287),s=n(192),u=n(72),f=n(2),p=n(402),d=n(16);n(1552);function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},w=new d.b,R=Object(d.c)(p.a),_=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=b(this,g(t).call(this,e))).selectedIndexes=[],n.selectedSchedules={indexes:[],courseIds:[]};var r=n.props.itemsPerLoad;n.state={sliceSize:r,loadCount:0,endOfList:!1};var o=n.getModifiedMappedCoursesToSchedules();return n.state=y({},n.state,{mappedCoursesToSchedules:o||null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,o.a.Component),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.scheduleList,o=n.itemsPerLoad,a=this.state,i=a.loadCount,c=a.endOfList,l=this.getFullMappedCoursesToSchedules(),s=l.slice(this.getSlicePositions().start,this.getSlicePositions().end);!c&&s.length+o*i>=l.length&&this.setState({endOfList:!0}),i!==t.loadCount&&this.setState({mappedCoursesToSchedules:this.getModifiedMappedCoursesToSchedules()}),r!==e.scheduleList&&this.setState({loadCount:0,sliceSize:o,mappedCoursesToSchedules:this.getModifiedMappedCoursesToSchedules()})}},{key:"componentDidMount",value:function(){var e=this.getModifiedMappedCoursesToSchedules();e&&this.setState({mappedCoursesToSchedules:e})}},{key:"loadMoreItems",value:function(){var e=this.props.itemsPerLoad,t=this.state,n=t.sliceSize,r=t.loadCount;r++,this.setState({sliceSize:n+e,loadCount:r})}},{key:"getSlicePositions",value:function(){var e=this.props.itemsPerLoad,t=this.state,n=t.loadCount;return{start:t.mappedCoursesToSchedules?n*e:0,end:e*n+e}}},{key:"getFullMappedCoursesToSchedules",value:function(){var e=this.props,t=e.scheduleList,n=e.schedules,r=e.courses;return Object(u.mapBFFCoursesToSchedules)(t,n,r)}},{key:"getModifiedMappedCoursesToSchedules",value:function(){var e=this.state,t=e.mappedCoursesToSchedules,n=e.loadCount,r=t;if(!r||0===n)return this.getNextMappedCoursesToSchedules();if(n>0){var o=this.getNextMappedCoursesToSchedules();return h(r).concat(h(o))}}},{key:"renderItems",value:function(){var e=this.state,t=e.mappedCoursesToSchedules,n=e.sliceSize,r=e.loadCount,a=this.props.itemsPerLoad;if(!t||0===t.length)return null;var i=a*r;return t.slice(0,n).map(function(e,t){return o.a.createElement(R,{key:t,index:t,schedule:e,displayMedia:e.shouldDisplayMedia,firstItem:0===t,lazyLoaded:r>0&&a*r===t,displayMonthInDate:!0,analyticsAttr:w.withProp3("t@a - details: {{scheduleName}}").withEvar80().withEvar81().withEvar82().withEvar83().build(),analyticsData:{storeNum:e.storeNum,programName:e.prefix,scheduleName:e.name,sessionTime:new Date(e.startTime).toUTCString()},setFocusOnTitle:i===t&&0!==t})})}},{key:"render",value:function(){var e=this.props.i18n,t=this.state.endOfList,n=e.value("collection.schedule-list-title"),r=e.value("global.cta-see-more");return o.a.createElement("section",{className:"schedule-list-collection"},o.a.createElement("div",{className:"section-content"},o.a.createElement("hr",{className:"upcoming-section-separator"}),o.a.createElement("div",{className:"row schedule-list-collection__upcoming"},o.a.createElement("div",{className:"column large-10 large-centered small-12"},o.a.createElement("h2",{className:"typography-body-reduced"},n))),this.renderItems(),!t&&o.a.createElement("div",{className:"row schedule-list-collection__see-more"},o.a.createElement("div",{className:"column large-10 large-centered small-12"},o.a.createElement("button",{className:"typography-body-reduced",onClick:this.loadMoreItems,"aria-label":e.value("discover.see-upcoming-sessions")},r)))))}},{key:"setSelectedIndexes",value:function(e){for(var t=this.selectedSchedules,n=0,r=1;n<e&&r<=6;){var o=Object(s.d)(r,t,e,n),a=o.map(function(e){return e.index}),i=o.map(function(e){return e.courseId}),c=this.selectedSchedules,l=c.indexes,u=c.courseIds;this.selectedSchedules.indexes=h(l).concat(h(a)),this.selectedSchedules.courseIds=h(u).concat(h(i)),this.selectedIndexes=h(this.selectedIndexes).concat(h(a)),n+=a.length,r++}}},{key:"getNextMappedCoursesToSchedules",value:function(){var e=this,t=this.props.itemsPerLoad,n=this.state.loadCount,r=this.getFullMappedCoursesToSchedules().slice(this.getSlicePositions().start,this.getSlicePositions().end),o=r.length,a=Object(s.c)(o);return Object(s.b)(),this.selectedIndexes=[],this.selectedSchedules={indexes:[],courseIds:[]},r.forEach(function(e,r){var o=n*t+r;Object(s.a)(e,o)}),this.setSelectedIndexes(a),r.map(function(r,o){var a=n*t+o;return y({},r,{shouldDisplayMedia:!!e.selectedIndexes.includes(a)})})}}]),t}();_.defaultProps={itemsPerLoad:20},O([f.a],_.prototype,"loadMoreItems",null);var N=n(195),P=n(7),C=n(407),L=n(109),k=n(196),T=n(197);n(1553);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return U});var F=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":M(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},x=Object(k.a)(N.a),U=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=I(this,D(t).call(this,e))).locationUpdateStrategy=new T.DefaultLocationUpdateStrategy(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,o.a.Component),function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.mediumDescription,r=e.shortDescription,s=e.spotlightGallery,u=e.i18n,f=e.heroGallery,p=e.configManager,d=e.promoType,h=e.scheduleList,y=e.schedules,m=e.courses,v=e.userLocation,b=e.isStoreCollection,g=e.shouldConcreteStoreBeSelected,S=!(!h||!h.length);return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.b,{heroGalleryData:f,disableLink:!0,useHeroTag:!0,id:"hero-gallery-slide-wrapper"}),o.a.createElement("div",{className:"collection-page__intro"},o.a.createElement("div",{className:"section-content"},o.a.createElement("article",{className:"row ".concat("collection-page","__header")},o.a.createElement("div",{className:"column large-8 small-10 large-centered"},o.a.createElement("h1",{className:"typography-headline-elevated"},t),o.a.createElement("p",{className:"typography-headline-description ".concat("collection-page","__header-description")},n||r)),o.a.createElement("div",{className:"collection-page__location-modal typography-eyebrow-elevated"},o.a.createElement(x,{disabled:b,isStoreSpecific:b,resetAccessibility:"#current-location-button",wrappedComponentRef:this.updateLocationSelector,userLocation:v,shouldConcreteStoreBeSelected:g||Object(P.h)(this.props),locationUpdateStrategy:this.locationUpdateStrategy}))))),!S&&o.a.createElement(C.a,{path:b?"error.sessions-not-available":"error.no-results-for-location",displayLink:!b,onChangeLocationClick:this.showLocationModal}),s&&s.length>0&&o.a.createElement("div",{className:"collection-page__spotlight-wrapper"},o.a.createElement(l.a,{title:u.value("collection.gallery-title"),spotlightGalleryData:s,hideCollectionName:!0})),S&&o.a.createElement(_,{scheduleList:h,schedules:y,courses:m,i18n:u}),d===L.b.BUSINESS&&o.a.createElement(c.a,{heading:u.value("businessPromo.promo-tag-headline"),info:{description:u.value("businessPromo.promo-tag-content"),type:d,analyticsInfo:{prop3:"t@a - have us contact you",events:"event255"}},link:{url:u.value("businessPromo.promo-tag-url"),text:u.value("businessPromo.promo-tag-cta")}}),o.a.createElement(c.a,{heading:u.value("todayPromo.promo-title"),info:{description:u.value("todayPromo.promo-description"),type:"FORCE_SHOW_CUSTOM_LINK",analyticsInfo:{prop3:"t@a - what's nearby",events:"event254"}},link:{url:p.getPageRoute(a.PageName.DISCOVER),text:u.value("todayPromo.promo-cta")},classes:{heading:"typography-headline",info:"typography-intro",link:"collection-page__more-about-link typography-intro hyperlink-blue"}}))}},{key:"componentDidMount",value:function(){this.props.browserService.windowScrollToY(0,{withAnimation:!1})}},{key:"updateLocationSelector",value:function(e){this.locationSelector=e}},{key:"showLocationModal",value:function(){this.locationSelector&&this.locationSelector.showModal()}}]),t}();F([f.a],U.prototype,"updateLocationSelector",null),F([f.a],U.prototype,"showLocationModal",null)},1564:function(e,t,n){"use strict";var r=n(0),o=n(4),a=n.n(o),i=n(2),c=n(261),l=n(392),s=n(274),u=n(282),f=n(284);n(1493);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},g="section-nav",S=Object(c.a)(l.b),E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,y(t).call(this,e))).getClassNames=function(){var e,t=n.state,r=t.sectionNavVisibility,o=t.shouldLeftAlignText;return a()(g,(p(e={},"".concat(g,"--visible"),r),p(e,"".concat(g,"--paddles-visible"),o),e),"typography-tout")},n.state={sectionNavVisibility:!1,sectionNavActiveItem:"",shouldLeftAlignText:!1},n.leftPaddleRef=r.createRef(),n.rightPaddleRef=r.createRef(),n.chapterNavRef=r.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"renderNavigationItems",value:function(){var e=this.props.items,t=this.state.sectionNavActiveItem,n="".concat(g,"__menu-item");return e.map(function(e){var o=a()(n,p({},"".concat(n,"--active"),e.id===t));return r.createElement("div",{className:o,key:e.id},r.createElement(f.a,{id:e.id},e.analyticsDescriptor?r.createElement(S,{id:e.id,analyticsAttr:{"data-analytics-click":"prop3:t@a - jumplink - {{descriptor}}","data-analytics-title":"jumplink - {{descriptor}}"},analyticsData:{descriptor:e.analyticsDescriptor}},e.linkText):r.createElement(l.b,{id:e.id},e.linkText)))})}},{key:"render",value:function(){var e=this.props.i18n,t=this.state,n=t.sectionNavVisibility,o=t.sectionNavActiveItem,i=a()("chapternav-items",p({},"".concat("chapternav-items","--visible"),n));return r.createElement(s.a,{itemsSelector:".horizontal-scroll__hide-scroll",ref:this.chapterNavRef},r.createElement("nav",{id:"chapternav",className:this.getClassNames(),"aria-hidden":!n,"aria-label":e.value("calendar.topics-title")},r.createElement("div",{className:"chapternav-wrapper"},r.createElement("div",{className:i},r.createElement(u.a,{active:o,threshold:15},this.renderNavigationItems())),r.createElement("div",{className:"chapternav-paddles"},r.createElement("button",{className:"chapternav-paddle chapternav-paddle-left","aria-hidden":"true",disabled:!0,ref:this.leftPaddleRef}),r.createElement("button",{className:"chapternav-paddle chapternav-paddle-right","aria-hidden":"true",disabled:!0,ref:this.rightPaddleRef})))))}},{key:"componentDidMount",value:function(){this.mutationObserver=new MutationObserver(this.paddlesVisibleCallback),this.mutationObserver.observe(this.rightPaddleRef.current,{attributes:!0}),this.mutationObserver.observe(this.leftPaddleRef.current,{attributes:!0})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.isTouchDevice,r=t.sectionNavVisibility,o=this.state.sectionNavVisibility,a=this.chapterNavRef&&this.chapterNavRef.current;if(r!==o&&o&&a&&(this.chapterNavRef.current.updateElementMetrics(),n)){var i=this.chapterNavRef.current.getChapterNavDimensions(),c=i.wrapperWidth,l=void 0===c?0:c,s=i.contentWidth,u=void 0===s?0:s;this.setState({shouldLeftAlignText:u>l})}}},{key:"componentWillUnmount",value:function(){this.mutationObserver.disconnect()}},{key:"updateSectionNavVisibility",value:function(e){this.setState({sectionNavVisibility:e})}},{key:"setSectionNavActiveItem",value:function(e){this.setState({sectionNavActiveItem:e})}},{key:"areBothPaddlesDisabled",value:function(){var e=this.leftPaddleRef.current&&this.leftPaddleRef.current.disabled,t=this.rightPaddleRef.current&&this.rightPaddleRef.current.disabled;return e&&t}},{key:"paddlesVisibleCallback",value:function(e){var t=this;e.forEach(function(e){"disabled"===e.attributeName&&t.setState({shouldLeftAlignText:!t.areBothPaddlesDisabled()})})}}]),t}();b([i.a],E.prototype,"paddlesVisibleCallback",null),n.d(t,"a",function(){return E})},1565:function(e,t,n){"use strict";var r,o,a=n(7);!function(e){e.PARAM_IS_MISSING="PARAM_IS_MISSING",e.PARAM_IS_INVALID="PARAM_IS_INVALID",e.PARAM_IS_WRONG="PARAM_IS_WRONG"}(r||(r={})),function(e){e.STAGE_ROOT_PATH="stageRootPath",e.URL_STAGE_ROOT_PATH="urlStageRootPath",e.MARKET_SLUG="marketSlug",e.STORE_SLUG="storeSlug",e.COURSE_SLUG="courseSlug",e.SCHEDULE_ID="scheduleId",e.COLLECTION_SLUG="collectionSlug",e.LAT="lat",e.LONG="long",e.LOCALE="locale",e.PAGE="page"}(o||(o={}));var i=n(1);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return s});var s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"processBffError",value:function(e,t){var n=e.configManager,l=e.history,s=e.match,u=e.actions,f=e.sessionStorage,p=t.data,d=null;f.getNearbyFlag()&&(d="?".concat([a.m.NEAR_BY],"=true"));var h=Object(a.l)(n.getPageRoute(i.PageName.DISCOVER),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}({},s.params));return setTimeout(function(){return u.setReduxStoreToEmpty()},0),p?p[o.COURSE_SLUG]===r.PARAM_IS_WRONG?(l.push({pathname:h,search:d,state:c({},a.m.ERROR,a.n.COURSE_NOT_FOUND)}),null):p[o.SCHEDULE_ID]===r.PARAM_IS_WRONG?(l.push({pathname:h,search:d,state:c({},a.m.ERROR,a.n.SESSION_NOT_FOUND)}),null):(l.push({pathname:h,search:d}),null):(l.push({pathname:h,search:d}),null)}}]),e}())},1566:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.i18n=t}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"getDateHeadline",value:function(e){return this.headline(e)}},{key:"headline",value:function(e){var t=new Date(e.startTime);return t.setHours(0,0,0,0),this.getResult(t,e)}},{key:"getResult",value:function(e,t){var n=new Date,r=new Date(n.getTime()+864e5);return e.toDateString()===n.toDateString()?this.i18n.value("datetime.today"):e.toDateString()===r.toDateString()?this.i18n.value("datetime.tomorrow"):t.displayDate&&t.displayDate[0]?t.displayDate[0].date:""}}]),e}();n.d(t,"a",function(){return o})},181:function(e,t,n){"use strict";var r=n(182).config,o=(n(182).configure,n(45).objectOrFunction),a=n(45).isFunction,i=(n(45).now,n(376).all),c=n(377).race,l=n(378).resolve,s=n(379).reject,u=n(380).asap;function f(e){if(!a(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof f))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],function(e,t){function n(e){E(t,e)}try{e(function(e){g(t,e)},n)}catch(e){n(e)}}(e,this)}function p(e,t,n,r){var o,i,c,l,s=a(n);if(s)try{o=n(r),c=!0}catch(e){l=!0,i=e}else o=r,c=!0;b(t,o)||(s&&c?g(t,o):l?E(t,i):e===y?g(t,o):e===m&&E(t,o))}r.async=u;var d=void 0,h=0,y=1,m=2;function v(e,t){for(var n=e._subscribers,r=e._detail,o=0;o<n.length;o+=3)p(t,n[o],n[o+t],r);e._subscribers=null}function b(e,t){var n,r=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(o(t)&&(r=t.then,a(r)))return r.call(t,function(r){if(n)return!0;n=!0,t!==r?g(e,r):S(e,r)},function(t){if(n)return!0;n=!0,E(e,t)}),!0}catch(t){return!!n||(E(e,t),!0)}return!1}function g(e,t){e===t?S(e,t):b(e,t)||S(e,t)}function S(e,t){e._state===d&&(e._state=h,e._detail=t,r.async(O,e))}function E(e,t){e._state===d&&(e._state=h,e._detail=t,r.async(w,e))}function O(e){v(e,e._state=y)}function w(e){v(e,e._state=m)}f.prototype={constructor:f,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n=this,o=new this.constructor(function(){});if(this._state){var a=arguments;r.async(function(){p(n._state,o,a[n._state-1],n._detail)})}else!function(e,t,n,r){var o=e._subscribers,a=o.length;o[a]=t,o[a+y]=n,o[a+m]=r}(this,o,e,t);return o},catch:function(e){return this.then(null,e)}},f.all=i,f.race=c,f.resolve=l,f.reject=s,t.Promise=f},182:function(e,t,n){"use strict";var r={instrument:!1};t.config=r,t.configure=function(e,t){if(2!==arguments.length)return r[e];r[e]=t}},186:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n.n(a),c=n(14),l=n(16),s=(n(1542),new l.b),u=Object(l.c)(c.a),f=function(e){var t=e.info,n=e.link,r=e.heading,a=e.classes;if(!t)return null;var c=t.type,l=t.name,f=t.description,p=t.analyticsInfo,d=a.heading,h=a.info,y=a.link;return d=d||("Business"===c?"typography-label":"more-about-title typography-body-reduced"),h=h||"typography-body",y=i()(y,"more"),p&&p.prop3&&s.withProp3(p.prop3),p&&p.events&&s.addPropToTrackers("events",p.events),o.a.createElement("section",{className:"section section-about-banner"},o.a.createElement("div",{className:"section-content"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column large-8 large-offset-2 small-12 small-offset-0"},o.a.createElement("h2",{className:d},o.a.createElement("strong",null,r)),o.a.createElement("p",{className:h},f),["CAMP","COLLECTION","BUSINESS","FORCE_SHOW_CUSTOM_LINK"].includes(c)&&o.a.createElement("p",null,o.a.createElement(u,{href:n.url,className:y,addLocation:!0,analyticsAttr:s.build()},n.text,o.a.createElement("span",{className:"a11y"},l)))))))};f.displayName="MoreAboutBanner",f.defaultProps={classes:{}},n.d(t,"a",function(){return f})},192:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return p});var r=[],o=[],a=[],i=[],c=[],l=[];function s(e){return e<=0?0:e<5?1:e<9?2:e<13?3:e<17?4:5}function u(){r=[],o=[],a=[],i=[],c=[],l=[]}function f(e,t){var n={index:t,courseId:e.courseId};switch(e.highlighted&&r.push(n),e.talentType){case"HIGH_PROFILE":o.push(n);case"LOCAL_TALENT":a.push(n)}switch(e.programType){case"LABS":i.push(n);case"WALKS":c.push(n);case"SKILLS":l.push(n)}}function p(e,t,n,s){var u=function(e){switch(e){case 1:return r;case 2:return o;case 3:return a;case 4:return i;case 5:return c;case 6:return l;default:return[]}}(e),f=u.map(function(e){return e.index});return function(e,t){var n=t.indexes,r=t.courseIds,o=[],a=[],i=[];return e.forEach(function(e){var t=e.index,n=e.courseId,r=a,c=i;r.includes(t)||c.includes(n)||(r.push(t),c.push(n),o.push({index:t,courseId:n}))}),o.filter(function(e){return!n.includes(e.index)&&!r.includes(e.courseId)})}(u.filter(function(e){return f.includes(e.index)}),t).slice(0,n-s)}},193:function(e,t,n){"use strict";var r=n(690);n.d(t,"FlowTextField",function(){return r.a});var o=n(276);n.d(t,"TextField",function(){return o.a});n(682),n(683)},194:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n(23);n.d(t,"setIsPreloaded",function(){return a}),n.d(t,"setIsMarketPage",function(){return i}),n.d(t,"setIsStorePage",function(){return c}),n.d(t,"setPageName",function(){return l}),n.d(t,"setCanonicalURL",function(){return s}),n.d(t,"setSEOImagePath",function(){return u}),n.d(t,"setSEOStoreTitle",function(){return f}),n.d(t,"setSEOCityName",function(){return p}),n.d(t,"updateSsiContent",function(){return d}),n.d(t,"checkConnection",function(){return h}),n.d(t,"setNavigatedFromLocalNav",function(){return y}),n.d(t,"setAccessibilityResetFocus",function(){return m});var a=Object(r.a)(o.e),i=Object(r.a)(o.d),c=Object(r.a)(o.f),l=Object(r.a)(o.h),s=Object(r.a)(o.c),u=Object(r.a)(o.j),f=Object(r.a)(o.k),p=Object(r.a)(o.i),d=Object(r.a)(o.l),h=Object(r.a)(o.a,function(e){e.configManager;return new Promise(function(e){})}),y=Object(r.a)(o.g),m=Object(r.a)(o.b)},195:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n(8),c=n(3),l=n(154),s=n(108),u=n(4),f=n.n(u);n(1495);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},b=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,h(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.userLocation,o=e.sessionStorage,a=e.isStoreSpecific,i=e.i18n,c=e.allStores,u=e.isLoading,p=void 0!==u&&u,d=e.shouldConcreteStoreBeSelected,h=null,y=i.value("global.cta-change-location"),m=o.getNearbyFlag(),v=(c.getInfoByUserLocation(n)||{store:null}).store;v?o.getUseMyLocationFlag()?(h=i.value("global.change-location-near"),y="".concat(h," - ").concat(y)):d&&!m||a?(h=v.address.title,y="".concat(h," - ").concat(y)):(h=i.compileValue("global.change-location-area",v.address),y="".concat(h," - ").concat(y)):h=i.value("global.cta-change-location");var b=f()("discover-location-button",{disabled:t});return h&&r.createElement("button",{"aria-label":y,"aria-disabled":t,id:"current-location-button",className:b,onClick:this.props.onClick,disabled:t},r.createElement("div",{className:"location-select-text-wrapper"},!p&&r.createElement(l.a,{svgIcon:s.a.GEOLOCATION,className:"current-location-icon"}),p&&r.createElement(l.a,{svgIcon:s.a.LOADING,className:"current-location-icon wait-indicator"}),h))}}]),t}();b=v([Object(i.a)(c.b.I18N,c.b.SESSION_STORAGE,c.b.ALL_STORES)],b);var g=n(105),S=n(268),E=n(7),O=n(11),w=(n(1496),function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}());function R(){}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k,T=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e[e.PERMISSION_DENIED=1]="PERMISSION_DENIED",e[e.POSITION_UNAVAILABLE=2]="POSITION_UNAVAILABLE",e[e.TIMEOUT=3]="TIMEOUT"}(k||(k={}));var j=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=N(this,P(t).call(this,e))).GEOLOCATION_TIMEOUT=7e3,n.MAXIMUM_AGE=0,n.state={isLoading:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,r["Component"]),function(e,t,n){t&&_(e.prototype,t),n&&_(e,n)}(t,[{key:"render",value:function(){var e=this.props.i18n,t=this.state.isLoading,n={name:"geolocate-button",className:"current-location-button typography-body-reduced",onClick:this.geoButtonClick,"data-analytics-click":"prop3:t@a - use my current location"};return Object(O.d)()&&(n.disabled=t||!this.canGetGeoLocation()),r.createElement("div",{className:"my-location-button-wrapper"},r.createElement("button",Object.assign({},n),r.createElement("div",{className:"my-location-icon-wrapper"},!t&&r.createElement(l.a,{svgIcon:s.a.GEOLOCATION,className:"current-location-icon"}),t&&r.createElement(l.a,{svgIcon:s.a.LOADING,className:"geo-locate-load-status wait-indicator"})),r.createElement("div",{className:"my-location-text-wrapper"},e.value("global.activate-geolocation-copy"))))}},{key:"geoButtonClick",value:w(function(){var e=this,t=e.props,n=t.configManager,r=t.onResultCallback,o=t.sessionStorage;return e.startLoadingIndication(),o.setGeoButtonClicked(),function(e){if(e&&e.then)return e.then(R)}(function(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}(function(){return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(function(){return function(e,t,n){return n?t?t(e):e:(e=Promise.resolve(e),t?e.then(t):e)}(e.getLocation(),function(e){var t=e.coords,o=t.latitude,a=t.longitude;if(n.getProperty("geo").overrideGeo){var i=+Object(E.f)("lat"),c=+Object(E.f)("long");i&&c&&(o=i,a=c)}r({latitude:o,longitude:a})})},function(t){e.handleGeolocationError(t)})},function(t,n){return e.stopLoadingIndication(),function(e,t){if(e)throw t;return t}(t,n)}))})},{key:"getLocation",value:function(){var e=this;return new Promise(function(t,n){navigator.geolocation.getCurrentPosition(function(e){return t(e)},function(e){return n(e)},{enableHighAccuracy:!0,maximumAge:e.MAXIMUM_AGE,timeout:e.GEOLOCATION_TIMEOUT})})}},{key:"canGetGeoLocation",value:function(){return Object(O.d)()&&"geolocation"in navigator}},{key:"handleGeolocationError",value:function(e){var t=this.props.onResultCallback;switch(e.code){case k.PERMISSION_DENIED:t({error:"error.geolocation-user-permission-denied"});break;default:t({error:"error.unable-to-get-geolocation"})}}},{key:"startLoadingIndication",value:function(){this.setState({isLoading:!0}),this.props.onStartLoading()}},{key:"stopLoadingIndication",value:function(){this.setState({isLoading:!1}),this.props.onEndLoading()}}]),t}();j.defaultProps={onStartLoading:function(){},onEndLoading:function(){}},T([a.a],j.prototype,"geoButtonClick",null),j=T([Object(i.a)(c.b.I18N,c.b.CONFIG_MANAGER,c.b.SESSION_STORAGE)],j);var I=n(706),D=n.n(I),A=n(21),M=n(191);function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":G(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},H={COUNTRY:"ChooseCountry",STATE:"ChooseState",STORE:"ChooseStore"},W=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=x(this,U(t).call(this,e))).DEFAULT_CONTROL_VISIBILITY={country:!0,state:!0,store:!0,includeNearbyStores:!0},n.state={selectedCountryIndex:H.COUNTRY,selectedStateIndex:H.STATE,selectedStoreIndex:H.STORE,includeNearbyStores:!1,errorMessage:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&F(e.prototype,t),n&&F(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props.currentGeoInfo;e&&this.restoreSelectedValues(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.currentGeoInfo;Object(M.isEqual)(this.props.currentGeoInfo,e.currentGeoInfo)||t&&this.restoreSelectedValues(t)}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.allStores,o=D()(this.DEFAULT_CONTROL_VISIBILITY,this.props.controlsVisibility),a=this.state,i=a.selectedCountryIndex,c=a.selectedStateIndex,l=a.selectedStoreIndex,s=a.includeNearbyStores,u=a.errorMessage,p=i!==H.COUNTRY;this.country=p&&n.countries[i];var d=this.country&&this.country.states,h=d&&c!==H.STATE;d?(this.states=this.country&&Object.values(this.country.states),this.stores=this.states&&this.states[c]?this.states[c].stores:null):(this.states=null,this.stores=this.country&&this.country.stores);var y=l!==H.STORE,m=!p||!h&&d,v=this.getSelectedStore()?this.getSelectedStore().storeNum:"",b=f()("form-row",(!p||!d)&&"form-no-display");return r.createElement("div",{id:"dropdown-selections"},o.country&&r.createElement("div",{className:"form-row"},r.createElement("div",{className:"form-cell"},r.createElement("div",{className:"form-element"},r.createElement("label",{id:"select-country-label",className:"a11y",htmlFor:"select-country"},t.value("global.change-location-country")),r.createElement("select",{className:"form-dropdown",id:"select-country","aria-invalid":"false","aria-required":"true",onChange:this.countrySelected,value:i},r.createElement("option",{className:"quote-subcredit",value:H.COUNTRY,disabled:p},t.value("global.change-location-country")),n.countries.map(function(e,n){var o=e.isoCountryCode.toLowerCase(),a=t.value("country.".concat(o));return e.isMultiLanguage&&(a=t.value("country.".concat(o))+" - "+t.value("language.".concat(e.isoLanguageCode))),r.createElement("option",{key:n,value:n},a)})),r.createElement("span",{className:"form-icon icon icon-chevrondown","aria-hidden":"true"})))),o.state&&r.createElement("div",{className:b},r.createElement("div",{className:"form-cell"},r.createElement("div",{className:"form-element"},r.createElement("label",{id:"select-state-label",className:"a11y",htmlFor:"select-state"},t.value("global.change-location-state")),r.createElement("select",{className:"form-dropdown",id:"select-state","aria-invalid":"false","aria-required":"true",onChange:this.stateSelected,value:c},r.createElement("option",{className:"quote-subcredit",value:H.STATE,disabled:h},t.value("global.change-location-state")),this.states&&this.states.map(function(e,t){return r.createElement("option",{key:t,value:t},e.name)})),r.createElement("span",{className:"form-icon icon icon-chevrondown","aria-hidden":"true"})))),o.store&&r.createElement("div",{className:"form-row"},r.createElement("div",{className:"form-cell"},r.createElement("div",{className:"form-element"},r.createElement("label",{id:"select-store-label",className:"a11y",htmlFor:"select-store"},t.value("global.change-location-store")),r.createElement("select",{className:"form-dropdown",id:"select-store","aria-invalid":"false","aria-required":"true",onChange:this.storeSelected,value:l,disabled:m},r.createElement("option",{className:"quote-subcredit",value:H.STORE,disabled:y},t.value("global.change-location-store")),this.stores&&this.stores.map(function(e,t){return r.createElement("option",{key:t,value:t},"".concat(e.address.city,", ").concat(e.address.name))})),r.createElement("span",{className:"form-icon icon icon-chevrondown","aria-hidden":"true"})))),this.stores&&this.stores[l]&&u&&r.createElement("div",{className:"form-row location-message empty-message","aria-hidden":"false"},r.createElement("div",{className:"no-event-error"},r.createElement("div",{"aria-live":"polite",className:"form-element form-message"},u))),o.includeNearbyStores&&r.createElement("div",{className:"form-row"},r.createElement("div",{className:"form-cell"},r.createElement("div",{className:"form-element form-element--nearby-stores"},r.createElement("input",{disabled:!y,id:"nearbyStores",name:"nearby",type:"checkbox",className:"form-choice form-choice-checkbox",checked:s||!1,onChange:this.nearbyCheckboxSelected}),r.createElement("label",{htmlFor:"nearbyStores",className:"form-label"},r.createElement("span",{className:"form-choice-indicator"}),t.value("global.nearby-stores"))))),r.createElement("div",{className:"submit-row"},r.createElement("button",{onClick:this.onClick,disabled:!y||!!u,name:"location-confirm",className:"pill-large button-confirm","data-analytics-click":'{"prop3": "t@a - select locale", "eVar74": "'+v+'"}'},t.value("global.cta-apply"))))}},{key:"nearbyCheckboxSelected",value:function(e){var t=e.target;this.setState({errorMessage:null,includeNearbyStores:t.checked})}},{key:"countrySelected",value:function(e){var t=e.target;this.setState({errorMessage:null,selectedCountryIndex:t.value,selectedStateIndex:H.STATE,selectedStoreIndex:H.STORE})}},{key:"stateSelected",value:function(e){var t=e.target;this.setState({errorMessage:null,selectedStateIndex:t.value,selectedStoreIndex:H.STORE})}},{key:"storeSelected",value:function(e){var t=e.target;this.setState({errorMessage:null,selectedStoreIndex:t.value})}},{key:"getSelectedStore",value:function(){var e=this.state.selectedStoreIndex;return this.stores&&e?this.stores[e]:void 0}},{key:"onClick",value:function(){var e=this.state,t=e.selectedStateIndex,n=e.selectedStoreIndex,r=e.includeNearbyStores;this.props.onApplyButtonClick({country:this.country,state:this.states&&this.states[t],store:this.stores[n],includeNearbyStores:r},this.setErrorMessage)}},{key:"restoreSelectedValues",value:function(e){var t,n,r=this.props,o=r.allStores,a=r.shouldConcreteStoreBeSelected,i=o.countries.indexOf(e.country);-1!==i&&(e.country.states?(t=this.getStateIndex(e),n=this.getStoreIndexByState(e)):n=this.getStoreIndexByCountry(e)),this.setState({selectedCountryIndex:i,selectedStateIndex:t,selectedStoreIndex:a?n:H.STORE,includeNearbyStores:e.includeNearbyStores||!1})}},{key:"getStoreIndexByCountry",value:function(e){var t=e.country.stores.indexOf(e.store);return-1!==t?t:H.STORE}},{key:"getStoreIndexByState",value:function(e){var t;return t=e.state&&-1!==(t=e.state.stores.indexOf(e.store))?t:H.STORE}},{key:"getStateIndex",value:function(e){var t=e.country.states.indexOf(e.state);return-1!==t?t:H.STATE}},{key:"setErrorMessage",value:function(e){this.setState({errorMessage:e})}}]),t}();B([a.a],W.prototype,"nearbyCheckboxSelected",null),B([a.a],W.prototype,"countrySelected",null),B([a.a],W.prototype,"stateSelected",null),B([a.a],W.prototype,"storeSelected",null),B([a.a],W.prototype,"getSelectedStore",null),B([a.a],W.prototype,"onClick",null),B([a.a],W.prototype,"restoreSelectedValues",null),B([a.a],W.prototype,"setErrorMessage",null),W=B([A.WithViewportEmitter,Object(i.a)(c.b.I18N,c.b.ALL_STORES,c.b.SESSION_STORAGE)],W);n(1516);var q=function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}();function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":J(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),z(this,X(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,o.a.Component),function(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.viewportData,r=e.controlsVisibility,a=e.shouldConcreteStoreBeSelected,i=e.onStartLoading,c=e.onEndLoading,l=e.isOpened,s=e.onClose,u=e.ariaLabel;return o.a.createElement(g.b,{classList:["location-modal"],viewport:n.viewport,isOpened:l,onClose:s,ariaLabel:u||t.value("global.cta-change-location"),retainScrollPosition:!0},o.a.createElement("div",{id:"location-modal-content"},o.a.createElement("div",{className:"geolocation-options can-use-geolocation"},o.a.createElement("fieldset",{className:"location-find-by-geolocation"},o.a.createElement("legend",{className:"location-modal-legend typography-eyebrow"},t.value("global.change-geolocation-title")),o.a.createElement(j,{onStartLoading:i,onEndLoading:c,onResultCallback:this.myLocationSelected})),o.a.createElement("hr",{className:"modal-separator"})),o.a.createElement("fieldset",{className:"location-find-by-apple-store"},o.a.createElement("legend",{className:"location-modal-legend typography-eyebrow"},t.value("global.select-apple-store-title")),o.a.createElement(W,{controlsVisibility:r,shouldConcreteStoreBeSelected:a,currentGeoInfo:this.getCurrentStoreGeoInfo(),onApplyButtonClick:this.applyButtonClick}))))}},{key:"getCurrentStoreGeoInfo",value:function(){var e=this.props,t=e.allStores,n=e.selectedLocation,r=e.sessionStorage;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){K(e,t,n[t])})}return e}({},t.getInfoByUserLocation(n),{includeNearbyStores:r.getNearbyFlag()})}},{key:"myLocationSelected",value:q(function(e){var t=this,n=t.props,r=n.allStores,o=n.onLocationChangedCallback,a=n.mapkitDataService;return function(){if(!e.error)return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(function(){var n={lat:e.latitude,long:e.longitude};return function(e,t,n){return n?t?t(e):e:(e=Promise.resolve(e),t?e.then(t):e)}(a.getInfoByLocation(n,!0),function(e){var a=e.data.results;if(a&&a[0]){var i=r.countries.find(function(e){return e.isoCountryCode===a[0].countryCode});if(i)if(r.stageRootPath===i.stageRootPath)o({coordinates:n},!1,null);else{if(i.isMultiLanguage)return void t.showErrorMessage("error.multilanguage-geolocation-fallback");o({selectedLocation:{country:i,store:null,includeNearbyStores:null},coordinates:n},!0,null)}}else t.showErrorMessage()})},function(){t.showErrorMessage()});t.showErrorMessage(e.error)}()})},{key:"showErrorMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error.unable-to-get-geolocation",t=this.props.i18n;alert(t.value(e))}},{key:"applyButtonClick",value:function(e,t){var n=this.props,r=n.allStores;(0,n.onLocationChangedCallback)({selectedLocation:e},r.stageRootPath!==e.country.stageRootPath,t)}}]),t}();$([a.a],Q.prototype,"myLocationSelected",null),$([a.a],Q.prototype,"showErrorMessage",null),$([a.a],Q.prototype,"applyButtonClick",null),Q=$([S.a,Object(i.a)(c.b.I18N,c.b.ALL_STORES,c.b.ALL_LOCALES,c.b.CONFIG_MANAGER,c.b.SESSION_STORAGE,c.b.MAPKIT_DATA_SERVICE)],Q);var ee=n(1557);function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ie=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ae(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},ce=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ne(this,re(t).call(this,e))).state={locationModalIsOpen:!1,myLocationLoading:!1,errorMessage:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&te(e.prototype,t),n&&te(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.userLocation,n=e.shouldConcreteStoreBeSelected,o=e.controlsVisibility,a=e.disabled,i=e.isStoreSpecific,c=this.state,l=c.errorMessage,s=c.locationModalIsOpen;return r.createElement(r.Fragment,null,r.createElement(b,{isLoading:this.state.myLocationLoading,shouldConcreteStoreBeSelected:n,isStoreSpecific:i,userLocation:t,onClick:this.showModal,disabled:a}),r.createElement(Q,{shouldConcreteStoreBeSelected:n,controlsVisibility:o,selectedLocation:t,errorMessage:l,onLocationChangedCallback:this.onLocationChangedCallback,type:A.ModalType.STANDARD,onClose:this.closeModal,isOpened:s,onStartLoading:this.onStartLoading,onEndLoading:this.onEndLoading}))}},{key:"showModal",value:function(){this.setState({locationModalIsOpen:!0})}},{key:"onEndLoading",value:function(){this.setState({myLocationLoading:!1})}},{key:"onStartLoading",value:function(){this.setState({myLocationLoading:!0})}},{key:"onLocationChangedCallback",value:function(e,t,n){this.props.locationUpdateStrategy.onLocationChangedCallback(e,t,this.closeModal,n)}},{key:"closeModal",value:function(){var e=this.props.resetAccessibilityFocus;this.state.locationModalIsOpen&&this.setState({locationModalIsOpen:!1}),e&&e()}}]),t}();ce.defaultProps={disabled:!1},ie([a.a],ce.prototype,"showModal",null),ie([a.a],ce.prototype,"onEndLoading",null),ie([a.a],ce.prototype,"onStartLoading",null),ie([a.a],ce.prototype,"onLocationChangedCallback",null),ie([a.a],ce.prototype,"closeModal",null),ce=ie([ee.a],ce),n.d(t,"a",function(){return ce})},196:function(e,t,n){"use strict";var r=n(0),o=n(95),a=n(707),i=n.n(a),c=n(2),l=n(57),s=n(194);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=function(e){return{globalState:e.globalState}},v=function(e){return{setAccessibilityResetFocus:Object(l.b)(s.setAccessibilityResetFocus,e)}},b=function(e){var t=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?d(e):t}(this,f(n).call(this,e))).targetId=t.props.resetAccessibilityFocusTargetId,t.resetFocus=i()(t.resetFocus.bind(d(d(t))),500),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,r["Component"]),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(n,[{key:"removeTabIndexAttribute",value:function(e){var t=this.props.resetFocusDelay;e&&setTimeout(function(){e.removeAttribute("tabindex")},void 0===t?500:t)}},{key:"resetTabIndex",value:function(e){var t=this.props.resetFocusDelay;e&&setTimeout(function(){e.tabIndex=0},void 0===t?500:t)}},{key:"resetFocus",value:function(){var e=this,t=this.props,n=t.setAccessibilityResetFocus,r=t.resetAccessibilityFocusTargetId,o=t.resetFocusTabIndexToZero,a=t.removeTabIndexAttribute,i=t.resetFocusDelay,c=void 0===i?500:i,l=document&&document.querySelector(r);l&&(l.tabIndex=-1),setTimeout(function(){l.focus(),o&&e.resetTabIndex(l),a&&e.removeTabIndexAttribute(l),n(null)},c)}},{key:"onResetAccessibilityFocus",value:function(){(0,this.props.setAccessibilityResetFocus)(this.targetId)}},{key:"render",value:function(){var t=this.props.children;return r.createElement(e,Object.assign({},this.props,{resetAccessibilityFocus:this.onResetAccessibilityFocus}),t)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.globalState,n=e.resetAccessibilityFocusTargetId;t&&t.resetFocusTargetId&&n===t.resetFocusTargetId&&this.resetFocus()}}]),n}();return y([c.a],t.prototype,"onResetAccessibilityFocus",null),t=y([Object(o.b)(m,v)],t)};n.d(t,"a",function(){return b})},197:function(e,t,n){"use strict";var r=n(679);n.o(r,"CalendarPageLocationUpdateStrategy")&&n.d(t,"CalendarPageLocationUpdateStrategy",function(){return r.CalendarPageLocationUpdateStrategy}),n.o(r,"DefaultLocationUpdateStrategy")&&n.d(t,"DefaultLocationUpdateStrategy",function(){return r.DefaultLocationUpdateStrategy}),n.o(r,"EventPageLocationUpdateStrategy")&&n.d(t,"EventPageLocationUpdateStrategy",function(){return r.EventPageLocationUpdateStrategy});var o=n(680);n.d(t,"CalendarPageLocationUpdateStrategy",function(){return o.a});var a=n(271);n.d(t,"DefaultLocationUpdateStrategy",function(){return a.a});var i=n(681);n.d(t,"EventPageLocationUpdateStrategy",function(){return i.a})},219:function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l,s=[],u=!1,f=-1;function p(){u&&l&&(u=!1,l.length?s=l.concat(s):f=-1,s.length&&d())}function d(){if(!u){var e=c(p);u=!0;for(var t=s.length;t;){for(l=s,s=[];++f<t;)l&&l[f].run();f=-1,t=s.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||u||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},271:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(7);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n=t.history,r=t.match,o=t.i18n,a=t.sessionStorage,i=t.allLocales,c=t.configManager;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.history=n,this.match=r,this.i18n=o,this.sessionStorage=a,this.allLocales=i,this.configManager=c}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(e,[{key:"onLocationChangedCallback",value:i(function(e,t,n,a){var i=this,c=i.history,l=i.match,s=i.i18n,u=i.sessionStorage,f=i.allLocales,p=e.selectedLocation,d=e.coordinates,h=p&&p.country,y=p&&p.store;if(d)u.updateLocationToSelectedByCoordinates(d,!0);else{var m=p.includeNearbyStores;if(!y||0===(m?y.nearbyScheduleCount:y.scheduleCount))return void a(s.value("error.no-results-for-location"));u.updateLocationToSelectedByStore({locale:f.getLocaleByStageRootPath(h.stageRootPath).id,slug:y.slug,storeNum:y.storeNum},m)}var v=i.getParamsWithUpdatedNearBy(p);return function(e,t,n){if(n)return t?t(e()):e();try{var r=Promise.resolve(e());return t?r.then(t):r}catch(e){return Promise.reject(e)}}(n,function(){if(t){var e=null;h&&(e=f.getLocaleByStageRootPath(h.stageRootPath).urlStageRootPath);var n=Object(r.e)(h.isoCountryCode,i.configManager);d&&v.set(r.m.USE_MY_LOCATION,"true");var a=v.toString();window.location.href="".concat(n).concat(Object(r.l)(l.path,o({},l.params,{stageRootPath:e||null,storeLocation:y&&y.slug||null,marketSlug:null}))).concat(a?"?"+a:"")}else{var s=v.toString(),u=o({},l.params,d?{storeLocation:null,marketSlug:null}:{storeLocation:y&&y.slug||null,marketSlug:null}),p={pathname:Object(r.l)(l.path,u)};s&&(p.search="?".concat(s)),c.push(p)}})})},{key:"getParamsWithUpdatedNearBy",value:function(e){var t=new URLSearchParams(document.location.search);return e&&e.includeNearbyStores?t.set(r.m.NEAR_BY,"true"):t.delete(r.m.NEAR_BY),t}}]),e}()},276:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n(2),c=n(4),l=n.n(c);n(1522);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},y={isValid:!1,isValidationRequired:!0,value:"",activeError:!1,errorClientHeight:0},m=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,f(t).apply(this,arguments))).state=y,e.inputRef=Object(r.createRef)(),e.errorRef=Object(r.createRef)(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"render",value:function(){var e=this.state,t=e.isValidationRequired,n=e.isValid,r=e.value,a=!t&&!n,i=this.props,c=i.children,s=i.className,u=i.errorMessage,f=i.flyout,p=i.id,d=i.inputMode,h=i.name,y=i.onKeyPress,m=i.required,v=i.type,b="".concat(p,"_label"),g="".concat(p,"_error"),S=l()("form-element","text-field",s,{"is-error":a}),E=l()("form-textbox","form-textbox-text",{"form-textbox-entered":!!r});return o.a.createElement("div",{className:S},o.a.createElement("span",{className:"a11y"},""),o.a.createElement("input",{"aria-describedby":g,"aria-invalid":a,"aria-labelledby":b,"aria-required":m,className:E,inputMode:d,name:h,onChange:this.handleChange,onKeyPress:y,ref:this.inputRef,required:m,type:v,value:r}),o.a.createElement("span",{"aria-hidden":"true",className:"form-label form-label-flyout",id:b},f),o.a.createElement("div",{ref:this.errorRef,className:"form-message-wrapper",id:g},o.a.createElement("span",{className:"form-message"},a?u:"")),c)}},{key:"componentDidUpdate",value:function(e,t){var n,r=this.state,o=r.isValidationRequired,a=r.isValid,i=r.activeError,c=r.errorClientHeight,l=this.props.getErrorClientHeight,s=!o&&!a;"function"==typeof l&&s!==i&&(this.errorRef.current&&(n=this.errorRef.current.clientHeight?this.errorRef.current.clientHeight:c*Math.sign(-1)),l(s,n),this.setState({activeError:!i,errorClientHeight:n}))}},{key:"reset",value:function(){this.setState(y)}},{key:"validate",value:function(e){var t=this,n=this.state.value,r=this.props,o=r.onValidate,a=r.pattern,i=new RegExp(a).test(n);return new Promise(function(r){t.setState({isValid:i,isValidationRequired:!1},function(){e&&e(),o(t.name,n,i),r(t)})})}},{key:"focus",value:function(e){this.inputRef.current&&(this.inputRef.current.focus({preventScroll:!0}),e&&e())}},{key:"handleChange",value:function(e){var t=this,n=e.currentTarget,r=n.selectionEnd,o=n.selectionStart,a=n.value;this.setState({isValidationRequired:!0,value:a},function(){t.props.onChange(a);var e=t.inputRef.current;e&&(e.selectionStart=o,e.selectionEnd=r)})}},{key:"isValidationRequired",get:function(){return this.state.isValidationRequired},set:function(e){this.setState({isValidationRequired:e})}},{key:"isValid",get:function(){return this.state.isValid},set:function(e){this.setState({isValid:e}),this.props.onValidate(this.name,this.state.value,e)}},{key:"name",get:function(){return this.props.name}},{key:"value",get:function(){return this.state.value},set:function(e){this.setState({value:e})}},{key:"sortNumber",get:function(){return this.props.sortNumber}}]),t}();m.defaultProps={onChange:function(){},onKeyPress:function(){},onValidate:function(){},required:!1,type:a.FormFieldType.TEXT},h([i.a],m.prototype,"handleChange",null),n.d(t,"a",function(){return m})},287:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(151),i=n(28),c=n(47),l=n.n(c);n(1545);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"shouldComponentUpdate",value:function(e){return!l()(this.props.spotlightGalleryData,e.spotlightGalleryData)}},{key:"render",value:function(){var e=this.props,n=e.title,o=e.spotlightGalleryData,c=e.hideCollectionName,l=e.forceImages,s=e.isMultiLanguage;t.SPOTLIGHT_GALLERY_CONFIG.touch=o.length>1;var u=o.map(function(e,t){return r.createElement(k,{ref:r.createRef(),key:t,spotlightGalleryData:e,slideNumber:t,hideCollectionName:c,forceImages:l,isMultiLanguage:s,autoplay:0===t})});return r.createElement("section",{className:"spotlight__section"},r.createElement("h2",{className:"spotlight__title"},n),r.createElement("div",{className:"spotlight__gallery"},r.createElement(a.a,{key:Object(i.a)(),items:u,galleryId:"spotlight-gallery",config:t.SPOTLIGHT_GALLERY_CONFIG,label:n,id:"spotlight-gallery-slide-wrapper"})))}}]),t}();h.SPOTLIGHT_GALLERY_CONFIG={wrapAround:!1,resizeContainer:!0,useItemClientWidth:!0,updateOnWindowResize:!0,enableArrowKeys:!0,rightToLeft:!1,duration:.5,itemCenterPoint:.5,touch:!0,desktopSwipe:!1,edgePullResistance:!0};var y=n(35),m=n(77),v=n(14),b=n(8),g=n(3),S=n(2),E=n(7),O=n(1);n(1546);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":P(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},L=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=R(this,_(t).call(this,e))).defaultRefToMedia=o.a.createRef(),n.urlPattern=n.props.configManager.getPageRoute(O.PageName.EVENT),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,o.a.Component),function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.spotlightGalleryData,n=e.allLocales.currentLocale.urlStageRootPath,r=e.slideNumber,a=e.hideCollectionName,i=e.forceImages,c=e.refToMedia,l=e.autoplay,s=t.backgroundMedia,u=t.collectionName,f=t.title,p=t.displayDate,d=t.storeTitle,h=t.id,b=t.urlTitle,g=t.prefix,S=t.storeNum;if(!t)return null;var O={courseSlug:b,scheduleId:h,stageRootPath:n||void 0},w=Object(E.a)(Object(E.l)(this.urlPattern,O),S),R={"data-analytics-title":"Tell me more about ".concat(f," - ").concat(r+1)};return o.a.createElement(v.a,{className:"spotlight__item row",href:w,tagProps:R},o.a.createElement("span",{className:"spotlight-item__outline"}),o.a.createElement(y.b,{mediaData:s,imageConfig:{imageClasses:"spotlight__image"},loadOnDemand:!1,videoConfig:{containerClasses:"spotlight__video",autoplay:l,looping:!1},loadImages:!0,ref:c||this.defaultRefToMedia,forceImage:i,viewportImageOrientationMappings:m.h,playOnHover:!0}),o.a.createElement("div",{className:"spotlight__info column large-11 large-push-1 small-10 small-push-1 small-offset-1"},!a&&u&&o.a.createElement("p",{className:"spotlight__info--collection typography-body-reduced"},u),o.a.createElement("h3",{className:"spotlight__info--prefix typography-eyebrow"},g),o.a.createElement("p",{className:"spotlight__info--title typography-eyebrow u-font-weight-regular"},f,this.renderMultiLanguageText()),p.map(function(e,t){var n=e.dateTime;return o.a.createElement("p",{className:"spotlight__info--date-time typography-body-reduced",key:t},n)}),o.a.createElement("p",{className:"spotlight__info--store typography-body-reduced"},d)))}},{key:"renderMultiLanguageText",value:function(){var e=this.props,t=e.isMultiLanguage,n=e.spotlightGalleryData,r=e.i18n;return t&&n.lang&&o.a.createElement(o.a.Fragment,null," "+r.value("global.delivery-language-open-punctuation"),o.a.createElement("span",{className:"delivery-language"},r.value("language.".concat(n.lang))),r.value("global.delivery-language-close-punctuation"))}}]),t}();L.defaultProps={autoplay:!0},C([S.a],L.prototype,"renderMultiLanguageText",null),L=C([Object(b.a)(g.b.CONFIG_MANAGER,g.b.ALL_LOCALES,g.b.I18N)],L);var k=Object(r.forwardRef)(function(e,t){return o.a.createElement(L,Object.assign({},e,{refToMedia:t}))});n.d(t,"a",function(){return h}),n.d(t,"b",function(){return k})},288:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(8),i=n(2),c=n(289);n(1540);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,u(t).call(this,e))).externalLinkWarning=e.i18n.value("global.external-link-warning"),n.state={isActive:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"onButtonClick",value:function(){var e=this.props.resetAccessibilityFocus;this.setState({isActive:!0}),e&&e()}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.social,o=e.schedule,a=e.course,i=e.storeState,l=e.canonicalURL,s=e.idPrefix,u=this.state.isActive;return n&&n.length&&o&&a&&i?r.createElement("div",{className:"spread-the-word"},!u&&r.createElement("button",{className:"pill",onClick:this.onButtonClick},t.value("details.cta-social-share")),u&&r.createElement(c.a,{idPrefix:s,social:n,schedule:o,course:a,store:i,canonicalURL:l,autoFocus:!0})):null}}]),t}();d([i.a],h.prototype,"onButtonClick",null),h=d([Object(a.a)(o.b.I18N)],h),n.d(t,"a",function(){return h})},289:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(3),i=n(8),c=n(2),l=n(11),s=n(51),u=n(689),f=n(262),p=n(7);n(1527);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},g={};Object.values(f.a).forEach(function(e){g[e]=n(712)("./".concat(e,".icon.svg")).default});var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,y(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"renderLinks",value:function(){var e=this.props,t=e.social,n=void 0===t?[]:t,r=e.course,a=e.schedule,i=e.store,c=e.canonicalURL,l=e.idPrefix,f=e.autoFocus,p=r.backgroundMedia,d=r.name,h=a.storeNum,y=a.displayDate,m={eventLink:encodeURIComponent(this.getEventLink(h,c)),eventName:encodeURI(d).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/&/g,"%26"),eventImageUrl:encodeURIComponent(this.getEventImageURL(p)),name:i.name,date:y[0].date};return n.map(function(e,t){var n=e.name,r=e.url,a=r.substr(0,7).includes("mailto:");return o.a.createElement(u.a,{idPrefix:l,name:n,icon:g[n],url:Object(s.a)(r,m),key:n,isMailto:a,autoFocus:f,index:t})})}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.social,r=void 0===n?[]:n,a=e.schedule,i=e.course,c=e.store;return r.length&&a&&i&&c?o.a.createElement("div",{className:"social-links-set","aria-label":t.value("details.cta-social-share")},this.renderLinks()):null}},{key:"getEventLink",value:function(e,t){if(Object(l.d)()){var n=window.location.href.replace(/\/\?resToken=[^/]*/,""),r=n.replace(/\/$/,"")+(e?"/?".concat(p.m.STORE_NUMBER,"=")+e:"");return n.includes("/?".concat(p.m.STORE_NUMBER,"="))?n:r}return t}},{key:"getEventImageURL",value:function(e){var t=e.images;return t.length>0?t[0].landscape.source:""}}]),t}();b([c.a],S.prototype,"renderLinks",null),S=b([Object(i.a)(a.b.I18N)],S),n.d(t,"a",function(){return S})},376:function(e,t,n){"use strict";var r=n(45).isArray,o=n(45).isFunction;t.all=function(e){if(!r(e))throw new TypeError("You must pass an array to all.");return new this(function(t,n){var r,a=[],i=e.length;function c(e){return function(t){l(e,t)}}function l(e,n){a[e]=n,0==--i&&t(a)}0===i&&t([]);for(var s=0;s<e.length;s++)(r=e[s])&&o(r.then)?r.then(c(s),n):l(s,r)})}},377:function(e,t,n){"use strict";var r=n(45).isArray;t.race=function(e){if(!r(e))throw new TypeError("You must pass an array to race.");return new this(function(t,n){for(var r,o=0;o<e.length;o++)(r=e[o])&&"function"==typeof r.then?r.then(t,n):t(r)})}},378:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.resolve=function(e){return e&&"object"===r(e)&&e.constructor===this?e:new this(function(t){t(e)})}},379:function(e,t,n){"use strict";t.reject=function(e){return new this(function(t,n){n(e)})}},380:function(e,t,n){"use strict";(function(e,n){var r="undefined"!=typeof window?window:{},o=r.MutationObserver||r.WebKitMutationObserver,a=void 0!==e?e:void 0===this?window:this;var i,c=[];function l(){for(var e=0;e<c.length;e++){var t=c[e];(0,t[0])(t[1])}c=[]}i=void 0!==n&&"[object process]"==={}.toString.call(n)?function(){n.nextTick(l)}:o?function(){var e=0,t=new o(l),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():function(){a.setTimeout(l,1)},t.asap=function(e,t){1===c.push([e,t])&&i()}}).call(this,n(58),n(219))},381:function(e,t,n){"use strict";(function(e){var r=n(181).Promise,o=n(45).isFunction;t.polyfill=function(){var t;"Promise"in(t=void 0!==e?e:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),o(e)}()||(t.Promise=r)}}).call(this,n(58))},391:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.SESSION_WARNING="SESSION_WARNING",e.RSVP="RSVP",e.RESERVED="RESERVED",e.CANCELLED="CANCELLED",e.NON_RSVP="NON_RSVP",e.ALREADY_RESERVED="ALREADY_RESERVED",e.LIMIT="LIMIT",e.FULL="FULL",e.UNAVAILABLE="UNAVAILABLE",e.RSVP_FULL="RSVP_FULL",e.WAITLIST_FULL="WAITLIST_FULL",e.HOLD_SESSION_FULL="HOLD_SESSION_FULL",e.HOLD_WAITLIST_FULL="HOLD_WAITLIST_FULL",e.FORBIDDEN="FORBIDDEN",e.GENERIC_ERROR="GENERIC_ERROR",e.NOT_GUEST_RESERVABLE="NOT_GUEST_RESERVABLE",e.REQUEST_REJECTED="REQUEST_REJECTED",e.WAITLIST="WAITLIST",e.IN_PROGRESS="IN_PROGRESS",e.CLOSED="CLOSED",e.SESSION_LIMIT="SESSION_LIMIT"}(r||(r={}))},392:function(e,t,n){"use strict";var r=n(0),o=r.createContext({}),a=o.Provider,i=o.Consumer,c=n(2),l=n(8),s=n(3);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,p(t).call(this,e))).state={scrollToElements:new Map,active:n.props.active||"",offset:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"setActive",value:function(e){var t=this;return function(){var n=t.props,r=n.browserService,o=n.animationDuration,a=t.state.scrollToElements;t.setState({active:e});var i=a.get(e),c=i.el,l=i.offset;r.windowScrollToElement({element:c,duration:o,withAnimation:!0,offset:l})}}},{key:"registerScrollToComponent",value:function(e,t,n){var r=this.state.scrollToElements;r.set(e,{el:t,offset:n}),this.setState({scrollToElements:r})}},{key:"unregisterScrollToComponent",value:function(e){var t=this.state.scrollToElements;t.delete(e),this.setState({scrollToElements:t})}},{key:"render",value:function(){var e=this.props.children,t={setActive:this.setActive,registerScrollToComponent:this.registerScrollToComponent,unregisterScrollToComponent:this.unregisterScrollToComponent};return r.createElement(a,{value:t},e)}}]),t}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}y([c.a],m.prototype,"setActive",null),y([c.a],m.prototype,"registerScrollToComponent",null),y([c.a],m.prototype,"unregisterScrollToComponent",null),m=y([Object(l.a)(s.b.BROWSER_SERVICE)],m);var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,S(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r["Component"]),function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.tagProps;return r.createElement(i,null,function(t){var a=t.setActive;return r.createElement("div",Object.assign({},o,{onClick:a(e.props.id),role:"link"}),n)})}}]),t}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,N(t).call(this,e))).element=r.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r["Component"]),function(e,t,n){t&&R(e.prototype,t),n&&R(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.registerScrollToComponent,n=e.id,r=e.offset;t(n,this.element.current,r)}},{key:"componentWillUnmount",value:function(){var e=this.props;(0,e.unregisterScrollToComponent)(e.id)}},{key:"render",value:function(){var e=this.props.children;return r.createElement("div",{ref:this.element},e)}}]),t}(),L=r.forwardRef(function(e,t){return r.createElement(i,null,function(n){var o=n.registerScrollToComponent,a=n.unregisterScrollToComponent;return r.createElement(C,Object.assign({registerScrollToComponent:o,unregisterScrollToComponent:a,ref:t},e))})});L.displayName="AutoScrollSection",n.d(t,"a",function(){return m}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return L})},402:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n.n(a),c=n(3),l=n(8),s=n(56),u=n(7),f=n(71),p=n(1),d=n(35),h=n(77),y=n(128),m=n(41),v=n(14);n(1494);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var R,_=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":w(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e[e.DEFAULT=2]="DEFAULT",e[e.MAXIMUM=6]="MAXIMUM"}(R||(R={}));var N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=S(this,E(t).call(this,e))).state={triggerEvent:!1,staticTile:null,href:n.getHref()},n.collectionTitleRef=o.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,o.a.Component),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(t,[{key:"componentDidMount",value:function(){this.setHref()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.schedule,r=t.displayMedia,o=t.lazyLoaded,a=n.backgroundMedia&&r&&this.state.href,i=this.collectionTitleRef.current;o&&!a&&i&&i.focus(),n.urlTitle===e.schedule.urlTitle&&n.id===e.schedule.id||this.setHref()}},{key:"getHref",value:function(){var e=this.props,t=e.schedule,n=e.configManager,r=e.allLocales,o=null;return t.urlTitle&&t.id&&(o=Object(u.a)(Object(u.l)(n.getPageRoute(p.PageName.EVENT),{stageRootPath:r.currentLocale.urlStageRootPath||void 0,courseSlug:t.urlTitle,scheduleId:t.id}),t.storeNum)),o}},{key:"setHref",value:function(){this.setState({href:this.getHref()})}},{key:"renderDisplayDate",value:function(){var e=this.props,t=e.displayDate,n=e.displayDateHeadingLevel,r=this.state.triggerEvent;if(!t)return null;var a=i()("schedule-list-item-date-heading",{"animation-ready":!r,"animation-finished":r}),c="h"+(n>R.DEFAULT&&n<=R.MAXIMUM?n:R.DEFAULT).toString();return o.a.createElement("div",{className:a},o.a.createElement(c,{className:"typography-body-reduced"},t))}},{key:"renderMedia",value:function(e,t){var n=this.props,r=n.tagProps,a=n.lazyLoaded?{focus:!0}:{},i=d.a.IMAGE_DEFAULTS.SCHEDULE_LIST_ITEM_IMAGE_VIEWPORT_MAPPINGS,c=d.a.INLINE_VIDEO_DEFAULTS.SCHEDULE_LIST_ITEM_VIDEO_VIEWPORT_MAPPINGS;return o.a.createElement("div",{className:"schedule-list-item__media"},o.a.createElement(v.a,Object.assign({href:t,tagProps:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}({},r,{tabIndex:"-1","aria-hidden":"true"})},a,{addLocation:!0,addNearby:!1}),o.a.createElement(m.a,{config:m.a.DEFAULTS.MEDIA},o.a.createElement(d.b,{viewportImageMappings:i,viewportInlineVideoMappings:c,viewportImageOrientationMappings:h.g,mediaData:e,loadImages:!0,ref:o.a.createRef(),loadOnDemand:!1,videoConfig:{preload:!1,autoplay:!0},forceImage:!0}))))}},{key:"getDateFormat",value:function(e){var t=this.props,n=t.schedule,r=t.displayMonthInDate;return(n&&n.displayDate?n.displayDate.length:0)>1?e.fullDate:r?e.dateTime:e.timeRange}},{key:"renderDates",value:function(){var e=this,t=this.props.schedule.displayDate;return t?t.map(function(t,n){return o.a.createElement("p",{className:"schedule-list-item__store-time typography-body-reduced",key:n},e.getDateFormat(t))}):null}},{key:"getClassNames",value:function(){var e=this.props,t=e.firstItem,n=e.displayDate,r=this.state.triggerEvent;return i()("schedule-list-item",{"first-item":t,"display-date":!!n,"animation-ready":!r,"animation-finished":r})}},{key:"renderScheduleStatus",value:function(){var e=this.props,t=e.schedule,n=e.i18n,r=t.status;return r===p.EventStatus.WAITLIST||r===p.EventStatus.FULL?o.a.createElement("span",{className:"typography-body-reduced schedule-list-item__status"},n.value("global.".concat(s.a[r]))):null}},{key:"getMultiLanguageText",value:function(){var e=this.props,t=e.schedule,n=e.i18n,r=e.allStores,o=t.lang;return o&&r.isMultiLanguage()?n.value("global.delivery-language-open-punctuation")+n.value("language.".concat(o))+n.value("global.delivery-language-close-punctuation"):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.displayMedia,r=t.i18n,a=t.index,c=t.schedule,l=t.tagProps,s=t.setFocusOnTitle,u=this.state.href,p=c.backgroundMedia,d=p&&n&&u,h=r.value("global.cta-details"),b="",g=i()("column large-2 medium-12 schedule-list-item__cta",c.collectionName&&"schedule-list-item__cta--with-eyebrow");return c.displayDate[0]&&c.displayDate[0].timeRange&&(b=c.name+" - "+c.displayDate[0].timeRange+" - "+c.storeTitle),o.a.createElement(m.a,{config:{eventName:"calendar item animation in",start:"-100vh + 130px",callback:function(){return e.setState({triggerEvent:!0})},eventType:f.a.INSTANT}},this.renderDisplayDate(),o.a.createElement("div",{className:this.getClassNames()},d&&this.renderMedia(p,u),o.a.createElement("div",{className:"row schedule-list-item__details"},o.a.createElement("div",{className:"column large-10 medium-12"},c.collectionName&&o.a.createElement("p",Object.assign({className:"typography-body-reduced schedule-list-item__collection-name"},{tabIndex:-1},{ref:this.collectionTitleRef}),c.collectionName),c.name&&u&&o.a.createElement("div",{className:"schedule-list-item__title typography-eyebrow"},o.a.createElement(v.a,{href:u,focus:s,tagProps:l,addLocation:!0,addNearby:!1,ariaLabel:b},c.name," ",this.getMultiLanguageText())),this.renderDates(),c.storeTitle&&o.a.createElement("p",{className:"typography-body-reduced"},c.storeTitle)),o.a.createElement("div",{className:g},u&&o.a.createElement("div",{"data-analytics-title":"details - "+c.title+" - "+a,"data-schedule-id":c.id,className:"schedule-list-item__details-link"},o.a.createElement(y.a,{href:u,tagProps:l,addNearby:!1},o.a.createElement("span",{className:"a11y"},b),h)),this.renderScheduleStatus()))))}}]),t}();N=_([Object(l.a)(c.b.I18N,c.b.CONFIG_MANAGER,c.b.ALL_LOCALES,c.b.ALL_STORES)],N),n.d(t,"a",function(){return N})},405:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(4),a=n.n(o),i=n(105),c=n(1),l=n(21),s=n(2);n(1547);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=f(this,p(t).apply(this,arguments))).state={isOpen:e.props.isOpened},e.MODAL_TITLE_ID="generic-list-modal-title",e.MODAL_CLOSE_BUTTON_CLASS_LIST=["generic-list-modal-close"],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"componentWillReceiveProps",value:function(e){e.isOpened!==this.props.isOpened&&this.setState({isOpen:e.isOpened})}},{key:"render",value:function(){var e=this.props,t=e.viewportData.viewport,n=e.renderList,o=e.title,c=e.classList,l=void 0===c?[]:c,s=this.state.isOpen,u=a()(this.MODAL_TITLE_ID,"typography-body-reduced",{"generic-list-modal-title-small-view":this.isSmallViewport()});return r.createElement(i.b,{viewport:t,isOpened:s,classList:this.MODAL_CLOSE_BUTTON_CLASS_LIST.concat(l),onClose:this.props.onClose,ariaLabelledBy:this.MODAL_TITLE_ID,retainScrollPosition:!0},r.createElement("div",{className:"generic-list-modal-content"},r.createElement("h2",{id:this.MODAL_TITLE_ID,className:u},o),n(this)))}},{key:"toggleModal",value:function(e){this.setState({isOpen:e})}},{key:"isSmallViewport",value:function(){var e=this.props.viewportData.viewport;return e===c.ViewportSizes.SMALL||e===c.ViewportSizes.XSMALL}}]),t}();y([s.a],m.prototype,"toggleModal",null),y([s.a],m.prototype,"isSmallViewport",null);var v=Object(l.WithViewportEmitter)(m)},407:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(8),i=n(14),c=n(16);n(1517);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},h=new c.b,y=Object(c.c)(i.a),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onChangeLocationClick,o=e.path,a=e.displayLink;return r.createElement("section",{className:"no-session-section"},r.createElement("div",{className:"section-content"},r.createElement("hr",null),r.createElement("div",{className:"row no-session-section__content"},r.createElement("div",{className:"column large-centered large-5 small-12 text-centered"},r.createElement("div",{className:"typography-intro"},t.value(o)),a&&r.createElement("p",{className:"no-session-section__link-wrapper"},r.createElement(y,{onClick:n,analyticsAttr:h.withProp3("t@a - change location").build()},t.value("global.cta-change-location")))))))}}]),t}();m.defaultProps={path:"error.no-results-for-location",displayLink:!0},m=d([Object(a.a)(o.b.I18N)],m),n.d(t,"a",function(){return m})},45:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"function"==typeof e}var a=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=function(e){return o(e)||"object"===r(e)&&null!==e},t.isFunction=o,t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.now=a},48:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n(0),o=n(152),a="wallet-page",i=function(){return Object(r.useContext)(o.c).iocContainer}},56:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c});var r=n(55),o=n(24),a=function(e,t){var n=e.length,o=0;return t===r.a.CAMPS?n>2&&(o=n-2):n>4&&(o=n-4),o},i=function(e){return e===o.a.FULL||e===o.a.WAITLIST||e===o.a.RESERVED},c={FULL:"violator-full",WAITLIST:"violator-wait-list",RESERVED:"violator-reserved"}},58:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},642:function(e,t,n){"use strict";var r=n(181).Promise,o=n(381).polyfill;t.Promise=r,t.polyfill=o},649:function(e,t){
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. MIT license */
window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t,n=document.createElement("style"),r=document.getElementsByTagName("script")[0];n.type="text/css",n.id="matchmediajs-test",r?r.parentNode.insertBefore(n,r):document.head.appendChild(n),t="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,e={matchMedium:function(e){var r="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=r:n.textContent=r,"1px"===t.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}())},650:function(e,t){
/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. MIT license */
!function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,n=!1,r=0,o=[],a=function(t){clearTimeout(r),r=setTimeout(function(){for(var t=0,n=o.length;t<n;t++){var r=o[t].mql,a=o[t].listeners||[],i=e(r.media).matches;if(i!==r.matches){r.matches=i;for(var c=0,l=a.length;c<l;c++)a[c].call(window,r)}}},30)};window.matchMedia=function(r){var i=e(r),c=[],l=0;return i.addListener=function(e){t&&(n||(n=!0,window.addEventListener("resize",a,!0)),0===l&&(l=o.push({mql:i,listeners:c})),c.push(e))},i.removeListener=function(e){for(var t=0,n=c.length;t<n;t++)c[t]===e&&c.splice(t,1)},i}}()},674:function(e,t,n){"use strict";n.r(t),t.default={id:"loading.icon-usage",viewBox:"0 0 72 72",url:n.p+"sprite.svg#loading.icon-usage",toString:function(){return this.url}}},675:function(e,t,n){"use strict";n.r(t),t.default={id:"geolocation.icon-usage",viewBox:"0 0 36.17 36",url:n.p+"sprite.svg#geolocation.icon-usage",toString:function(){return this.url}}},679:function(e,t){},680:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(271);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n=e.history,r=e.match,o=e.i18n,a=e.sessionStorage,i=e.allLocales,l=e.configManager;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,s(t).call(this,{history:n,match:r,i18n:o,sessionStorage:a,allLocales:i,configManager:l}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["a"]),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"onLocationChangedCallback",value:a(function(e,n,r,o){l(s(t.prototype),"onLocationChangedCallback",this).call(this,e,n,r,o),this.sessionStorage.removeCalendarSelectedDate()})}]),t}()},681:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return s});var o=function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}();function a(e){var t=e();if(t&&t.then)return t.then(i)}function i(){}function c(e,t,n){return n?t?t(e):e:(e=Promise.resolve(e),t?e.then(t):e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=t.dataService,r=t.match,o=t.actions,a=t.i18n,i=t.sessionStorage,c=t.allLocales;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataService=n,this.match=r,this.actions=o,this.i18n=a,this.sessionStorage=i,this.allLocales=c}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"onLocationChangedCallback",value:o(function(e,t,n,o){var i=e.selectedLocation,l=e.coordinates,s=this.dataService,u=this.match,f=this.actions,p=this.i18n,d=this.sessionStorage,h=this.allLocales;return a(function(){if(l)return a(function(){if(!t){var e=l.lat,o=l.long;return c(s.getEventPage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},u.params,{scheduleId:void 0}),{},{lat:e,long:o}),function(e){e&&e.schedule?(d.updateLocationToSelectedByCoordinates(l,!0),d.setLocationLabelInfo(e.userLocation),f.updatePageData(e),n()):alert(p.value("error.no-results-for-location"))})}alert(p.value("error.unable-change-country"))});var e=i.includeNearbyStores,y=i.store;return c(s.getEventPage(u.params,{nearby:e,selectedStore:y},null),function(t){t&&t.schedule?(d.updateLocationToSelectedByStore({storeNum:y.storeNum,slug:y.slug,locale:h.currentLocale.id},e),f.updatePageData(t),n()):o(p.value("error.no-results-for-location"))})})})}]),e}()},682:function(e,t){},683:function(e,t){},684:function(e,t,n){"use strict";var r=n(687);n.d(t,"PageStatus",function(){return r.a});n(685)},685:function(e,t){},686:function(e,t,n){},687:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n(8),c=n(3),l=n(14),s=n(4),u=n.n(s),f=n(21),p=n(13);n(1543);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},S=function(e){function t(){var e,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,m(t).apply(this,arguments))).WALLET_PASS_URL_TEMPLATE="/today/static/assets/images/walletPass/ataw__rgb",n.MAPPINGS=(d(e={},p.a.de_AT,"DE-DECH-DEAT"),d(e,p.a.de_CH,"DE-DECH-DEAT"),d(e,p.a.de_DE,"DE-DECH-DEAT"),d(e,p.a.en_AE,"EN"),d(e,p.a.en_AU,"EN"),d(e,p.a.en_CA,"EN"),d(e,p.a.en_GB,"EN"),d(e,p.a.en_HK,"HK"),d(e,p.a.en_SG,"SG"),d(e,p.a.en_US,"EN"),d(e,p.a.es_ES,"ES"),d(e,p.a.es_MX,"ESMX"),d(e,p.a.fr_BE,"FR-FRCA-FRBE-FRCH"),d(e,p.a.fr_CA,"FR-FRCA-FRBE-FRCH"),d(e,p.a.fr_CH,"FR-FRCA-FRBE-FRCH"),d(e,p.a.fr_FR,"FR-FRCA-FRBE-FRCH"),d(e,p.a.it_IT,"IT"),d(e,p.a.ja_JP,"JP"),d(e,p.a.ko_KR,"KR"),d(e,p.a.nl_BE,"NL-NLBE"),d(e,p.a.nl_NL,"NL-NLBE"),d(e,p.a.pt_BR,"PTBR"),d(e,p.a.sv_SE,"SE"),d(e,p.a.th_TH,"TH"),d(e,p.a.tr_TR,"TR"),d(e,p.a.zh_CN,"ZHCN-ZHTW"),d(e,p.a.zh_HK,"ZHHK-ZHMO"),d(e,p.a.zh_MO,"ZHHK-ZHMO"),d(e,p.a.zh_TW,"ZHCN-ZHTW"),e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.viewportData,n=e.walletPassUrl,r=e.allLocales,a=this.MAPPINGS[r.currentLocale.id],i=t.retina?"_2x":"",c={style:{backgroundImage:'url("'.concat(this.WALLET_PASS_URL_TEMPLATE,"_").concat(a).concat(i,'.png")')}};return o.a.createElement(l.a,{href:n.url,className:"wallet-pass-action-item",tagProps:c},"")}}]),t}();S=g([f.WithViewportEmitter,Object(i.a)(c.b.ALL_LOCALES)],S);var E=function(e){var t=e.links,n=e.analyticsService,r=e.onNewReservationClick,a=e.featureDetection,i=t.iCal,c=t.addAnotherCamper,s=t.campList,f=t.myReservations,p=t.walletPassUrl;Object.keys(t).forEach(function(e){t[e]&&"string"!=typeof t[e]&&"boolean"!=typeof t[e]&&(t[e].name=e)});var d=[i,c,s,f],h=p&&p.url&&a.isWalletPassSupportedByPlatform(),y=u()("typography-body",i&&"rsvp-success-cta",h&&"with-wallet-pass"),m={iCal:"t@a - add to calendar",myReservations:"t@a - manage my reservations",addAnotherCamper:"t@a - add another camper"};return o.a.createElement("p",{className:y},h&&o.a.createElement(S,{walletPassUrl:p}),d.map(function(e,t){return e&&e.url&&o.a.createElement("span",{className:"reservation-action-item",key:t},o.a.createElement(l.a,{addLocation:!0,href:e.url,className:"more",onClick:function(e){return function(t){var o=e&&e.name;"addAnotherCamper"===o&&r&&(t.preventDefault(),r());var a=m[o];n.trackEvent({title:"clicked on ".concat(o),prop3:a})}}(e)},e.text))}))},O=n(128),w=function(e){var t=e.url,n=e.text,o=e.onClick;return r.createElement("p",{className:"page-status-discover-more"},r.createElement(O.a,{addLocation:!0,className:"pill-large",href:t,onClick:o},n))},R=function(e){var t=e.heading,n=e.description,o=e.link,a=e.analyticsService;return r.createElement(r.Fragment,null,r.createElement("div",{className:"row"},r.createElement("div",{className:"column large-10 large-push-1 medium-10 small-12 small-push-0"},r.createElement("hr",{className:"business-section-separator"}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"column large-8 large-offset-1 medium-8 small-10"},r.createElement("h2",{className:"typography-label"},t),r.createElement("p",{className:"typography-body"},n),r.createElement(l.a,{addLocation:!0,href:o.url,className:"more",onClick:function(){a.trackEvent({title:"have us contact you",prop3:"t@a - have us contact you"})}},o.text))))},_=n(1),N=n(7),P=n(81);function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){L(e,t,n[t])})}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var j=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},I=function(){function e(t,n,r,o){var a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.i18n=t,this.config=n,this.allLocales=r,this.components=o,this.commonRegistrationErrorMappings=(L(a={},_.ReservationStatus.CANCELLED,{headline:"error.session-cancelled",discoverMore:{text:"global.cta-discover-more",url:this.generateLandingPageURL()}}),L(a,_.ReservationStatus.UNAVAILABLE,{headline:"error.session-past",discoverMore:{text:"global.cta-discover-more",url:this.generateLandingPageURL()}}),L(a,_.ReservationStatus.FULL,{headline:"error.session-full",discoverMore:{text:"global.cta-discover-more",url:this.generateLandingPageURL()}}),L(a,_.ReservationStatus.LIMIT,{headline:"error.limit-reached",myReservations:{text:"global.cta-manage-reservations",url:this.generateMyReservationsURL()}}),L(a,_.ReservationStatus.GENERIC_ERROR,{headline:"error.generic-reservation",discoverMore:{text:"global.cta-discover-more",url:this.generateLandingPageURL()}}),L(a,_.ReservationStatus.NO_AVAILABLE_SESSIONS_FOR_SELECTED_LOCALE_AND_COURSE,{headline:"error.no-sessions-for-location",discoverMore:{text:"global.cta-change-location",onClick:this.showLocationSelector}}),L(a,_.ReservationStatus.THIS_SESSION_NOT_AVAILABLE_TRY_ANOTHER,{headline:"error.session-not-available-more"}),L(a,_.ReservationStatus.NO_AVAILABLE_SESSIONS_FOR_COURSE,{headline:"error.session-not-available-try-location",discoverMore:{text:"global.cta-change-location",onClick:this.showLocationSelector}}),a),this.campRegistrationErrorMappings=C({},this.commonRegistrationErrorMappings,(L(i={},_.ReservationStatus.IN_PROGRESS,{headline:"error.camp-in-progress",discoverMore:{text:"global.cta-other-camps",url:"staticEvents.camp-learn-more-url"}}),L(i,_.ReservationStatus.CLOSED,{headline:"error.camp-closed",discoverMore:{text:"global.cta-other-camps",url:"staticEvents.camp-learn-more-url"}}),L(i,_.ReservationStatus.NON_RSVP,{headline:"error.camp-closed",discoverMore:{text:"global.cta-other-camps",url:this.generateLandingPageURL()}}),L(i,_.ReservationStatus.ALREADY_RESERVED,{headline:"error.already-reserved-camp",myReservations:{text:"error.already-reserved",url:this.generateMyReservationsURL()}}),L(i,_.ReservationStatus.SESSION_LIMIT,{headline:"error.camp-limit-reached",myReservations:{text:"global.link-title-my-reservation",url:this.generateMyReservationsURL()},campList:{text:"global.cta-discover-more",url:this.generateCampListURL()}}),L(i,_.ReservationStatus.HOLD_WAITLIST_FULL,{headline:"error.camp-waitlist-full",discoverMore:{text:"global.cta-other-camps",url:"staticEvents.camp-learn-more-url"}}),i)),this.successMappings={headline:"details.status-success-title",copy:"details.status-success-copy",discoverMore:{text:"details.cta-social-share",url:this.generateLandingPageURL()}},this.confirmationMappings={headline:"registration-form.glad-coming",copy:"registration-form.thanks-signup",discoverMore:{text:"global.cta-discover-more",url:this.generateLandingPageURL()}},this.successMappingsNoCopy={headline:"details.status-success-title",discoverMore:{text:"details.cta-social-share",url:this.generateLandingPageURL()}},this.successMappingsMyReservations=C({},this.successMappings,{myReservations:{text:"global.cta-manage-reservations",url:this.generateMyReservationsURL()}}),this.waitlistRegistrationMapping={headline:"details.status-success-camp-waitlist-title",myReservations:{text:"global.link-title-my-reservation",url:this.generateMyReservationsURL()}}}return function(e,t,n){t&&k(e.prototype,t),n&&k(e,n)}(e,[{key:"getMappings",value:function(e){var t=e.scheduleType,n=e.reservation,r=e.course,o=e.location,a=e.showCopyMessage,i=e.showMyReservationsLink,c=e.schedule,l={};l=n.status===_.ReservationStatus.CONFIRMED?this.getConfirmationMappings(c&&c.icalUrl||""):Object(P.c)(n.status)?this.getErrorMappings(t,n):n.status===_.ReservationStatus.WAITLIST?this.getWaitlistMappings(t):this.getSuccessMappings(t,n,a,i);var s=this.allLocales.currentLocale.urlStageRootPath;return this.evaluateMappedValues(l,{courseSlug:r&&r.urlTitle,scheduleId:n.workshopId,storeNumber:n.storeNumber||o.storeNum,locale:this.allLocales.currentLocale.id,storeLocation:o&&o.slug,stageRootPath:s})}},{key:"evaluateMappedValues",value:function(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r]instanceof Object&&"function"!=typeof e[r]?this.evaluateMappedValues(e[r],t):this.i18n.values(e[r])||e[r];if((o||{}).url){var a=null;a=o.url instanceof Object?C({},o.url,{pathname:Object(N.l)(o.url.pathname,t)}):Object(N.l)(o.url,t),n[r]={text:o.text,url:a}}else n[r]=o}return n}},{key:"getConfirmationMappings",value:function(e){return C({},this.confirmationMappings,{isErrorStatus:!0,iCal:this.getICalLink(e)})}},{key:"getErrorMappings",value:function(e,t){var n=e===_.EventType.CAMPS?this.campRegistrationErrorMappings:this.defaultEventTypesRegistrationErrorMappings(t);return C({},t&&n[t.status]||n[_.ReservationStatus.GENERIC_ERROR],{isErrorStatus:!0})}},{key:"getSuccessMappings",value:function(e,t,n,r){var o=n?this.successMappings:this.successMappingsNoCopy;return r&&(o=C({},o,this.successMappingsMyReservations)),e===_.EventType.CAMPS&&(o=C({},o,{addAnotherCamper:{text:"global.link-title-register-another-camper",url:{pathname:this.generateAddAnotherCamperURL(),state:{preventFetchCall:!0}}}})),C({},o,{iCal:this.getICalLink(t.iCalLink),walletPassUrl:{text:"",url:t.walletPassUrl}})}},{key:"getWaitlistMappings",value:function(e){return e===_.EventType.CAMPS?C({},this.waitlistRegistrationMapping,{copy:"details.status-success-camp-waitlist-copy",addAnotherCamper:{text:"global.link-title-register-another-camper-waitlist",url:{pathname:this.generateAddAnotherCamperURL(),state:{preventFetchCall:!0}}}}):this.getErrorMappings(e)}},{key:"generateAddAnotherCamperURL",value:function(){return this.config.getPageRoute(_.PageName.CAMP_REGISTRATION)}},{key:"generateMyReservationsURL",value:function(){return"".concat(this.config.getExternalLink("myReservationsRoot"),"/:storeNumber/:locale")}},{key:"generateCampListURL",value:function(){return this.i18n.value("staticEvents.camp-learn-more.url")}},{key:"generateLandingPageURL",value:function(){return this.config.getPageRoute(_.PageName.DISCOVER)}},{key:"showLocationSelector",value:function(){if(this.components&&this.components.getLocationSelector){var e=this.components.getLocationSelector();e&&e.showModal&&e.showModal()}}},{key:"defaultEventTypesRegistrationErrorMappings",value:function(e){var t,n=e&&e.iCalLink?this.getICalLink(e.iCalLink):void 0,r=e&&e.walletPassUrl?{text:"",url:e.walletPassUrl}:void 0,o=this.generateLandingPageURL();return C({},this.commonRegistrationErrorMappings,(L(t={},_.ReservationStatus.ALREADY_RESERVED,{headline:"error.already-reserved",walletPassUrl:r,iCal:n,myReservations:{text:"global.cta-manage-reservations",url:this.generateMyReservationsURL()},forceSocialLinksDisplaying:!0}),L(t,_.ReservationStatus.CONFIRMATION_ERROR,{headline:"error.session-not-found",copy:"error.session-not-found-details",discoverMore:{text:"global.cta-discover-more",url:o}}),L(t,_.ReservationStatus.NON_RSVP,{headline:"error.generic-reservation",discoverMore:{text:"global.cta-discover-more",url:o}}),L(t,_.ReservationStatus.NOT_GUEST_RESERVABLE,{headline:"error.generic-sorry",copy:"error.try-apple-id"}),L(t,_.ReservationStatus.REQUEST_REJECTED,{headline:"error.generic-sorry",copy:"error.try-apple-id"}),t))}},{key:"getICalLink",value:function(e){return{text:"global.link-title-add-to-calendar",url:e}}}]),e}();j([a.a],I.prototype,"showLocationSelector",null);var D=n(288),A=n(47),M=n.n(A);n(1544);function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return H});var B=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":G(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},H=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=x(this,U(t).call(this,e))).ANIMATION_TIMEOUT=1e3,n.ACCESSIBILITY_SET_FOCUS_DELAY=650;var o=n.props,a=o.i18n,i=o.configManager,c=o.allLocales,l=o.components;return n.pageStatusMappings=new I(a,i,c,l),n.state={isDisplayed:!1},n.focusElement=r.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,r["Component"]),function(e,t,n){t&&F(e.prototype,t),n&&F(e,n)}(t,[{key:"setFocus",value:function(){var e=this;setTimeout(function(){e.focusElement&&e.focusElement.current&&(e.focusElement.current.focus(),e.removeTabIndexAttribute())},this.ANIMATION_TIMEOUT+this.ACCESSIBILITY_SET_FOCUS_DELAY)}},{key:"removeTabIndexAttribute",value:function(){var e=this;setTimeout(function(){e.focusElement&&e.focusElement.current&&e.focusElement.current.removeAttribute("tabindex")},this.ACCESSIBILITY_SET_FOCUS_DELAY)}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.showBusinessSection,o=e.reservation,a=e.storeInfo,i=e.social,c=e.analyticsService,l=e.schedule,s=e.course,f=e.canonicalURL,p=e.onNewReservationClick,d=e.featureDetection,h=e.className;if(!o||!a)return null;var y=a.locale,m=a.storeNum,v=this.pageStatusMappings.getMappings(this.props),b=v.isErrorStatus,g=v.headline,S=v.copy,O=v.iCal,_=v.discoverMore,N=v.forceSocialLinksDisplaying,P=u()("section","section-status",this.state.isDisplayed&&"intro-status-animation",h),C=u()("page-status-headline","typography-callout",O&&"rsvp-success");return r.createElement("section",{className:P},r.createElement("div",{className:"section-content"},r.createElement("div",{className:"row"},r.createElement("div",{className:"column large-11 large-centered small-centered small-10"},g&&r.createElement("div",{tabIndex:-1,ref:this.focusElement,id:"page-status-headline",className:C,dangerouslySetInnerHTML:{__html:g}}),S&&r.createElement("p",{className:"typography-body",dangerouslySetInnerHTML:{__html:S}}),r.createElement(E,{featureDetection:d,links:v,analyticsService:c,onNewReservationClick:p}),b&&_&&r.createElement(w,{url:_.url,text:_.text,onClick:_.onClick}),(!b||N)&&r.createElement("div",{id:"status-share-container"},r.createElement(D.a,{idPrefix:"page-status",social:i,schedule:l,course:s,storeState:a,canonicalURL:f})))),!b&&n&&r.createElement(R,{heading:t.value("businessPromo.promo-event-headline"),description:t.value("businessPromo.promo-event-content"),link:{text:t.value("businessPromo.promo-event-cta"),url:t.compileValue("businessPromo.promo-event-url",{locale:y,storeNum:m})},analyticsService:c})))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.reservation,o=n.reservationUpdateTime,a=n.browserService,i=o!==e.reservationUpdateTime;a&&r&&i&&setTimeout(function(){a.windowScrollToY(0,{withAnimation:!0,duration:600}),t.state.isDisplayed||t.setState({isDisplayed:!0})},this.ANIMATION_TIMEOUT)}},{key:"componentWillReceiveProps",value:function(e){M()(e.reservation,this.props.reservation)||this.setFocus()}}]),t}();H.defaultProps={showCopyMessage:!0,showMyReservationsLink:!0},B([a.a],H.prototype,"removeTabIndexAttribute",null),H=B([Object(i.a)(c.b.I18N,c.b.BROWSER_SERVICE,c.b.CONFIG_MANAGER,c.b.ALL_LOCALES,c.b.ANALYTICS_SERVICE,c.b.FEATURE_DETECTION)],H)},688:function(e,t,n){"use strict";var r=n(0),o=n(21),a=n(8),i=n(3);n(1549);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.status,n=e.errorMapping,a=e.onClose,i=e.i18n,c=n[t],l=!(!t||!c);return r.createElement(o.Modal,{type:o.ModalType.STANDARD,isOpened:l,onClose:a,ariaLabel:c&&i.value(c.label)},r.createElement("div",{className:"text-centered large-8 signup-modal"},l&&this.renderModalContent(c)))}},{key:"renderModalContent",value:function(e){var t=this,n=this.props,o=n.i18n,a=n.onClose;return r.createElement(r.Fragment,null,r.createElement("p",{className:"typography-label"},o.value(e.label)),r.createElement("div",{className:"button-bar"},e.buttons.map(function(e,n){return r.createElement("button",{key:n,className:"button pill-large",onClick:function(){a(),setTimeout(function(){e.callback&&e.callback(t.props)},0)}},o.value(e.text))})))}}]),t}();d.defaultProps={onClose:function(){}},d=p([Object(a.a)(i.b.I18N)],d),n.d(t,"a",function(){return d})},689:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n.n(a),c=n(2),l=n(8),s=n(3),u=n(51),f=n(150),p=n(14);n(1526);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},g="social-link",S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,y(t).call(this,e))).state={iconClassName:"".concat(g,"__icon"),iconStyle:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"buildExternalLinkWarning",value:function(){var e=this.props,t=e.name,n=e.i18n,r=n.value("global.".concat(t))||t;return"".concat(r," - ").concat(n.value("global.external-link-warning"))}},{key:"buildSocialLinkIds",value:function(){var e=this.props,t=e.idPrefix,n=e.name;if(t)return t+"--"+n}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.url,r=e.icon,a=e.isMailto,c=e.autoFocus,l=e.index,s=i()(g,"".concat(g,"--").concat(t));return o.a.createElement(p.a,{id:this.buildSocialLinkIds(),href:Object(u.b)(n,"%5Cn","%0A"),className:s,tagProps:{target:a?"_self":"_blank"},onClick:this.onClickHandler,ariaLabel:this.buildExternalLinkWarning(),focus:c&&0===l},!this.useImages()&&o.a.createElement(f.a,{className:this.state.iconClassName,svgIcon:r}),this.useImages()&&o.a.createElement("div",{className:this.state.iconClassName,style:this.state.iconStyle,onMouseOver:this.onHover,onMouseOut:this.applyImages}))}},{key:"buildIconUrls",value:function(){var e=this.props,t=e.name,n=e.configManager.getProperty("socialIcons.assetsPath");return{iconUrlLight:"".concat(n,"/").concat(t,"_light.png"),iconUrlDark:"".concat(n,"/").concat(t,"_dark.png")}}},{key:"onHover",value:function(){var e=this.buildIconUrls();this.setState({iconStyle:{backgroundImage:"url(".concat(e.iconUrlDark,")"),backgroundRepeat:"no-repeat"}})}},{key:"applyImages",value:function(){var e=this.buildIconUrls();this.setState({iconClassName:i()("".concat(g,"__icon"),"no-svg"),iconStyle:{backgroundImage:"url(".concat(e.iconUrlLight,")"),backgroundRepeat:"no-repeat"}})}},{key:"useImages",value:function(){var e=this.props,t=e.featureDetection,n=e.userAgent;return!t.getFeatureSupport("svgAvailable")||n.getFeatureSupport("browser","ie")||n.getFeatureSupport("browser","edge")}},{key:"componentWillMount",value:function(){this.useImages()&&this.applyImages()}},{key:"onClickHandler",value:function(){var e=this.props,t=e.name;e.analyticsService.trackEvent({title:"social share",prop3:"t@a - invite others ".concat(t),events:"event252"})}}]),t}();b([c.a],S.prototype,"buildExternalLinkWarning",null),b([c.a],S.prototype,"buildIconUrls",null),b([c.a],S.prototype,"onHover",null),b([c.a],S.prototype,"applyImages",null),b([c.a],S.prototype,"useImages",null),b([c.a],S.prototype,"onClickHandler",null),S=b([Object(l.a)(s.b.I18N,s.b.FEATURE_DETECTION,s.b.CONFIG_MANAGER,s.b.USER_AGENT,s.b.ANALYTICS_SERVICE)],S),n.d(t,"a",function(){return S})},690:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(276),i=n(2),c=n(1),l=n(4),s=n.n(l),u=(n(1523),function(){try{if(isNaN.apply(null,{}))return function(e){return function(){try{return Promise.resolve(e.apply(this,arguments))}catch(e){return Promise.reject(e)}}}}catch(e){}return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}}());function f(){}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},b=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=d(this,h(t).apply(this,arguments))).textFieldRef=Object(r.createRef)(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.i18n,r=e.getErrorClientHeight,i=s()("flow-text-field",t),c=n.value("registration-form.validate"),l=n.value("registration-form.verified");return o.a.createElement(a.a,Object.assign({},this.props,{className:i,ref:this.textFieldRef,onChange:this.handleChange,onKeyPress:this.handleKeyPress,getErrorClientHeight:r}),o.a.createElement("button",{"aria-label":this.isValidationRequired||!this.isValid?c:l,className:"form-textbox-button",disabled:this.showCheckMark(),onClick:this.handleClick,type:"button"},o.a.createElement("i",{"aria-hidden":!0,className:this.iconClasses()})))}},{key:"reset",value:function(){this.textFieldRef.current&&this.textFieldRef.current.reset()}},{key:"validate",value:u(function(){var e=this,t=e.textFieldRef.current;return function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}(function(){if(t)return function(e,t){if(!t)return Promise.resolve(e).then(f)}(t.validate(function(){t.isValid&&e.setState({isValidationRequired:!1}),e.forceUpdate()}))},function(){return Promise.resolve(e)})})},{key:"focus",value:function(e){this.textFieldRef.current&&this.textFieldRef.current.focus(e)}},{key:"iconClasses",value:function(){return s()("icon",{"icon-downloadcircle":this.isValidationRequired||!this.isValid,"icon-checkcircle":this.showCheckMark()})}},{key:"handleClick",value:function(){this.validate()}},{key:"handleKeyPress",value:function(e){this.props.validateOnEnter&&e.charCode===c.KeyCodeMap.ENTER&&(e.preventDefault(),this.validate())}},{key:"handleChange",value:function(){this.forceUpdate()}},{key:"showCheckMark",value:function(){return!this.isValidationRequired&&this.isValid}},{key:"isValid",get:function(){return!!this.textFieldRef.current&&this.textFieldRef.current.isValid},set:function(e){this.textFieldRef.current&&(this.textFieldRef.current.isValid=e,this.forceUpdate())}},{key:"name",get:function(){return this.textFieldRef.current&&this.textFieldRef.current.name}},{key:"isValidationRequired",get:function(){return!!this.textFieldRef.current&&this.textFieldRef.current.isValidationRequired},set:function(e){this.textFieldRef.current&&(this.textFieldRef.current.isValidationRequired=e,this.forceUpdate())}},{key:"value",get:function(){return this.textFieldRef.current&&this.textFieldRef.current.value},set:function(e){this.textFieldRef.current&&(this.textFieldRef.current.value=e,this.forceUpdate())}},{key:"sortNumber",get:function(){return this.textFieldRef.current&&this.textFieldRef.current.sortNumber}}]),t}();v([i.a],b.prototype,"validate",null),v([i.a],b.prototype,"iconClasses",null),v([i.a],b.prototype,"handleClick",null),v([i.a],b.prototype,"handleKeyPress",null),v([i.a],b.prototype,"handleChange",null),v([i.a],b.prototype,"showCheckMark",null),n.d(t,"a",function(){return b})},709:function(e,t,n){},710:function(e,t,n){},712:function(e,t,n){var r={"./email.icon.svg":1528,"./facebook.icon.svg":1529,"./geolocation.icon.svg":675,"./hero-play-dark.icon.svg":387,"./hero-play-light.icon.svg":388,"./instagram.icon.svg":1530,"./link.icon.svg":1531,"./linkedin.icon.svg":1532,"./loading.icon.svg":674,"./no-geolocation.icon.svg":1533,"./qq.icon.svg":1534,"./refine.icon.svg":1535,"./snapchat.icon.svg":1536,"./twitter.icon.svg":1537,"./wechat.icon.svg":1538,"./weibo.icon.svg":1539};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=712},81:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l});var r=n(15),o=n(24),a=function(e){return!(e===r.a.RESERVED||e===r.a.WAITLIST||e===r.a.RSVP)},i=function(e){return e===r.a.WAITLIST||e===r.a.RSVP},c=function(e,t){return t===r.a.WAITLIST&&e!==o.a.WAITLIST},l=function(e,t){if(!e||!t)return null;var n=(new Date).toUTCString(),r=new Date(n),o=new Date(e),a=new Date(t);return{eventInSession:r>o&&r<=a,eventHasEnded:r>a}}}}]);