(window.webpackJsonp=window.webpackJsonp||[]).push([[3],Array(46).concat([function(t,e,i){"use strict";var n={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=i(1e3)(n)},,,,,,,,function(t,e,i){"use strict";var n,r=i(1067),s=function(t,e){e=e||{},this.baseLinkPath=e.baseLinkPath,e.dialogDimensions&&(this.dialogDimensions=e.dialogDimensions),e.id&&(this.id=e.id),e.preventDialog&&(this.preventDialog=e.preventDialog),this.normalizeData=t};(n=s.prototype).dataAttributeName="network-action",n.id="network-action",n.normalizeData=function(t){return t},n.dialogDimensions={width:500,height:500},n.generateLinkURL=function(t){var e=this.normalizeData(t),i=r.stringify(e),n=this.baseLinkPath;return i.length>0&&(n=n+"?"+i),n},n.generateLink=function(t,e){var i=this.generateLinkURL(t);return(e=e||document.createElement("A")).setAttribute("href",i),e.setAttribute("target","_blank"),e.setAttribute("data-"+this.dataAttributeName,this.id),this.enhanceLinkEngagement(e,i),e},n.generateDialog=function(t){var e=this.generateLinkURL(t);this._triggerDialog(e)},n.enhanceLinkEngagement=function(t,e){e=e||t.getAttribute("href"),t.addEventListener("click",this._onLinkEngaged.bind(this,e))},n.getDialogOptions=function(){var t,e="status=1",i={width:this.dialogDimensions.width,height:this.dialogDimensions.height};for(t in i.top=(window.screen.availHeight-i.height)/2,i.left=(window.screen.availWidth-i.width)/2,i)i.hasOwnProperty(t)&&(e+=", "+t+"="+i[t]);return e},n.getDialogDebugData=function(t){return{data:this.normalizeData(t),dialogUrl:this.generateLinkURL(t)}},n._triggerDialog=function(t){this.preventDialog?window.location.href=t:window.open(t,"_blank",this.getDialogOptions())},n._onLinkEngaged=function(t,e){e.preventDefault(),this._triggerDialog(t)},t.exports=s},,,,,,,,,,function(t,e,i){"use strict";var n={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=i(970)(n)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"GuiPosition-0"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",longName:"small",mediaQuery:"only screen and (max-width: 735px)"},{name:"M",longName:"medium",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",longName:"xlarge",mediaQuery:"only screen and (min-width: 1442px)"},{name:"L",longName:"large",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(var t=0;t<n.BREAKPOINTS.length;t++){var e=n.BREAKPOINTS[t];if(window.matchMedia(e.mediaQuery).matches)return e.name}},KeyframeDefaults:{ease:.1,epsilon:.05,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE"},PageEvents:{ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","relativeTo","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TargetValue:function(t,e,i){this.epsilon=parseFloat(e),this.snapAtCreation=i,this.initialValue=t,this.target=t,this.current=t},Timeline:function(){this.local=0,this.localUnclamped=0},ViewableRange:function(t,e){this.a=t.top-e,this.a<0&&(this.a=t.top),this.b=t.top,this.d=t.bottom,this.c=Math.max(this.d-e,this.b)},pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},EventObject:function(t){this.controller=t,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps},KeyframeComparison:function(t,e){return t.start<e.start?-1:t.start>e.start?1:0},AnimInfo:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isGroup=i,this.group=t,this.controller=e}};t.exports=n},,,,,,function(t,e,i){"use strict";t.exports={SharedInstance:i(994)}},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(169),r=function(t,e){this._onClick=this._onClick.bind(this),n.apply(this,arguments)},s=r.prototype=Object.create(n.prototype);s._addViewListeners=function(){this._view.on("click",this._onClick)},s._onClick=function(t){},s.destroy=function(){this._view.off("click",this._onClick)},t.exports=r},,function(t,e){!function(){"use strict";var t=Array.prototype.slice;try{t.call(document.documentElement)}catch(e){Array.prototype.slice=function(e,i){if(i=void 0!==i?i:this.length,"[object Array]"===Object.prototype.toString.call(this))return t.call(this,e,i);var n,r,s=[],o=this.length,a=e||0;a=a>=0?a:o+a;var c=i||o;if(i<0&&(c=o+i),(r=c-a)>0)if(s=new Array(r),this.charAt)for(n=0;n<r;n++)s[n]=this.charAt(a+n);else for(n=0;n<r;n++)s[n]=this[a+n];return s}}}()},,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){t.exports=i(642).polyfill()},,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=function(t){this.el=t},r=n.prototype;r.on=function(){this.el.addEventListener.apply(this.el,arguments)},r.off=function(){this.el.removeEventListener.apply(this.el,arguments)},r.once=function(t,e){var i=function(){e(),this.off(t,i)}.bind(this);this.on(t,i)},r.trigger=function(t,e){var i=new CustomEvent(t,{detail:e});this.el.dispatchEvent(i)},t.exports=n},function(t,e,i){"use strict";t.exports=function(t,e,i){return e?(i=i||/{([^{}]*)}/g,t.replace(i,function(t,i){var n=e[i];return"string"==typeof n||"number"==typeof n||"boolean"==typeof n?n:t})):t}},,,,function(t,e,i){"use strict";t.exports=function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}},function(t,e,i){"use strict";t.exports=function(t,e){this._player=e.player,this._view=t,this._addViewListeners&&this._addViewListeners(),this._addPlayerListeners&&this._addPlayerListeners()}},,,function(t,e){"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t})},function(t,e,i){"use strict";t.exports=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}},,function(t,e){Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=Math.pow(2,53)-1,n=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),i)};return function(t){var i=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,s=arguments.length>1?arguments[1]:void 0;if(void 0!==s){if(!e(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var o,a=n(i.length),c=e(this)?Object(new this(a)):new Array(a),l=0;l<a;)o=i[l],c[l]=s?void 0===r?s(o,l):s.call(r,o,l):o,l+=1;return c.length=a,c}}())},function(t,e,i){"use strict";var n=i(250),r=i(597),s=i(1262),o=i(1263),a=i(326),c=function(t,e){var i=s(t),r=!1!==e&&s(e);return n[t]=n[e]=n[i]=n[r]={dom:e,css:r},e};t.exports=function(t){var e,i,s,l;if((t+="")in n)return n[t].dom;for(s=r(),i=(t=o(t)).charAt(0).toUpperCase()+t.substring(1),e="filter"===t?["WebkitFilter","filter"]:(t+" "+a.dom.join(i+" ")+i).split(" "),l=0;l<e.length;l++)if(void 0!==s.style[e[l]])return 0!==l&&a.reduce(l-1),c(t,e[l]);return c(t,!1)}},function(t,e,i){"use strict";var n=i(176),r=i(1264),s=i(326),o=i(250),a={},c=/(\([^\)]+\))/gi,l=/([^ ,;\(]+(\([^\)]+\))?)/gi;t.exports=function(t,e){var i;return e+="",!!(t=n(t))&&(r(t,e)?e:(i=o[t].css,""!==(e=(e=e.replace(l,function(e){var n,o,l,h;if("#"===e[0]||!isNaN(e[0]))return e;if(o=e.replace(c,""),(l=i+":"+o)in a)return!1===a[l]?"":e.replace(o,a[l]);for(n=s.css.map(function(t){return t+e}),n=[e].concat(n),h=0;h<n.length;h++)if(r(t,n[h]))return 0!==h&&s.reduce(h-1),a[l]=n[h].replace(c,""),n[h];return a[l]=!1,""})).trim())&&e))}},,,function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(93),s=i(368),o=i(1304),a=i(1305),c=i(253),l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e,this.relativeTo=e.element,this.jsonProps=i,this.ease=r.KeyframeDefaults.ease,this.easeFunctionString=r.KeyframeDefaults.easeFunctionString,this.easeFunction=o[this.easeFunctionString],this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask="SMLX",this.disabledWhen=[],this.keyframeType=r.KeyframeTypes.Interpolation,this.hold=!1}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"destroy",value:function(){this.controller=null,this.relativeTo=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}},{key:"remove",value:function(){return this.controller.removeKeyframe(this)}},{key:"parseOptions",value:function(t){if(this.jsonProps=t,""!==t.relativeTo&&t.relativeTo?t.relativeTo&&(this.relativeTo=this.controller.group.element.querySelector(t.relativeTo)||document.querySelector(t.relativeTo),null===this.relativeTo&&(console.warn("Keyframe for",this.controller.element.className," .relativeTo failed to find "+t.relativeTo+"' via querySelector"),this.relativeTo=this.controller.element),this.controller.group.metrics.add(this.relativeTo)):this.relativeTo=this.controller.element,t.ease?this.ease=parseFloat(t.ease):t.ease=this.ease,t.hasOwnProperty("snapAtCreation")?this.snapAtCreation=t.snapAtCreation:t.snapAtCreation=this.snapAtCreation,t.easeFunction?this.easeFunction=t.easeFunction:t.easeFunction=this.easeFunctionString,t.breakpointMask?this.breakpointMask=t.breakpointMask:t.breakpointMask=this.breakpointMask,t.disabledWhen?this.disabledWhen=Array.isArray(t.disabledWhen)?t.disabledWhen:[t.disabledWhen]:t.disabledWhen=this.disabledWhen,t.hasOwnProperty("hold")?this.hold=t.hold:t.hold=this.hold,this.easeFunction=o[t.easeFunction],!o.hasOwnProperty(t.easeFunction)){var e=a.fromCSSString(t.easeFunction);e?this.easeFunction=e:console.error("Keyframe parseOptions cannot find EasingFunction named '"+t.easingFunction+"'")}for(var i in t)if(-1===r.KeyframeJSONReservedWords.indexOf(i)){var n=t[i];if(Array.isArray(n)){if(this.animValues[i]=this.controller.group.expressionParser.parse(this,n),void 0===this.controller.tweenProps[i]||!this.controller._ownerIsElement){var s=0;this.controller._ownerIsElement||(s=this.controller.element[i]);var c=new r.TargetValue(s,r.KeyframeDefaults.epsilon,this.snapAtCreation);this.controller.tweenProps[i]=c}var l=this.controller.tweenProps[i];if(t.epsilon)l.epsilon=t.epsilon;else{var h=Math.abs(this.animValues[i][0]-this.animValues[i][1]),u=Math.min(.001*h,l.epsilon,r.KeyframeDefaults.epsilon);l.epsilon=Math.max(u,1e-4)}}}this.keyframeType=this.hold?r.KeyframeTypes.InterpolationForward:r.KeyframeTypes.Interpolation,t.event&&(this.event=t.event)}},{key:"overwriteProps",value:function(t){this.animValues={};var e=Object.assign({},this.jsonProps,t);this.controller.updateKeyframe(this,e)}},{key:"updateLocalProgress",value:function(t){if(this.start===this.end||t>this.end)return this.localT=1,void(this.curvedT=this.easeFunction(this.localT));var e=(t-this.start)/(this.end-this.start),i=this.hold?this.localT:0;this.localT=s.clamp(e,i,1),this.curvedT=this.easeFunction(this.localT)}},{key:"reconcile",value:function(t){var e=this.animValues[t],i=this.controller.tweenProps[t];i.initialValue=e[0],i.target=e[0]+this.curvedT*(e[1]-e[0]),i.current!==i.target&&(i.current=i.target,this.needsEventDispatch||(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)))}},{key:"reset",value:function(t){this.localT=t||0;var e=this.ease;for(var i in this.ease=1,this.animValues)this.reconcile(i);this.ease=e}},{key:"onDOMRead",value:function(t){var e=this.animValues[t],i=this.controller.tweenProps[t];i.target=e[0]+this.curvedT*(e[1]-e[0]);var n=i.current;i.current+=(i.target-i.current)*this.ease;var r=i.current-i.target;r<i.epsilon&&r>-i.epsilon&&(i.current=i.target,r=0),""===this.event||this.needsEventDispatch||(r>i.epsilon||r<-i.epsilon||0===r&&n!==i.current)&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this))}},{key:"isInRange",value:function(t){return t>=this.start&&t<=this.end}},{key:"setEnabled",value:function(t){t=t||c(Array.from(document.documentElement.classList));var e=-1!==this.breakpointMask.indexOf(r.pageMetrics.breakpoint),i=!1;return this.disabledWhen.length>0&&(i=this.disabledWhen.some(function(e){return void 0!==t[e]})),this.isEnabled=e&&!i,this.isEnabled}},{key:"updateAnimationConstraints",value:function(){this.start=this.controller.group.timeParser.parse(this,this.jsonProps.start),this.end=this.controller.group.timeParser.parse(this,this.jsonProps.end),this.updateAnimatedValueConstraints()}},{key:"updateAnimatedValueConstraints",value:function(){for(var t in this.animValues){var e=this.jsonProps[t];this.animValues[t]=this.controller.group.expressionParser.parse(this,e)}}}]),t}();l.DATA_ATTRIBUTE="data-anim-tween",t.exports=l},,,,,function(t,e,i){"use strict";t.exports=function(t,e){var i;return e?{width:(i=t.getBoundingClientRect()).width,height:i.height}:{width:t.offsetWidth,height:t.offsetHeight}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(1018),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},s.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new r},,function(t,e,i){"use strict";var n=i(168);t.exports=function(t,e){var i;return e?{width:(i=n(t)).width,height:i.height}:{width:t.offsetWidth,height:t.offsetHeight}}},function(t,e){Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i=e||0,n=0;if(i<0&&(i=this.length+e-1)<0)throw"Wrapped past beginning of array while looking up a negative start index.";for(n=0;n<this.length;n++)if(this[n]===t)return n;return-1})},,,,,,,,,,,,function(t,e,i){"use strict";t.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},,,function(t,e,i){"use strict";t.exports={Routes:i(1212),Route:i(575)}},,,,function(t,e){!function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=Date.now(),r=Math.max(0,16-(n-t)),s=window.setTimeout(function(){e(n+r)},r);return t=n+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},,,function(t,e,i){"use strict";t.exports={}},,,function(t,e){t.exports=function(t){return t.reduce(function(t,e){return t[e]=e,t},{})}},function(t,e,i){"use strict";var n=i(1314),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},s.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new r},function(t,e,i){"use strict";var n,r=i(1316).EventEmitterMicro,s=i(1317),o=i(1320);function a(t){t=t||{},r.call(this),this.id=o.getNewID(),this.executor=t.executor||s,this._reset(),this._willRun=!1,this._didDestroy=!1}(n=a.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},n.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},n.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,t},n.willRun=function(){return this._willRun},n.isRunning=function(){return this._isRunning},n._subscribe=function(){return this.executor.subscribe(this)},n._unsubscribe=function(){return this.executor.unsubscribe(this)},n._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},n._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},n._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=i(508),o=i(163),a=i(969).create,c=i(64),l=i(1007),h=i(1015),u=i(1017),d=i(1022),f=i(526)(),p=i(100)(),m=i(328)(),_=c.browser.safari&&c.os.osx,g=c.browser.safari&&c.os.ios,v=c.browser.chrome,y=i(1026),b=i(165),w=i(1027),k=i(1028),S=i(1029),x=i(1030),E=i(531),C=i(534),T=i(537),A=i(538),O=function(t){t=t||{},this.el=t.el||document.createElement("div"),this._elementEmitter=new o(this.el),this.VERSION=A,this.options=t,s.call(this),this._controlsFactory=t.controlsFactory,this._urlOptimizer=t.urlOptimizer;try{var e=window.top;this._maxWidth=t.maxWidth||Math.min(window.innerWidth,1280)||Math.min(e.innerWidth,1280)}catch(e){this._maxWidth=t.maxWidth||Math.min(window.innerWidth,1280)}this._lastResize=0,this._lastMouseCoords={},this.el.classList.add("ac-video-player"),this._isLive=t.live,this._isLive&&this._useLiveMode(),this._videoImpl=a(t,this.el),this._isResponsive=t.responsive,this._isResponsive&&(this._breakpointDetect=new S({el:this.el,player:this,breakpoints:y,addClass:!0})),this._supportsInlineVideo=p||!(m&&g),this._cachedPiPMode=this.isPictureInPicture(),this._cachedReadyState=this.getReadyState(),this._cachedVisibleTracksLength=0,this.el.appendChild(this._videoImpl.getRenderElement()),(t.poster||void 0===t.poster)&&this._initPoster(t.poster),this._bindMethods(),this._addEventListeners(),p&&(this._keyboardControl=x({player:this,threesixty:t.threesixty,keyboardTarget:t.keyboardTarget})),t.controls&&this._initUIComponents(),t.parentElement&&t.parentElement.appendChild(this.el),this.refreshSize=this.refreshSize.bind(this),this._refreshSizeTimeout=setTimeout(this.refreshSize,0),window.addEventListener("DOMContentLoaded",this.refreshSize)};O.LOADEDMETADATA=1,O.LOADEDDATA=2,O.CANPLAY=3,O.CANPLAYTHROUGH=4;var I=s.prototype,L=O.prototype=Object.create(I);L.constructor=O,L._bindMethods=function(){this._onStart=this._onStart.bind(this),this._onEnded=this._onEnded.bind(this),this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onCaptionsChanged=this._onCaptionsChanged.bind(this),this._onPlay=this._onPlay.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._forwardEvent=this._forwardEvent.bind(this),this._onPresentationModeChanged=this._onPresentationModeChanged.bind(this),this._forwardFullScreenChangeEvent=this._forwardNamedEvent.bind(this,"fullscreen:change"),this._forwardEnterFullScreenEvent=this._forwardNamedEvent.bind(this,"enterfullscreen"),this._forwardExitFullScreenEvent=this._forwardNamedEvent.bind(this,"exitfullscreen"),this._onDurationChange=this._onDurationChange.bind(this),this._forwardReadyStateChange=this._forwardReadyStateChange.bind(this),this._showControls=this._showControls.bind(this),this._hideControls=this._hideControls.bind(this),this._raiseControls=this._raiseControls.bind(this),this._lowerControls=this._lowerControls.bind(this),this._onPlayPromiseError=this._onPlayPromiseError.bind(this),this._onPlayPromiseResolved=this._onPlayPromiseResolved.bind(this)},L._addEventListeners=function(){for(var t=0,e=w.length;t<e;t++)this._videoImpl.on(w[t],this._forwardEvent);for(t=0,e=k.length;t<e;t++)this._videoImpl.on(k[t],this._forwardReadyStateChange);this._videoImpl.on("timeupdate",this._onTimeUpdate),this._videoImpl.on("webkitpresentationmodechanged",this._onPresentationModeChanged),this._videoImpl.on("durationchange",this._onDurationChange),this._videoImpl.on("addtrack",this._forwardEvent),this._videoImpl.on("change",this._forwardEvent),this._videoImpl.on("change",this._onCaptionsChanged),this._videoImpl.on("removetrack",this._forwardEvent),this._videoImpl.on("loadedmetadata",this._refreshSize),this._videoImpl.on("loadeddata",this._refreshSize),p?(l.on("enterfullscreen",this._forwardEnterFullScreenEvent),l.on("exitfullscreen",this._forwardExitFullScreenEvent),l.on("enterfullscreen",this._forwardFullScreenChangeEvent),l.on("exitfullscreen",this._forwardFullScreenChangeEvent),this.on("fullscreen:change",this._onFullscreenChange)):g&&(this._videoImpl.on("webkitbeginfullscreen",this._forwardEnterFullScreenEvent),this._videoImpl.on("webkitendfullscreen",this._forwardExitFullScreenEvent),this._videoImpl.on("webkitbeginfullscreen",this._forwardFullScreenChangeEvent),this._videoImpl.on("webkitendfullscreen",this._forwardFullScreenChangeEvent),m&&this.on("fullscreen:change",this._onFullscreenChange)),this._videoImpl.on("PlayPromiseError",this._onPlayPromiseError),this._videoImpl.on("PlayPromiseResolved",this._onPlayPromiseResolved)},L._onPlayPromiseResolved=function(){this.trigger("PlayPromiseResolved")},L._removeEventListeners=function(){for(var t=0,e=w.length;t<e;t++)this._videoImpl.off(w[t],this._forwardEvent);for(t=0,e=k.length;t<e;t++)this._videoImpl.off(k[t],this._forwardReadyStateChange);this._videoImpl.off("timeupdate",this._onTimeUpdate),this._videoImpl.off("webkitpresentationmodechanged",this._onPresentationModeChanged),this._videoImpl.off("durationchange",this._onDurationChange),p?(l.off("enterfullscreen",this._forwardEnterFullScreenEvent),l.off("exitfullscreen",this._forwardExitFullScreenEvent),l.off("enterfullscreen",this._forwardFullScreenChangeEvent),l.off("exitfullscreen",this._forwardFullScreenChangeEvent)):c.os.ios&&(this._videoImpl.off("webkitbeginfullscreen",this._forwardEnterFullScreenEvent),this._videoImpl.off("webkitendfullscreen",this._forwardExitFullScreenEvent),this._videoImpl.off("webkitbeginfullscreen",this._forwardFullScreenChangeEvent),this._videoImpl.off("webkitendfullscreen",this._forwardFullScreenChangeEvent)),this._videoImpl.off("PlayPromiseError",this._onPlayPromiseError)},L._forwardReadyStateChange=function(){var t=this.getReadyState();(t>this._cachedReadyState||0===t)&&(this._cachedReadyState=t,this.trigger("readystatechange",{readyState:t}))},L._forwardEvent=function(t){b(t.type+" time:"+this.getCurrentTime()),this.trigger(t.type)},L._forwardNamedEvent=function(t){b(t+" time:"+this.getCurrentTime()),this.trigger(t)},L._onPlayPromiseError=function(){b("play() Promise rejected, probably because the browser is blocking autoplay"),this.el.classList.add("initial-play"),this._showStartState(),this.once("play",this._onPlay)},L._onCaptionsChanged=function(t){var e=this.getVisibleTextTracks().length;e>0&&0===this._cachedVisibleTracksLength?this.trigger("texttrackshow"):0===e&&this._cachedVisibleTracksLength>0&&this.trigger("texttrackhide"),this._cachedVisibleTracksLength=e},L._onTimeUpdate=function(){this.trigger("timeupdate",{currentTime:this.getCurrentTime()})},L.load=function(t,e,i,n){if(this.refreshSize(),Array.isArray(t)||(t=[t]),e&&!Array.isArray(e)&&(e=[{src:e}]),this._cachedReadyState=0,n||(n=this.options),this._urlOptimizer){e||(e=t.map(this._urlOptimizer.getCaptionsSource).filter(function(t){return!!t}));var r=this.getVisibleTextTracks();r&&r.length&&e&&e.length&&(e[0].mode="showing");var s=n.maxWidth||this._calcMaxWidth();t=t.map(function(t){return this._urlOptimizer.getVideoSource(t,s,null,{maxWidth:this._maxWidth})}.bind(this))}var o=n&&n.thumbnails||this._urlOptimizer&&this._urlOptimizer.getThumbnailImageSource(t[0]);this.once("play",this._onPlay),this._poster&&this._poster.show(),(this.options.autoplay&&p||this.getEnded())&&this.once("loadstart",function(){this.play()}.bind(this)),n||(n=this.options),n&&this.setPoster(n.poster),this._poster&&this._poster.show(),this.controls&&this.controls.sharingModule&&(n.sharing?this.controls.sharingModule.setData(n.sharing):this.controls.sharingModule.setData(null)),void 0!==n.live&&(this._isLive=n.live,this._useLiveMode()),this._hideEndState(),this._videoImpl.load(t,e,i),this.controls&&this.controls.overlays?this.controls.overlays.setData(o):this.controls&&this.once("controlsready",function(){this.controls.overlays&&this.controls.overlays.setData(o)}.bind(this)),this.controls&&this.controls.endState?this.controls.endState.setData(n.endState):this.controls&&this.once("controlsready",function(){this.controls.endState&&this.controls.endState.setData(n.endState)}.bind(this))},L._calcMaxWidth=function(){return this.el.parentElement?this.el.parentElement.clientWidth:this._maxWidth},L._isActiveArea=function(t){for(;t!==this.el;){if(t.hasAttribute("data-acv-active-area"))return!0;t=t.parentNode}return!1},L._onPresentationModeChanged=function(t){this._forwardEvent(t);var e=this.isPictureInPicture();this._cachedPiPMode!==e&&(this._cachedPiPMode=e,b("pictureinpicture:change to "+e),this.trigger("pictureinpicture:change"))},L._onDurationChange=function(t){this.getDuration()>3600&&this.el.classList.add("longform"),this.refreshSize()},L.appendTo=function(t){t.appendChild(this.el),this.refreshSize()},L.getTextTracks=function(){return Array.prototype.slice.call(this._videoImpl.getTextTracks())},L.getVisibleTextTracks=function(){var t=Array.prototype.slice.call(this._videoImpl.getTextTracks());return t&&t.length&&(t=t.filter(function(t){return"showing"===t.mode})),t},L.getFullScreenElement=function(){return p?this.el:this.getMediaElement()},L.getFullScreenEnabled=function(){return l.fullscreenEnabled(this.getFullScreenElement())},L.isFullscreen=function(){return p?l.fullscreenElement()===this.getFullScreenElement():this._videoImpl.isFullscreen()},L.requestFullscreen=function(){if(!this.isFullscreen()){this.controls&&(this.controls.el.display="none"),this._hideControls(),this.trigger("fullscreen:willenter",{type:"enter"}),this._lastResize=Date.now(),d(this._updateFullscreenId);var t=this;this._updateFullscreenId=u(function e(){t.refreshSize(),t._updateFullscreenId=u(e)}),v?setTimeout(function(){this._lastResize=Date.now(),l.requestFullscreen(this.getFullScreenElement())}.bind(this),300):l.requestFullscreen(this.getFullScreenElement())}},L.exitFullscreen=function(){this.isFullscreen()&&(this.controls&&(this.controls.el.display="none"),this._hideControls(),this.trigger("fullscreen:willexit",{type:"exit"}),v?setTimeout(function(){l.exitFullscreen(this.getFullScreenElement())}.bind(this),300):l.exitFullscreen(this.getFullScreenElement()))},L._onFullscreenChange=function(){this._lastResize=Date.now(),this.controls&&(this.controls.el.display=""),this._hideControls(),this._preventUserInteraction=!0,setTimeout(function(){d(this._updateFullscreenId),this._preventUserInteraction=!1,this.refreshSize()}.bind(this),750),this.refreshSize()},L.toggleFullscreen=function(){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()},L._initUIComponents=function(){this._controlsFactory?(this._instantiateDefaultCustomUIControls(),p?this.el.appendChild(this._blockade.el):(this.controls.el.classList.add("mobile"),this.setControls(!0))):this.setControls(!0)},L._showControls=function(){this._controlsVisible=!0,this.el.classList.remove("initial-play"),this.el.classList.add("user-hover")},L._hideControls=function(){this._controlsVisible=!1,this.el.classList.remove("user-hover"),this.hideCaptionsSelector()},L._raiseControls=function(){this._controlsVisible=!0,this.el.classList.remove("mouse-leave")},L._lowerControls=function(){this._controlsVisible=!1,this.el.classList.add("mouse-leave"),this.hideCaptionsSelector()},L._onControlsReady=function(){this.options.autoplay&&p||this._showStartState()},L._showStartState=function(){this.controls&&this.controls.el.classList.add("start-state"),this._poster&&this._poster.show(),p||C(this.getMediaElement())},L._hideStartState=function(){this.controls&&this.controls.el.classList.remove("start-state"),this._poster&&this._poster.hide(),p||T(this.getMediaElement())},L._showEndState=function(){this.controls&&(this.controls.mainControlsElement?this.controls.mainControlsElement.contains(document.activeElement)&&setTimeout(function(){this.controls.playButtonElement.focus()}.bind(this)):this.el.contains(document.activeElement)&&!this.controls.sharingModule.el.contains(document.activeElement)&&setTimeout(function(){this.controls.playButtonElement.focus()}.bind(this)),this.controls.el.classList.add("end-state")),this._poster&&this._poster.show(),C(this.getMediaElement())},L._hideEndState=function(){this.controls&&this.controls.el.classList.remove("end-state"),p||T(this.getMediaElement())},L._createBlockade=function(){this._blockade=new o(document.createElement("div")),this._blockade.el.classList.add("ac-video-blockade")},L._instantiateDefaultCustomUIControls=function(){return this.controls=this._controlsFactory.create({player:this,endState:this.options.endState,enableMainControls:p,basePath:this.options.localizationBasePath,template:this.options.template,readyCallback:function(){this.options.autoplay&&p||this._showStartState(),this.trigger("controlsready")}.bind(this)}),this.controls.el.parentNode!==this.el&&this.el.appendChild(this.controls.el),this._videoImpl.setControls(!1),this._createBlockade(),this._controlsInteraction=E({player:this,keyboardControl:this._keyboardControl,controlsTimeoutDuration:this.options.controlsTimeoutDuration,showControls:this._showControls,hideControls:this._hideControls,raiseControls:this._raiseControls,lowerControls:this._lowerControls,controlsVisible:function(){return this._controlsVisible}.bind(this),sendMouseDown:this._videoImpl.sendMouseDown,elementEmitter:this._elementEmitter}),this.controls},L._onPlay=function(){_?this.once("timeupdate",this._onStart,function(){return this.getCurrentTime()>0}.bind(this)):this.once("timeupdate",this._onStart)},L.isCaptionsSelectorShowing=function(){return this.controls.el.classList.contains("captions-selector-showing")},L.showCaptionsSelector=function(){this.controls.el.classList.add("captions-selector-showing")},L.hideCaptionsSelector=function(){this.controls.el.classList.remove("captions-selector-showing")},L._onStart=function(){this.el.classList.add("initial-play"),this._poster&&this._poster.hide(),this.controls&&(this._hideStartState(),this._hideEndState()),this.once("ended",this._onEnded)},L._onEnded=function(){this.isFullscreen()&&this.exitFullscreen(),this.controls&&(this._hideStartState(),this._showEndState()),setTimeout(function(){this.once("timeupdate",this._onStart)}.bind(this),300),this._poster&&this._poster.show()},L._initPoster=function(t){this._poster=h({player:this,video:this._videoImpl,useNativePoster:!1===this.options.controls,is2x:f,src:t}),this._poster.el&&this.el.appendChild(this._poster.el),this.options.autoplay||this._poster.show()},L._useLiveMode=function(){this._isLive?this.el.classList.add("ac-video-live"):this.el.classList.remove("ac-video-live")},L.once=function(t,e,i){if(arguments.length<3||"object"===r(i))I.once.apply(this,arguments);else{var n=arguments,s=Array.prototype.slice.call(arguments,2),o=function(){s.every(function(t){return!!t()})&&(n[1].apply(this,n),this.off(n[0],o))}.bind(this);this.on(n[0],o)}},L.getMediaElement=function(){return this._videoImpl.getMediaElement()},L.play=function(){b("play called"),this._videoImpl.play()},L.pause=function(){this._videoImpl.pause()},L.seek=function(t){this.setCurrentTime.apply(this,arguments)},L.addTextTrack=function(t){this._videoImpl.addTextTrack(t)},L.getReadyState=function(){return this._videoImpl.getMediaElement().readyState},L.getPreload=function(){return this._videoImpl.getPreload()},L.setPoster=function(t){this._poster.setSrc(t)},L.getPoster=function(){this._poster.getSrc()},L.getVolume=function(){return this._videoImpl.getVolume()},L.getMuted=function(){return this._videoImpl.getMuted()},L.getCurrentTime=function(){return this._videoImpl.getCurrentTime()},L.getDuration=function(){return this._videoImpl.getDuration()},L.getPaused=function(){return this._videoImpl.getPaused()},L.getEnded=function(){return this._videoImpl.getEnded()},L.setCurrentTime=function(t){return this._videoImpl.setCurrentTime(t)},L.setVolume=function(t){return this.trigger("uservolumechange"),this._videoImpl.setVolume(t)},L.setMuted=function(t){this.trigger("uservolumechange"),this._videoImpl.setMuted(t)},L.setSrc=function(t){this._videoImpl.setSrc(t)},L.getCurrentSrc=function(){return this._videoImpl.getCurrentSrc()},L.setControls=function(t){return this._videoImpl.setControls(t)},L.getMediaHeight=function(){return this._videoImpl.getMediaElement().videoHeight},L.getMediaWidth=function(){return this._videoImpl.getMediaElement().videoWidth},L.supportsPictureInPicture=function(){return this._videoImpl.supportsPictureInPicture()},L.isPictureInPicture=function(){return this._videoImpl.isPictureInPicture()},L.setPictureInPicture=function(t){return this._videoImpl.setPictureInPicture(t)},L.supportsAirPlay=function(){return this._videoImpl.supportsAirPlay()},L.isLive=function(){return this._isLive},L.refreshSize=function(){this._breakpointDetect?this._breakpointDetect.refresh():(this._currentBreakpoint&&this.el.classList.remove(this._currentBreakpoint.name),this._currentBreakpoint=S.getBreakpointFromElement(this.el,y),this.el.classList.add(this._currentBreakpoint.name)),this._videoImpl.refreshSize()},L.destroy=function(){this._removeEventListeners(),this.controls&&(this.controls.destroy(),this.controls=null),this.el.innerHTML="",this._breakpointDetect&&this._breakpointDetect.destroy(),this._videoImpl.destroy(),this._videoImpl=null,clearTimeout(this._refreshSizeTimeout),s.prototype.destroy.call(this)},t.exports=O},function(t,e,i){"use strict";var n=i(163),r=i(974),s=i(165),o=window.document,a=function(t){this._videoElement=t&&t.mediaElement?t.mediaElement:o.createElement("video"),this.options=t||{},this._textTracks=r(t),this._initElement(),n.apply(this,[this._videoElement]),this._forwardCaptionEvent=this._forwardCaptionEvent.bind(this),this._textTracksEmitter=this.getTextTracksEventEmitter(),this._textTracksEmitter.on("addtrack",this._forwardCaptionEvent),this._textTracksEmitter.on("change",this._forwardCaptionEvent),this._textTracksEmitter.on("removetrack",this._forwardCaptionEvent)},c=a.prototype=Object.create(n.prototype);c._initElement=function(){this._videoElement.classList.add("ac-video-media-controller"),null!==this.options.crossorigin&&this._videoElement.setAttribute("crossorigin",this.options.crossorigin?this.options.crossorigin:"anonymous"),this._videoElement.setAttribute("preload",this.options.preload||"auto"),this._videoElement.setAttribute("x-webkit-airplay","")},c._forwardCaptionEvent=function(t){this.trigger(t.type)},c.load=function(t,e,i){i&&(t=t.map(function(t){return t+"#t="+i})),this._createSourceTags(t),this._createTextTrackTags(e),this._videoElement.load()},c._createSourceTags=function(t){this._videoElement.removeAttribute("src"),this._videoElement.innerHTML="";var e=0,i=t.length;for(i&&this._videoElement.setAttribute("src",t[0]);e<i;e++){var n=o.createElement("source");n.src=t[e],this._videoElement.appendChild(n)}},c.play=function(){try{var t=this._videoElement.play();t&&"function"==typeof t.catch&&(t.catch(function(e){this._playPromise===t&&this.trigger("PlayPromiseError")}.bind(this)),t.then(function(){this.trigger("PlayPromiseResolved")}.bind(this),function(t){s(t)})),this._playPromise=t}catch(t){s(t)}},c.refreshSize=function(){},c.pause=function(){this._playPromise=null,this._videoElement.pause()},c.addTextTrack=function(t){this._addTextTrackTag(t)},c.removeTextTrack=function(t){this._removeTextTrackTag(t)},c.getRenderElement=function(){return this.getMediaElement()},c.getMediaElement=function(){return this._videoElement},c._createTextTrackTags=function(){return this._textTracks.create.apply(this,arguments)},c._addTextTrackTag=function(){return this._textTracks.add.apply(this,arguments)},c._removeTextTrackTag=function(){return this._textTracks.remove.apply(this,arguments)},c.getTextTracks=function(){return this._textTracks.get.apply(this,arguments)},c.getTextTracksEventEmitter=function(){return this._textTracks.getEmitter.apply(this,arguments)},c.getReadyState=function(){return this._videoElement.readyState},c.getPreload=function(){return this._videoElement.preload},c.setPreload=function(t){return this._videoElement.preload=t},c.setPoster=function(t){this._videoElement.poster=t},c.getVolume=function(){return this._videoElement.volume},c.getMuted=function(){return this._videoElement.muted},c.getPaused=function(){return this._videoElement.paused},c.getCurrentTime=function(){return this._videoElement.currentTime},c.getDuration=function(){return this._videoElement.duration},c.setCurrentTime=function(t){return this._videoElement.currentTime=t},c.setVolume=function(t){return this._videoElement.volume=t},c.setMuted=function(t){this._videoElement.muted=t},c.getEnded=function(){return this._videoElement.ended},c.setSrc=function(t){this._videoElement.childNodes.length&&t===this._getSrcNode().url||this._createSourceTags([t])},c.advanceLiveStream=function(){},c.getCurrentSrc=function(){return this._getSrcNode()},c._getSrcNode=function(){return this._videoElement.childNodes[0]},c.setControls=function(t){t?(this._videoElement.setAttribute("controls",""),this._videoElement.removeAttribute("aria-hidden")):(this._videoElement.removeAttribute("controls"),this._videoElement.setAttribute("aria-hidden","true"))},c.isFullscreen=function(){return this._videoElement.webkitDisplayingFullscreen},c.supportsPictureInPicture=function(){return"function"==typeof this._videoElement.webkitSetPresentationMode},c.isPictureInPicture=function(){return"picture-in-picture"===this._videoElement.webkitPresentationMode},c.setPictureInPicture=function(t){this.supportsPictureInPicture()&&this._videoElement.webkitSetPresentationMode(t?"picture-in-picture":"inline")},c.supportsAirPlay=function(){return!!window.WebKitPlaybackTargetAvailabilityEvent},c.destroy=function(){this._textTracks&&this._textTracks.destroy(),this._textTracksEmitter&&(this._textTracksEmitter.off("addtrack",this._forwardCaptionEvent),this._textTracksEmitter.off("change",this._forwardCaptionEvent),this._textTracksEmitter.off("removetrack",this._forwardCaptionEvent)),this._textTracks=null,this._textTracksEmitter=null,this._videoElement=null},t.exports=a},,function(t,e,i){"use strict";var n=i(164),r={addLeadingZero:function(t,e){if(e=e||2,t<10||e>2)for(t=String(t);t.length<e;)t="0"+t;return t},formatTime:function(t,e,i){return isNaN(t)?"00:00":(t=this.splitTime(Math.floor(t),e,function(t){return this.addLeadingZero(t,i)}.bind(this)),n(e>=3600?"{PN}{hours}:{minutes}:{seconds}":"{PN}{minutes}:{seconds}",{PN:t.negativeModifier,hours:t.hours,minutes:t.minutes,seconds:t.seconds}))},splitTime:function(t,e,i){i=i||function(t){return t};var n={negativeModifier:"",hours:0,minutes:0,seconds:0};if(isNaN(t))return n;for(var r in n.negativeModifier=t<0?"-":"",t=Math.abs(t),n.hours=e>=3600?Math.floor(t/3600):0,n.minutes=n.hours?Math.floor(t/60%60):Math.floor(t/60),n.seconds=t%60,n)"number"==typeof n[r]&&"hours"!==r&&(n[r]=i(n[r]));return n},stringToNumber:function(t){for(var e=0,i=t.split(":");i.length;)3===i.length?e+=3600*parseFloat(i.shift()):2===i.length?e+=60*parseFloat(i.shift()):e+=parseFloat(i.shift());return e}};t.exports=r},,,,function(t,e,i){"use strict";var n=["-webkit-","-moz-","-ms-"],r=["Webkit","Moz","ms"],s=["webkit","moz","ms"],o=function(){this.initialize()},a=o.prototype;a.initialize=function(){this.reduced=!1,this.css=n,this.dom=r,this.evt=s},a.reduce=function(t){this.reduced||(this.reduced=!0,this.css=[this.css[t]],this.dom=[this.dom[t]],this.evt=[this.evt[t]])},t.exports=new o},function(t,e,i){
/*! MIT License
 *
 * performance.now polyfill
 * copyright Paul Irish 2015
 *
 */
i(524),function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}}()},,function(t,e,i){"use strict";t.exports=function(t){var e;if((t=t||window)===window){if(e=window.pageXOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollLeft}},function(t,e,i){"use strict";t.exports=function(t){var e;if((t=t||window)===window){if(e=window.pageYOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollTop}},function(t,e,i){"use strict";var n=i(544);t.exports=function(t,e){var i,r=document.documentElement.clientHeight,s=n(t,e);return s.top>=r||s.bottom<=0?0:(i=s.bottom-s.top,s.top<0&&(i+=s.top),s.bottom>r&&(i-=s.bottom-r),i)}},function(t,e,i){"use strict";var n=i(225);t.exports=n.requestAnimationFrame("draw")},function(t,e,i){"use strict";var n=i(1066),r=i(1071),s=i(1072),o=i(1073),a=i(1074),c=i(1075),l=i(1076),h=i(1077),u=i(1078),d=i(1079),f=i(1080),p=i(1081);t.exports={FACEBOOK_SHARE:n,PINTEREST_SHARE:r,TUMBLR_SHARE:s,TWITTER_FAVORITE:o,TWITTER_REPLY:a,TWITTER_RETWEET:c,TWITTER_TWEET:l,WEIBO_SHARE:h,QQWEIBO_SHARE:u,QZONE_SHARE:d,RENREN_SHARE:f,EMAIL_SHARE:p}},function(t,e,i){"use strict";var n,r=i(1086),s=i(1087),o=window.document.documentElement;try{n=window.top.document.documentElement}catch(t){n=o}var a=i(510),c={},l=function(t){var e,i;try{e=t||n.getAttribute("lang")}catch(t){e=o.getAttribute("lang")}if(e)switch(e.toLowerCase()){case"es-418":i="es-LA";break;case"pt":i="pt-BR";break;default:i=e}else i="en-US";return i},h=function(t){return t=l(t),void 0!==c[t]};t.exports={getLanguage:l,getTranslation:function(t){var e=l((t=t||{}).lang);if(h(e))return t.callback?void t.callback(c[e]):c[e];if(!t.callback)throw new Error("To use Localization.getTranslation you must either pass a callback or ensure the translation is ready via Localization.translationReady");var i=t.basePath||"/global/ac_media_player/scripts/ac_media_languages/",n=r[e]?i+r[e]:i+r["en-US"],o=s;a.get(n,{success:function(i){o=Object.assign(o,JSON.parse(i)),c[e]=o,t.callback(o)},error:function(){c[e]=o,t.callback(o)}})},translationReady:h}},,,,,,,,function(t,e,i){"use strict";var n=i(1106);t.exports={init:n.init,getInstance:n.getInstance,ActivityMapCollection:n.ActivityMapCollection}},function(t,e,i){"use strict";var n=i(556),r=i(1120),s=i(1121);function o(){this._regionSelectors=["[data-analytics-activitymap-region-id]","[data-analytics-section-engagement]","[data-card-analytics]"],this._globalRegionSelectors=['[data-analytics-region="buy strip"]',"#ac-globalnav","#ac-localnav","#ac-globalfooter","#chapternav"],this.createActivityMapCollection=this.createActivityMapCollection.bind(this),this.addElToCollection=this.addElToCollection.bind(this)}var a=o.prototype;a.init=function(t){this.AppMeasurement=t,this.AppMeasurement&&this.AppMeasurement.ac_amt&&("complete"!==document.readyState&&this.AppMeasurement.ac_amt.addListener?this.AppMeasurement.ac_amt.addListener("amc_DOMContentLoaded",document,"DOMContentLoaded",this.createActivityMapCollection):this.AppMeasurement.ac_amt.options&&this.AppMeasurement.ac_amt.options.reinitializeActivityMapCollection&&this.createActivityMapCollection())},a.createActivityMapCollection=function(){this.AppMeasurement=this.AppMeasurement||window.s,this.AppMeasurement&&(this.AppMeasurement.acAnalyticsActivityMapCollection=null,this.AppMeasurement.acAnalyticsActivityMapCollection=this._assembleActivityMapCollection())},a._createLinkData=function(t){var e=this._determineRegionName(t,this._globalRegionElements,this._regionSelectors);return{element:t,linkId:this._createLinkId(t,e.id),regionElement:e.el,regionName:e.id}},a.addElToCollection=function(t){var e=this._createLinkData(t);return this._addToActivityMapCollection(e)},a._addToActivityMapCollection=function(t){var e,i,n=!0,r=0;if(i=this.AppMeasurement.acAnalyticsActivityMapCollection.filter(function(e){return e.linkId===t.linkId})[0])i.linkId=i.linkId.concat(" - ","#",s.prefixCharacters(1)),t.linkId=t.linkId.concat(" - ","#",s.prefixCharacters(2));else for(;n;)r++,e=t.linkId.concat(" - ","#",s.prefixCharacters(r)),(i=this.AppMeasurement.acAnalyticsActivityMapCollection.filter(function(t){return t.linkId===e})[0])||(n=!1,r>1&&(t.linkId=e));this.AppMeasurement.acAnalyticsActivityMapCollection.push(t)},a._assembleActivityMapCollection=function(){this._globalRegionElements=s.getGlobalElements(this._globalRegionSelectors);for(var t=document.querySelectorAll("a, button"),e=[],i=0;i<t.length;i++){var n=this._createLinkData(t[i]);e.push(n)}return this._renameDuplicateIds(e)},a._renameDuplicateIds=function(t){for(var e={},i={},n=0;n<t.length;n++){var r=t[n].linkId;e[r]=e[r]?e[r]+1:1,e[r]>1?t[n].linkId=t[n].linkId+" - #"+s.prefixCharacters(e[r]):i[r]=n,2===e[r]&&(t[i[r]].linkId=t[i[r]].linkId+" - #01")}return t},a._determineRegionName=function(t,e,i){for(var o=null,a=null,c=0;c<e.length;c++)r(e[c],t)&&!o&&(a=(o=e[c]).id||o.getAttribute("data-analytics-region"));if(!o)for(var l=0;l<i.length;l++)if(o=n(t,i[l])){a=o.getAttribute(s.removeArrayBrackets(i[l])).replace("name:","");break}return o||(o=document.body,a="body"),{el:o,id:a}},a._createLinkId=function(t,e){var i=s.createLinkText(t),n=s.createLinkHref(t,this.AppMeasurement),r=s.limitStrLength(e,40);return s.createLinkId(i,n,r," - ")},t.exports=new o},,,,,,function(t,e){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})},,,,,,,function(t,e){
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
"document"in self&&("classList"in document.createElement("_")?function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e=t.Element.prototype,i=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},o=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},a=function(t){for(var e=n.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],r=0,s=i.length;r<s;r++)this.push(i[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=a.prototype=[],l=function(){return new a(this)};if(s.prototype=Error.prototype,c.item=function(t){return this[t]||null},c.contains=function(t){return-1!==o(this,t+="")},c.add=function(){var t,e=arguments,i=0,n=e.length,r=!1;do{t=e[i]+"",-1===o(this,t)&&(this.push(t),r=!0)}while(++i<n);r&&this._updateClassName()},c.remove=function(){var t,e,i=arguments,n=0,r=i.length,s=!1;do{for(t=i[n]+"",e=o(this,t);-1!==e;)this.splice(e,1),s=!0,e=o(this,t)}while(++n<r);s&&this._updateClassName()},c.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},c.toString=function(){return this.join(" ")},i.defineProperty){var h={get:l,enumerable:!0,configurable:!0};try{i.defineProperty(e,"classList",h)}catch(t){-2146823252===t.number&&(h.enumerable=!1,i.defineProperty(e,"classList",h))}}else i.prototype.__defineGetter__&&e.__defineGetter__("classList",l)}}(self))},,function(t,e){Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r})},,,,,,,,,,function(t,e,i){"use strict";t.exports={lerp:function(t,e,i){return e+(i-e)*t},map:function(t,e,i,n,r){return n+(r-n)*(t-e)/(i-e)},mapClamp:function(t,e,i,n,r){var s=n+(r-n)*(t-e)/(i-e);return Math.max(n,Math.min(r,s))},norm:function(t,e,i){return(t-e)/(i-e)},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},randFloat:function(t,e){return Math.random()*(e-t)+t},randInt:function(t,e){return Math.floor(Math.random()*(e-t)+t)}}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=i(180),h=i(93),u=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this,t,i))).keyframeType=h.KeyframeTypes.CSSClass,n._triggerType=e.TRIGGER_TYPE_CSS_CLASS,n.cssClass="",n.friendlyName="",n.style={on:null,off:null},n.toggle=!1,n.isApplied=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,l),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"parseOptions",value:function(t){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(t.x=void 0,t.y=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotation=void 0,t.opacity=void 0,t.hold=void 0,void 0!==t.toggle&&(this.toggle=t.toggle),void 0!==t.cssClass)this._triggerType=e.TRIGGER_TYPE_CSS_CLASS,this.cssClass=t.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===t.style||!this.isValidStyleProperty(t.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=e.TRIGGER_TYPE_STYLE_PROPERTY,this.style=t.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off)for(var i in this.style.off={},this.style.on)this.style.off[i]="";void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===t.end&&(t.end=t.start),t.toggle=this.toggle,this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{var n=getComputedStyle(this.controller.element);for(var r in this.isApplied=!0,this.style.on)if(n[r]!==this.style.on[r]){this.isApplied=!1;break}}l.prototype.parseOptions.call(this,t),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new h.TargetValue(0,1,!1)),this.keyframeType=h.KeyframeTypes.CSSClass}},{key:"updateLocalProgress",value:function(t){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&t>=this.start&&t<=this.end?this._apply():this.isApplied&&this.toggle&&(t<this.start||t>this.end)&&this._unapply():!this.isApplied&&t>=this.start?this._apply():this.isApplied&&this.toggle&&t<this.start&&this._unapply())}},{key:"_apply",value:function(){if(this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.on)this.controller.tweenProps.targetStyles[t]=this.style.on[t];this.controller.needsStyleUpdate=!0}this.isApplied=!0}},{key:"_unapply",value:function(){if(this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.off)this.controller.tweenProps.targetStyles[t]=this.style.off[t];this.controller.needsStyleUpdate=!0}this.isApplied=!1}},{key:"isValidStyleProperty",value:function(t){if(!t.hasOwnProperty("on"))return!1;if("object"!==r(t.on))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");if(this.toggle&&t.hasOwnProperty("off")&&"object"!==r(t.off))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");return!0}},{key:"reconcile",value:function(t,e){}},{key:"onDOMRead",value:function(t,e){}},{key:"updateAnimatedValueConstraints",value:function(){}}]),e}();u.TRIGGER_TYPE_CSS_CLASS=0,u.TRIGGER_TYPE_STYLE_PROPERTY=1,u.DATA_ATTRIBUTE="data-anim-classname",t.exports=u},function(t,e,i){"use strict";var n=i(254);t.exports=n.requestAnimationFrame("update")},function(t,e,i){"use strict";var n=i(254);t.exports=n.requestAnimationFrame("draw")},,function(t,e){Array.prototype.filter||(Array.prototype.filter=function(t,e){var i,n=Object(this),r=n.length>>>0,s=[];if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=0;i<r;i+=1)i in n&&t.call(e,n[i],i,n)&&s.push(n[i]);return s})},,function(t,e,i){"use strict";var n=0;function r(t,e){this.priority=e,this.data=t,this.insertionOrder=n++}var s=r.prototype;s.compareTo=function(t){return this.priority<t.priority?-1:this.priority>t.priority?1:this.insertionOrder<t.insertionOrder?-1:1},s.toString=function(){return"QueueItem {priority:"+this.priority+",\tdata:"+this.data+"\tinsertionOrder:"+this.insertionOrder+"}"},t.exports=r},,,,,,,,,,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t){return"x"===t?window.scrollX||window.pageXOffset:window.scrollY||window.pageYOffset}function o(t,e,i){return"x"===e?i?s("x"):t.scrollLeft:i?s("y"):t.scrollTop}t.exports=function(t,e){var i=r(t);e="string"===i?t:e;var n=(t=t&&"string"!==i?t:window)===window;return e&&/^[xy]$/i.test(e)?o(t,e,n):{x:o(t,"x",n),y:o(t,"y",n)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(12).EventEmitterMicro,r=function(){n.call(this)},s=n.prototype,o=r.prototype=Object.create(s);o.constructor=r,o.once=function(t,e,i){if(i){s.once.apply(this,[t,function(){e.apply(i,arguments)}])}else s.once.apply(this,arguments)},o.on=function(t,e,i){if(arguments.length>2){this._boundListeners||(this._boundListeners={}),this._boundListeners[t]||(this._boundListeners[t]=[]);var n=e.bind(i);return this._boundListeners[t].push([e,i,n]),s.on.call(this,t,n)}return s.on.apply(this,arguments)},o.off=function(t,e,i){if(!(arguments.length>2))return s.off.apply(this,arguments);try{for(var n=this._boundListeners[t],r=0,o=n.length;r<o;r++)if(n[r][0]===e&&n[r][1]===i){var a=n.splice(r,1)[0];return s.off.call(this,t,a[2])}}catch(t){}},o.destroy=function(){this._boundListeners=void 0,s.destroy.call(this)},t.exports=r},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=i(978),o=i(979),a=function(t){for(;t.length;)t.shift().destroy()},c=function(t,e,i){var n=s(t,e.view),r=o(n,e.behavior,i);return{view:n,behavior:r,destroy:function(t,e){"function"==typeof e.destroy&&e.destroy(),"function"==typeof t.destroy&&t.destroy()}.bind(null,n,r)}};t.exports=function(t,e,i){var n={};for(var s in e)if(e.hasOwnProperty(s)&&"object"===r(e[s])){var o=e[s],l=e.elementClassPrefix?"."+e.elementClassPrefix+"-"+o.className:"."+o.className,h=t.querySelectorAll(l);n[s]=[];for(var u=0,d=h.length;u<d;u++)n[s].push(c(h[u],o,i))}return{components:n,destroy:function(t){for(var e in t)t.hasOwnProperty(e)&&(a(t[e]),delete t[e])}.bind(null,n)}}},,,,function(t,e,i){"use strict";var n=function(t){this.el=t};n.prototype.setText=function(t){this.el.innerHTML=t},t.exports=n},,,,,function(t,e){Array.prototype.every||(Array.prototype.every=function(t,e){var i,n=Object(this),r=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=0;i<r;i+=1)if(i in n&&!t.call(e,n[i],i,n))return!1;return!0})},,function(t,e,i){"use strict";var n=i(1011),r=i(1012),s=i(1013),o=i(326),a={};t.exports=function t(e,i){var c,l,h;if(i=i||"div",e=e.toLowerCase(),i in a||(a[i]={}),e in(l=a[i]))return l[e];if(n(e,i))return l[e]=e;if(e in r)for(h=0;h<r[e].length;h++)if(c=r[e][h],n(c.toLowerCase(),i))return l[e]=c;for(h=0;h<o.evt.length;h++)if(c=o.evt[h]+e,n(c,i))return o.reduce(h),l[e]=c;return"window"!==i&&s.indexOf(e)?l[e]=t(e,"window"):l[e]=!1}},,,function(t,e,i){"use strict";var n,r=i(12).EventEmitterMicro,s=i(1020),o=i(525);function a(t){t=t||{},r.call(this),this.id=o.getNewID(),this.executor=t.executor||s,this._reset(),this._willRun=!1,this._didDestroy=!1}(n=a.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},n.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},n.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,t},n.willRun=function(){return this._willRun},n.isRunning=function(){return this._isRunning},n._subscribe=function(){return this.executor.subscribe(this)},n._unsubscribe=function(){return this.executor.unsubscribe(this)},n._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},n._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},n._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=a},function(t,e){Date.now||(Date.now=function(){return(new Date).getTime()})},function(t,e,i){"use strict";var n=i(99).SharedInstance,r=function(){this._currentID=0};r.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance","1.0.3",r)},,,,function(t,e,i){"use strict";var n=i(166),r=i(12).EventEmitterMicro,s=32,o=37,a=38,c=39,l=40,h=function(t){r.call(this),this._player=t.player,this._target=t.keyboardTarget||this._player.el,this._keyboard=new n(this._target),this._bindMethods(),this._addEventListeners()},u=r.prototype,d=h.prototype=Object.create(u);d._bindMethods=function(){this._onLeftArrowDown=this._onLeftArrowDown.bind(this),this._onRightArrowDown=this._onRightArrowDown.bind(this),this._onUpArrowDown=this._onUpArrowDown.bind(this),this._onDownArrowDown=this._onDownArrowDown.bind(this),this._onSpaceBarUp=this._onSpaceBarUp.bind(this),this._onSpaceBarDown=this._onSpaceBarDown.bind(this),this._onKeyboardInteraction=this._onKeyboardInteraction.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._boundKeyboardInteraction={},[s,o,c,a,l].forEach(function(t){this._boundKeyboardInteraction[t]=this._onKeyboardInteraction.bind(this,t)}.bind(this))},d._addEventListeners=function(){[s,o,c,a,l].forEach(function(t){this._keyboard.onDown(t,this._boundKeyboardInteraction[t])}.bind(this)),this._keyboard.onDown(s,this._onSpaceBarDown),this._keyboard.onDown(o,this._onLeftArrowDown),this._keyboard.onDown(c,this._onRightArrowDown),this._keyboard.onDown(a,this._onUpArrowDown),this._keyboard.onDown(l,this._onDownArrowDown),this._player.on("durationchange",this._onDurationChange)},d._removeEventListeners=function(){[s,o,c,a,l].forEach(function(t){this._keyboard.offDown(t,this._boundKeyboardInteraction[t])}.bind(this)),this._boundKeyboardInteraction=null,this._keyboard.offDown(s,this._onSpaceBarDown),this._keyboard.offUp(s,this._onSpaceBarUp),this._keyboard.offDown(o,this._onLeftArrowDown),this._keyboard.offDown(c,this._onRightArrowDown),this._keyboard.offDown(a,this._onUpArrowDownDown),this._keyboard.offDown(l,this._onDownArrowDown),this._player.off("durationchange",this._onDurationChange)},d._onKeyboardInteraction=function(){this._triggerKeyboardInteraction()},d._triggerKeyboardInteraction=function(){this.trigger("keyboardinteraction")},d._onDurationChange=function(){var t=this._player.getDuration();this._interval=t>=60?10:t>=20?5:1},d._onLeftArrowDown=function(t){t.originalEvent.preventDefault(),t.originalEvent.stopPropagation();var e=this._player.getCurrentTime();isNaN(e)||this._player.seek(Math.max(e-this._interval,0))},d._onRightArrowDown=function(t){t.originalEvent.preventDefault(),t.originalEvent.stopPropagation();var e=this._player.getCurrentTime();isNaN(e)||this._player.seek(Math.min(e+this._interval,this._player.getDuration()))},d._onUpArrowDown=function(t){if(!t.target.hasAttribute("aria-checked")){t.originalEvent.preventDefault(),t.originalEvent.stopPropagation();var e=this._player.getMuted()?0:this._player.getVolume(),i=Math.min(1,e+.1);this._player.setVolume(i),this._player.setMuted(!1)}},d._onDownArrowDown=function(t){if(!t.target.hasAttribute("aria-checked")){t.originalEvent.preventDefault(),t.originalEvent.stopPropagation();var e=this._player.getMuted()?0:this._player.getVolume(),i=Math.max(0,e-.1);this._player.setVolume(i),this._player.setMuted(0===Math.round(10*i))}},d._onSpaceBarDown=function(t){"BUTTON"!==t.target.tagName&&"button"!==t.target.getAttribute("role")&&(this._keyboard.offDown(s,this._onSpaceBarDown),this._keyboard.onUp(s,this._onSpaceBarUp))},d._onSpaceBarUp=function(){this._keyboard.offUp(s,this._onSpaceBarUp),this._player.getPaused()?this._player.play():this._player.pause(),this._keyboard.onDown(s,this._onSpaceBarDown)},d.destroy=function(){this._removeEventListeners(),this._keyboard.destroy(),u.destroy.call(this)},t.exports=h},,function(t,e,i){"use strict";var n=i(64),r=n.os.ios||n.os.android,s=i(532),o=i(533),a=i(1033);t.exports=function(t){return t.threesixty?r?new a(t):new o(t):new s(t)}},function(t,e,i){"use strict";i(100)();var n=function(t){this._player=t.player,this.el=this._player.el,this._showControls=t.showControls,this._hideControls=t.hideControls,this._raiseControls=t.raiseControls,this._lowerControls=t.lowerControls,this._sendMouseDown=t.sendMouseDown,this._controls=this._player.controls,this._controlsVisible=t.controlsVisible,this._controlsTimeoutDuration=t.controlsTimeoutDuration,this._keyboardControl=t.keyboardControl,this._lastMouseCoords={},this._elementEmitter=t.elementEmitter,this._bindMethods(),this._addEventListeners()},r=n.prototype;r._bindMethods=function(){this._onUserInteraction=this._onUserInteraction.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._onFullscreenWillExit=this._onFullscreenWillExit.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onClick=this._onClick.bind(this),this._onFocusIn=this._onFocusIn.bind(this),this._onFocusOut=this._onFocusOut.bind(this),this._onUserInteractionTimeout=this._onUserInteractionTimeout.bind(this)},r._addEventListeners=function(){this._controls.el.addEventListener("mousemove",this._onUserInteraction,!0),this._controls.el.addEventListener("click",this._onClick,!0),this._player.on("fullscreen:change",this._onFullscreenChange),this._player.on("fullscreen:willexit",this._onFullscreenWillExit),"onmouseleave"in this.el?this._controls.el.addEventListener("mouseleave",this._onMouseLeave):this._controls.el.addEventListener("mouseout",this._onMouseOut,!0),this._keyboardControl&&this._keyboardControl.on("keyboardinteraction",this._onUserInteraction),this._elementEmitter.on("focusin",this._onFocusIn),this._elementEmitter.on("focusout",this._onFocusOut)},r._removeEventListeners=function(){this._controls.el.removeEventListener("mousemove",this._onUserInteraction,!0),this._controls.el.removeEventListener("click",this._onClick,!0),this._player.off("fullscreen:change",this._onFullscreenChange),this._player.off("fullscreen:willexit",this._onFullscreenWillExit),"onmouseleave"in this.el?this._controls.el.removeEventListener("mouseleave",this._onMouseLeave):this._controls.el.removeEventListener("mouseout",this._onMouseOut,!0),this._keyboardControl&&this._keyboardControl.on("keyboardinteraction",this._onUserInteraction)},r._shouldIgnoreUserInteraction=function(t){return!!(t&&"focusin"!==t.type&&t.target&&this._isActiveArea(t.target))},r._onUserInteraction=function(t,e){!t||"click"!==t.type&&"focusin"!==t.type||this._player.isCaptionsSelectorShowing()&&!t.target.classList.contains("controls-text-tracks-toggle-button")&&"radio"!==t.target.getAttribute("role")&&"radiogroup"!==t.target.getAttribute("role")&&this._player.hideCaptionsSelector(),!this._player.getCurrentSrc()||this._preventUserInteraction||!e&&t&&"mousemove"===t.type&&this._lastMouseCoords.x===t.screenX&&this._lastMouseCoords.y===t.screenY||(t&&t.pageX&&(this._lastMouseCoords={x:t.screenX,y:t.screenY}),this._showControls(),this._raiseControls(),clearTimeout(this._userInteractionTimeout),this._shouldIgnoreUserInteraction(t)||(this._userInteractionTimeout=window.setTimeout(this._onUserInteractionTimeout,this._controlsTimeoutDuration)))},r._onUserInteractionTimeout=function(){this._hideControls()},r._onMouseLeave=function(t){window.clearTimeout(this._userInteractionTimeout),this._hideControls(),this._lowerControls(),this._lastMouseCoords={}},r._onMouseOut=function(t){this._controls.el.contains(t.target)||t.target===this._controls.el||this._onMouseLeave()},r._isActiveArea=function(t){for(;t!==this.el;){if(t.hasAttribute("data-acv-active-area"))return!0;t=t.parentNode}return!1},r._onClick=function(t){this._hasFocus=!1,this._onUserInteraction(t)},r._onFullscreenWillExit=function(){this.controls&&(this.controls.el.display="none")},r._onFullscreenChange=function(){this.controls&&(this.controls.el.display=""),this._hideControls(),this._lowerControls(),this._preventUserInteraction=!0,setTimeout(function(){this._preventUserInteraction=!1,this._player.refreshSize()}.bind(this),750),this._player.refreshSize()},r._onFocusIn=function(t){clearTimeout(this._focusOutTimer),this._focusOutTimer=null,this._hasFocus=!0,this._onUserInteraction(t)},r._onFocusOut=function(t){this._focusOutTimer=setTimeout(function(){this._hasFocus&&!this.el.contains(document.activeElement)&&(this._hasFocus=!1,this._hideControls(),this._lowerControls())}.bind(this),100)},r.destroy=function(){this._removeEventListeners()},t.exports=n},function(t,e,i){"use strict";var n=i(532),r=function(t){n.call(this,t),this._showCompass=t.showCompass,this._hideCompass=t.hideCompass,this._threesixtyElementsTimeoutDuration=t.threesixtyElementsTimeoutDuration||3e3,this._dragEndThreshold=500,this._mouseDownPosition=null},s=n.prototype,o=r.prototype=Object.create(s);o._bindMethods=function(){s._bindMethods.apply(this,arguments),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onDragging=this._onDragging.bind(this),this._onClick=this._onClick.bind(this)},o._addEventListeners=function(){s._addEventListeners.apply(this,arguments),this._controls.el.addEventListener("mousedown",this._onMouseDown),this._controls.el.addEventListener("click",this._onClick)},o._removeEventListeners=function(){s._removeEventListeners.apply(this,arguments),this._controls.el.removeEventListener("mousedown",this._onMouseDown)},o._onUserInteraction=function(t){this._userWasRecentlyDragging||t&&"mousemove"===t.type&&this._lastMouseCoords.x===t.screenX&&this._lastMouseCoords.y===t.screenY||this._dragging||(this._showCompass(),clearTimeout(this._userHideMouse),s._onUserInteraction.apply(this,arguments))},o._onUserInteractionTimeout=function(){s._onUserInteractionTimeout.apply(this,arguments),clearTimeout(this._userHideMouse),this._userHideMouse=setTimeout(function(){this._hideCompass()}.bind(this),this._threesixtyElementsTimeoutDuration)},o._onDragging=function(t){!this._dragging&&this._isActiveArea(t.target)||(this._dragging=!0,this._player.el.classList.add("dragging"),this._player.el.classList.add("recently-dragging"),this._recentDragTimeout=setTimeout(function(){this._dragging&&(this._hideControls(),this._userWasRecentlyDragging=!0,clearTimeout(this._dragTimer),this._dragTimer=setTimeout(function(){this._userWasRecentlyDragging=!1,this._player.el.classList.remove("recently-dragging")}.bind(this),this._dragEndThreshold))}.bind(this),30),clearTimeout(this._userInteractionTimeout),clearTimeout(this._userHideMouse))},o._isDraggable=function(t){return-1!==[this._player.controls.compass.el,this._player.controls.playButtonElement].indexOf(t)||this._player.controls.compass.el.contains(t)},o._onMouseDown=function(t){this._isActiveArea(t.target)&&this._controlsVisible()&&!this._isDraggable(t.target)||!this._isPlayingState()||(this._showControls(),clearTimeout(this._userHideMouse),clearTimeout(this._recentDragTimeout),this._player.el.classList.remove("dragging"),this._player.el.classList.remove("recently-dragging"),this._mouseDownPosition={x:t.x,y:t.y},window.addEventListener("mouseup",this._onMouseUp),window.addEventListener("mousemove",this._onDragging),this._sendMouseDown(t))},o._onMouseUp=function(t){window.removeEventListener("mousemove",this._onDragging),window.removeEventListener("mouseup",this._onMouseUp),this._dragging&&this._onUserInteractionTimeout(),this._player.el.contains(t.target)||this._hideCompass(),this._player.el.classList.remove("dragging"),this._dragging=!1},o._onMouseLeave=function(t){s._onMouseLeave.apply(this,arguments),this._userWasRecentlyDragging=!1,this._dragging||(clearTimeout(this._userHideMouse),this._hideCompass())},o._onClick=function(t){this._player.controls.compass.el.contains(t.target)&&this._userWasRecentlyDragging&&t.stopPropagation(),t.target!==this._player.controls.playButtonElement.parentElement&&t.target!==this._controls.el.firstElementChild||null===this._mouseDownPosition||this._mouseDownPosition.x!==t.x||this._mouseDownPosition.y!==t.y||(this._mouseDownPosition=null,this._mouseDownTime=1/0,this._dragging=!1,this._userWasRecentlyDragging=!1,clearTimeout(this._dragTimer),clearTimeout(this._recentDragTimeout))},o._isPlayingState=function(){return!this._player.controls.el.classList.contains("start-state")&&!this._player.controls.el.classList.contains("end-state")},t.exports=r},,,,,function(t,e,i){"use strict";var n=i(1036),r=n.split("."),s=r[2].split("-"),o=parseInt(r[0]),a=parseInt(r[1]),c=parseInt(r[2]);parseInt(s[1]);t.exports={toString:function(){return n},toArray:function(){return[o,a,c]},major:parseInt(r[0]),minor:parseInt(r[1]),patch:parseInt(s[0]),prerelease:s.length>1?parseInt(s[1]):null}},function(t,e,i){"use strict";var n=i(100)();t.exports=function(t){var e;(t?arguments.length>1&&(t=Object.assign.apply(null,Array.prototype.slice.apply(arguments))):t={},t.components||(t.components=i(540)),void 0===t.controls&&(t.controls=!0),t.controlsImplementation||(t.controlsImplementation=i(569)),t.controlsFactory||(t.controlsFactory=i(1188)({controlsImplementation:t.controlsImplementation,components:t.components,template:t.controlsTemplate})),(void 0!==t.urlOptimizer&&!0===t.urlOptimizer||"true"===t.urlOptimizer)&&(t.urlOptimizer=i(570)),t.sources||t.src?t.sources=t.sources?t.sources:t.src?[t.src]:[]:t.sources=[],t.autoplay=void 0!==t.autoplay?t.autoplay:n,t.controlsTimeoutDuration||(t.controlsTimeoutDuration=3e3),t.threesixty)?(t.threesixtyElementsTimeoutDuration||(t.threesixtyElementsTimeoutDuration=3e3),e=new(i(1193))(t)):e=new(i(319))(t);var r={};return t.sharing&&(r.sharing=Object.assign({},t.sharing)),t.thumbnails&&(r.thumbnails=Object.assign({},t.thumbnails)),t.endState&&(r.endState=Object.assign({},t.endState)),t.sources&&t.sources.length&&e.load(t.sources,t.textTracks,t.startTime,r),e}},function(t,e,i){"use strict";var n=i(541),r=i(1037),s=i(513),o=i(1038),a=i(1039),c=i(1046),l=i(1047),h=i(1048),u=i(1049),d=i(1050),f=i(1051),p=i(1052),m=i(1053),_=i(1055),g=i(1056),v=i(1057),y=i(1179),b=i(1180);t.exports={back30Seconds:{className:"back-30-seconds-button",view:{classDef:n}},fullScreen:{className:"full-screen-button",view:{classDef:r,options:{states:{initial:"fullscreen-unsupported",on:"is-fullscreen",off:""},labels:{initial:"fullscreen",on:"exitfullscreen",off:"fullscreen"}}},behavior:{classDef:p}},toggleMuteVolume:{className:"toggle-mute-volume-button",view:{classDef:r,options:{states:{initial:[],on:["is-muted"],off:[]}}},behavior:{classDef:l}},playPauseContainer:{className:"play-pause-button-container",view:{classDef:r,options:{states:{playing:["is-playing"],paused:[],ended:["is-ended"]}}},behavior:{classDef:h}},pictureInPictureToggle:{className:"picture-in-picture-button",view:{classDef:r,options:{states:{initial:["picture-in-picture-unsupported"],on:["is-picture-in-picture"],off:[]},labels:{initial:"pictureinpicture",on:"exitpictureinpicture",off:"pictureinpicture"}}},behavior:{classDef:u}},captionsToggle:{className:"text-tracks-toggle-button",view:{classDef:r,options:{states:{initial:["no-text-tracks"],on:["text-tracks-visible"],off:[]}}},behavior:{classDef:d}},captionsSelector:{className:"captions-selector",view:{classDef:o},behavior:{classDef:f}},airplayToggle:{className:"airplay-button",view:{classDef:r,options:{states:{initial:["airplay-unsupported"],on:["airplay-active"],off:[]}}},behavior:{classDef:y}},elapsedTimeIndicator:{className:"elapsed-time",view:{classDef:s}},remainingTimeIndicator:{className:"remaining-time",view:{classDef:s}},progressBar:{className:"progress-indicator",view:{classDef:a,options:{template:'<div class="ac-slider-runnable-track">\n\t<div class="ac-slider-hover-track">\n\t\t<div class="ac-slider-hover-notch"></div>\n\t</div>\n\t<div class="ac-slider-thumb">\n\t\t<div class="ac-slider-thumb-background-wrapper">\n\t\t\t<div class="ac-slider-thumb-background"></div>\n\t\t</div>\n\t</div>\n\t<div class="ac-slider-inner-track">\n\t\t<div class="ac-slider-scrubbed"></div>\n\t</div>\n</div>',min:0,max:1,mixins:[b],orientation:"horizontal"}},behavior:{classDef:m}},volumeLevel:{className:"volume-level-indicator",view:{classDef:a,options:{template:'<div class="ac-slider-runnable-track">\n\t<div class="ac-slider-background"></div>\n\t<div class="ac-slider-thumb-wrapper">\n\t\t<div class="ac-slider-thumb">\n\t\t\t<div class="ac-slider-thumb-background-wrapper">\n\t\t\t\t<div class="ac-slider-thumb-background"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="ac-slider-inner-track">\n\t\t<div class="ac-slider-scrubbed"></div>\n\t</div>\n</div>',min:0,max:100,mixins:[b],orientation:"vertical"}},behavior:{classDef:_}},sharing:{className:"sharing-button",view:{classDef:r,options:{states:{initial:["sharing-unsupported"],on:["is-sharing"],off:[]}}},behavior:{classDef:g}},socialShare:{className:"social-tray",view:{classDef:c,options:{}},behavior:{classDef:v}}}},function(t,e,i){"use strict";var n=i(163),r=function(t){this.el=t};r.prototype=Object.create(n.prototype),t.exports=r},function(t,e,i){"use strict";var n=i(227),r=i(168),s=i(329),o=i(330);t.exports=function(t,e){var i,a,c,l;if(e)return i=r(t),a=s(),c=o(),{top:i.top+c,right:i.right+a,bottom:i.bottom+c,left:i.left+a};for(l=n(t,e),i={top:t.offsetTop,left:t.offsetLeft,width:l.width,height:l.height};t=t.offsetParent;)i.top+=t.offsetTop,i.left+=t.offsetLeft;return{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}},function(t,e,i){"use strict";var n=i(227),r=i(331);t.exports=function(t,e){return r(t,e)/n(t,e).height}},function(t,e,i){"use strict";var n=i(542),r=i(168),s=i(329),o=i(330);t.exports=function(t,e){var i,a,c;return e?{top:(i=r(t)).top,right:i.right,bottom:i.bottom,left:i.left}:(i=n(t),a=s(),c=o(),{top:i.top-c,right:i.right-a,bottom:i.bottom-c,left:i.left-a})}},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return(n="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)})(t)}e.arrayToObject=function(t){for(var e={},i=0,n=t.length;i<n;++i)void 0!==t[i]&&(e[i]=t[i]);return e},e.merge=function(t,i){if(!i)return t;if("object"!==n(i))return Array.isArray(t)?t.push(i):t[i]=!0,t;if("object"!==n(t))return t=[t].concat(i);Array.isArray(t)&&!Array.isArray(i)&&(t=e.arrayToObject(t));for(var r=Object.keys(i),s=0,o=r.length;s<o;++s){var a=r[s],c=i[a];t[a]?t[a]=e.merge(t[a],c):t[a]=c}return t},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.compact=function(t,i){if("object"!==n(t)||null===t)return t;var r=(i=i||[]).indexOf(t);if(-1!==r)return i[r];if(i.push(t),Array.isArray(t)){for(var s=[],o=0,a=t.length;o<a;++o)void 0!==t[o]&&s.push(t[o]);return s}var c=Object.keys(t);for(o=0,a=c.length;o<a;++o){var l=c[o];t[l]=e.compact(t[l],i)}return t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},function(t,e){Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,n,r=Object(this);if("function"!=typeof t)throw new TypeError("No function object passed to forEach.");var s=this.length;for(i=0;i<s;i+=1)n=r[i],t.call(e,n,i,r)})},,,function(t,e,i){"use strict";var n=i(550),r=i(1094),s=i(551).ELEMENT;t.exports=function(t,e,i,o){if(r.childNode(t,"ancestors"),r.selector(e,"ancestors"),i&&n(t,s)&&(!e||t.matches(e)))return t;if(t!==(o=o||document.body))for(;(t=t.parentNode)&&n(t,s);){if(!e||t.matches(e))return t;if(t===o)break}return null}},function(t,e,i){"use strict";var n=i(1093);t.exports=function(t,e){return!!n(t)&&("number"==typeof e?t.nodeType===e:!!Array.isArray(e)&&-1!==e.indexOf(t.nodeType))}},function(t,e,i){"use strict";t.exports=Object.freeze({ELEMENT:1,TEXT:3,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11})},function(t,e,i){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;--i>=0&&e.item(i)!==this;);return i>-1})},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return(n="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)})(t)}!function(){function e(t){var e,i,n,r,s,o=window.s_c_il,a=t.split(","),c=0;if(o)for(i=0;!c&&i<o.length;){if("s_c"==(e=o[i])._c&&(e.account||e.oun))if(e.account&&e.account==t)c=1;else for(n=e.account?e.account:e.oun,n=e.allAccounts?e.allAccounts:n.split(","),r=0;r<a.length;r++)for(s=0;s<n.length;s++)a[r]==n[s]&&(c=1);i++}return c?e.setAccount&&e.setAccount(t):e=new AppMeasurement(t),e}function i(){var t,i,n,r=window,s=r.s_giq;if(s)for(t=0;t<s.length;t++)(n=e((i=s[t]).oun)).setAccount(i.un),n.setTagContainer(i.tagContainerName);r.s_giq=0}window.AppMeasurement_Module_ActivityMap=function(t){function e(t,e){var i,n,r;if(t&&e&&(i=s.c[e]||(s.c[e]=e.split(","))))for(r=0;r<i.length&&(n=i[r++]);)if(-1<t.indexOf(n))return null;return a=1,t}function i(e,i,n,r,s){var o,a,c,l;if((e.dataset&&(a=e.dataset[i])?o=a:e.getAttribute&&((a=e.getAttribute("data-"+n))?o=a:(a=e.getAttribute(n))&&(o=a)),!o&&t.useForcedLinkTracking&&s&&(o="",i=e.onclick?""+e.onclick:""))&&0<=(n=i.indexOf(r))){for(n+=10;n<i.length&&0<="= \t\r\n".indexOf(i.charAt(n));)n++;if(n<i.length){for(a=n,c=l=0;a<i.length&&(";"!=i.charAt(a)||c);)c?i.charAt(a)!=c||l?l="\\"==i.charAt(a)?!l:0:c=0:'"'!=(c=i.charAt(a))&&"'"!=c&&(c=0),a++;(i=i.substring(n,a))&&(e.e=new Function("s","var e;try{s.w."+r+"="+i+"}catch(e){}"),e.e(t))}}return o||s&&t.w[r]}function n(t,i,n){var o;return(o=s[i](t,n))&&(a?(a=0,o):e(r(o),s[i+"Exclusions"]))}function r(t){if(null==t||void 0==t)return t;try{return t.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r -\u2028\u2029\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r -\u2028\u2029\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r -\u2028\u2029\ufeff]{1,}","mg")," ").substring(0,254)}catch(t){}}var s=this;s.s=t;var o=window;o.s_c_in||(o.s_c_il=[],o.s_c_in=0),s._il=o.s_c_il,s._in=o.s_c_in,s._il[s._in]=s,o.s_c_in++,s._c="s_m",s.c={};var a=0,c={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};s._g=function(){var e,i,r,s=t.contextData,o=t.linkObject;(e=t.pageName||t.pageURL)&&(i=n(o,"link",t.linkName))&&(r=n(o,"region"))&&(s["a.activitymap.page"]=e.substring(0,255),s["a.activitymap.link"]=128<i.length?i.substring(0,128):i,s["a.activitymap.region"]=127<r.length?r.substring(0,127):r,s["a.activitymap.pageIDType"]=t.pageName?1:0)},s.link=function(t,n){var o;if(n)o=e(r(n),s.linkExclusions);else if((o=t)&&!(o=i(t,"sObjectId","s-object-id","s_objectID",1))){var a,l;(l=e(r(t.innerText||t.textContent),s.linkExclusions))||(function t(e,i,n){var r;if(e&&!(1===(r=e.nodeType)&&(r=e.nodeName)&&(r=r.toUpperCase())&&c[r])&&(1===e.nodeType&&(r=e.nodeValue)&&(i[i.length]=r),n.a||n.t||n.s||!e.getAttribute||((r=e.getAttribute("alt"))?n.a=r:(r=e.getAttribute("title"))?n.t=r:"IMG"==(""+e.nodeName).toUpperCase()&&(r=e.getAttribute("src")||e.src)&&(n.s=r)),(r=e.childNodes)&&r.length))for(e=0;e<r.length;e++)t(r[e],i,n)}(t,a=[],o={a:void 0,t:void 0,s:void 0}),(l=e(r(a.join(""))))||(l=e(r(o.a?o.a:o.t?o.t:o.s?o.s:void 0)))||!(a=(a=t.tagName)&&a.toUpperCase?a.toUpperCase():"")||("INPUT"==a||"SUBMIT"==a&&t.value?l=e(r(t.value)):"IMAGE"==a&&t.src&&(l=e(r(t.src))))),o=l}return o},s.region=function(t){for(var e,n=s.regionIDAttribute||"id";t&&(t=t.parentNode);){if(e=i(t,n,n,n))return e;if("BODY"==t.nodeName)return"BODY"}}},window.AppMeasurement=function(t){var e=this;e.version="2.7.0";var i=window;i.s_c_in||(i.s_c_il=[],i.s_c_in=0),e._il=i.s_c_il,e._in=i.s_c_in,e._il[e._in]=e,i.s_c_in++,e._c="s_c";var r=i.AppMeasurement.Rb;r||(r=null);var s,o,a,c=i;try{for(s=c.parent,o=c.location;s&&s.location&&o&&""+s.location!=""+o&&c.location&&""+s.location!=""+c.location&&s.location.host==o.host;)s=(c=s).parent}catch(t){}e.F=function(t){try{console.log(t)}catch(t){}},e.Ma=function(t){return""+parseInt(t)==""+t},e.replace=function(t,e,i){return!t||0>t.indexOf(e)?t:t.split(e).join(i)},e.escape=function(t){var i,n;if(!t)return t;for(t=encodeURIComponent(t),i=0;7>i;i++)n="+~!*()'".substring(i,i+1),0<=t.indexOf(n)&&(t=e.replace(t,n,"%"+n.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=0<=t.indexOf("+")?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(t){}return unescape(t)},e.yb=function(){var t,n=i.location.hostname,r=e.fpCookieDomainPeriods;if(r||(r=e.cookieDomainPeriods),n&&!e.Ea&&!/^[0-9.]+$/.test(n)&&(r=2<(r=r?parseInt(r):2)?r:2,0<=(t=n.lastIndexOf(".")))){for(;0<=t&&1<r;)t=n.lastIndexOf(".",t-1),r--;e.Ea=0<t?n.substring(t):n}return e.Ea},e.c_r=e.cookieRead=function(t){t=e.escape(t);var i=" "+e.d.cookie,n=i.indexOf(" "+t+"="),r=0>n?n:i.indexOf(";",n);return"[[B]]"!=(t=0>n?"":e.unescape(i.substring(n+2+t.length,0>r?i.length:r)))?t:""},e.c_w=e.cookieWrite=function(t,i,n){var r,s=e.yb(),o=e.cookieLifetime;return i=""+i,o=o?(""+o).toUpperCase():"",n&&"SESSION"!=o&&"NONE"!=o&&((r=""!=i?parseInt(o||0):-60)?(n=new Date).setTime(n.getTime()+1e3*r):1==n&&(r=(n=new Date).getYear(),n.setYear(r+5+(1900>r?1900:0)))),t&&"NONE"!=o?(e.d.cookie=e.escape(t)+"="+e.escape(""!=i?i:"[[B]]")+"; path=/;"+(n&&"SESSION"!=o?" expires="+n.toUTCString()+";":"")+(s?" domain="+s+";":""),e.cookieRead(t)==i):0},e.ub=function(){var t=e.Util.getIeVersion();"number"==typeof t&&10>t&&(e.unsupportedBrowser=!0,e.jb(e,function(){}))},e.jb=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"function"==typeof t[i]&&(t[i]=e)},e.L=[],e.ia=function(t,i,n){if(e.Fa)return 0;e.maxDelay||(e.maxDelay=250);var r=0,s=(new Date).getTime()+e.maxDelay,o=e.d.visibilityState,a=["webkitvisibilitychange","visibilitychange"];if(o||(o=e.d.webkitVisibilityState),o&&"prerender"==o){if(!e.ja)for(e.ja=1,n=0;n<a.length;n++)e.d.addEventListener(a[n],function(){var t=e.d.visibilityState;t||(t=e.d.webkitVisibilityState),"visible"==t&&(e.ja=0,e.delayReady())});r=1,s=0}else n||e.p("_d")&&(r=1);return r&&(e.L.push({m:t,a:i,t:s}),e.ja||setTimeout(e.delayReady,e.maxDelay)),r},e.delayReady=function(){var t,i=(new Date).getTime(),n=0;for(e.p("_d")?n=1:e.xa();0<e.L.length;){if(t=e.L.shift(),n&&!t.t&&t.t>i){e.L.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.Fa=1,e[t.m].apply(e,t.a),e.Fa=0}},e.setAccount=e.sa=function(t){var i,n;if(!e.ia("setAccount",arguments))if(e.account=t,e.allAccounts)for(i=e.allAccounts.concat(t.split(",")),e.allAccounts=[],i.sort(),n=0;n<i.length;n++)0!=n&&i[n-1]==i[n]||e.allAccounts.push(i[n]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,i){var n,r,s,o,a="";for(s=r="",e.lightProfileID?(n=e.P,(a=e.lightTrackVars)&&(a=","+a+","+e.na.join(",")+",")):(n=e.g,(e.pe||e.linkType)&&(a=e.linkTrackVars,r=e.linkTrackEvents,e.pe&&(s=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[s]&&(a=e[s].Pb,r=e[s].Ob))),a&&(a=","+a+","+e.H.join(",")+","),r&&a&&(a+=",events,")),i&&(i=","+i+","),r=0;r<n.length;r++)s=n[r],(o=e[s])&&(!a||0<=a.indexOf(","+s+","))&&(!i||0<=i.indexOf(","+s+","))&&t(s,o)},e.r=function(t,i,n,r,s){var o,a,c,l,h="",u=0;if("contextData"==t&&(t="c"),i){for(o in i)if(!(Object.prototype[o]||s&&o.substring(0,s.length)!=s)&&i[o]&&(!n||0<=n.indexOf(","+(r?r+".":"")+o+","))){if(c=!1,u)for(a=0;a<u.length;a++)o.substring(0,u[a].length)==u[a]&&(c=!0);if(!c&&(""==h&&(h+="&"+t+"."),a=i[o],s&&(o=o.substring(s.length)),0<o.length))if(0<(c=o.indexOf(".")))a=o.substring(0,c),c=(s||"")+a+".",u||(u=[]),u.push(c),h+=e.r(a,i,n,r,c);else if("boolean"==typeof a&&(a=a?"true":"false"),a){if("retrieveLightData"==r&&0>s.indexOf(".contextData."))switch(c=o.substring(0,4),l=o.substring(4),o){case"transactionID":o="xact";break;case"channel":o="ch";break;case"campaign":o="v0";break;default:e.Ma(l)&&("prop"==c?o="c"+l:"eVar"==c?o="v"+l:"list"==c?o="l"+l:"hier"==c&&(o="h"+l,a=a.substring(0,255)))}h+="&"+e.escape(o)+"="+e.escape(a)}}""!=h&&(h+="&."+t)}return h},e.usePostbacks=0,e.Bb=function(){var t,i,s,o,a,c,l,h,u="",d="",f="",p=o="";if(e.lightProfileID?(t=e.P,(d=e.lightTrackVars)&&(d=","+d+","+e.na.join(",")+",")):(t=e.g,(e.pe||e.linkType)&&(d=e.linkTrackVars,f=e.linkTrackEvents,e.pe&&(o=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[o]&&(d=e[o].Pb,f=e[o].Ob))),d&&(d=","+d+","+e.H.join(",")+","),f&&(f=","+f+",",d&&(d+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.visitor&&e.visitor.getCustomerIDs){if(o=r,a=e.visitor.getCustomerIDs())for(i in a)Object.prototype[i]||"object"==n(s=a[i])&&(o||(o={}),s.id&&(o[i+".id"]=s.id),s.authState&&(o[i+".as"]=s.authState));o&&(u+=e.r("cid",o))}for(e.AudienceManagement&&e.AudienceManagement.isReady()&&(u+=e.r("d",e.AudienceManagement.getEventCallConfigParams())),i=0;i<t.length;i++){if(o=t[i],a=e[o],s=o.substring(0,4),c=o.substring(4),a||("events"==o&&p?(a=p,p=""):"marketingCloudOrgID"==o&&e.visitor&&(a=e.visitor.marketingCloudOrgID)),a&&(!d||0<=d.indexOf(","+o+","))){switch(o){case"customerPerspective":o="cp";break;case"marketingCloudOrgID":o="mcorgid";break;case"supplementalDataID":o="sdid";break;case"timestamp":o="ts";break;case"dynamicVariablePrefix":o="D";break;case"visitorID":o="vid";break;case"marketingCloudVisitorID":o="mid";break;case"analyticsVisitorID":o="aid";break;case"audienceManagerLocationHint":o="aamlh";break;case"audienceManagerBlob":o="aamb";break;case"authState":o="as";break;case"pageURL":o="g",255<a.length&&(e.pageURLRest=a.substring(255),a=a.substring(0,255));break;case"pageURLRest":o="-g";break;case"referrer":o="r";break;case"vmk":case"visitorMigrationKey":o="vmt";break;case"visitorMigrationServer":o="vmf",e.ssl&&e.visitorMigrationServerSecure&&(a="");break;case"visitorMigrationServerSecure":o="vmf",!e.ssl&&e.visitorMigrationServer&&(a="");break;case"charSet":o="ce";break;case"visitorNamespace":o="ns";break;case"cookieDomainPeriods":o="cdp";break;case"cookieLifetime":o="cl";break;case"variableProvider":o="vvp";break;case"currencyCode":o="cc";break;case"channel":o="ch";break;case"transactionID":o="xact";break;case"campaign":o="v0";break;case"latitude":o="lat";break;case"longitude":o="lon";break;case"resolution":o="s";break;case"colorDepth":o="c";break;case"javascriptVersion":o="j";break;case"javaEnabled":o="v";break;case"cookiesEnabled":o="k";break;case"browserWidth":o="bw";break;case"browserHeight":o="bh";break;case"connectionType":o="ct";break;case"homepage":o="hp";break;case"events":if(p&&(a+=(""!=a?",":"")+p),f)for(c=a.split(","),a="",s=0;s<c.length;s++)0<=(h=(l=c[s]).indexOf("="))&&(l=l.substring(0,h)),0<=(h=l.indexOf(":"))&&(l=l.substring(0,h)),0<=f.indexOf(","+l+",")&&(a+=(a?",":"")+c[s]);break;case"events2":a="";break;case"contextData":u+=e.r("c",e[o],d,o),a="";break;case"lightProfileID":o="mtp";break;case"lightStoreForSeconds":o="mtss",e.lightProfileID||(a="");break;case"lightIncrementBy":o="mti",e.lightProfileID||(a="");break;case"retrieveLightProfiles":o="mtsr";break;case"deleteLightProfiles":o="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(u+=e.r("mts",e[o],d,o)),a="";break;default:e.Ma(c)&&("prop"==s?o="c"+c:"eVar"==s?o="v"+c:"list"==s?o="l"+c:"hier"==s&&(o="h"+c,a=a.substring(0,255)))}a&&(u+="&"+o+"="+("pev"!=o.substring(0,3)?e.escape(a):a))}"pev3"==o&&e.e&&(u+=e.e)}return u},e.D=function(t){var e=t.tagName;return"undefined"!=""+t.Ub||"undefined"!=""+t.Kb&&"HTML"!=(""+t.Kb).toUpperCase()?"":("SHAPE"==(e=e&&e.toUpperCase?e.toUpperCase():"")&&(e=""),e&&(("INPUT"==e||"BUTTON"==e)&&t.type&&t.type.toUpperCase?e=t.type.toUpperCase():!e&&t.href&&(e="A")),e)},e.Ia=function(t){var e,n,r,s=i.location,o=t.href?t.href:"";return e=o.indexOf(":"),n=o.indexOf("?"),r=o.indexOf("/"),o&&(0>e||0<=n&&e>n||0<=r&&e>r)&&(n=t.protocol&&1<t.protocol.length?t.protocol:s.protocol?s.protocol:"",e=s.pathname.lastIndexOf("/"),o=(n?n+"//":"")+(t.host?t.host:s.host?s.host:"")+("/"!=o.substring(0,1)?s.pathname.substring(0,0>e?0:e)+"/":"")+o),o},e.M=function(t){var i,n,r=e.D(t),s="",o=0;return r&&(i=t.protocol,n=t.onclick,!t.href||"A"!=r&&"AREA"!=r||n&&i&&!(0>i.toLowerCase().indexOf("javascript"))?n?(s=e.replace(e.replace(e.replace(e.replace(""+n,"\r",""),"\n",""),"\t","")," ",""),o=2):"INPUT"==r||"SUBMIT"==r?(t.value?s=t.value:t.innerText?s=t.innerText:t.textContent&&(s=t.textContent),o=3):"IMAGE"==r&&t.src&&(s=t.src):s=e.Ia(t),s)?{id:s.substring(0,100),type:o}:0},e.Sb=function(t){for(var i=e.D(t),n=e.M(t);t&&!n&&"BODY"!=i;)(t=t.parentElement?t.parentElement:t.parentNode)&&(i=e.D(t),n=e.M(t));return n&&"BODY"!=i||(t=0),t&&(0<=(i=t.onclick?""+t.onclick:"").indexOf(".tl(")||0<=i.indexOf(".trackLink("))&&(t=0),t},e.Jb=function(){var t,n,r,s,o=e.linkObject,a=e.linkType,c=e.linkURL;if(e.oa=1,o||(e.oa=0,o=e.clickObject),o){for(t=e.D(o),n=e.M(o);o&&!n&&"BODY"!=t;)(o=o.parentElement?o.parentElement:o.parentNode)&&(t=e.D(o),n=e.M(o));if(n&&"BODY"!=t||(o=0),o&&!e.linkObject){var l=o.onclick?""+o.onclick:"";(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))&&(o=0)}}else e.oa=1;if(!c&&o&&(c=e.Ia(o)),c&&!e.linkLeaveQueryString&&(0<=(r=c.indexOf("?"))&&(c=c.substring(0,r))),!a&&c){var h,u=0,d=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(r=(l=c.toLowerCase()).indexOf("?"),s=l.indexOf("#"),0<=r?0<=s&&s<r&&(r=s):r=s,0<=r&&(l=l.substring(0,r)),r=e.linkDownloadFileTypes.toLowerCase().split(","),s=0;s<r.length;s++)(h=r[s])&&l.substring(l.length-(h.length+1))=="."+h&&(a="d");if(e.trackExternalLinks&&!a&&(l=c.toLowerCase(),e.La(l)&&(e.linkInternalFilters||(e.linkInternalFilters=i.location.hostname),r=0,e.linkExternalFilters?(r=e.linkExternalFilters.toLowerCase().split(","),u=1):e.linkInternalFilters&&(r=e.linkInternalFilters.toLowerCase().split(",")),r))){for(s=0;s<r.length;s++)h=r[s],0<=l.indexOf(h)&&(d=1);d?u&&(a="e"):u||(a="e")}}e.linkObject=o,e.linkURL=c,e.linkType=a,(e.trackClickMap||e.trackInlineStats)&&(e.e="",o&&(a=e.pageName,c=1,o=o.sourceIndex,a||(a=e.pageURL,c=0),i.s_objectID&&(n.id=i.s_objectID,o=n.type=1),a&&n&&n.id&&t&&(e.e="&pid="+e.escape(a.substring(0,255))+(c?"&pidt="+c:"")+"&oid="+e.escape(n.id.substring(0,100))+(n.type?"&oidt="+n.type:"")+"&ot="+t+(o?"&oi="+o:""))))},e.Cb=function(){var t=e.oa,i=e.linkType,n=e.linkURL,r=e.linkName;if(i&&(n||r)&&("d"!=(i=i.toLowerCase())&&"e"!=i&&(i="o"),e.pe="lnk_"+i,e.pev1=n?e.escape(n):"",e.pev2=r?e.escape(r):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats||e.ActivityMap){i={},n=0;var s,o,a,c=(l=e.cookieRead("s_sq"))?l.split("&"):0,l=0;if(c)for(s=0;s<c.length;s++)o=c[s].split("="),r=e.unescape(o[0]).split(","),i[o=e.unescape(o[1])]=r;for(a in r=e.account.split(","),s={},e.contextData)a&&!Object.prototype[a]&&"a.activitymap."==a.substring(0,14)&&(s[a]=e.contextData[a],e.contextData[a]="");if(e.e=e.r("c",s)+(e.e?e.e:""),t||e.e){for(o in t&&!e.e&&(l=1),i)if(!Object.prototype[o])for(a=0;a<r.length;a++)for(l&&((c=i[o].join(","))==e.account&&(e.e+=("&"!=o.charAt(0)?"&":"")+o,i[o]=[],n=1)),s=0;s<i[o].length;s++)(c=i[o][s])==r[a]&&(l&&(e.e+="&u="+e.escape(c)+("&"!=o.charAt(0)?"&":"")+o+"&u=0"),i[o].splice(s,1),n=1);if(t||(n=1),n){for(o in l="",s=2,!t&&e.e&&(l=e.escape(r.join(","))+"="+e.escape(e.e),s=1),i)!Object.prototype[o]&&0<s&&0<i[o].length&&(l+=(l?"&":"")+e.escape(i[o].join(","))+"="+e.escape(o),s--);e.cookieWrite("s_sq",l)}}}return t},e.Db=function(){if(!e.Nb){var t,i,n,r,s=new Date,o=c.location,a=i=t="",l="1.2",h=e.cookieWrite("s_cc","true",0)?"Y":"N",u="",d="";if(s.setUTCDate&&(l="1.3",(0).toPrecision&&(l="1.5",(s=[]).forEach))){l="1.6",i=0,t={};try{(i=new Iterator(t)).next&&(l="1.7",s.reduce&&((l="1.8").trim&&(l="1.8.1",Date.parse&&(l="1.8.2",Object.create&&(l="1.8.5")))))}catch(t){}}t=screen.width+"x"+screen.height,a=navigator.javaEnabled()?"Y":"N",i=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,n=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,r=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),u=e.b.Tb(o)?"Y":"N"}catch(t){}try{e.b.addBehavior("#default#clientCaps"),d=e.b.connectionType}catch(t){}e.resolution=t,e.colorDepth=i,e.javascriptVersion=l,e.javaEnabled=a,e.cookiesEnabled=h,e.browserWidth=n,e.browserHeight=r,e.connectionType=d,e.homepage=u,e.Nb=1}},e.Q={},e.loadModule=function(t,n){var r=e.Q[t];if(!r){r=i["AppMeasurement_Module_"+t]?new i["AppMeasurement_Module_"+t](e):{},e.Q[t]=e[t]=r,r.eb=function(){return r.ib},r.kb=function(i){(r.ib=i)&&(e[t+"_onLoad"]=i,e.ia(t+"_onLoad",[e,r],1)||i(e,r))};try{Object.defineProperty?Object.defineProperty(r,"onLoad",{get:r.eb,set:r.kb}):r._olc=1}catch(t){r._olc=1}}n&&(e[t+"_onLoad"]=n,e.ia(t+"_onLoad",[e,r],1)||n(e,r))},e.p=function(t){var i,n;for(i in e.Q)if(!Object.prototype[i]&&(n=e.Q[i])&&(n._olc&&n.onLoad&&(n._olc=0,n.onLoad(e,n)),n[t]&&n[t]()))return 1;return 0},e.Fb=function(){var t=Math.floor(1e13*Math.random()),i=e.visitorSampling,n=e.visitorSamplingGroup,r=(n="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(n?"_"+n:""),e.cookieRead(n));if(i){if(i*=100,r&&(r=parseInt(r)),!r){if(!e.cookieWrite(n,t))return 0;r=t}if(r%1e4>i)return 0}return 1},e.R=function(t,i){var n,r,s,o,a,c;for(n=0;2>n;n++)for(r=0<n?e.Aa:e.g,s=0;s<r.length;s++)if((a=t[o=r[s]])||t["!"+o]){if(!i&&("contextData"==o||"retrieveLightData"==o)&&e[o])for(c in e[o])a[c]||(a[c]=e[o][c]);e[o]=a}},e.Va=function(t,i){var n,r,s,o;for(n=0;2>n;n++)for(r=0<n?e.Aa:e.g,s=0;s<r.length;s++)t[o=r[s]]=e[o],i||t[o]||(t["!"+o]=1)},e.xb=function(t){var e,i,n,r,s,o,a=0,c="",l="";if(t&&255<t.length&&(0<(i=(e=""+t).indexOf("?"))&&(o=e.substring(i+1),n=0,"http://"==(r=(e=e.substring(0,i)).toLowerCase()).substring(0,7)?n+=7:"https://"==r.substring(0,8)&&(n+=8),0<(i=r.indexOf("/",n))&&(r=r.substring(n,i),s=e.substring(i),e=e.substring(0,i),0<=r.indexOf("google")?a=",q,ie,start,search_key,word,kw,cd,":0<=r.indexOf("yahoo.co")&&(a=",p,ei,"),a&&o)))){if((t=o.split("&"))&&1<t.length){for(n=0;n<t.length;n++)0<(i=(r=t[n]).indexOf("="))&&0<=a.indexOf(","+r.substring(0,i)+",")?c+=(c?"&":"")+r:l+=(l?"&":"")+r;c&&l?o=c+"&"+l:l=""}t=e+(0<(i=253-(o.length-l.length)-e.length)?s.substring(0,i):"")+"?"+o}return t},e.ab=function(t){var i=e.d.visibilityState,n=["webkitvisibilitychange","visibilitychange"];if(i||(i=e.d.webkitVisibilityState),i&&"prerender"==i){if(t)for(i=0;i<n.length;i++)e.d.addEventListener(n[i],function(){var i=e.d.visibilityState;i||(i=e.d.webkitVisibilityState),"visible"==i&&t()});return!1}return!0},e.ea=!1,e.J=!1,e.mb=function(){e.J=!0,e.j()},e.ca=!1,e.V=!1,e.hb=function(t){e.marketingCloudVisitorID=t,e.V=!0,e.j()},e.fa=!1,e.W=!1,e.nb=function(t){e.visitorOptedOut=t,e.W=!0,e.j()},e.Z=!1,e.S=!1,e.Xa=function(t){e.analyticsVisitorID=t,e.S=!0,e.j()},e.ba=!1,e.U=!1,e.Za=function(t){e.audienceManagerLocationHint=t,e.U=!0,e.j()},e.aa=!1,e.T=!1,e.Ya=function(t){e.audienceManagerBlob=t,e.T=!0,e.j()},e.$a=function(t){return e.maxDelay||(e.maxDelay=250),!e.p("_d")||(t&&setTimeout(function(){t()},e.maxDelay),!1)},e.da=!1,e.I=!1,e.xa=function(){e.I=!0,e.j()},e.isReadyToTrack=function(){var t,i,n,s=!0,o=e.visitor;return e.ea||e.J||(e.ab(e.mb)?e.J=!0:e.ea=!0),!(e.ea&&!e.J)&&(o&&o.isAllowed()&&(e.ca||e.marketingCloudVisitorID||!o.getMarketingCloudVisitorID||(e.ca=!0,e.marketingCloudVisitorID=o.getMarketingCloudVisitorID([e,e.hb]),e.marketingCloudVisitorID&&(e.V=!0)),e.fa||e.visitorOptedOut||!o.isOptedOut||(e.fa=!0,e.visitorOptedOut=o.isOptedOut([e,e.nb]),e.visitorOptedOut!=r&&(e.W=!0)),e.Z||e.analyticsVisitorID||!o.getAnalyticsVisitorID||(e.Z=!0,e.analyticsVisitorID=o.getAnalyticsVisitorID([e,e.Xa]),e.analyticsVisitorID&&(e.S=!0)),e.ba||e.audienceManagerLocationHint||!o.getAudienceManagerLocationHint||(e.ba=!0,e.audienceManagerLocationHint=o.getAudienceManagerLocationHint([e,e.Za]),e.audienceManagerLocationHint&&(e.U=!0)),e.aa||e.audienceManagerBlob||!o.getAudienceManagerBlob||(e.aa=!0,e.audienceManagerBlob=o.getAudienceManagerBlob([e,e.Ya]),e.audienceManagerBlob&&(e.T=!0)),s=e.ca&&!e.V&&!e.marketingCloudVisitorID,o=e.Z&&!e.S&&!e.analyticsVisitorID,t=e.ba&&!e.U&&!e.audienceManagerLocationHint,i=e.aa&&!e.T&&!e.audienceManagerBlob,n=e.fa&&!e.W,s=!(s||o||t||i||n)),e.da||e.I||(e.$a(e.xa)?e.I=!0:e.da=!0),e.da&&!e.I&&(s=!1),s)},e.o=r,e.u=0,e.callbackWhenReadyToTrack=function(t,i,n){var s;(s={}).rb=t,s.qb=i,s.ob=n,e.o==r&&(e.o=[]),e.o.push(s),0==e.u&&(e.u=setInterval(e.j,100))},e.j=function(){var t;if(e.isReadyToTrack()&&(e.lb(),e.o!=r))for(;0<e.o.length;)(t=e.o.shift()).qb.apply(t.rb,t.ob)},e.lb=function(){e.u&&(clearInterval(e.u),e.u=0)},e.fb=function(t){var i,n,s=r,o=r;if(!e.isReadyToTrack()){if(i=[],t!=r)for(n in s={},t)s[n]=t[n];return o={},e.Va(o,!0),i.push(s),i.push(o),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.zb=function(){var t,i=e.cookieRead("s_fid"),n="",r="";t=8;var s=4;if(!i||0>i.indexOf("-")){for(i=0;16>i;i++)t=Math.floor(Math.random()*t),n+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*s),r+="0123456789ABCDEF".substring(t,t+1),t=s=16;i=n+"-"+r}return e.cookieWrite("s_fid",i,1)||(i=0),i},e.t=e.track=function(t,n){var r,s=new Date,o="s"+Math.floor(s.getTime()/108e5)%10+Math.floor(1e13*Math.random()),a=s.getYear();a="t="+e.escape(s.getDate()+"/"+s.getMonth()+"/"+(1900>a?a+1900:a)+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+" "+s.getDay()+" "+s.getTimezoneOffset());e.visitor&&e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),e.p("_s"),e.fb(t)||(n&&e.R(n),t&&(r={},e.Va(r,0),e.R(t)),e.Fb()&&!e.visitorOptedOut&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.zb()),e.Jb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(s.getTime()/1e3)),s=i.location,e.pageURL||(e.pageURL=s.href?s.href:s),e.referrer||e.Wa||(s=e.Util.getQueryParam("adobe_mc_ref",null,null,!0),e.referrer=s||void 0===s?void 0===s?"":s:c.document.referrer),e.Wa=1,e.referrer=e.xb(e.referrer),e.p("_g")),e.Cb()&&!e.abort&&(e.visitor&&!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData)),e.Db(),a+=e.Bb(),e.Ib(o,a),e.p("_t"),e.referrer=""))),t&&e.R(r,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=i.s_objectID=e.pe=e.pev1=e.pev2=e.pev3=e.e=e.lightProfileID=0},e.za=[],e.registerPreTrackCallback=function(t){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);"function"==typeof t?e.za.push([t,i]):e.debugTracking&&e.F("DEBUG: Non function type passed to registerPreTrackCallback")},e.cb=function(t){e.wa(e.za,t)},e.ya=[],e.registerPostTrackCallback=function(t){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);"function"==typeof t?e.ya.push([t,i]):e.debugTracking&&e.F("DEBUG: Non function type passed to registerPostTrackCallback")},e.bb=function(t){e.wa(e.ya,t)},e.wa=function(t,i){if("object"==n(t))for(var r=0;r<t.length;r++){var s=t[r][0],o=t[r][1];if(o.unshift(i),"function"==typeof s)try{s.apply(null,o)}catch(t){e.debugTracking&&e.F(t.message)}}},e.tl=e.trackLink=function(t,i,n,r,s){return e.linkObject=t,e.linkType=i,e.linkName=n,s&&(e.l=t,e.A=s),e.track(r)},e.trackLight=function(t,i,n,r){return e.lightProfileID=t,e.lightStoreForSeconds=i,e.lightIncrementBy=n,e.track(r)},e.clearVars=function(){var t,i;for(t=0;t<e.g.length;t++)("prop"==(i=e.g[t]).substring(0,4)||"eVar"==i.substring(0,4)||"hier"==i.substring(0,4)||"list"==i.substring(0,4)||"channel"==i||"events"==i||"eventList"==i||"products"==i||"productList"==i||"purchaseID"==i||"transactionID"==i||"state"==i||"zip"==i||"campaign"==i)&&(e[i]=void 0)},e.tagContainerMarker="",e.Ib=function(t,i){var n,r=e.trackingServer;n="";var s=e.dc,o="sc.",a=e.visitorNamespace;r?e.trackingServerSecure&&e.ssl&&(r=e.trackingServerSecure):(a||(0<=(r=(a=e.account).indexOf(","))&&(a=a.substring(0,r)),a=a.replace(/[^A-Za-z0-9]/g,"")),n||(n="2o7.net"),s=s?(""+s).toLowerCase():"d1","2o7.net"==n&&("d1"==s?s="112":"d2"==s&&(s="122"),o=""),r=a+"."+s+"."+o+n),n=e.ssl?"https://":"http://",s=e.AudienceManagement&&e.AudienceManagement.isReady()||0!=e.usePostbacks,n+=r+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(s?"10":"1")+"/JS-"+e.version+(e.Mb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(s?"callback=s_c_il["+e._in+"].doPostbacks&et=1&":"")+i+"&AQE=1",e.cb(n),e.vb(n),e.ka()},e.Ua=/{(%?)(.*?)(%?)}/,e.Qb=RegExp(e.Ua.source,"g"),e.wb=function(t){if("object"==n(t.dests))for(var i=0;i<t.dests.length;++i){var r=t.dests[i];if("string"==typeof r.c&&"aa."==r.id.substr(0,3))for(var s=r.c.match(e.Qb),o=0;o<s.length;++o){var a=s[o],c=a.match(e.Ua),l="";"%"==c[1]&&"timezone_offset"==c[2]?l=(new Date).getTimezoneOffset():"%"==c[1]&&"timestampz"==c[2]&&(l=e.Ab()),r.c=r.c.replace(a,e.escape(l))}}},e.Ab=function(){var t=new Date,i=new Date(6e4*Math.abs(t.getTimezoneOffset()));return e.k(4,t.getFullYear())+"-"+e.k(2,t.getMonth()+1)+"-"+e.k(2,t.getDate())+"T"+e.k(2,t.getHours())+":"+e.k(2,t.getMinutes())+":"+e.k(2,t.getSeconds())+(0<t.getTimezoneOffset()?"-":"+")+e.k(2,i.getUTCHours())+":"+e.k(2,i.getUTCMinutes())},e.k=function(t,e){return(Array(t+1).join(0)+e).slice(-t)},e.ta={},e.doPostbacks=function(t){if("object"==n(t))if(e.wb(t),"object"==n(e.AudienceManagement)&&"function"==typeof e.AudienceManagement.isReady&&e.AudienceManagement.isReady()&&"function"==typeof e.AudienceManagement.passData)e.AudienceManagement.passData(t);else if("object"==n(t)&&"object"==n(t.dests))for(var i=0;i<t.dests.length;++i){var r=t.dests[i];"object"==n(r)&&"string"==typeof r.c&&"string"==typeof r.id&&"aa."==r.id.substr(0,3)&&(e.ta[r.id]=new Image,e.ta[r.id].alt="",e.ta[r.id].src=r.c)}},e.vb=function(t){e.i||e.Eb(),e.i.push(t),e.ma=e.C(),e.Sa()},e.Eb=function(){e.i=e.Gb(),e.i||(e.i=[])},e.Gb=function(){var t,n;if(e.ra()){try{(n=i.localStorage.getItem(e.pa()))&&(t=i.JSON.parse(n))}catch(t){}return t}},e.ra=function(){var t=!0;return e.trackOffline&&e.offlineFilename&&i.localStorage&&i.JSON||(t=!1),t},e.Ja=function(){var t=0;return e.i&&(t=e.i.length),e.q&&t++,t},e.ka=function(){if(!e.q||(e.B&&e.B.complete&&e.B.G&&e.B.va(),!e.q))if(e.Ka=r,e.qa)e.ma>e.O&&e.Qa(e.i),e.ua(500);else{var t=e.pb();0<t?e.ua(t):(t=e.Ga())&&(e.q=1,e.Hb(t),e.Lb(t))}},e.ua=function(t){e.Ka||(t||(t=0),e.Ka=setTimeout(e.ka,t))},e.pb=function(){var t;return!e.trackOffline||0>=e.offlineThrottleDelay?0:(t=e.C()-e.Pa,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.Ga=function(){if(0<e.i.length)return e.i.shift()},e.Hb=function(t){if(e.debugTracking){var i,n="AppMeasurement Debug: "+t;for(t=t.split("&"),i=0;i<t.length;i++)n+="\n\t"+e.unescape(t[i]);e.F(n)}},e.gb=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.Y=!1;try{a=JSON.parse('{"x":"y"}')}catch(t){a=null}for(a&&"y"==a.x?(e.Y=!0,e.X=function(t){return JSON.parse(t)}):i.$&&i.$.parseJSON?(e.X=function(t){return i.$.parseJSON(t)},e.Y=!0):e.X=function(){return null},e.Lb=function(t){var n,s,o;if(e.gb()&&2047<t.length&&("undefined"!=typeof XMLHttpRequest&&("withCredentials"in(n=new XMLHttpRequest)?s=1:n=0),n||"undefined"==typeof XDomainRequest||(n=new XDomainRequest,s=2),n&&(e.AudienceManagement&&e.AudienceManagement.isReady()||0!=e.usePostbacks)&&(e.Y?n.Ba=!0:n=0)),!n&&e.Ta&&(t=t.substring(0,2047)),!n&&e.d.createElement&&(0!=e.usePostbacks||e.AudienceManagement&&e.AudienceManagement.isReady())&&(n=e.d.createElement("SCRIPT"))&&"async"in n&&((o=(o=e.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:e.d.body)?(n.type="text/javascript",n.setAttribute("async","async"),s=3):n=0),n||((n=new Image).alt="",n.abort||void 0===i.InstallTrigger||(n.abort=function(){n.src=r})),n.Da=function(){try{n.G&&(clearTimeout(n.G),n.G=0)}catch(t){}},n.onload=n.va=function(){if(e.bb(t),n.Da(),e.tb(),e.ga(),e.q=0,e.ka(),n.Ba){n.Ba=!1;try{e.doPostbacks(e.X(n.responseText))}catch(t){}}},n.onabort=n.onerror=n.Ha=function(){n.Da(),(e.trackOffline||e.qa)&&e.q&&e.i.unshift(e.sb),e.q=0,e.ma>e.O&&e.Qa(e.i),e.ga(),e.ua(500)},n.onreadystatechange=function(){4==n.readyState&&(200==n.status?n.va():n.Ha())},e.Pa=e.C(),1==s||2==s){var a=t.indexOf("?");o=t.substring(0,a),a=(a=t.substring(a+1)).replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==s?(n.open("POST",o,!0),n.send(a)):2==s&&(n.open("POST",o),n.send(a))}else if(n.src=t,3==s){if(e.Na)try{o.removeChild(e.Na)}catch(t){}o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),e.Na=e.B}n.G=setTimeout(function(){n.G&&(n.complete?n.va():(e.trackOffline&&n.abort&&n.abort(),n.Ha()))},5e3),e.sb=t,e.B=i["s_i_"+e.replace(e.account,",","_")]=n,(e.useForcedLinkTracking&&e.K||e.A)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.ha=setTimeout(e.ga,e.forcedLinkTrackingTimeout))},e.tb=function(){if(e.ra()&&!(e.Oa>e.O))try{i.localStorage.removeItem(e.pa()),e.Oa=e.C()}catch(t){}},e.Qa=function(t){if(e.ra()){e.Sa();try{i.localStorage.setItem(e.pa(),i.JSON.stringify(t)),e.O=e.C()}catch(t){}}},e.Sa=function(){if(e.trackOffline)for((!e.offlineLimit||0>=e.offlineLimit)&&(e.offlineLimit=10);e.i.length>e.offlineLimit;)e.Ga()},e.forceOffline=function(){e.qa=!0},e.forceOnline=function(){e.qa=!1},e.pa=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.C=function(){return(new Date).getTime()},e.La=function(t){return 0!=(t=t.toLowerCase()).indexOf("#")&&0!=t.indexOf("about:")&&0!=t.indexOf("opera:")&&0!=t.indexOf("javascript:")},e.setTagContainer=function(t){var i,n,r;for(e.Mb=t,i=0;i<e._il.length;i++)if((n=e._il[i])&&"s_l"==n._c&&n.tagContainerName==t){if(e.R(n),n.lmq)for(i=0;i<n.lmq.length;i++)r=n.lmq[i],e.loadModule(r.n);if(n.ml)for(r in n.ml)if(e[r])for(i in t=e[r],r=n.ml[r])!Object.prototype[i]&&("function"!=typeof r[i]||0>(""+r[i]).indexOf("s_c_il"))&&(t[i]=r[i]);if(n.mmq)for(i=0;i<n.mmq.length;i++)r=n.mmq[i],e[r.m]&&((t=e[r.m])[r.f]&&"function"==typeof t[r.f]&&(r.a?t[r.f].apply(t,r.a):t[r.f].apply(t)));if(n.tq)for(i=0;i<n.tq.length;i++)e.track(n.tq[i]);n.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(t,n,r,s){var o,a="";return n||(n=e.pageURL?e.pageURL:i.location),r=r||"&",t&&n?0>(o=(n=""+n).indexOf("?"))?a:(n=r+n.substring(o+1)+r,s&&(0<=n.indexOf(r+t+r)||0<=n.indexOf(r+t+"="+r))?void 0:(0<=(o=n.indexOf("#"))&&(n=n.substr(0,o)+r),0>(o=n.indexOf(r+t+"="))?a:(0<=(o=(n=n.substring(o+r.length+t.length+1)).indexOf(r))&&(n=n.substring(0,o)),0<n.length&&(a=e.unescape(n)),a))):a},getIeVersion:function(){if(document.documentMode)return document.documentMode;for(var t=7;4<t;t--){var e=document.createElement("div");if(e.innerHTML="\x3c!--[if IE "+t+"]><span></span><![endif]--\x3e",e.getElementsByTagName("span").length)return t}return null}},e.H="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),e.g=e.H.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),e.na="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),e.P=e.na.slice(0),e.Aa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement".split(" "),s=0;250>=s;s++)76>s&&(e.g.push("prop"+s),e.P.push("prop"+s)),e.g.push("eVar"+s),e.P.push("eVar"+s),6>s&&e.g.push("hier"+s),4>s&&e.g.push("list"+s);s="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID".split(" "),e.g=e.g.concat(s),e.H=e.H.concat(s),e.ssl=0<=i.location.protocol.toLowerCase().indexOf("https"),e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.Pa=0,e.ma=0,e.O=0,e.Oa=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=i,e.d=i.document;try{if(e.Ta=!1,navigator){var l=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=l.indexOf("MSIE ")||0<=l.indexOf("Trident/")&&0<=l.indexOf("Windows NT 6"))&&(e.Ta=!0)}}catch(t){}e.ga=function(){e.ha&&(i.clearTimeout(e.ha),e.ha=r),e.l&&e.K&&e.l.dispatchEvent(e.K),e.A&&("function"==typeof e.A?e.A():e.l&&e.l.href&&(e.d.location=e.l.href)),e.l=e.K=e.A=0},e.Ra=function(){e.b=e.d.body,e.b?(e.v=function(t){var n,r,s,o,a;if(!(e.d&&e.d.getElementById("cppXYctnr")||t&&t["s_fe_"+e._in])){if(e.Ca){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.v,!0),void(e.Ca=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.v,!1)}else e.useForcedLinkTracking=0;e.clickObject=t.srcElement?t.srcElement:t.target;try{if(!e.clickObject||e.N&&e.N==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var c=e.N=e.clickObject;if(e.la&&(clearTimeout(e.la),e.la=0),e.la=setTimeout(function(){e.N==c&&(e.N=0)},1e4),s=e.Ja(),e.track(),s<e.Ja()&&e.useForcedLinkTracking&&t.target){for(o=t.target;o&&o!=e.b&&"A"!=o.tagName.toUpperCase()&&"AREA"!=o.tagName.toUpperCase();)o=o.parentNode;if(o&&(a=o.href,e.La(a)||(a=0),r=o.target,t.target.dispatchEvent&&a&&(!r||"_self"==r||"_top"==r||"_parent"==r||i.name&&r==i.name))){try{n=e.d.createEvent("MouseEvents")}catch(t){n=new i.MouseEvent}if(n){try{n.initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}catch(t){n=0}n&&(n["s_fe_"+e._in]=n.s_fe=1,t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.preventDefault(),e.l=t.target,e.K=n)}}}}}catch(t){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.v):e.b&&e.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&e.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&i.MouseEvent)&&(e.Ca=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.v,!0)),e.b.addEventListener("click",e.v,!1))):setTimeout(e.Ra,30)},e.ub(),e.Vb||(t?e.setAccount(t):e.F("Error, missing Report Suite ID in AppMeasurement initialization"),e.Ra(),e.loadModule("ActivityMap"))},AppMeasurement.getInstance=e,window.s_objectID||(window.s_objectID=0),i(),t.exports={s_gi:e,s_pgicq:i}}()},function(t,e,i){"use strict";t.exports=function(t){try{var e=window[t],i="acAnalyticsStorageTestItem";return e.setItem(i,"a"),e.removeItem(i),!0}catch(t){return!1}}},function(t,e,i){"use strict";t.exports=Object.freeze({sessionStorage:"sessionStorage"})},,function(t,e,i){"use strict";t.exports=function(t){var e,i;return!(!t.linkObject||!(i=t.linkObject)||"A"!==i.tagName||!i.href||"#"===(e=i.getAttribute("href").trim()).charAt(0)||0===e.indexOf("javascript:")||0===e.indexOf("mailto:")||0===e.indexOf("tel:")||i.hasAttribute("data-analytics-id")||i.hasAttribute("data-analytics-intrapage-link")||i.classList.contains("ac-gn-link-search")||i.classList.contains("ac-gn-link-bag"))}},,,,,,,,,,function(t,e,i){"use strict";var n="Error: Expected parameter is missing or has the wrong type",r={trailing:!0,leading:!1};t.exports=function(t,e,i){if("number"!=typeof e||"function"!=typeof t)throw new TypeError(n);if("boolean"!=typeof(i=Object.assign({},r,i)).trailing||"boolean"!=typeof i.leading)throw new TypeError(n);i.trailing||i.leading||(i.trailing=!0);var s=null,o=0;function a(){i.leading&&i.trailing&&o++;var n=arguments;null===s&&i.leading&&t.apply(this,n);var r=function(){s=null,i.leading?o>1&&i.trailing&&(t.apply(this,n),o=0):t.apply(this,n)}.bind(this);clearTimeout(s),s=setTimeout(r,e)}return a.cancel=function(){clearTimeout(s)},a}},function(t,e,i){"use strict";var n=i(64).os,r=i(1172).original,s=i(240),o=i(173);function a(){var t=s.getWindow();return!r()&&!t.orientation||n.windows}t.exports=o(a),t.exports.original=a},function(t,e,i){"use strict";var n=i(164),r=i(322),s=i(334),o=i(509),a=i(100)(),c=i(1181),l=i(1184),h=i(1186),u=i(1187),d=function(t){this._initialize(t)},f=d.prototype;f._initialize=function(t){this.el=t.element||document.createElement("div"),this._basePath=t.basePath,this.el.style.display="none",this._template=t.template||'<div class="controls-container" >\n\n\t<div class="{elementClassPrefix}-social-tray hidden"></div>\n\n\t<div class="center-button-container {elementClassPrefix}-play-pause-button-container">\n\t\t<div class="button-wrapper">\n\t\t\t<button type="button" class="ac-video-icon centered-button {elementClassPrefix}-play-pause-button {elementClassPrefix}-button no-autoplay" value="{playpause}" aria-label="{playpause}" role="button" tabindex="0" data-acv-active-area data-acv-draggable-area></button>\n\t\t</div>\n\t</div>\n\n\t<div class="main-controls-container">\n\t\t<div class="ac-video-overlay-container"></div>\n\t\t<div class="main-controls">\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<div class="main-controls-item controls-volume">\n\t\t\t\t\t<button type="button" class="ac-video-icon {elementClassPrefix}-toggle-mute-volume-button {elementClassPrefix}-button" value="{togglemutevolume}" aria-label="{togglemutevolume}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t\t\t<div class="{elementClassPrefix}-volume-level-indicator" tabindex="0" aria-valuemin="0" aria-valuemax="100" min="0" max="100" aria-label="{adjustvolume}" role="slider" aria-orientation="vertical" step="0.05" data-acv-active-area></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-text-tracks-toggle-button {elementClassPrefix}-button no-text-tracks" value="{captionscontrol}" aria-label="{captionscontrol}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t\t<div class="ac-video-captions-selector-container">\n\t\t\t\t\t<span class="ac-video-captions-selector-title">{subtitlescontrol}</span>\n\t\t\t\t\t<ul class="{elementClassPrefix}-captions-selector" role="radiogroup" aria-label="{subtitlescontrol}" data-acv-active-area></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="main-controls-item controls-progress">\n\t\t\t\t<div class="controls-progress-time controls-progress-time-1">\n\t\t\t\t\t<div class="{elementClassPrefix}-elapsed-time-indicator" role="text" tabindex="-1">\n\t\t\t\t\t\t<span class="label">{elapsed}</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-elapsed-time">00:00</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-time-maxwidth" aria-hidden="true">44:44</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="controls-progress-bar">\n\t\t\t\t\t<div class="{elementClassPrefix}-buffered-indicator"></div>\n\t\t\t\t\t<div class="{elementClassPrefix}-progress-indicator ac-slider-inactive" aria-label="progress-indicator" role="slider" precision="float" min="0" max="{max}" step="0.0005" value="0" tabindex="0" aria-valuemax="{max}" aria-valuemin="{min}" aria-valuenow="{value}" data-acv-active-area></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="controls-progress-time controls-progress-time-2">\n\t\t\t\t\t<div class="{elementClassPrefix}-remaining-time-indicator" role="text" tabindex="-1">\n\t\t\t\t\t\t<span class="label">{remaining}</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-remaining-time">-00:00</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-time-maxwidth" aria-hidden="true">-44:44</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="main-controls-item live-stream">\n\t\t\t\t<span class="live-stream-text">{livestream}</span>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-airplay-button {elementClassPrefix}-button airplay-unsupported" value="{airplay}" aria-label="{airplay}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-picture-in-picture-button {elementClassPrefix}-button picture-in-picture-unsupported" value="{pictureinpicture}" aria-label="{pictureinpicture}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-full-screen-button {elementClassPrefix}-button fullscreen-unsupported" value="{fullscreen}" aria-label="{fullscreen}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="end-state-wrapper">\n\t\t<div class="end-state-container"></div>\n\t</div>\n</div>\n\n<div class="compass-wrapper" data-acv-active-area>\n\t<div class="compass-background ac-video-icon"></div>\n\t<div class="compass-arrows">\n\t\t<button class="compass-arrow-top ac-video-icon" aria-label="{threesixtyup}" role="button" tabindex="0"></button>\n\t\t<button class="compass-arrow-right ac-video-icon" aria-label="{threesixtyright}" role="button" tabindex="0"></button>\n\t\t<button class="compass-arrow-bottom ac-video-icon" aria-label="{threesixtydown}" role="button" tabindex="0"></button>\n\t\t<button class="compass-arrow-left ac-video-icon" aria-label="{threesixtyleft}" role="button" tabindex="0"></button>\n\t</div>\n\t<div class="compass-field ac-video-icon"></div>\n\t<div class="compass-ring ac-video-icon"></div>\n\t<button class="compass" aria-label="{threesixtyicon}" role="button" tabindex="0"></button>\n</div>\n',this._templateData=t.templateData||Object.assign({elementClassPrefix:"controls"}),this._destroyed=!1,this._localize().then(function(){this._destroyed||(this._initUIComponents(t),this.el.style.display=""),"function"==typeof t.readyCallback&&t.readyCallback()}.bind(this))},f._localize=function(){return new Promise(function(t){s.getTranslation({callback:function(e){t(e)}.bind(this),basePath:this._basePath})}.bind(this)).then(function(t){this._templateData=Object.assign(this._templateData,t)}.bind(this))},f._renderTemplateMarkup=function(){var t=n(this._template,this._templateData);this.el.innerHTML=t},f._initDesktopControls=function(t,e){this._componentCollection=o(t,u(e,{elementClassPrefix:this._templateData.elementClassPrefix,elapsedTimeIndicator:{behavior:{observe:{source:this._player,events:["timeupdate","seeking","seeked","durationchange"],update:function(t){t.setText(r.formatTime(this._player.getCurrentTime(),this._player.getDuration()))}.bind(this)}}},remainingTimeIndicator:{behavior:{observe:{source:this._player,events:["timeupdate","seeking","seeked","durationchange"],update:function(t){t.setText(r.formatTime(this._player.getCurrentTime()-this._player.getDuration(),this._player.getDuration()))}.bind(this)}}},volumeLevel:{view:{options:{value:this._player.getMuted()?0:100*this._player.getVolume()}}},playPauseContainer:{view:{options:{labels:{playing:this._templateData.pause,paused:this._templateData.play,ended:this._templateData.replay}}}},fullScreen:{view:{options:{labels:{initial:this._templateData.fullscreen,on:this._templateData.exitfullscreen,off:this._templateData.fullscreen}}}},pictureInPictureToggle:{view:{options:{labels:{initial:this._templateData.pictureinpicture,on:this._templateData.exitpictureinpicture,off:this._templateData.pictureinpicture}}}}}),{player:this._player,localization:this._templateData})},f._initUIComponents=function(t){this._player=t.player;var e=this.el,i=t.components;e.classList.add(t.className||"ac-video-controls"),this._renderTemplateMarkup();var n=e.querySelector(".main-controls-container");t.enableMainControls?(n.classList.add("control-bar-skin-default"),this.mainControlsElement=n):n.parentElement.removeChild(n);var r=e.querySelector(".end-state-container");this.endState=new l(Object.assign({},{el:r,player:this._player},t.endState)),t.threesixty&&(this.compass=new h({rootElement:e,player:this._player})),this._initDesktopControls(e,i),this.sharingModule=this._componentCollection.components.socialShare[0].behavior.sharingModule,this._componentCollection.components.progressBar.length&&(this.scrubberView=this._componentCollection.components.progressBar[0].view),this.playButtonElement=this.el.querySelector(".controls-play-pause-button"),a&&(this.overlays=new c({el:this.el.querySelector(".ac-video-overlay-container"),player:this._player}))},f.destroy=function(){this._componentCollection&&(this._componentCollection.destroy(),this._componentCollection=null),this._destroyed=!0,this._player=null,this._templateData=null},t.exports=d},function(t,e,i){"use strict";t.exports=i(1189)},function(t,e,i){"use strict";t.exports=[{width:528,height:244,type:"baseline-high",suffix:"h"},{width:528,height:244,type:"small",suffix:"h"},{width:528,height:244,type:"baseline-low",suffix:"l"},{width:528,height:244,type:"baseline-medium",suffix:"m"},{width:812,height:375,type:"medium",suffix:"h"},{width:1082,height:500,type:"large",suffix:""},{width:1218,height:563,type:"large",suffix:""},{width:1624,height:750,type:"large",suffix:"h"},{width:1624,height:750,type:"large",suffix:"l"},{width:2436,height:1126,type:"large",suffix:"l"},{width:2436,height:1126,type:"large",suffix:"h"}]},,function(t,e){if(document.createEvent)try{new window.CustomEvent("click")}catch(t){window.CustomEvent=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}return t.prototype=window.Event.prototype,t}()}},function(t,e,i){"use strict";var n=i(241).create,r=i(1208),s=i(1210).EventEmitter;function o(t){t=t||{},this.history=window.history,this.rootStripper=/^\/+|\/+$/g,this.root=t.root||"/",this.root=("/"+this.root+"/").replace(this.rootStripper,"/");var e="boolean"!=typeof t.resolveInitialHash||t.resolveInitialHash;this._pushState="boolean"!=typeof t.pushState||t.pushState,this._hashChange=t.hashChange||!1,this._setUpdateVars(e),t.autoStart&&this.start()}var a=o.prototype=n(s.prototype);a._isRoot=function(t){return("/"+t+"/").replace(this.rootStripper,"/")===this.root},a._isPushStateSupported=function(){return this.history&&this.history.pushState},a._isHashChangeSupported=function(){return"onhashchange"in window},a._setUpdateVars=function(t){if(this._pushState&&this._isPushStateSupported())t&&this._hashChange&&-1!==window.location.href.indexOf("#")&&this.history.pushState({},document.title,window.location.href.replace("#","")),this._hashChange=!1;else{if(t&&this._pushState&&this._hashChange&&window.location.href.indexOf("#")<0){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname,window.location.origin+=window.location.port?":"+window.location.port:"");var e=window.location.href.substr(window.location.origin.length+this.root.length);if(e.length)return void(window.location=window.location.origin+this.root+"#"+e)}this._hashChange&&!this._isHashChangeSupported()&&(this._interval=50,this._iframe=document.createElement('<iframe src="javascript:0" tabindex="-1" style="display:none;">'),this._iframe=document.body.appendChild(this._iframe).contentWindow,this._iframe.document.open().close()),this._pushState=!1}},a._checkUrl=function(){var t=this._iframe.location.hash.substr(1);0===t.length&&(t="/"),this.fragment()!==t&&(window.location.hash="#"+t,this._ignoreHashChange=!1,this._handleHashChange())},a._handlePopState=function(t){this.trigger("popstate",{fragment:this.fragment()})},a._handleHashChange=function(t){this._ignoreHashChange?this._ignoreHashChange=!1:this.trigger("popstate",{fragment:this.fragment()})},a.canUpdate=function(){return this._pushState||this._hashChange},a.start=function(){return this.started||!this._pushState&&!this._hashChange||(this.started=!0,this._pushState?(this._handlePopState=this._handlePopState.bind(this),r.addEventListener(window,"popstate",this._handlePopState)):this._hashChange&&(this._isHashChangeSupported()?(this._handleHashChange=this._handleHashChange.bind(this),r.addEventListener(window,"hashchange",this._handleHashChange)):(this._iframe.location.hash=this.fragment(),this._checkUrl=this._checkUrl.bind(this),this._checkUrlInterval=setInterval(this._checkUrl,this._interval)))),this.started||!1},a.stop=function(){this.started&&(this.started=!1,this._pushState?r.removeEventListener(window,"popstate",this._handlePopState):this._hashChange&&(this._isHashChangeSupported()?r.removeEventListener(window,"hashchange",this._handleHashChange):this._checkUrlInterval&&(clearInterval(this._checkUrlInterval),this._checkUrlInterval=null)))},a.navigate=function(t,e){if(!this.started||!this.canUpdate())return!1;e=e||{};var i=((this._isRoot(t)?"":this.root)+t).replace(/([^:])(\/\/)/g,"$1/");return this._pushState?this.history.pushState(e,document.title,i):this._hashChange&&(this._ignoreHashChange=!0,window.location.hash="#"+t,this._isHashChangeSupported()||(this._iframe.document.open().close(),this._iframe.location.hash="#"+t)),!0},a.fragment=function(){var t="";return this._pushState?t=window.location.pathname.substr(this.root.length):this._hashChange&&(t=window.location.hash.substr(1)),""===t?"/":t},t.exports=o},function(t,e,i){"use strict";function n(t,e,i,n,r){if(this.path=t,this.callback=e,this.context=i,this.greedy=n||!1,this.priority=r||0,"number"!=typeof this.priority)throw new Error("Priority must be a Number.");this.identifierPattern="([a-zA-Z0-9\\-\\_]+)",this.tokensRe=new RegExp(":"+this.identifierPattern,"g"),this.matcher=this._createRouteMatcher(t)}var r=n.prototype;r._createRouteMatcher=function(t){if(t&&t.exec)return{pattern:t};if("/"===t)return{pattern:/^\/$/};if("string"!=typeof t)throw new Error("path must be either a string or regex");var e=this._extractRouteTokens(t),i=t.replace(this.tokensRe,this.identifierPattern);return{pattern:new RegExp(i,"g"),routeTokens:e}},r._extractRouteTokens=function(t){var e=t.replace(this.tokensRe,":"+this.identifierPattern),i=new RegExp(e,"g").exec(t);return i=i&&i.length>1?i.slice(1):null},r.match=function(t){this.matcher.pattern.lastIndex=0;var e=this.matcher.pattern.exec(t);if(e){var i=e.length?e.slice(1):[],n=this.callback;if(n&&"function"==typeof n)return n.apply(this.context||this,i),!0}return!1},t.exports=n},,,,,,,,,,,,function(t,e,i){"use strict";var n=i(588);t.exports=function(t,e){var i;return e?{width:(i=n(t)).width,height:i.height}:{width:t.offsetWidth,height:t.offsetHeight}}},function(t,e,i){"use strict";t.exports=function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}},,,,,,,,,function(t,e,i){"use strict";var n;t.exports=function(){return n?(n.style.cssText="",n.removeAttribute("style")):n=document.createElement("_"),n},t.exports.resetElement=function(){n=null}},,,,,,,,,,function(t,e,i){"use strict";t.exports={Transform:i(1274)}},,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=i(180),u=i(93),d=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,c(e).call(this,t,i))).keyframeType=u.KeyframeTypes.Event,n.isApplied=!1,n.hasDuration=!1,n.isCurrentlyInRange=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,h),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"parseOptions",value:function(t){t.x=void 0,t.y=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotation=void 0,t.style=void 0,t.cssClass=void 0,t.rotation=void 0,t.opacity=void 0,t.hold=void 0,void 0===t.end&&(t.end=t.start),this.event=t.event,this.animValues[this.event]=[0,0],void 0===this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new u.TargetValue(0,1,!1)),a(c(e.prototype),"parseOptions",this).call(this,t),this.keyframeType=u.KeyframeTypes.Event}},{key:"updateLocalProgress",value:function(t){if(this.hasDuration){var e=this.isCurrentlyInRange,i=t>=this.start&&t<=this.end;if(e===i)return;return i&&!e?this._trigger(this.event+":enter"):e&&!i&&this._trigger(this.event+":exit"),void(this.isCurrentlyInRange=i)}!this.isApplied&&t>=this.start?(this._trigger(this.event),this.isApplied=!0):this.isApplied&&t<this.start&&(this._trigger(this.event+":reverse"),this.isApplied=!1)}},{key:"_trigger",value:function(t){this.controller.eventObject.event=t,this.controller.eventObject.keyframe=this,this.controller.trigger(t,this.controller.eventObject)}},{key:"updateAnimationConstraints",value:function(){a(c(e.prototype),"updateAnimationConstraints",this).call(this),this.hasDuration=this.start!==this.end}},{key:"reset",value:function(t){this.isApplied=!1,this.isCurrentlyInRange=!1,a(c(e.prototype),"reset",this).call(this,t)}},{key:"onDOMRead",value:function(t,e){}},{key:"reconcile",value:function(t,e){}},{key:"updateAnimatedValueConstraints",value:function(){}}]),e}();d.DATA_ATTRIBUTE="data-anim-event",t.exports=d},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=i(12).EventEmitterMicro,u=i(368),d=i(253),f=i(93),p=i(1306),m=i(1307),_=i(1309),g=i(1310),v={create:i(255),update:i(370),draw:i(371)},y=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?l(t):e}(this,a(e).call(this))).anim=i,n.element=t,n.name=n.name||t.getAttribute("data-anim-scroll-group"),n.isEnabled=!0,n.timelines=new f.Timeline,n.metrics=new p,n.metrics.add(n.element),n.expressionParser=new m(l(l(n))),n.timeParser=new _(l(l(n))),n.boundsMin=0,n.boundsMax=0,n.lastPosition=0,n.timelineUpdateRequired=!1,n._keyframesDirty=!1,n.viewableRange=n.createViewableRange(),n.keyframeControllers=[],n.updateProgress(n.getPosition()),n.onDOMRead=n.onDOMRead.bind(l(l(n))),n.onDOMWrite=n.onDOMWrite.bind(l(l(n))),n.gui=null,n.finalizeInit(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,h),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"finalizeInit",value:function(){this.element._animInfo=new f.AnimInfo(this,null,!0),this.setupRAFEmitter()}},{key:"destroy",value:function(){this.expressionParser.destroy(),this.expressionParser=null,this.timeParser.destroy(),this.timeParser=null;for(var t=0,i=this.keyframeControllers.length;t<i;t++)this.keyframeControllers[t].destroy();this.timelines=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,o(a(e.prototype),"destroy",this).call(this)}},{key:"removeKeyframeController",value:function(t){var e=this;if(this.keyframeControllers.includes(t)){var i=t._allKeyframes;t._allKeyframes=[],this.keyframesDirty=!0,v.draw(function(){var n=e.keyframeControllers.indexOf(t);-1!==n&&(e.keyframeControllers.splice(n,1),t.onDOMWrite(),i.forEach(function(t){return t.destroy()}),t.destroy(),e.gui&&e.gui.create())},!0)}}},{key:"remove",value:function(){this.anim.removeGroup(this)}},{key:"setupRAFEmitter",value:function(t){this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=t||new v.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite)}},{key:"requestDOMChange",value:function(){return!!this.isEnabled&&this.rafEmitter.run()}},{key:"onDOMRead",value:function(){this.keyframesDirty&&this.onKeyframesDirty();for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMRead(this.timelines)}},{key:"onDOMWrite",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMWrite(this.timelines);this.needsUpdate()&&this.requestDOMChange()}},{key:"needsUpdate",value:function(){if(this._keyframesDirty)return!0;for(var t=0,e=this.keyframeControllers.length;t<e;t++)if(this.keyframeControllers[t].needsUpdate())return!0;return!1}},{key:"addKeyframe",value:function(t,e){var i=this.anim.getControllerForTarget(t);return null===i&&(i=new g(this,t),this.keyframeControllers.push(i)),this.keyframesDirty=!0,i.addKeyframe(e)}},{key:"forceUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.recalculateActiveKeyframes,i=void 0!==e&&e,n=t.waitForNextUpdate,r=void 0===n||n;this.isEnabled&&(i&&this.determineActiveKeyframes(null),this.refreshActiveMetrics(),this.viewableRange=this.createViewableRange(),this.hasDuration()&&(this.timelineUpdateRequired=!0,r?this.keyframesDirty=!0:this.onKeyframesDirty()))}},{key:"onKeyframesDirty",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preventOnScroll,e=void 0!==t&&t;this.determineActiveKeyframes(),this.keyframesDirty=!1;for(var i=0,n=this.keyframeControllers.length;i<n;i++)this.keyframeControllers[i].updateAnimationConstraints();this.updateProgress(this.getPosition()),this.updateBounds(),e||this._onScroll(),this.gui&&this.gui.create()}},{key:"refreshActiveMetrics",value:function(){var t=new Set;t.add(this.element),this.keyframeControllers.forEach(function(e){t.add(e.element),e._activeKeyframes.forEach(function(e){return t.add(e.relativeTo)})}),this.metrics.refreshCollection(t)}},{key:"reconcile",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].reconcile()}},{key:"determineActiveKeyframes",value:function(t){t=t||d(Array.from(document.documentElement.classList));for(var e=0,i=this.keyframeControllers.length;e<i;e++)this.keyframeControllers[e].determineActiveKeyframes(t)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},e=0,i=this.keyframeControllers.length;e<i;e++)this.keyframeControllers[e].getBounds(t);var n=this.convertTValueToScrollPosition(t.min),r=this.convertTValueToScrollPosition(t.max);r-n<f.pageMetrics.windowHeight?(t.min=this.convertScrollPositionToTValue(n-.5*f.pageMetrics.windowHeight),t.max=this.convertScrollPositionToTValue(r+.5*f.pageMetrics.windowHeight)):(t.min-=.001,t.max+=.001),this.boundsMin=t.min,this.boundsMax=t.max,this.timelineUpdateRequired=!0}},{key:"createViewableRange",value:function(){return new f.ViewableRange(this.metrics.get(this.element),f.pageMetrics.windowHeight)}},{key:"_onBreakpointChange",value:function(t,e){this.keyframesDirty=!0,this.determineActiveKeyframes()}},{key:"updateProgress",value:function(t){this.hasDuration()?this.timelines.localUnclamped=(t-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a):this.timelines.local=this.timelines.localUnclamped=0}},{key:"performTimelineDispatch",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].updateLocalProgress(this.timelines.local);this.trigger(f.EVENTS.ON_TIMELINE_UPDATE,this.timelines.local),this.timelineUpdateRequired=!1,this.lastPosition!==this.timelines.local&&(this.lastPosition<=this.boundsMin&&this.timelines.localUnclamped>this.boundsMin?this.trigger(f.EVENTS.ON_TIMELINE_START,this):this.lastPosition>=this.boundsMin&&this.timelines.localUnclamped<this.boundsMin?this.trigger(f.EVENTS.ON_TIMELINE_START+":reverse",this):this.lastPosition<=this.boundsMax&&this.timelines.localUnclamped>=this.boundsMax?this.trigger(f.EVENTS.ON_TIMELINE_COMPLETE,this):this.lastPosition>=this.boundsMax&&this.timelines.localUnclamped<this.boundsMax&&this.trigger(f.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this)),null!==this.gui&&this.gui.onScrollUpdate(this.timelines)}},{key:"_onScroll",value:function(t){if(!this.isEnabled)return!1;void 0===t&&(t=this.getPosition()),this.updateProgress(t);var e=this.lastPosition===this.boundsMin||this.lastPosition===this.boundsMax,i=this.timelines.localUnclamped===this.boundsMin||this.timelines.localUnclamped===this.boundsMax;if(!this.timelineUpdateRequired&&e&&i)this.timelines.local=this.timelines.localUnclamped;else{if(this.timelineUpdateRequired||this.timelines.localUnclamped>this.boundsMin&&this.timelines.localUnclamped<this.boundsMax)return this.timelines.local=u.clamp(this.timelines.localUnclamped,this.boundsMin,this.boundsMax),this.performTimelineDispatch(),this.requestDOMChange(),void(this.lastPosition=this.timelines.localUnclamped);var n=this.lastPosition>this.boundsMin&&this.lastPosition<this.boundsMax,r=this.timelines.localUnclamped<=this.boundsMin||this.timelines.localUnclamped>=this.boundsMax;if(n&&r)return this.timelines.local=u.clamp(this.timelines.localUnclamped,this.boundsMin,this.boundsMax),this.performTimelineDispatch(),this.requestDOMChange(),void(this.lastPosition=this.timelines.localUnclamped);null!==this.gui&&this.gui.onScrollUpdate(this.timelines)}}},{key:"convertScrollPositionToTValue",value:function(t){return this.hasDuration()?u.map(t,this.viewableRange.a,this.viewableRange.d,0,1):0}},{key:"convertTValueToScrollPosition",value:function(t){return this.hasDuration()?u.map(t,0,1,this.viewableRange.a,this.viewableRange.d):0}},{key:"hasDuration",value:function(){return this.viewableRange.a!==this.viewableRange.d}},{key:"getPosition",value:function(){return f.pageMetrics.scrollY}},{key:"getControllerForTarget",value:function(t){return this.anim.getControllerForTarget(t)}},{key:"trigger",value:function(t,e){if(void 0!==this._events[t])for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()}},{key:"keyframesDirty",set:function(t){this._keyframesDirty=t,this._keyframesDirty&&this.requestDOMChange()},get:function(){return this._keyframesDirty}},{key:"keyFrames",get:function(){return this.viewableRange}}]),e}();t.exports=y},function(t,e,i){"use strict";function n(){this._events={}}var r=n.prototype;r.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},r.once=function(t,e){var i=this;this.on(t,function n(r){i.off(t,n),void 0!==r?e(r):e()})},r.off=function(t,e){if(this.has(t)){if(1===arguments.length)return this._events[t]=null,void delete this._events[t];var i=this._events[t].indexOf(e);-1!==i&&this._events[t].splice(i,1)}},r.trigger=function(t,e){if(this.has(t))for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},r.has=function(t){return t in this._events!=!1&&0!==this._events[t].length},r.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},t.exports=n},function(t,e,i){"use strict";t.exports={SharedInstance:i(1318)}},function(t,e){t.exports={majorVersionNumber:"3.x"}},function(t,e,i){"use strict";var n=i(254);t.exports=n.requestAnimationFrame("external")},,,,,,,function(t,e,i){"use strict";var n=i(375);function r(){this._items=[]}var s=r.prototype;s.enqueue=function(t,e){void 0===e&&(e=r.PRIORITY_DEFAULT);var i=new n(t,e);return this.enqueueQueueItem(i)},s.enqueueQueueItem=function(t){return-1===this._items.indexOf(t)&&this._items.push(t),t},s.dequeue=function(){this._heapSort();var t=this._items.length-1,e=this._items[0];return this._items[0]=this._items[t],this._items.pop(),e},s.dequeueQueueItem=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1),t},s.peek=function(){return 0==this.count()?null:(this._heapSort(),this._items[0])},s.isEmpty=function(){return 0===this._items.length},s.count=function(){return this._items.length},s.toString=function(){for(var t=["Queue total items: "+this.count()+"\n"],e=0;e<this.count();++e)t.push(this._items[e].toString()+"\n");return t.join("")},s._heapSort=function(){for(var t=this._items.length-1;t>=0;t--)for(var e=t;e>0;){0;var i=Math.floor((e-1)/2);if(this._items[e].compareTo(this._items[i])>=0)break;var n=this._items[e];this._items[e]=this._items[i],this._items[i]=n,e=i}},r.PRIORITY_LOW=10,r.PRIORITY_DEFAULT=5,r.PRIORITY_HIGH=1,t.exports=r},,,,,,,function(t,e,i){i(649),i(650)},,,function(module,exports){function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}"object"!==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}var cx,escapable,gap,indent,meta,rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,r,s,o,a=gap,c=e[t];switch(c&&"object"===_typeof(c)&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),_typeof(c)){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(c)){for(s=c.length,i=0;i<s;i+=1)o[i]=str(i,c)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+a+"]":"["+o.join(",")+"]",gap=a,r}if(rep&&"object"===_typeof(rep))for(s=rep.length,i=0;i<s;i+=1)"string"==typeof rep[i]&&(r=str(n=rep[i],c))&&o.push(quote(n)+(gap?": ":":")+r);else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(r=str(n,c))&&o.push(quote(n)+(gap?": ":":")+r);return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+a+"}":"{"+o.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!==_typeof(e)||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(t,e){var i,n,r=t[e];if(r&&"object"===_typeof(r))for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(void 0!==(n=walk(r,i))?r[i]=n:delete r[i]);return reviver.call(t,e,r)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},,function(t,e){t.exports={majorVersionNumber:"3.x"}},,function(t,e,i){"use strict";var n=i(185),r=i(386);t.exports=function(t,e){var i;if(e){var s=r(),o=t.getBoundingClientRect();i={top:o.top+s.y,right:o.right+s.x,bottom:o.bottom+s.y,left:o.left+s.x}}else{var a=n(t);for(i={top:t.offsetTop,right:a.width,bottom:a.height,left:t.offsetLeft};t=t.offsetParent;)i.top+=t.offsetTop,i.left+=t.offsetLeft;i.right+=i.left,i.bottom+=i.top}var c=document.documentElement.offsetTop,l=document.documentElement.offsetLeft;return{top:i.top+c,right:i.right+l,bottom:i.bottom+c,left:i.left+l}}},function(t,e,i){"use strict";var n=i(185),r=i(657);t.exports=function(t,e){var i=r(t,e),s=n(t,e);return{x:i.x/s.width,y:i.y/s.height}}},function(t,e,i){"use strict";var n=i(658);t.exports=function(t,e){var i=window.innerWidth,r=window.innerHeight,s=n(t,e),o={x:s.right-s.left,y:s.bottom-s.top};return s.top<0&&(o.y+=s.top),s.bottom>r&&(o.y-=s.bottom-r),s.left<0&&(o.x+=s.left),s.right>i&&(o.x-=s.right-i),o.x=o.x<0?0:o.x,o.y=o.y<0?0:o.y,o}},function(t,e,i){"use strict";var n=i(655),r=i(386);t.exports=function(t,e){var i;if(e)return{top:(i=t.getBoundingClientRect()).top,right:i.right,bottom:i.bottom,left:i.left};i=n(t);var s=r();return{top:i.top-s.y,right:i.right-s.x,bottom:i.bottom-s.y,left:i.left-s.x}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(319);n.create=i(539),t.exports={Player:n,VERSION:i(538)}},function(t,e,i){"use strict";var n=i(64),r=n.browser.safari||n.browser.edge,s="MediaSource"in window,o=function(){};o.prototype.create=function(t,e){return t.hls&&!r&&s?new(i(973))(Object.assign({},t,{parentElement:e})):t.threesixty?new(i(987))(Object.assign({},t,{parentElement:e})):new(i(320))(Object.assign({},t,{parentElement:e}))},t.exports=Object.create(o.prototype)},function(t,e,i){"use strict";var n=i(971),r=i(972);function s(t){return new RegExp(t+"[a-zA-Z\\s/:]+([0-9_.]+)","i")}function o(t,e){if("function"==typeof t.parseVersion)return t.parseVersion(e);var i=t.version||t.userAgent;"string"==typeof i&&(i=[i]);for(var n,r=i.length,o=0;o<r;o++)if((n=e.match(s(i[o])))&&n.length>1)return n[1].replace(/_/g,".");return!1}function a(t,e,i){for(var n,r,s=t.length,a=0;a<s;a++)if("function"==typeof t[a].test?!0===t[a].test(i)&&(n=t[a].name):i.ua.indexOf(t[a].userAgent)>-1&&(n=t[a].name),n){if(e[n]=!0,"string"==typeof(r=o(t[a],i.ua))){var c=r.split(".");e.version.string=r,c&&c.length>0&&(e.version.major=parseInt(c[0]||0),e.version.minor=parseInt(c[1]||0),e.version.patch=parseInt(c[2]||0))}else"edge"===n&&(e.version.string="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0");return"function"==typeof t[a].parseDocumentMode&&(e.version.documentMode=t[a].parseDocumentMode()),e}return e}t.exports=function(t){var e={};return e.browser=a(r.browser,n.browser,t),e.os=a(r.os,n.os,t),e}},function(t,e,i){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},function(t,e,i){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(t){return t.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===t.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(t){return t.ua.indexOf("Firefox")>-1&&-1===t.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(t){return t.ua.indexOf("Safari")>-1&&t.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(t){return t.ua.indexOf("IE")>-1||t.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var t=!1;return document.documentMode&&(t=parseInt(document.documentMode,10)),t}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(t){return t.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(t){return t.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(t){return t.ua.indexOf("iPhone")>-1||t.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(t){return(t.ua.indexOf("Linux")>-1||t.platform.indexOf("Linux")>-1)&&-1===t.ua.indexOf("Android")}},{name:"fireos",test:function(t){return t.ua.indexOf("Firefox")>-1&&t.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(t){return t.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},function(t,e,i){"use strict";var n=window.Hls,r=i(320),s=function(t){this._src=null,r.apply(this,arguments),this._initialize(t)},o=r.prototype,a=s.prototype=Object.create(o);a._initialize=function(t){if(void 0===window.Hls)throw new Error("Hls.js should be included on the page in a script tag");this._hls=new n({debug:t.debugHls,enableWorker:!0,enableStreaming:!0,autoRecoverError:!0,enablePerformanceLogging:t.enablePerformanceLogging||!1})},a.load=function(t,e){this._videoElement.innerHTML="",this._videoElement.removeAttribute("src");var i=function(){this._hls.off(n.Events.MEDIA_ATTACHED,i),this.setSrc(t[0]),this._createTextTrackTags(e)}.bind(this);this._hls.on(n.Events.MEDIA_ATTACHED,i),this._hls.attachMedia(this._videoElement)},a.setSrc=function(t){this._src=t,this._hls.loadSource(t),this._hls.on(n.Events.MANIFEST_PARSED,this._boundManifestParsed=function(){this._hls.off(n.Events.MANIFEST_PARSED,this._boundManifestParsed),this.play()}.bind(this))},a.getCurrentSrc=function(){return this._src},a.destroy=function(){o.destroy.apply(this,arguments),this._hls&&(this._hls.destroy(),this._hls=null)},t.exports=s},function(t,e,i){"use strict";var n=i(64),r=!n.browser.ie&&!n.browser.edge;t.exports=function(t){var e;return e=!!(t=t||{}).hls||!t.threesixty&&(void 0===t.useNativeCaptions?r:t.useNativeCaptions),i(e?975:976)}},function(t,e,i){"use strict";var n,r=i(64);n=r.browser.safari?function(t,e){t.track.mode=e}:function(t,e){t.mode=e};var s=function(t){var e;if(t instanceof HTMLElement)return this._videoElement.appendChild(t);var i=document.createElement("track");i.src=t.src,i.kind="captions",i.srclang=t.srclang,"en"===i.srclang?i.label=t.label||"English":i.label=t.label||t.srclang&&t.srclang.toUpperCase()||"Unknown CC",r.browser.firefox?(e=this._videoElement.textTracks.length,setTimeout(function(){this._videoElement.appendChild(i),n(this._videoElement.textTracks[e],t.mode||"hidden")}.bind(this),0)):r.os.android?(e=this._videoElement.textTracks.length,this._videoElement.appendChild(i),n(this._videoElement.textTracks[e],t.mode||"hidden")):(this._videoElement.appendChild(i),n(i,t.mode||"hidden"))};t.exports={create:function(t){for(var e=0,i=t?t.length:0;e<i;e++){var n=t[e];s.call(this,n)}},add:s,get:function(){return this._videoElement.textTracks},getEmitter:function(){if(!this._textTracksEmitter){var t=i(163);this._textTracksEmitter=new t(this.getTextTracks())}return this._textTracksEmitter},destroy:function(){}}},function(t,e,i){"use strict";var n=i(977);t.exports={create:function(t){if(t)if(this._textTracksPolyfill){this._textTracksPolyfill.clearTracks();for(var e=0,i=t.length;e<i;e++)this._textTracksPolyfill.addTrack(t[e])}else this._textTracksPolyfill=new n({video:this,tracks:t,container:this._parentElement})},add:function(t){return this._textTracksPolyfill.addTrack(t)},get:function(){return this._textTracksPolyfill||this._createTextTrackTags([]),this._textTracksPolyfill.getTextTracks()},getEmitter:function(){return this._textTracksPolyfill||this._createTextTrackTags([]),this._textTracksPolyfill},destroy:function(){this._textTracksPolyfill.destroy(),this._textTracksPolyfill=null}}},function(t,e,i){"use strict";var n=i(509),r=i(980),s=i(513),o=i(12).EventEmitterMicro,a={textTracksPolyfill:{className:"ac-video-player-text-track",view:{classDef:s,options:{}},behavior:{classDef:r}}},c=function(t){o.call(this),this.container=t.container,this._video=t.video,this._initialize(t)},l=c.prototype=Object.create(o.prototype);l._initialize=function(t){this._onTrackChange=this._onTrackChange.bind(this),this.el=document.createElement("div"),this.el.innerHTML=t.template||'<div class="ac-video-player-text-track"></div>',this.el.classList.add("ac-video-player-text-track-container"),this._tracks=t.tracks||[],this._textTrackComponent=n(this.el,a,{video:this._video})},l._onTrackChange=function(){this.trigger("change"),this.el.parentElement||(this._video.getRenderElement().parentElement.appendChild(this.el),this.el.firstElementChild.classList.add("is-visible"))},l.addTrack=function(t){this._tracks||(this._tracks=[]);var e=t.mode||"hidden",i=this._onTrackChange;Object.defineProperty(t,"mode",{get:function(){return e},set:function(t){e=t,i()},enumerable:!0,configurable:!0}),this._tracks.push(t),this.trigger("addtrack")},l.clearTracks=function(){this._tracks=[],this.trigger("removetrack"),this.trigger("change")},l.getTextTracks=function(){return this._tracks},l.trigger=function(t,e){return o.prototype.trigger.call(this,t,Object.assign({type:t},e||{}))},l.destroy=function(){this._textTrackComponent.destroy(),o.prototype.destroy.call(this)},t.exports=c},function(t,e,i){"use strict";t.exports=function(t,e){return new e.classDef(t,e.options)}},function(t,e,i){"use strict";var n=function(t,e,i){return function(n){t[e](n,i)}};t.exports=function(t,e,i){return e.classDef?function(t,e,i){return new e.classDef(t,Object.assign(e.options||{},i||{}))}(t,e,i):function(t,e){var i=e.handlers||{},r={};for(var s in i)i.hasOwnProperty(s)&&t.on(s,r[s]=n(i,s,t));var o,a=e.observe;if(a){for(var c=a.update,l=a.source,h=l.on.bind(l)||l.addEventListener,u=l.off.bind(l)||l.removeEventListener,d=a.events,f=0,p=d.length,m=function(){c.call(a,t)};f<p;f++)h(s=d[f],m);o=function(){for(f=0;f<p;f++)s=d[f],u(s,m)}}return{destroy:function(){for(var e in r)r.hasOwnProperty(e)&&t.off(e,r[e]);o&&o()}}}(t,e)}},function(t,e,i){"use strict";var n=i(510),r=i(321),s=i(985),o=function(t,e){this._view=t,this._video=e.video,this._refreshTracks=this._refreshTracks.bind(this),this._throttledRefreshCurrentCaption=r(this._refreshCurrentCaption.bind(this),300),this._addTrackListeners()},a=o.prototype;a._addTrackListeners=function(){this._video.on("addtrack",this._refreshTracks),this._video.on("removetrack",this._refreshTracks),this._video.on("change",this._refreshTracks)},a._addVideoListeners=function(t){if(!t.cues){this._view.setText("");try{return n.get(t.src,{complete:function(e){t.cues=s(e.responseText),this._addVideoListeners(t),this._refreshCurrentCaption()}.bind(this),error:function(t){}.bind(this)})}catch(t){}}this._video.on("loadstart",this._refreshTracks),this._video.on("timeupdate",this._throttledRefreshCurrentCaption)},a._removeVideoListeners=function(){this._video.off("loadstart",this._refreshTracks),this._video.off("timeupdate",this._throttledRefreshCurrentCaption)},a._refreshTracks=function(){var t=this._video.getTextTracks();t&&t.length&&(t=t.filter(function(t){return"showing"===t.mode})),t.length?(this._activeTrack=t[0],this._addVideoListeners(this._activeTrack)):(this._activeTrack=null,this._removeVideoListeners()),this._refreshCurrentCaption()},a._getCurrentCaptionText=function(t){var e=this._activeTrack?this._activeTrack.cues:null;if(!e)return"";if(this._currentCaption&&this._currentCaption.startTime>=t&&this._currentCaption<=t)return this._currentCaption.text;for(var i,n=0,r=e.length;n<r;){if(e[n].startTime<=t&&e[n].endTime>=t)i=e[n];else if(e[n].startTime>=t)break;n++}return this._currentCaption=i,i?i.text:""},a._refreshCurrentCaption=function(){this._view.setText(this._getCurrentCaptionText(this._video.getCurrentTime()))},a.destroy=function(){this._removeVideoListeners()},t.exports=o},,,,function(t,e,i){"use strict";t.exports=function(t,e){var i="";if(t){var n=Object.keys(t),r=n.length-1;n.forEach(function(e,n){var s=t[e],o=(e=e.trim())+(s=null===(s=s&&"string"==typeof s?s.trim():s)?"":"="+s)+(n===r?"":"&");i=i?i.concat(o):o})}return i&&!1!==e?"?"+i:i}},function(t,e,i){"use strict";var n=i(322);t.exports=function(t){for(var e,i,r=t.split(/\n/),s=/([\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3}( \-\-> ){1}([\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3}/,o=[],a=0,c=r.length;a<c;a++)if(i="",s.test(r[a])){for((e=r[a].split(" --\x3e "))[0]=e[0].split(":").length<3?"00:"+e[0]:e[0],e[1]=e[1].split(":").length<3?"00:"+e[1]:e[1];++a&&a<c&&!s.test(r[a]);)""!==r[a]&&(i+=r[a]+"<br />");i=i.substr(0,i.length-6),a<c&&a--,o.push({startTime:n.stringToNumber(e[0].split(" ")[0]),endTime:n.stringToNumber(e[1].split(" ")[0]),text:i})}return o}},,function(t,e,i){"use strict";var n=i(320),r=i(514),s=function(t){n.call(this,t),this._renderElement=document.createElement("div"),this._renderElement.classList.add("threesixty-video-container"),this._videoElement.style.visibility="hidden",this._videoElement.style.opacity=0,this._renderElement.appendChild(this._videoElement),this._ac360=new r({el:this._renderElement,src:this.getMediaElement()}),this.sendMouseDown=this.sendMouseDown.bind(this)},o=n.prototype,a=s.prototype=Object.create(o);a.load=function(){this._ac360.setPos(0,0),o.load.apply(this,arguments)},a.play=function(){this.getEnded()&&this._ac360.setPos(0,0),o.play.apply(this,arguments)},a.sendMouseDown=function(t){this._ac360.sendMouseDown(t)},a.getRenderElement=function(){return this._renderElement},a.get360=function(){return this._ac360},a.setControls=function(t){o.setControls.call(this,!1)},a.supportsPictureInPicture=function(){return!1},a.supportsAirPlay=function(){return!1},a.refreshSize=function(){this._ac360.refreshSize()},t.exports=s},,,,,,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=window,o=s.AC,a=function(){var t={};return{get:function(e,i){var n=null;return t[e]&&t[e][i]&&(n=t[e][i]),n},set:function(e,i,n){return t[e]||(t[e]={}),t[e][i]="function"==typeof n?new n:n,t[e][i]},share:function(t,e,i){var n=this.get(t,e);return n||(n=this.set(t,e,i)),n},remove:function(e,i){var n=r(i);if("string"!==n&&"number"!==n)t[e]&&(t[e]=null);else{if(!t[e]||!t[e][i])return;t[e][i]=null}}}}();o||(o=s.AC={}),o.SharedInstance||(o.SharedInstance=a),t.exports=o.SharedInstance},,,,,,function(t,e,i){"use strict";var n=i(1001),r=i(1002);function s(t){return new RegExp(t+"[a-zA-Z\\s/:]+([0-9_.]+)","i")}function o(t,e){if("function"==typeof t.parseVersion)return t.parseVersion(e);var i=t.version||t.userAgent;"string"==typeof i&&(i=[i]);for(var n,r=i.length,o=0;o<r;o++)if((n=e.match(s(i[o])))&&n.length>1)return n[1].replace(/_/g,".")}function a(t,e,i){for(var n,r,s=t.length,a=0;a<s;a++)if("function"==typeof t[a].test?!0===t[a].test(i)&&(n=t[a].name):i.ua.indexOf(t[a].userAgent)>-1&&(n=t[a].name),n){if(e[n]=!0,"string"==typeof(r=o(t[a],i.ua))){var c=r.split(".");e.version.name=r,c&&c.length>0&&(e.version.major=parseInt(c[0]||0),e.version.minor=parseInt(c[1]||0),e.version.patch=parseInt(c[2]||0))}else"edge"===n&&(e.version.name="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0");return"function"==typeof t[a].parseDocumentMode&&(e.version.documentMode=t[a].parseDocumentMode()),e}return e}t.exports=function(t){var e={};return e.browser=a(r.browser,n.browser,t),e.os=a(r.os,n.os,t),e}},function(t,e,i){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{name:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{name:"",major:0,minor:0,patch:0}}}},function(t,e,i){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(t){return t.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===t.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(t){return t.ua.indexOf("Firefox")>-1&&-1===t.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(t){return t.ua.indexOf("Safari")>-1&&t.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(t){return t.ua.indexOf("IE")>-1||t.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var t=!1;return document.documentMode&&(t=parseInt(document.documentMode,10)),t}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(t){return t.platform.indexOf("Win")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(t){return t.platform.indexOf("Mac")>-1}},{name:"ios",test:function(t){return t.ua.indexOf("iPhone")>-1||t.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(t){return t.platform.indexOf("Linux")>-1&&-1===t.ua.indexOf("Android")}},{name:"fireos",test:function(t){return t.ua.indexOf("Firefox")>-1&&t.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android"},{name:"chromeos",userAgent:"CrOS"}]}},,,,,,,,,function(t,e,i){"use strict";var n={window:window,document:document};t.exports=function(t,e){var i;return t="on"+t,e in n||(n[e]=document.createElement(e)),t in(i=n[e])||"setAttribute"in i&&(i.setAttribute(t,"return;"),"function"==typeof i[t])}},function(t,e,i){"use strict";t.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},function(t,e,i){"use strict";t.exports=["transitionend","animationstart","animationend","animationiteration"]},,function(t,e,i){"use strict";var n=i(1016),r="/ac/ac-video-posterframe/1.0/images/ac-video-poster_848x480.jpg",s="/ac/ac-video-posterframe/1.0/images/ac-video-poster_848x480_2x.jpg";t.exports=function(t){if(t.src=t.src||(t.is2x?s:r),t.useNativePoster){t.video.setPoster(t.src);var e,i=!1;return{show:function(){i=!0,e&&(t.video.setPoster(e),e=null)},hide:function(){i=!1},setSrc:function(n){i?t.video.setPoster(n):e=n}}}return new n(t)}},function(t,e,i){"use strict";var n=function(t){this._defaultSrc=t.src,this._initialize(t)},r=n.prototype;r._initialize=function(t){var e=t.src;this.el=t.el||document.createElement("div"),this._imgElement=document.createElement("img"),this._imgElement.src=e,this._currentSrc=e,this._imgElement.alt="",this._imgElement.addEventListener("load",this._onLoad.bind(this)),this.el.appendChild(this._imgElement),this.hide(),this.el.classList.add("ac-video-poster")},r.hide=function(){this.el.classList.add("ac-video-poster-hide")},r.show=function(){this.el.classList.remove("ac-video-poster-hide")},r.setSrc=function(t){var e=t||this._defaultSrc;e!==this._currentSrc&&(this._imgElement.style.display="none",this._imgElement.src=e,this._currentSrc=e)},r._onLoad=function(){this._imgElement.style.display=""},r.getSrc=function(){return this._imgElement.src},t.exports=n},function(t,e,i){"use strict";var n=i(225);t.exports=n.requestAnimationFrame("update")},function(t,e,i){"use strict";var n=i(1019),r=function(t){this.rafEmitter=new n,this.rafEmitter.on(t,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(t){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2,this._currentFrameID},s.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),-1!==this._cancelFrameIdx&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},s._onRAFExecuted=function(t){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t)},t.exports=r},function(t,e,i){"use strict";var n=i(523),r=function(t){n.call(this,t)};(r.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},function(t,e,i){"use strict";var n=i(99).SharedInstance,r=i(1021);t.exports=n.share("ac-raf-executor:sharedRAFExecutorInstance","2.0.1",r)},function(t,e,i){"use strict";var n;function r(t){t=t||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}i(327),(n=r.prototype).subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},n.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},n.trigger=function(t,e){var i;for(i=0;i<this._subscriberArrayLength;i++)null!==this._subscribers[this._subscribersOrder[i]]&&!1===this._subscribers[this._subscribersOrder[i]]._didDestroy&&this._subscribers[this._subscribersOrder[i]].trigger(t,e)},n.destroy=function(){var t=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},n.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},n._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},n._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},n._onSubscribersAnimationFrameStart=function(t){var e;for(e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&!1===this._subscribers[this._subscribersOrder[e]]._didDestroy&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameStart(t)},n._onSubscribersAnimationFrameEnd=function(t){var e;for(e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&!1===this._subscribers[this._subscribersOrder[e]]._didDestroy&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameEnd(t)},n._onAnimationFrame=function(t){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},n._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},n._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=r},function(t,e,i){"use strict";var n=i(225);t.exports=n.cancelAnimationFrame("update")},,,,function(t,e,i){"use strict";t.exports=[{name:"small",minWidth:0,maxWidth:479},{name:"medium",minWidth:480,maxWidth:779},{name:"large",minWidth:780,maxWidth:1/0}]},function(t,e,i){"use strict";t.exports=["loadstart","progress","suspend","abort","error","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","ended","ratechange","durationchange","volumechange","addtrack","change","removetrack"]},function(t,e,i){"use strict";t.exports=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","waiting","canplay","canplaythrough"]},function(t,e,i){"use strict";var n=i(12).EventEmitterMicro,r=function(t){n.call(this),this.el=t.el||document.body,this.breakpoints=t.breakpoints.sort(function(t,e){return t.minWidth-e.minWidth}),this._player=t.player,this._breakPointsLength=this.breakpoints.length,this._addClasses=t.addClass,this._addEventListeners(),this._onResize()},s=n.prototype,o=r.prototype=Object.create(s);o.constructor=r,o._addEventListeners=function(){var t=this;this._boundOnResize=function(){t._onResize.apply(t,arguments)},window.addEventListener("resize",this._boundOnResize),window.addEventListener("orientationchange",this._boundOnResize),window.addEventListener("DOMContentLoaded",this._boundOnResize)},o._removeEventListeners=function(){window.removeEventListener("resize",this._boundOnResize),window.removeEventListener("orientationchange",this._boundOnResize),window.addEventListener("DOMContentLoaded",this._boundOnResize)},o._onResize=function(t){var e=this.el.clientWidth,i=this._currentBreakpoint;if(!1!==t&&this._player.refreshSize(),!i||!r.widthInBreakpoint(e,i)){var n=r.getBreakpointFromWidth(e,this.breakpoints,i,this._breakPointsLength);this._addClasses&&(this._currentBreakpoint&&this.el.classList.remove(i.name),this.el.classList.add(n.name)),this._currentBreakpoint=n,this.trigger("breakpointchange",n)}},o.getCurrentBreakpoint=function(){return this._currentBreakpoint},o.refresh=function(){this._onResize(!1)},o.destroy=function(){this._removeEventListeners(),s.destroy.call(this)},r.getBreakpointFromElement=function(t,e){return r.getBreakpointFromWidth(t.clientWidth,e)},r.getBreakpointFromWidth=function(t,e,i,n){for(var r=0,s=n||e.length;r<s;r++){var o=e[r];if(o!==i&&(t>=o.minWidth&&t<=o.maxWidth))return o}},r.widthInBreakpoint=function(t,e){return t>=e.minWidth&&t<=e.maxWidth},t.exports=r},function(t,e,i){"use strict";var n,r;t.exports=function(t){return t.threesixty?(n||(n=i(1031)),new n(t)):(r||(r=i(529)),new r(t))}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=i(529),u=["controls-toggle-mute-volume-button","controls-volume-level-indicator"],d=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=o(this,c(e).call(this,t)))._arrowControls=i._player.get360().arrowControls,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,h),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"_bindMethods",value:function(){a(c(e.prototype),"_bindMethods",this).call(this),this._onLeftArrowUp=this._onLeftArrowUp.bind(this),this._onRightArrowUp=this._onRightArrowUp.bind(this),this._onDownArrowUp=this._onDownArrowUp.bind(this),this._onUpArrowUp=this._onUpArrowUp.bind(this)}},{key:"_addEventListeners",value:function(){a(c(e.prototype),"_addEventListeners",this).call(this),this._keyboard.onUp(37,this._onLeftArrowUp),this._keyboard.onUp(39,this._onRightArrowUp),this._keyboard.onUp(38,this._onUpArrowUp),this._keyboard.onUp(40,this._onDownArrowUp)}},{key:"_removeEventListeners",value:function(){a(c(e.prototype),"_removeEventListeners",this).call(this),this._keyboard.offUp(37,this._onLeftArrowUp),this._keyboard.offUp(39,this._onRightArrowUp),this._keyboard.offUp(38,this._onUpArrowUp),this._keyboard.offUp(40,this._onDownArrowUp)}},{key:"_onLeftArrowDown",value:function(t){if(t.target.classList.contains("controls-progress-indicator"))return this._triggerKeyboardInteraction(),a(c(e.prototype),"_onLeftArrowDown",this).call(this,t);this._arrowControls.leftArrowDown(t)}},{key:"_onRightArrowDown",value:function(t){if(t.target.classList.contains("controls-progress-indicator"))return this._triggerKeyboardInteraction(),a(c(e.prototype),"_onRightArrowDown",this).call(this,t);this._arrowControls.rightArrowDown(t)}},{key:"_onUpArrowDown",value:function(t){if(t.target.classList.contains(u[0])||t.target.classList.contains(u[1]))return this._triggerKeyboardInteraction(),a(c(e.prototype),"_onUpArrowDown",this).call(this,t);t.originalEvent.preventDefault(),this._arrowControls.upArrowDown(t)}},{key:"_onDownArrowDown",value:function(t){if(t.target.classList.contains(u[0])||t.target.classList.contains(u[1]))return this._triggerKeyboardInteraction(),a(c(e.prototype),"_onDownArrowDown",this).call(this,t);t.originalEvent.preventDefault(),this._arrowControls.downArrowDown(t)}},{key:"_onLeftArrowUp",value:function(t){t.target.classList.contains("controls-progress-indicator")?this._triggerKeyboardInteraction():(t.originalEvent.preventDefault(),this._arrowControls.leftArrowUp(t))}},{key:"_onRightArrowUp",value:function(t){t.target.classList.contains("controls-progress-indicator")?this._triggerKeyboardInteraction():(t.originalEvent.preventDefault(),this._arrowControls.rightArrowUp(t))}},{key:"_onUpArrowUp",value:function(t){t.target.classList.contains("controls-progress-indicator")?this._triggerKeyboardInteraction():this._arrowControls.upArrowUp(t)}},{key:"_onDownArrowUp",value:function(t){t.target.classList.contains("controls-progress-indicator")?this._triggerKeyboardInteraction():this._arrowControls.downArrowUp(t)}},{key:"_onKeyboardInteraction",value:function(t){}},{key:"destroy",value:function(){a(c(e.prototype),"destroy",this).call(this)}}]),e}();t.exports=d},,function(t,e,i){"use strict";i(165);var n=i(533),r=function(t){n.call(this,t),this._controlsVisible=t.controlsVisible},s=n.prototype,o=r.prototype=Object.create(s);o._bindMethods=function(){s._bindMethods.apply(this,arguments),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onClick=this._onClick.bind(this)},o._addEventListeners=function(){this._controls.el.addEventListener("touchstart",this._onTouchStart),this._controls.el.addEventListener("click",this._onClick),this._controls.el.addEventListener("focusin",this._onFocusIn),this._controls.el.addEventListener("focusout",this._onFocusOut)},o._removeEventListeners=function(){this._controls.el.removeEventListener("touchstart",this._onTouchStart),this._controls.el.removeEventListener("touchend",this._onTouchEnd),this._controls.el.removeEventListener("click",this._onClick),this._controls.el.removeEventListener("focusin",this._onFocusIn),this._controls.el.removeEventListener("focusout",this._onFocusOut)},o._onDragging=function(t){s._onDragging.apply(this,arguments)},o._shouldIgnoreUserInteraction=function(t){return!1},o._onClick=function(t){t.target!==this._player.controls.compass.compassView&&(this._controlsVisible()?this._isActiveArea(t.target)||(this._hideControls(),this._hideCompass()):this._onUserInteraction(t))},o._onTouchStart=function(t){t.target!==this._player.controls.playButtonElement&&t.target!==this._controls.el.firstElementChild&&t.target!==this._player.controls.compass.compassView&&t.target!==this._player.controls.playButtonElement||(document.addEventListener("touchend",this._onTouchEnd),window.addEventListener("touchmove",this._onDragging),this._showCompass(),this._touchDownTime=Date.now(),this._sendMouseDown(t))},o._onTouchEnd=function(t){document.removeEventListener("touchend",this._onTouchEnd),window.removeEventListener("touchmove",this._onDragging),this._onMouseUp(t)},t.exports=r},,,function(t,e){t.exports="3.6.2-2"},function(t,e,i){"use strict";var n=i(541),r=function(t,e){n.apply(this,arguments),this._states=e.states||{},this._labels=e.labels,this._focusTarget=this.el.querySelector("button")||this.el,this._states&&this._states.initial&&this.setState("initial")};(r.prototype=Object.create(n.prototype)).setState=function(t){this._currentState&&this._currentState!==t&&this._states[this._currentState].length&&this.el.classList.remove(this._states[this._currentState]),this._currentState=t,this._labels&&this._labels[this._currentState]&&(this._focusTarget.value=this._labels[this._currentState],this._focusTarget.setAttribute("aria-label",this._labels[this._currentState])),"on"===this._currentState?this._focusTarget.setAttribute("aria-pressed",!0):this._focusTarget.setAttribute("aria-pressed",!1),this._states[t].length&&this.el.classList.add(this._states[t])},t.exports=r},function(t,e,i){"use strict";var n=i(163),r=i(166),s=i(167),o=function(t){this.el=t,n.call(this,t),this._keyboard=new r(this.el),this._addEventListeners()},a=o.prototype=Object.create(n.prototype);a._addEventListeners=function(){this._onClick=this._onClick.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this.el.addEventListener("click",this._onClick),this._keyboard.onDown(s.ARROW_UP,this._onKeyDown),this._keyboard.onDown(s.ARROW_DOWN,this._onKeyDown)},a._removeEventListeners=function(){this.el.removeEventListener("click",this._onClick),this._keyboard.onDown(s.ARROW_UP,this._onKeyDown),this._keyboard.onDown(s.ARROW_DOWN,this._onKeyDown)},a.setItems=function(t){var e;this.el.innerHTML="",t.forEach(function(t){var i=document.createElement("li");i.setAttribute("role","radio"),"showing"===t.mode?(i.classList.add(t.mode),i.setAttribute("aria-checked","true"),i.setAttribute("tabIndex",0),e=i):(i.setAttribute("aria-checked","false"),i.setAttribute("tabIndex",-1)),i.innerText=t.label,i.acvMetadata=t,this.el.appendChild(i)}.bind(this)),e&&e.focus()},a._onKeyDown=function(t){var e=t.target,i=!1;parseInt(t.keyCode)===s.ARROW_DOWN?i=e.nextSibling:parseInt(t.keyCode)===s.ARROW_UP&&(i=e.previousSibling),i&&(this.trigger("ItemSelected",i.acvMetadata),t.preventDefault(),t.stopPropagation())},a._onClick=function(t){this.el!==t.target&&this.el.contains(t.target)&&this.trigger("ItemSelected",t.target.acvMetadata)},a.destroy=function(){this._removeEventListeners()},t.exports=o},function(t,e,i){"use strict";var n=i(1040).Slider,r=function(t,e){if(this.el=t,this._min=e.min||0,this._max=e.max||1,e.mixins)for(var i=e.mixins.slice(0);i.length;)Object.assign(this,i.pop());this._slider=new n(this.el,{template:e.template,min:this._min,max:this._max,step:isNaN(+this.el.getAttribute("step"))?this.el.getAttribute("step"):+this.el.getAttribute("step"),value:void 0!==e.value?e.value:+this.el.getAttribute("value"),orientation:e.orientation,renderedPosition:!0,keyboardContext:this.el}),this._onFocusChange=this._onFocusChange.bind(this),this._setHoveringValue=this._setHoveringValue.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._slider.el.addEventListener("blur",this._onFocusChange),this._slider.el.addEventListener("focus",this._onFocusChange),this._slider.el.addEventListener("mouseout",this._onFocusChange),this.forceCursorPointer=this.forceCursorPointer.bind(this),this.disableForcedCursorPointer=this.disableForcedCursorPointer.bind(this),this._slider.on("grab",this.forceCursorPointer),this._slider.on("release",this.disableForcedCursorPointer),this._scrubbedEl=this.el.querySelector(".ac-slider-scrubbed"),this._notchEl=this.el.querySelector(".ac-slider-hover-notch"),this._notchEl&&(this._slider.el.addEventListener("mouseover",this._onMouseOver),this._slider.el.addEventListener("mouseleave",this._onMouseLeave),this._slider.el.addEventListener("mousemove",this._setHoveringValue)),e.value&&requestAnimationFrame(function(){this._slider&&this.setValue(e.value)}.bind(this))},s=r.prototype;s.on=function(){return this._slider.on.apply(this._slider,arguments)},s.off=function(){return this._slider.off.apply(this._slider,arguments)},s.trigger=function(){return this._slider.trigger.apply(this._slider,arguments)},s.setValue=function(t){return this._slider.setValue.call(this._slider,t)},s.setAriaValueText=function(t){this._slider.el.setAttribute("aria-valuetext",t)},s.setMin=function(t){this._min=t,this._slider.setMin(t)},s.setMax=function(t){this._max=t,this._slider.setMax(t)},s._onMouseOver=function(){this._slider.el.classList.add("hover")},s._onMouseLeave=function(){this._slider.el.classList.remove("hover")},s._onFocusChange=function(){setTimeout(function(){this.trigger("focuschange")}.bind(this),0)},s.isFocused=function(){return this._slider.el===document.activeElement&&this._hasFocusOutline()},s._hasFocusOutline=function(){return"none"!==getComputedStyle(this._slider.el).getPropertyValue("outline-style")},s.getValue=function(){return this._slider.getValue.apply(this._slider,arguments)},s.getMax=function(){return this._max},s.setScrubbedValue=function(){"horizontal"===this._slider.getOrientation()?this._scrubbedEl.style.left=this._slider.thumbElement.style.left:this._scrubbedEl.style.bottom=this._slider.thumbElement.style.bottom},s._setHoveringValue=function(t){var e=this.getClientXValue(t,this._notchEl);this._notchEl.style.left=e/this.getMax()*100+"%",this._setNotchColor(e)},s._setNotchColor=function(t){t>this.getValue()?this._notchEl.style.backgroundColor="#fff":this._notchEl.style.backgroundColor="#333"},s.show=function(){this.el.classList.remove("ac-slider-inactive")},s.hide=function(){this.el.classList.add("ac-slider-inactive")},s.setState=function(t){this.el.classList.add(t)},s.clearState=function(t){this.el.classList.remove(t)},s.getClientXValue=function(t,e){return this._slider.getClientXValue(t,e)},s.destroy=function(){this._slider.el.removeEventListener("mousemove",this._setHoveringValue),this._slider.el.removeEventListener("mouseleave",this._onMouseOver),this._slider.el.removeEventListener("mouseout",this._onMouseLeave),this._slider.el.removeEventListener("blur",this._onFocusChange),this._slider.el.removeEventListener("focus",this._onFocusChange),this._slider.el.removeEventListener("mouseout",this._onFocusChange),this._slider.off("grab",this.forceCursorPointer),this._slider.off("release",this.disableForcedCursorPointer),this._slider.destroy(),this._slider=null},t.exports=r},function(t,e,i){"use strict";t.exports.Slider=i(1041)},function(t,e,i){"use strict";var n=i(12),r=i(1042),s=i(166),o={num:37,string:"ArrowLeft"},a=38,c={num:39,string:"ArrowRight"},l={num:40,string:"ArrowDown"},h=[o,c,l,c],u=function(t){if(t.which)return t.which;for(var e=t.key?t.key:t.code,i=0,n=h.length;i<n;i++)if(h[i].string===e)return h[i].num;return-1},d={min:0,max:1,step:1,value:0,orientation:"horizontal",renderedPosition:!1,template:'<div class="ac-slider-runnable-track">\n\t<div class="ac-slider-thumb"></div>\n</div>',keyboardMaxStepPercentage:.05,keyboardStepMultiplier:1.25,containerClass:"ac-slider-container",grabbedClass:"ac-slider-grabbed"},f=Object.keys(d),p=function(t,e){this.options=Object.assign({},d,e),this.model=Object.create(this.options),this.el=t;var i=void 0!==this.options.keyboardContext?this.options.keyboardContext:this.el;null!==i&&(this._keyboard=new s(i),this._keyDown={}),t.classList.add(this.model.containerClass),t.innerHTML=this.model.template,n.EventEmitterMicro.call(this),this._initialize()},m=p.prototype=Object.create(n.EventEmitterMicro.prototype);m._addGrabClass=function(){this.el.classList.add(this.model.grabbedClass)},m._removeGrabClass=function(){this.el.classList.remove(this.model.grabbedClass)},m._addEventListeners=function(){this._addEventListener(this.el,"mousedown",this._onMouseDown),this._addEventListener(this.el,"touchstart",this._onTouchStart),this._addEventListener(this.el,"mouseover",this._onMouseOver),this._addEventListener(this.el,"mouseleave",this._onMouseLeave),this._keyboard&&("horizontal"===this.model.orientation?(this._keyboard.onDown(c.num,this.stepUp),this._keyboard.onDown(o.num,this.stepDown)):(this._keyboard.onDown(l.num,this.stepDown),this._keyboard.onDown(a,this.stepUp)))},m._addEventListener=function(t,e,i){t.addEventListener(e,i)},m._bindMethods=function(){this._addGrabClass=this._addGrabClass.bind(this),this._removeGrabClass=this._removeGrabClass.bind(this),this.stepDown=this.stepDown.bind(this),this.stepUp=this.stepUp.bind(this),this._triggerRelease=this._triggerRelease.bind(this),this._preventDefault=this._preventDefault.bind(this),this._onMouseDown=this._bindMethod(this._onMouseDown,this),this._onTouchStart=this._bindMethod(this._onTouchStart,this),this._onMouseOver=this._bindMethod(this._onMouseOver,this),this._onMouseLeave=this._bindMethod(this._onMouseLeave,this),this._onTouchEnd=this._bindMethod(this._onTouchEnd,this),this._onMouseUp=this._bindMethod(this._onMouseUp,this),this._onMouseMove=this._bindMethod(this._onMouseMove,this),this._onTouchMove=this._bindMethod(this._onTouchMove,this)},m._bindMethod=function(t,e){return t.bind(e)},m._correctValueMinMax=function(t,e,i){return t>i&&(t=i),t<e&&(t=e),t},m._calculateStepsToValue=function(t,e){return Math.abs(t-e)},m._calculateMaxSteps=function(t,e){return Math.abs(e-t)},m._calculateStepsEqualToPercentage=function(t,e){return t/100*e},m._calculateNextStepInRange=function(t,e,i,n){var r=this._calculateMaxSteps(e,i),s=this._calculateStepsToValue(t,e),o=e+Math.floor(r/n)*n;return t=Math.min(o,e+Math.round(s/n)*n)},m._dispatchEvent=function(t,e){t.dispatchEvent(new CustomEvent(e))},m.disableUserControls=function(){this._removeEventListeners()},m.enableUserControls=function(){this._addEventListeners()},m._getNextValue=function(t,e,i,n){return t=this._correctValueMinMax(t,e,i),"auto"!==n&&(t=this._calculateNextStepInRange(t,e,i,n)),t},m.getOrientation=function(){return this.model.orientation},m.getValue=function(){return this.model.value},m.getMin=function(){return this.model.min},m.getMax=function(){return this.model.max},m.getStep=function(){return this.model.step},m.getClientXValue=function(t,e){var i=this._getClientXFromEvent(t),n=null!==e?r.getDimensions(e||this.thumbElement):{width:0,height:0},s=r.getDimensions(this.runnableTrackElement),o=(i-this.runnableTrackElement.getBoundingClientRect().left-Math.round(n.width/2))/(s.width-n.width)*100,a=this._calculateMaxSteps(this.getMin(),this.getMax()),c=this._calculateStepsEqualToPercentage(o,a);return this.getMin()+c},m.getClientYValue=function(t){var e=this._getClientYFromEvent(t),i=r.getDimensions(this.thumbElement),n=r.getDimensions(this.runnableTrackElement),s=r.getViewportPosition(this.runnableTrackElement,this.model.renderedPosition),o=(n.height-i.height-(e-s.top-i.height/2))/(n.height-i.height)*100,a=this._calculateMaxSteps(this.model.min,this.model.max),c=this._calculateStepsEqualToPercentage(o,a);return this.model.min+c},m.getClientValue=function(t){return t=t.originalEvent||t,"horizontal"===this.model.orientation?this.getClientXValue(t):this.getClientYValue(t)},m._getClientXFromEvent=function(t){return t.touches?t.touches[0].clientX:t.clientX},m._getClientYFromEvent=function(t){return t.touches?t.touches[0].clientY:t.clientY},m._initialize=function(){this._setNodeReferences(),this.setValue(this.model.value),this._bindMethods(),this._addEventListeners()},m._onMouseLeave=function(){this._preventDocumentMouseUpDispatch=!1},m._onMouseDown=function(t){this._addGrabClass(),this._addEventListener(document,"mouseup",this._onMouseUp),this._addEventListener(document,"mousemove",this._onMouseMove);var e=this.getClientValue(t);this.trigger("grab",this.getValue()),this.setValue(e)},m._onMouseUp=function(){this._removeGrabClass(),this._removeEventListener(document,"mouseup",this._onMouseUp),this._removeEventListener(document,"mousemove",this._onMouseMove),this.trigger("release",this.getValue()),this._preventDocumentMouseUpDispatch||this._dispatchEvent(this.el,"mouseup")},m._onMouseOver=function(){this._preventDocumentMouseUpDispatch=!0},m._onTouchEnd=function(){this._removeGrabClass(),this._removeEventListener(document,"touchend",this._onTouchEnd),this._removeEventListener(document,"touchmove",this._onTouchMove),this.trigger("release",this.getValue()),this._preventDocumentMouseUpDispatch||this._dispatchEvent(this.el,"touchend")},m._onTouchStart=function(t){this._addGrabClass();var e=this.getClientValue(t);this._addEventListener(document,"touchend",this._onTouchEnd),this._addEventListener(document,"touchmove",this._onTouchMove),this.trigger("grab",this.getValue()),this.setValue(e)},m._onMouseMove=function(t){var e=this.getClientValue(t);this.setValue(e)},m._onTouchMove=function(t){t.preventDefault&&t.preventDefault();var e=this.getClientValue(t);this.setValue(e)},m._getElementOrientationOffsetValue=function(t,e){return"horizontal"===e?r.getDimensions(t).width:r.getDimensions(t).height},m._getAvailableRunnableTrack=function(t,e){return t-this._getElementOrientationOffsetValue(this.thumbElement,e)},m._getPercentageByValue=function(t,e){return(t=this._calculateStepsToValue(t,this.getMin()))/this._calculateMaxSteps(this.getMin(),this.getMax())*100},m._getPercentageOfRunnableTrack=function(t){var e=this.getOrientation(),i=this._getElementOrientationOffsetValue(this.runnableTrackElement,e),n=this._getAvailableRunnableTrack(i,e);return this._getPercentageByValue(t,this.getMax())/100*n/i*100},m._onChange=function(t){var e=this._getPercentageOfRunnableTrack(t);isNaN(e)||("horizontal"===this.getOrientation()?this.thumbElement.style.left=e+"%":this.thumbElement.style.bottom=e+"%",this.trigger("change",this.getValue()))},m._removeEventListeners=function(){this._removeEventListener(this.el,"mousedown",this._onMouseDown),this._removeEventListener(this.el,"touchstart",this._onTouchStart),this._removeEventListener(this.el,"mouseover",this._onMouseOver),this._removeEventListener(this.el,"mouseleave",this._onMouseLeave),this._removeEventListener(document,"touchend",this._onMouseUp)},m._removeEventListener=function(t,e,i){t.removeEventListener(e,i)},m._setNodeReferences=function(){this.runnableTrackElement=this.el.querySelector(".ac-slider-runnable-track"),this.thumbElement=this.el.querySelector(".ac-slider-thumb")},m.setOrientation=function(t){this._set("orientation",t)},m._triggerRelease=function(t){this._preventDefault(t),this.trigger("release",this.getValue()),this._keyDown[u(t)]=0},m._preventDefault=function(t){t.preventDefault(),t.stopPropagation()},m._step=function(t,e){this._preventDefault(t),this.el.focus();var i=this._keyDown[u(t)]||0;i?Math.abs(this._keyDown[u(t)])<Math.abs(this.model.max*this.model.keyboardMaxStepPercentage)&&(i*=this.model.keyboardStepMultiplier):(this.trigger("grab",this.getValue()),i="auto"!==(i=this.getStep())?i:this._cachedMaxStep,e||(i*=-1),this._keyboard.onceUp(u(t),this._triggerRelease)),this._keyDown[u(t)]=i,this.setValue(this.getValue()+i)},m.stepUp=function(t){this._step(t,!0)},m.stepDown=function(t){this._step(t,!1)},m.setValue=function(t){t=this._getNextValue(t,this.getMin(),this.getMax(),this.getStep()),this._set("value",t),this.el.setAttribute("aria-valuenow",t),this._onChange(t)},m.setMin=function(t){this._set("min",t),this.el.setAttribute("aria-valuemin",t)},m.setMax=function(t){this._set("max",t),this.el.setAttribute("aria-valuemax",t),this._cachedMaxStep=t/100},m.setStep=function(t){this._set("step",t)},m._set=function(t,e){if(f.indexOf(t)>-1&&this.model[t]!==e){var i=this.model[t];this.model[t]=e,this.trigger("change:model:"+t,{previous:i,current:e})}},m._removeEventListeners=function(){this._removeEventListener(this.el,"mousedown",this._onMouseDown),this._removeEventListener(this.el,"touchstart",this._onTouchStart),this._removeEventListener(this.el,"mouseover",this._onMouseOver),this._removeEventListener(this.el,"mouseleave",this._onMouseLeave),this._removeEventListener(this.el,"touchend",this._onTouchEnd),this._removeEventListener(document,"touchend",this._onMouseUp),"horizontal"===this.model.orientation?(this._keyboard.offDown(c.num,this.stepUp),this._keyboard.offDown(o.num,this.stepDown),this._keyboard.offUp(o.num,this._triggerRelease),this._keyboard.offUp(c.num,this._triggerRelease)):(this._keyboard.offDown(l.num,this.stepDown),this._keyboard.offDown(a,this.stepUp),this._keyboard.offUp(l.num,this._triggerRelease),this._keyboard.offUp(a,this._triggerRelease))},m.destroy=function(){this._removeEventListeners(),this._keyboard&&this._keyboard.destroy(),n.EventEmitterMicro.prototype.destroy.call(this)},t.exports=p},function(t,e,i){"use strict";t.exports={getContentDimensions:i(1043),getDimensions:i(227),getPagePosition:i(542),getPercentInViewport:i(543),getPixelsInViewport:i(331),getPosition:i(1044),getScrollX:i(329),getScrollY:i(330),getViewportPosition:i(544),isInViewport:i(1045)}},function(t,e,i){"use strict";var n=i(168);t.exports=function(t,e){var i=1;return e&&(i=n(t).width/t.offsetWidth),{width:t.scrollWidth*i,height:t.scrollHeight*i}}},function(t,e,i){"use strict";var n=i(227),r=i(168);t.exports=function(t,e){var i,s,o;return e?(i=r(t),t.offsetParent&&(s=r(t.offsetParent),i.top-=s.top,i.left-=s.left)):(o=n(t,e),i={top:t.offsetTop,left:t.offsetLeft,width:o.width,height:o.height}),{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}},function(t,e,i){"use strict";var n=i(331),r=i(543);t.exports=function(t,e,i){var s;return"string"==typeof(i=i||0)&&"px"===i.slice(-2)?(i=parseInt(i,10),s=n(t,e)):s=r(t,e),s>0&&s>=i}},function(t,e,i){"use strict";var n=function(t){this.el=t},r=n.prototype;r.show=function(){this.el.classList.remove("hidden")},r.hide=function(){this.el.classList.add("hidden")},r.destroy=function(t){},t.exports=n},function(t,e,i){"use strict";var n=i(123),r=function(t,e){n.apply(this,arguments),this._updateState()},s=n.prototype,o=r.prototype=Object.create(s);o._updateState=function(){this._view.setState(this._player.getMuted()?"on":"off")},o._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.on("volumechange",this._updateState)},o._onClick=function(){this._player.getMuted()?(this._player.setMuted(!1),0===this._player.getVolume()&&this._player.setVolume(.1)):this._player.setMuted(!0)},o.destroy=function(){this._player.off("volumechange",this._updateState),s.destroy.call(this)},t.exports=r},function(t,e,i){"use strict";var n=i(123),r=function(t,e){n.apply(this,arguments),this._setPlayingState()},s=n.prototype,o=r.prototype=Object.create(s);o._addPlayerListeners=function(){this._setPlayingState=this._setPlayingState.bind(this),this._player.on("play",this._setPlayingState),this._player.on("playing",this._setPlayingState),this._player.on("pause",this._setPlayingState),this._player.on("ended",this._setPlayingState)},o._onClick=function(){this._togglePlay()},o._setPlayingState=function(){this._view.setState(this._player.getEnded()?"ended":this._player.getPaused()?"paused":"playing")},o._togglePlay=function(){this._player.getPaused()||this._player.getEnded()?this._player.play():this._player.pause()},o.destroy=function(){this._player.off("play",this._setPlayingState),this._player.off("pause",this._setPlayingState),this._player.off("playing",this._setPlayingState),this._player.off("ended",this._setPlayingState),s.destroy.call(this)},t.exports=r},function(t,e,i){"use strict";var n=i(123),r=function(t,e){n.apply(this,arguments),this._initialize()},s=n.prototype,o=r.prototype=Object.create(s);o._initialize=function(){this._updateButtonState=this._updateButtonState.bind(this),this._player.supportsPictureInPicture()&&(this._updateButtonState(),this._player.on("webkitpresentationmodechanged",this._updateButtonState))},o._onClick=function(){this._player.setPictureInPicture(!this._player.isPictureInPicture())},o._updateButtonState=function(){this._view.setState(this._player.isPictureInPicture()?"on":"off")},o.destroy=function(){this._player.off("webkitpresentationmodechanged",this._updateButtonState),s.destroy.call(this)},t.exports=r},function(t,e,i){"use strict";var n=i(123),r=function(t,e){n.apply(this,arguments),this._updateState(),this._allowMultiLanguageCaptions=!this._player.options.disableMultiLanguageCaptions},s=n.prototype,o=r.prototype=Object.create(s);o._updateState=function(){var t=this._player.getVisibleTextTracks(),e=this._player.getTextTracks().filter(function(t){return"subtitles"===t.kind||"captions"===t.kind||!t.kind});t.length?this._view.setState("on"):e.length?this._view.setState("off"):this._view.setState("initial")},o._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.on("addtrack",this._updateState),this._player.on("change",this._updateState),this._player.on("removetrack",this._updateState)},o._onClick=function(){var t=this._player.getVisibleTextTracks(),e=this._player.getTextTracks().filter(function(t){return"metadata"!==t.kind});e.length>1&&this._allowMultiLanguageCaptions?this._player.isCaptionsSelectorShowing()?this._player.hideCaptionsSelector():this._player.showCaptionsSelector():1===t.length?e[0].mode="hidden":e[0].mode="showing",setTimeout(this._updateState)},o.destroy=function(){this._player.off("addtrack",this._updateState),this._player.off("change",this._updateState),this._player.off("removetrack",this._updateState),s.destroy.call(this)},t.exports=r},function(t,e,i){"use strict";var n="__CC_DISABLE",r=i(169),s=i(64).browser,o=s.edge||s.ie,a=function(t,e){r.apply(this,arguments),this._updateState()},c=a.prototype=Object.create(r.prototype);c._addViewListeners=function(){this._onSelected=this._onSelected.bind(this),this._view.on("ItemSelected",this._onSelected)},c._updateState=function(){var t="showing",e=this._player.getTextTracks().filter(function(t){return"subtitles"===t.kind||"captions"===t.kind||!t.kind}).map(function(e){"showing"===e.mode&&(t="hidden");var i={label:e.label||e.language||e.srclang&&("en"===e.srclang.toLowerCase()?"English":e.srclang)||"Unknown CC",language:e.language};return Object.defineProperty(i,"mode",{get:function(){return e.mode},set:function(t){e.mode=t}}),i});this._view.setItems([{label:"Off",language:n,mode:t}].concat(e))},c._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.on("addtrack",this._updateState),this._player.on("change",this._updateState),this._player.on("removetrack",this._updateState)},c._onSelected=function(t){var e=t.detail;this._player.getVisibleTextTracks().forEach(function(t){t.mode="hidden"}),e.language!==n&&(e.mode="showing"),o&&this._player.getMediaElement().textTracks.dispatchEvent(new CustomEvent("change")),setTimeout(this._updateState)},c.destroy=function(){this._player.off("addtrack",this._updateState),this._player.off("change",this._updateState),this._player.off("removetrack",this._updateState),this._view.off("ItemSelected",this._onSelected)},t.exports=a},function(t,e,i){"use strict";var n=i(123),r=function(t,e){n.apply(this,arguments),this._player.getFullScreenEnabled()&&this._updateState()},s=n.prototype,o=r.prototype=Object.create(s);o._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.on("fullscreen:change",this._updateState)},o._updateState=function(){this._view.setState(this._player.isFullscreen()?"on":"off")},o._onClick=function(){this._player.toggleFullscreen(!this._player.isFullscreen())},o.destroy=function(){this._player.off("fullscreen:change",this._updateState),s.destroy.call(this)},t.exports=r},function(t,e,i){"use strict";var n=i(169),r=i(164),s=i(332),o=i(1054),a=function(t,e){n.apply(this,arguments),this._visible=!1,this._ariaTextTemplate=e.localization.currenttimetext,this._onDurationChange()},c=a.prototype=Object.create(n.prototype);c._addViewListeners=function(){this._onSliderGrab=this._onSliderGrab.bind(this),this._onSliderChange=this._onSliderChange.bind(this),this._onSliderRelease=this._onSliderRelease.bind(this),this._view.on("grab",this._onSliderGrab)},c._addPlayerListeners=function(){this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onPlay=this._onPlay.bind(this),this._onPause=this._onPause.bind(this),this._onEnded=this._onEnded.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onRAF=this._onRAF.bind(this),this._player.on("durationchange",this._onDurationChange),this._player.on("loadstart",this._onEnded),this._player.on("ended",this._onEnded),this._player.on("timeupdate",this._onTimeUpdate),this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded)},c._setIsPlaying=function(t){t?this._view.setState("is-playing"):this._view.clearState("is-playing")},c._onPlay=function(){this._setIsPlaying(!0),this._player.isLive()||(o(this._timeUpdateInterval),s(this._onRAF))},c._onRAF=function(){this._onTimeUpdate(),this._timeUpdateInterval=s(this._onRAF)},c._onPause=function(){this._setIsPlaying(!1),o(this._timeUpdateInterval),this._onTimeUpdate()},c._onEnded=function(){this._onPause(),this._updateSliderPosition(0)},c._onSliderGrab=function(){this._player.off("timeupdate",this._onTimeUpdate),o(this._timeUpdateInterval),this._view.off("grab",this._onSliderGrab),this._view.on("change",this._onSliderChange),this._view.on("release",this._onSliderRelease),this._onPause()},c._onSliderRelease=function(){this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.on("grab",this._onSliderGrab),this._player.on("timeupdate",this._onTimeUpdate),this._player.getPaused()||this._onPlay()},c._getTimeAsPercent=function(){return this._player.getCurrentTime()/this._cachedDuration},c._onDurationChange=function(){this._cachedDuration=this._player.getDuration(),this._updateSliderPosition(this._getTimeAsPercent()),this._player.getPaused()||this._onPlay()},c._onSliderChange=function(){var t=this._view.getValue();this._setPlayerCurrentTime(t*this._cachedDuration),this._setAriaValueText(t*this._cachedDuration),this._updateScrubbedValue()},c._onTimeUpdate=function(){this._player.getPaused(),this._updateSliderPosition(this._getTimeAsPercent())},c._updateSliderPosition=function(t){this._view.setValue(t),this._setAriaValueText(t*this._cachedDuration),this._updateScrubbedValue(),this._visible||isNaN(this._cachedDuration)||(this._view.show(),this._visible=!0)},c._setAriaValueText=function(t){var e=Math.floor(t/60),i=Math.ceil(t%60);this._view.setAriaValueText(r(this._ariaTextTemplate,{minutes:e,seconds:i}))},c._updateScrubbedValue=function(){this._view.setScrubbedValue()},c._setPlayerCurrentTime=function(t){this._player.setCurrentTime(t)},c._removeEventListeners=function(){this._player.off("durationchange",this._onDurationChange),this._player.off("loadstart",this._onEnded),this._player.off("ended",this._onEnded),this._player.off("timeupdate",this._onTimeUpdate),this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.off("grab",this._onSliderGrab),this._player.off("play",this._onPlay),this._player.off("pause",this._onPause),this._player.off("ended",this._onPause)},c.destroy=function(){this._removeEventListeners(),o(this._timeUpdateInterval)},t.exports=a},function(t,e,i){"use strict";var n=i(225);t.exports=n.cancelAnimationFrame("draw")},function(t,e,i){"use strict";var n=i(169),r=function(t,e){n.apply(this,arguments),this._hideVolume(),this._updateSliderVolumeValue()},s=r.prototype=Object.create(n.prototype);s._addViewListeners=function(){this._showVolume=this._showVolume.bind(this),this._hideVolume=this._hideVolume.bind(this),this._onSliderGrab=this._onSliderGrab.bind(this),this._onSliderChange=this._onSliderChange.bind(this),this._onSliderRelease=this._onSliderRelease.bind(this),this._onFocusChange=this._onFocusChange.bind(this),this._view.on("grab",this._onSliderGrab),this._view.on("focuschange",this._onFocusChange)},s._addPlayerListeners=function(){this._updateSliderVolumeValue=this._updateSliderVolumeValue.bind(this),this._onUserVolumeChange=this._onUserVolumeChange.bind(this),this._player.once("durationchange",this._updateSliderVolumeValue),this._player.on("volumechange",this._updateSliderVolumeValue),this._player.on("uservolumechange",this._onUserVolumeChange)},s._onSliderGrab=function(){this._cachedVolume=this._player.getVolume(),this._player.off("volumechange",this._updateSliderVolumeValue),this._view.off("grab",this._onSliderGrab),this._view.on("change",this._onSliderChange),this._view.on("release",this._onSliderRelease)},s._onSliderRelease=function(){this._setPlayerVolume(this._view.getValue()),this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.on("grab",this._onSliderGrab),this._player.on("volumechange",this._updateSliderVolumeValue)},s._onSliderChange=function(){var t=this._view.getValue();this._setPlayerVolume(t),this._view.setScrubbedValue()},s._setPlayerVolume=function(t){t?(this._player.setMuted(!1),this._player.setVolume(t/100)):(this._player.setMuted(!0),this._player.setVolume(this._cachedVolume))},s._showVolume=function(){this._view.show()},s._hideVolume=function(){this._view.hide()},s._onUserVolumeChange=function(){this._showVolume(),clearTimeout(this._hideVolumeTimer),this._view.isFocused()||(this._hideVolumeTimer=setTimeout(this._hideVolume,1e3))},s._onFocusChange=function(){this._view.isFocused()?this._showVolume():this._hideVolume()},s._updateSliderVolumeValue=function(){if(this._player.getMuted())this._view.setValue(0),this._view.setScrubbedValue();else{var t=this._player.getVolume();this._view.setValue(100*t),this._view.setScrubbedValue()}},s._removeEventListeners=function(){this._player.off("durationchange",this._updateSliderVolumeValue),this._player.off("volumechange",this._updateSliderVolumeValue),this._player.off("uservolumechange",this._onUserVolumeChange),this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.off("grab",this._onSliderGrab)},s.destroy=function(){this._removeEventListeners()},t.exports=r},function(t,e,i){"use strict";var n=i(123),r=function(t,e){n.apply(this,arguments),this._player.states&&this._updateState()},s=n.prototype,o=r.prototype=Object.create(s);o._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.states&&this._player.states.on("statechange",this._updateState)},o._updateState=function(){this._stateChanging=!1,this._view.setState("sharing"===this._player.states.getCurrentState()?"on":"off")},o._onClick=function(){this._stateChanging||("sharing"===this._player.states.getCurrentState()?(this._view.setState("off"),this._player.states.setState("none")):(this._view.setState("on"),this._player.states.setState("sharing")),this._stateChanging=!0)},o.destroy=function(){this._player.states&&this._player.states.off("statechange",this._updateState),s.destroy.call(this)},t.exports=r},function(t,e,i){"use strict";var n=i(169),r=i(1058),s=function(t,e){n.apply(this,arguments),this._updateState()},o=n.prototype;(s.prototype=Object.create(o))._updateState=function(){this.sharingModule=new r(Object.assign({},{player:this._player,parentView:this._view})),this.sharingModule.setData(this._player.options.sharing),this._view.el.innerHTML="",this._view.el.appendChild(this.sharingModule.el)},t.exports=s},function(t,e,i){"use strict";(function(e){var n,r=e("PGRpdiBjbGFzcz0ic2hhcmluZy1zdGF0ZSI+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiIGRhdGEtYWN2LWFjdGl2ZS1hcmVhPgogICAgICAgIDxkaXYgY2xhc3M9InNoYXJpbmctY29udGFpbmVyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2hhcmluZy1idXR0b24tY29udGFpbmVyIj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImZhY2Vib29rLXNoYXJlIGFjLXZpZGVvLWljb24gaWNvbi1zaGFyZV9mYiIgYXJpYS1sYWJlbD0ie2ZhY2Vib29rc2hhcmV9LCB7bmV3d2luZG93fSI+PC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0d2l0dGVyLXNoYXJlIGFjLXZpZGVvLWljb24gaWNvbi1zaGFyZV90d2l0dGVyIiBhcmlhLWxhYmVsPSJ7dHdpdHRlcnNoYXJlfSwge25ld3dpbmRvd30iPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY29weS1saW5rIGFjLXZpZGVvLWljb24gaWNvbi1zaGFyZV9saW5rIiBhcmlhLWxhYmVsPSJ7Y29weWxpbmt9Ij48L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNvcHktZW1iZWQtY29kZSBhYy12aWRlby1pY29uIGljb24tc2hhcmVfZW1iZWQiIGFyaWEtbGFiZWw9Intjb3B5ZW1iZWR9Ij48L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0idGV4dGFyZWEtY29udGFpbmVyIj4KICAgICAgICAgICAgPHNwYW4+CiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImNvcHktYXJlYSBmb3JtLXRleHRib3ggZm9ybS10ZXh0Ym94LXRleHQgZGlzYWJsZWQiIHR5cGU9InRleHQiIGlkPSJjb3B5LWxpbmsiIGFyaWEtbGFiZWw9Intjb3B5bGlua30iPjwvaW5wdXQ+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0ZXh0aW5wdXQtY2xvc2UtYnV0dG9uIGFjLXZpZGVvLWljb24gaWNvbi1zaGFyZV9jbG9zZSIgYXJpYS1sYWJlbD0ie2Rpc21pc3Njb3B5fSI+PC9idXR0b24+CiAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo8L2Rpdj4K","base64").toString(),s=e("PGlmcmFtZSBzcmM9IntlbWJlZENvZGVQYXRofXt2aWRlb2lkfXtleHRlbnNpb259IiB3aWR0aD0ie3dpZHRofSIgaGVpZ2h0PSJ7aGVpZ2h0fSIgdGl0bGU9Int0aXRsZX0iIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4K","base64").toString(),o=i(165),a=i(1063),c=i(1064).Dialog,l=i(164),h=i(334),u=i(226);try{n=i(1088)}catch(t){o("ac-analytics-share failed to load, are you sure you've included it?")}var d=i(64).os,f=d.ios||d.android,p=function(t){this.el||this._initializeElement(t.el,t.template),this._player=t.player,this._parentView=t.parentView,this._clickedShareButton=null,this._container=this.el.querySelector(".container"),this._sharingButtonContainer=this.el.querySelector(".sharing-button-container"),this._facebookButton=this.el.querySelector(".facebook-share"),this._twitterButton=this.el.querySelector(".twitter-share"),this._copyLinkButton=this.el.querySelector(".copy-link"),this._copyEmbedCodeButton=this.el.querySelector(".copy-embed-code"),this._copyTextArea=this.el.querySelector(".copy-area"),this._copyCloseButton=this.el.querySelector(".textinput-close-button"),this._closeButton=this.el.querySelector(".close-button"),!1===t.analytics&&(n=null),f&&(this.el.firstChild.classList.add("mobile"),this._player.on("loadstart",function(){this._getClientWidth()>735&&this.el.firstChild.classList.add("mobile-large")}.bind(this))),this._bindMethods(),this._addEventListeners(),this._syncSocialShareHidden()},m=p.prototype;m._initializeElement=function(t,e){t?this.el=t:(this.el=document.createElement("div"),this._templateData=h.getTranslation(),this.el.innerHTML=l((e||r).toString(),this._templateData))},m.setData=function(t){if(t){if(this._parentView.show(),t.allowEmbed&&this.el.firstChild.classList.add("embed-enabled"),this._sharingUrl=t.originatorUrl||window.location.href,this._videoid=t.videoid,this._hideExtension=t.hideExtension,this._embedPath=t.embedpath||"https://www.apple.com/embed/",this._hideFacebook=t.hideFacebookShare||!1,this._hideTwitter=t.hideTwitterShare||!1,this._title=t.title||"Video Player",this._syncSocialShareHidden(),this._container.classList.remove("textarea-active"),n&&!1!==t.analytics&&t.videoid)try{this._initAnalyticsAttributes(t),this._analyticsObserver||(this._analyticsObserver=n({context:this.el}))}catch(t){o("ac-analytics-share failed to load, are you sure you've included it?")}}else this._parentView.hide()},m._bindMethods=function(){this._doFacebookShare=this._doSocialShare.bind(this,c.FACEBOOK_SHARE),this._doTwitterShare=this._doSocialShare.bind(this,c.TWITTER_TWEET),this._copyUrl=this._copyUrl.bind(this),this._copyEmbedCode=this._copyEmbedCode.bind(this),this._closeCopyArea=this._showTextArea.bind(this,!1),this._closeState=this._closeState.bind(this)},m._addEventListeners=function(){this._facebookButton&&this._facebookButton.addEventListener("click",this._doFacebookShare),this._twitterButton&&this._twitterButton.addEventListener("click",this._doTwitterShare),this._copyLinkButton&&this._copyLinkButton.addEventListener("click",this._copyUrl),this._copyEmbedCodeButton&&this._copyEmbedCodeButton.addEventListener("click",this._copyEmbedCode),this._copyCloseButton&&this._copyCloseButton.addEventListener("click",this._closeCopyArea),this._closeButton&&this._closeButton.addEventListener("click",this._closeState)},m._removeEventListeners=function(){this._facebookButton&&this._facebookButton.removeEventListener("click",this._doFacebookShare),this._twitterButton&&this._twitterButton.removeEventListener("click",this._doTwitterShare),this._copyLinkButton&&this._copyLinkButton.removeEventListener("click",this._copyUrl),this._copyEmbedCodeButton&&this._copyEmbedCodeButton.removeEventListener("click",this._copyEmbedCode),this._copyCloseButton&&this._copyCloseButton.removeEventListener("click",this._closeCopyArea),this._closeButton&&this._closeButton.removeEventListener("click",this._closeState)},m._syncSocialShareHidden=function(){this._facebookButton&&(this._hideFacebook?this._facebookButton.classList.add("hide-button"):this._facebookButton.classList.remove("hide-button")),this._twitterButton&&(this._hideTwitter?this._twitterButton.classList.add("hide-button"):this._twitterButton.classList.remove("hide-button"))},m._doSocialShare=function(t){this._clickedShareButton=null,this._copyLinkButton.classList.remove("active"),this._copyEmbedCodeButton.classList.remove("active"),this._showTextArea(!1),c.create(t,{url:this._sharingUrl,title:this._title})},m._showTextArea=function(t){t?(this._container.classList.add("textarea-active"),a(this._copyTextArea),f||this._copyTextArea.setAttribute("readonly","")):(this._container.classList.remove("textarea-active"),this._copyLinkButton.classList.remove("active"),this._copyEmbedCodeButton.classList.remove("active"),this._copyTextArea.removeAttribute("readonly"),this._clickedShareButton&&this._clickedShareButton.focus(),this._copyLinkButton.setAttribute("aria-label",this._templateData.copylink),this._copyEmbedCodeButton.setAttribute("aria-label",this._templateData.copyembed))},m._copyUrl=function(){this._clearTextArea(),this._copyTextArea.value=this._sharingUrl,this._copyLinkButton.classList.add("active"),this._copyLinkButton.setAttribute("aria-label",this._templateData.selectlink),this._showTextArea(!0),this._clickedShareButton=this._copyLinkButton,this._copyTextArea.setAttribute("aria-label",this._templateData.copylink),a(this._copyTextArea)},m._clearTextArea=function(){window.getSelection().removeAllRanges(),this._copyLinkButton.classList.remove("active"),this._copyEmbedCodeButton.classList.remove("active"),this._copyTextArea.removeAttribute("readonly")},m._copyEmbedCode=function(){this._clearTextArea(),this._copyTextArea.value=l(s,{videoid:this._videoid,embedCodePath:this._embedPath,width:this._player.getMediaWidth(),height:this._player.getMediaHeight(),title:this._title,extension:this._hideExtension?"":".html"}),this._copyEmbedCodeButton.classList.add("active"),this._copyEmbedCodeButton.setAttribute("aria-label",this._templateData.selectembed),this._showTextArea(!0),this._clickedShareButton=this._copyEmbedCodeButton,this._copyTextArea.setAttribute("aria-label",this._templateData.copyembed),a(this._copyTextArea)},m._focusFirstButton=function(){this._firstButton||(this._firstButton=u.getTabbableElements(this._sharingButtonContainer)[0]),this._firstButton.focus()},m.show=function(){return new Promise(function(t,e){requestAnimationFrame(function(){var e=function(){this.el.removeEventListener("transitionend",e),focus&&this._focusFirstButton(),t()}.bind(this);this.el.addEventListener("transitionend",e),setTimeout(function(){this._container.classList.add("showing")}.bind(this))}.bind(this))}.bind(this))},m.hide=function(){return this._clickedShareButton=null,this._showTextArea(!1),new Promise(function(t,e){var i=function(){this.el.removeEventListener("transitionend",i),t()}.bind(this);this.el.addEventListener("transitionend",i),setTimeout(function(){this._container.classList.remove("showing")}.bind(this))}.bind(this))},m._getClientHeight=function(){return this.el.clientHeight},m._getClientWidth=function(){return this.el.clientWidth},m.destroy=function(){this._removeEventListeners()},m._closeState=function(){this._showTextArea(!1),0===this._player.getCurrentTime()||this._player.getEnded()?this._player.states.setState("initial"):this._player.states.setState("none")},m._getAnalyticsSource=function(){return"drawer"},m._initAnalyticsAttributes=function(t){var e=[];this._facebookButton&&e.push({button:this._facebookButton,title:"facebook",events:"event85"}),this._twitterButton&&e.push({button:this._twitterButton,title:"twitter",events:"event84"}),this._copyLinkButton&&e.push({button:this._copyLinkButton,title:"copy-link",events:"event89"}),this._copyEmbedCodeButton&&e.push({button:this._copyEmbedCodeButton,title:"copy-embed-code",events:"event101"});var i=(-1!==(t.url&&t.url.indexOf(".m3u8"))?"m3u8":"mp4")+" via html5",n=this._getAnalyticsSource(),r=t.videoid,s=document.head.querySelectorAll('meta[property="analytics-track"]');s=s?s[0].getAttribute("content"):"",e.forEach(function(t){t.button.setAttribute("data-analytics-click",""),t.button.setAttribute("data-analytics-share",JSON.stringify({title:r,events:t.events,prop2:s+" - "+r+" - "+t.title,prop18:i,eVar49:document.referrer,eVar54:document.location.href,eVar55:s+" - "+r,eVar70:n}))}.bind(this))},t.exports=p}).call(this,i(1059).Buffer)},,,,,,function(t,e,i){"use strict";t.exports={Link:i(1065),Dialog:i(1083),Focus:i(1084),Debug:i(1085)}},function(t,e,i){"use strict";var n=i(333),r=i(1082);function s(){var t;for(t in this.types={},n)n.hasOwnProperty(t)&&(o[t]=t,this.addType(t,n[t].generateLink.bind(n[t])))}var o=s.prototype;o.create=function(t,e,i){e=e||{};var n=this.types[t];if(n)return n(e,i)},o.createFromAnchor=function(t){var e,i=t.getAttribute("data-network-action");for(e in n)if(n.hasOwnProperty(e)&&i===n[e].id)return void n[e].enhanceLinkEngagement(t);r.enhanceLinkEngagement(t)},o.addType=function(t,e){return this.types[t]=e,this},o.removeType=function(){return this.types[name]=null,this},t.exports=new s},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){return{u:t.url}},{id:"facebook-share",baseLinkPath:"https://www.facebook.com/sharer/sharer.php",dialogDimensions:{width:555,height:368}})},function(t,e,i){t.exports=i(1068)},function(t,e,i){var n=i(1069),r=i(1070);t.exports={stringify:n,parse:r}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=i(545),o={delimiter:"&",indices:!0,stringify:function(t,e,i){if(s.isBuffer(t)?t=t.toString():t instanceof Date?t=t.toISOString():null===t&&(t=""),"string"==typeof t||"number"==typeof t||"boolean"==typeof t)return[encodeURIComponent(e)+"="+encodeURIComponent(t)];var n=[];if(void 0===t)return n;for(var r=Object.keys(t),a=0,c=r.length;a<c;++a){var l=r[a];n=!i.indices&&Array.isArray(t)?n.concat(o.stringify(t[l],e,i)):n.concat(o.stringify(t[l],e+"["+l+"]",i))}return n}};t.exports=function(t,e){var i=void 0===(e=e||{}).delimiter?o.delimiter:e.delimiter;e.indices="boolean"==typeof e.indices?e.indices:o.indices;var n=[];if("object"!==r(t)||null===t)return"";for(var s=Object.keys(t),a=0,c=s.length;a<c;++a){var l=s[a];n=n.concat(o.stringify(t[l],l,e))}return n.join(i)}},function(t,e,i){var n=i(545),r={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,parseValues:function(t,e){for(var i={},r=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),s=0,o=r.length;s<o;++s){var a=r[s],c=-1===a.indexOf("]=")?a.indexOf("="):a.indexOf("]=")+1;if(-1===c)i[n.decode(a)]="";else{var l=n.decode(a.slice(0,c)),h=n.decode(a.slice(c+1));i.hasOwnProperty(l)?i[l]=[].concat(i[l]).concat(h):i[l]=h}}return i},parseObject:function(t,e,i){if(!t.length)return e;var n=t.shift(),s={};if("[]"===n)s=(s=[]).concat(r.parseObject(t,e,i));else{var o="["===n[0]&&"]"===n[n.length-1]?n.slice(1,n.length-1):n,a=parseInt(o,10),c=""+a;!isNaN(a)&&n!==o&&c===o&&a>=0&&a<=i.arrayLimit?(s=[])[a]=r.parseObject(t,e,i):s[o]=r.parseObject(t,e,i)}return s},parseKeys:function(t,e,i){if(t){var n=/(\[[^\[\]]*\])/g,s=/^([^\[\]]*)/.exec(t);if(!Object.prototype.hasOwnProperty(s[1])){var o=[];s[1]&&o.push(s[1]);for(var a=0;null!==(s=n.exec(t))&&a<i.depth;)++a,Object.prototype.hasOwnProperty(s[1].replace(/\[|\]/g,""))||o.push(s[1]);return s&&o.push("["+t.slice(s.index)+"]"),r.parseObject(o,e,i)}}}};t.exports=function(t,e){if(""===t||null===t||void 0===t)return{};(e=e||{}).delimiter="string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:r.delimiter,e.depth="number"==typeof e.depth?e.depth:r.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:r.arrayLimit,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:r.parameterLimit;for(var i="string"==typeof t?r.parseValues(t,e):t,s={},o=Object.keys(i),a=0,c=o.length;a<c;++a){var l=o[a],h=r.parseKeys(l,i[l],e);s=n.merge(s,h)}return n.compact(s)}},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){var e={url:t.url,description:t.description};return t.media&&(e.media=t.media),e},{id:"pinterest-share",baseLinkPath:"http://www.pinterest.com/pin/create/button",dialogDimensions:{width:750,height:450}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){var e={clickthru:t.url,caption:t.description};return t.media&&(e.source=t.media),e},{id:"tumblr-share",baseLinkPath:"http://www.tumblr.com/share/photo",dialogDimensions:{width:450,height:432}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){return{tweet_id:t.messageId}},{id:"twitter-favorite",baseLinkPath:"https://twitter.com/intent/favorite",dialogDimensions:{width:550,height:420}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){var e={in_reply_to:t.messageId};return t.hashtags&&(e.hashtags=t.hashtags),e},{id:"twitter-reply",baseLinkPath:"https://twitter.com/intent/tweet",dialogDimensions:{width:550,height:420}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){return{tweet_id:t.messageId}},{id:"twitter-retweet",baseLinkPath:"https://twitter.com/intent/retweet",dialogDimensions:{width:550,height:420}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){var e={url:t.url,text:t.description};return t.hashtags&&(e.hashtags=t.hashtags),e},{id:"twitter-tweet",baseLinkPath:"https://twitter.com/intent/tweet",dialogDimensions:{width:550,height:420}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){return{url:t.url,title:t.title,pic:t.media}},{id:"weibo-share",baseLinkPath:"http://service.weibo.com/share/share.php",dialogDimensions:{width:650,height:426}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){return{url:t.url,title:t.title,pic:t.media}},{id:"qq-weibo-share",baseLinkPath:"http://v.t.qq.com/share/share.php",dialogDimensions:{width:658,height:506}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){return{url:t.url,title:t.title,pics:t.media,summary:t.description}},{id:"qzone-share",baseLinkPath:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",dialogDimensions:{width:620,height:645}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){return{url:t.url,title:t.title}},{id:"renren-share",baseLinkPath:"http://www.connect.renren.com/share/sharer",dialogDimensions:{width:500,height:315}})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){var e={url:t.url};return t.title&&(e.subject=t.title),t.description?e.body=t.description+"\r\n\r\n"+t.url:e.body=t.url,e},{id:"email-share",baseLinkPath:"mailto:",preventDialog:!0})},function(t,e,i){"use strict";var n=i(54);t.exports=new n(function(t){return t},{baseLinkPath:""})},function(t,e,i){"use strict";var n=i(333);function r(){var t;for(t in this.types={},n)n.hasOwnProperty(t)&&(s[t]=t,this.addType(t,n[t].generateDialog.bind(n[t])))}var s=r.prototype;s.create=function(t,e){e=e||{};var i=this.types[t];if(i)return i(e)},s.addType=function(t,e){return this.types[t]=e,this},s.removeType=function(){return this.types[name]=null,this},t.exports=new r},function(t,e,i){"use strict";t.exports=function(t){if(window.getSelection){var e=window.getSelection();(i=document.createRange()).selectNodeContents(t),e.removeAllRanges(),e.addRange(i)}else if(t.setSelectionRange)t.setSelectionRange(0,t.value.length);else if(document.body.createTextRange){var i;(i=document.body.createTextRange()).moveToElementText(t),i.select()}}},function(t,e,i){"use strict";var n=i(333);function r(){var t;for(t in this.types={},n)n.hasOwnProperty(t)&&(s[t]=t,this.addType(t,n[t].getDialogDebugData.bind(n[t])))}var s=r.prototype;s.create=function(t,e){e=e||{};var i=this.types[t];if(i)return i(e)},s.addType=function(t,e){return this.types[t]=e,this},s.removeType=function(){return this.types[name]=null,this},t.exports=new r},function(t,e,i){"use strict";t.exports={"bg-BG":"bg-BG.json","cs-CZ":"cs-CZ.json","el-GR":"el-GR.json","de-AT":"de-AT.json","de-CH":"de-CH.json","de-DE":"de-DE.json","de-LI":"de-LI.json","da-DK":"da-DK.json",en:"en.json","en-US":"en-US.json","en-AP":"en-AP.json","en-CA":"en-CA.json","en-GB":"en-GB.json","en-HK":"en-HK.json","en-IE":"en-IE.json","en-IN":"en-IN.json","en-KR":"en-KR.json","en-AU":"en-AU.json","en-NZ":"en-NZ.json","en-SG":"en-SG.json","en-ZA":"en-ZA.json",es:"es.json","es-LA":"es-LA.json","es-MX":"es-MX.json","es-ES":"es-ES.json","et-EE":"et-EE.json","fi-FI":"fi-FI.json",fr:"fr.json","fr-BE":"fr-BE.json","fr-CA":"fr-CA.json","fr-CH":"fr-CH.json","fr-FR":"fr-FR.json","hr-HR":"hr-HR.json","hu-HU":"hu-HU.json","it-IT":"it-IT.json",ja:"ja.json","ja-JP":"ja-JP.json","ko-KR":"ko-KR.json","lt-LT":"lt-LT.json","lv-LV":"lv-LV.json","nl-BE":"nl-BE.json","nl-NL":"nl-NL.json","no-NO":"no-NO.json","pl-PL":"pl-PL.json",pt:"pt.json","pt-BR":"pt-BR.json","pt-PT":"pt-PT.json","ro-RO":"ro-RO.json","ru-RU":"ru-RU.json","sk-SK":"sk-SK.json","sv-SE":"sv-SE.json","tr-TR":"tr-TR.json",zh:"zh.json","zh-CN":"zh-CN.json","zh-HK":"zh-HK.json","zh-TW":"zh-TW.json"}},function(t,e,i){"use strict";t.exports={backthirtyseconds:"Back 30 Seconds",playpause:"Play/Pause",play:"Play",pause:"Pause",togglemutevolume:"Toggle Mute Volume",mutevolume:"Mute Volume",minvolume:"Minimum Volume",adjustvolume:"Adjust Volume",fastreverse:"Fast Reverse",fastforward:"Fast Forward",fullvolume:"Full Volume",fullscreen:"Full Screen",exitfullscreen:"Exit Full Screen",airplay:"AirPlay",captionscontrol:"Closed Captions",captionsturnedon:"Closed Captions On",captionsturnedoff:"Closed Captions Off",subtitlescontrol:"Subtitles",subtitlesturnedon:"Subtitles On",subtitlesturnedoff:"Subtitles Off",sizescontrol:"Video Size",downloadcontrol:"Download Video",share:"Share",small:"Small",medium:"Medium",large:"Large",hd:"HD",ipod:"iPod/iPhone",mb:"MB",gb:"GB",tb:"TB",downloadquicktimetitle:"Get QuickTime.",downloadquicktimetext:"Download QuickTime to view this video. QuickTime is free for Mac + PC.",downloadquicktimebutton:"Download",downloadquicktimeurl:"http://www.apple.com/quicktime/download/",elapsed:"elapsed",remaining:"remaining",currenttimetext:"{minutes} minutes and {seconds} seconds",pictureinpicture:"Picture-in-Picture",exitpictureinpicture:"Exit Picture-in-Picture",closesharing:"Close Sharing",facebookshare:"Share to Facebook",twittershare:"Share to Twitter",copylink:"Copy Link",copyembed:"Copy Embed Code",copyarea:"Copy Link Text Area",selectlink:"Select Link Text",selectembed:"Select Embed Code",close:"Close",dismisscopy:"Dismiss Copy",replay:"Replay",livestream:"Live Streaming",newwindow:"Opens in New Window",threesixtyicon:"Return 360 Point of View to Origin",threesixtyleft:"Move 360 Point of View Left",threesixtyright:"Move 360 Point of View Right",threesixtyup:"Move 360 Point of View Up",threesixtydown:"Move 360 Point of View Down"}},,,,,,function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.nodeType)}},function(t,e,i){"use strict";var n=i(550),r=i(551),s=r.COMMENT,o=r.DOCUMENT_FRAGMENT,a=r.DOCUMENT,c=r.ELEMENT,l=[c,a,o],h=[c,r.TEXT,s];t.exports={parentNode:function(t,e){if(!t||!n(t,l))throw new TypeError(e+": node must be an Element, Document, or Document Fragment")},childNode:function(t,e){if(!t||!n(t,h))throw new TypeError(e+": node must be an Element, TextNode, or Comment")},selector:function(t,e,i){if(i="boolean"==typeof i&&i,(t||i)&&"string"!=typeof t)throw new TypeError(e+": selector must be a string")}}},,,,,,,,,,,,function(t,e,i){"use strict";i(172);var n,r=i(1107),s=i(1123),o=i(1124).setDefaults,a={force:!1};t.exports={init:function(t){if(t=Object.assign({},a,t),!n||!0===t.force){var e=t.bucket||"";n=window.s=r.init(s(e)),r.plugins.init(n),o(n,t)}return n},getInstance:function(){return n},ActivityMapCollection:r.ActivityMapCollection}},function(t,e,i){"use strict";var n=i(1108),r=i(1109),s=i(343);t.exports={init:n,plugins:r,ActivityMapCollection:s}},function(t,e,i){"use strict";var n=i(553).s_gi;i(553);t.exports=function(t){if("string"==typeof t)return n(t)}},function(t,e,i){"use strict";t.exports.init=function(t){i(1110)(t),i(1111)(t),i(1112)(t),i(1113)(t),i(1114)(t),i(1115)(t),i(1116)(t),i(1117)(t),i(1122)(t),i(343).init(t)}},function(t,e,i){"use strict";t.exports=function(t){t.ac_amt&&t.ac_amt._isEmpty&&t.ac_amt.eventListeners&&!t.ac_amt._isEmpty(t.ac_amt.eventListeners)&&t.ac_amt.destroy&&t.ac_amt.destroy(),t.ac_amt={addListener:function(t,e,i,n,r){t&&e&&i&&n&&(this.eventListeners[t]&&this.removeListener(this.eventListeners[t]),this.eventListeners[t]={node:e,type:i,listener:n},e.addEventListener(i,n,r))},destroy:function(){this.removeListeners()},removeListeners:function(){if(this.eventListeners){for(var t in this.eventListeners)this.eventListeners.hasOwnProperty(t)&&this.removeListener(t,this.eventListeners[t].node,this.eventListeners[t].type,this.eventListeners[t].listener);this.eventListeners={}}},removeListener:function(t,e,i,n){t&&e&&i&&n&&(e.removeEventListener(i,n),delete this.eventListeners[t])},eventListeners:{},options:{reinitializeActivityMapCollection:!0},_isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}}}},function(t,e,i){"use strict";t.exports=function(t){t.manageVars=function(t,e,i){var n,r,s,o=this;if(e=e||"",i=i||1,!o[t])return!1;n="pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID";for(var a=1;a<76;a++)n+=",prop"+a;for(a=1;a<251;a++)n+=",eVar"+a;for(a=1;a<6;a++)n+=",hier"+a;for(a=1;a<4;a++)n+=",list"+a;for(a in o.contextData)n+=",contextData."+a;if(!e||1!=i&&2!=i)return""==e&&1==i&&(o.pt(n,",",t,0),!0);if(1==i&&(n=e.replace("['",".").replace("']","")),2==i){for(var c in r=e.split(","),s=n.split(","),n="",r)for(var l in r[c].indexOf("contextData")>-1&&(lax=r[c].split("'"),r[c]="contextData."+lax[1]),s)r[c]==s[l]&&(s[l]="");for(var l in s)n+=s[l]?","+s[l]:""}return o.pt(n,",",t,0),!0},t.clearVars=function(t){if(-1==t.indexOf("contextData"))this[t]="";else if(t.indexOf("contextData")>-1){var e=t.substring(t.indexOf(".")+1);this.contextData[e]=""}},t.lowercaseVars=function(t){var e=this;if("events"!=t&&-1==t.indexOf("contextData")&&e[t])e[t]=e[t].toString(),0!=e[t].indexOf("D=")&&(e[t]=e[t].toLowerCase());else if(t.indexOf("contextData")>-1){var i=t.substring(t.indexOf(".")+1);e.contextData[i]&&(e.contextData[i]=e.contextData[i].toString(),e.contextData[i]=e.contextData[i].toLowerCase())}},t.pt=function(t,e,i,n){for(var r,s,o=t,a=0;o;){if(r=(r=o.indexOf(e))<0?o.length:r,o=o.substring(0,r),s=this[i](o,n))return s;a+=r+e.length,o=t.substring(a,t.length),o=a<t.length?o:""}return""},t.join=new Function("v","p","var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;"),t.apl=new Function("L","v","d","u","var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)L=L?L+d+v:v;return L"),t.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a")}},function(t,e,i){"use strict";t.exports=function(t){t.p_gn=function(t,e){var i,n,r=t?t.indexOf("~"):-1;return t&&e&&(i=r<0?"":t.substring(0,r),n=t.substring(r+1),e.indexOf(n.toLowerCase())>-1)?i||"[[":0},t.p_gh=function(){var t=this;if(t.linkObject)return t.linkObject.href;if(!t.eo&&!t.lnk)return"";var e=t.eo?t.eo:t.lnk,i=t.ot(e),n=t.oid(e);e.s_oidt;if(t.eo&&e==t.eo)for(;e&&!n&&"BODY"!=i;){if(!(e=e.parentElement?e.parentElement:e.parentNode))return"";i=t.ot(e),n=t.oid(e),e.s_oidt}return e.href?e.href:""},t.pt=new Function("x","d","f","a","var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return'';"),t.linkHandler=function(t,e,i){var n,r,s=this,o=s.p_gh(),a=o;return e=e||"o",!a||s.linkType&&(a||s.linkName)?"":(n=a.indexOf("?"),a=s.linkLeaveQueryString||n<0?a:a.substring(0,n),(r=s.pt(t,"|","p_gn",a.toLowerCase()))?(s.linkName="[["==r?"":r,s.linkType=e,i?o:a):"")}}},function(t,e,i){"use strict";var n=i(554),r=i(555).sessionStorage;t.exports=function(t){n(r)&&(t.getPercentPageViewed=function(){if(void 0===s.linkType){try{s.ppv.previous=sessionStorage.getItem(s.ppv.sessionStorageKey)?sessionStorage.getItem(s.ppv.sessionStorageKey):""}catch(t){}return s.ppv.init(),s.ppv.previous.split(",")}if(!s.ppv.previous){try{s.ppv.previous=sessionStorage.getItem(s.ppv.sessionStorageKey)||""}catch(t){}return s.ppv.init(),s.ppv.previous.split(",")}},t.ppv={initialPercent:0,maxPercent:0,throttleAmount:500,sessionStorageKey:"s_ppv",init:function(){s&&s.ac_amt&&s.ac_amt.addListener&&(s.ac_amt.addListener("ppv_scroll",window,"scroll",s.ppv.throttle(s.ppv.scroll,s.ppv.throttleAmount),!1),s.ac_amt.addListener("ppv_resize",window,"resize",s.ppv.throttle(s.ppv.scroll,s.ppv.throttleAmount),!1),s.ac_amt.addListener("ppv_beforeunload",window,"beforeunload",s.ppv.unload,!1),"complete"!==document.readyState?s.ac_amt.addListener("ppv_load",window,"load",s.ppv.scroll,!1):s.ppv.scroll())},scroll:function(){var t=s.ppv;if(100!==t.maxPercent){var e=void 0!==window.pageYOffset?window.pageYOffset:document.documentElement||document.body.parentNode||document.body.scrollTop,i=document.clientHeight||document.documentElement.clientHeight||document.body.clientHeight,n=t.getDocHeight();n=Math.round((e+i)/n*100);if(t.initialPercent||(t.initialPercent=n),n>t.maxPercent){t.maxPercent=n;var r=[];r.push(s.pageName),r.push(n),r.push(t.initialPercent),r.push(e+i);try{sessionStorage.setItem(t.sessionStorageKey,r.join(","))}catch(t){}}}},getDocHeight:function(){var t=window.document;return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))},unload:function(){try{sessionStorage.getItem(s.ppv.sessionStorageKey)&&sessionStorage.setItem(s.ppv.sessionStorageKey,sessionStorage.getItem(s.ppv.sessionStorageKey))}catch(t){}},throttle:function(t,e){var i,n,r,s=null,o=0,a=function(){o=new Date,s=null,r=t.apply(i,n)};return function(){var c=new Date;o||(o=c);var l=e-(c-o);return i=this,n=arguments,0>=l?(clearTimeout(s),s=null,o=c,r=t.apply(i,n)):s||(s=setTimeout(a,l)),r}}})}},function(t,e,i){"use strict";t.exports=function(t){t.getQueryParam=t.Util.getQueryParam}},function(t,e,i){"use strict";t.exports=function(t){t.getValOnce=new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v")}},function(t,e,n){"use strict";var r=n(554),s=n(555).sessionStorage;t.exports=function(t){r(s)&&(t.performanceTiming=function(t){var e=this;t&&(e.ptv=t),"undefined"!=typeof performance&&(performance.timing.loadEventEnd>0&&e.performanceWrite(),0==performance.timing.loadEventEnd&&(e.pi=setInterval(function(){e.performanceWrite()},250)),e.ptc&&"e"!=e.linkType?(e.rfe(),e[e.ptv]=""):e.performanceRead())},t.performanceWrite=function(){var t=this;performance.timing.loadEventEnd>0&&clearInterval(t.pi);try{if(""==t.c_r("s_ptc")&&performance.timing.loadEventEnd>0)try{var e=performance.timing,i="";if(i=t.performanceCheck(e.fetchStart,e.navigationStart),i+="^^"+t.performanceCheck(e.domainLookupStart,e.fetchStart),i+="^^"+t.performanceCheck(e.domainLookupEnd,e.domainLookupStart),i+="^^"+t.performanceCheck(e.connectEnd,e.connectStart),i+="^^"+t.performanceCheck(e.responseStart,e.connectEnd),i+="^^"+t.performanceCheck(e.responseEnd,e.responseStart),i+="^^"+t.performanceCheck(e.domInteractive,e.domLoading),i+="^^"+t.performanceCheck(e.domContentLoadedEventEnd,e.domInteractive),i+="^^"+t.performanceCheck(e.domComplete,e.domContentLoadedEventEnd),i+="^^"+t.performanceCheck(e.loadEventStart,e.domLoading),i+="^^"+t.performanceCheck(e.loadEventEnd,e.loadEventStart),i+="^^"+t.performanceCheck(e.loadEventEnd,e.navigationStart),t.c_w("s_ptc",i),sessionStorage&&navigator.cookieEnabled&&"undefined"!=t.ptv){for(var n=performance.getEntries(),r="",s=0;s<n.length;s++)r+="!",r+=n[s].name.indexOf("?")>-1?n[s].name.split("?")[0]:n[s].name,r+="|"+(Math.round(n[s].startTime)/1e3).toFixed(1)+"|"+(Math.round(n[s].duration)/1e3).toFixed(1)+"|"+n[s].initiatorType;sessionStorage.setItem("s_pec",r)}}catch(t){return}}catch(t){return}},t.performanceCheck=function(t,e){if(t>=0&&e>=0)return t-e<6e4&&t-e>=0?((t-e)/1e3).toFixed(3):600},t.performanceRead=function(){var t=this;performance.timing.loadEventEnd>0&&clearInterval(t.pi);var e=t.c_r("s_ptc");if(t.pte)var i=t.pte.split(",");if(""!=e){var n=t.split(e,"^^");if(""!=n[1])for(var r=0;r<i.length-1;r++)t.events=t.apl(t.events,i[r]+"="+n[r],",",2);t.events=t.apl(t.events,i[i.length-1],",",2)}t.linkTrackEvents=t.apl(t.linkTrackEvents,t.pte,",",2),t.c_w("s_ptc","",0),sessionStorage&&navigator.cookieEnabled&&"undefined"!=t.ptv?(t[t.ptv]=sessionStorage.getItem("s_pec"),sessionStorage.setItem("s_pec","",0)):t[t.ptv]="sessionStorage Unavailable",t.ptc=!0},t.rfe=function(){var t=this,e=(t.split(t.events,","),t.split(t.pte,","));try{for(x in e)t.events=t.rfl(t.events,e[x]),t.contextData.events=t.events}catch(t){return}},t.rfl=function(t,e,n,r,s){var o=new Array,a="";n=n||",",r=r||",",s=s?1:0;if(!t)return"";for(L=t.split(n),i=0;i<L.length;i++)L[i].indexOf(":")>-1&&((a=L[i].split(":"))[1]=a[0]+":"+a[1],L[i]=a[0]),L[i].indexOf("=")>-1&&((a=L[i].split("="))[1]=a[0]+"="+a[1],L[i]=a[0]),L[i]!=e&&a?o.push(a[1]):L[i]!=e?o.push(L[i]):L[i]==e&&s&&(s=0,a?o.push(a[1]):o.push(L[i])),a="";return this.join(o,{delim:r})})}},function(t,e,i){"use strict";var n=i(343),r=i(46),s=r.browser.firefox||r.browser.ie?" - open":" - close",o=r.browser.firefox||r.browser.ie?" - close":" - open";t.exports=function(t){t.ActivityMap.link=function(e,i){var r;function a(i){return t.acAnalyticsActivityMapCollection.filter(function(t){return t.element.isSameNode(e)})[0]}if((!i||-1===i.indexOf("v@e")&&-1===i.indexOf("v@sk")&&-1===i.indexOf("v@m"))&&e)return(r=a())?-1!==r.linkId.indexOf("/shop/goto/bag")?"true"===r.element.getAttribute("aria-expanded")?r.linkId+s:r.linkId+o:r.linkId:(n.addElToCollection(e),(r=a())?r.linkId:void 0)}}},,,,function(t,e,i){"use strict";function n(){this.createLinkId=this.createLinkId.bind(this)}var r=n.prototype;r.prefixCharacters=function(t,e,i){var n="";for(e=e||2,i=i||0;e;)n+=i,e--;return n.substring(0,n.length-t.toString().length)+t},r.limitStrLength=function(t,e){return t.substring(0,e).trim()},r.removeArrayBrackets=function(t){return"["===t[0]&&"]"===t[t.length-1]?t.substr(1,t.length-2):t},r.getGlobalElements=function(t){for(var e=[],i=0;i<t.length;i++){var n=document.querySelector(t[i]);n&&e.push(n)}return e},r.createLinkText=function(t){var e=t.getAttribute("data-analytics-activitymap-link-id")||t.getAttribute("data-ac-gallery-trigger")||t.getAttribute("data-analytics-title")||this.removeSpecialChars(t.textContent)||t.id||t.tagName||"no text";return this.limitStrLength(e,50)},r.createLinkHref=function(t,e){var i;return t.hostname!==window.location.hostname&&t.hostname!=="www."+e.trackingDomain&&(i=t.hostname+t.pathname),i||t.hash||t.pathname||"no href"},r.createLinkId=function(t,e,i,n){var r,s,o=t.concat(n,e,n,i);return o.length>128&&(r=128-t.concat(n,n,i).length,s=this.limitStrLength(e,r),o=t.concat(n,s,n,i)),o},r.removeSpecialChars=function(t){var e;if(t){var i=["&rlm;","\\u200F","&#8207;","&#x200f;"].join("|"),n=new RegExp(i,"gi");e=t.replace(n,"").replace(/\s+/g," ").trim()}return e},t.exports=new n},function(t,e,i){"use strict";t.exports=function(t){t.ActivityMap.region=function(e){if(e){var i=t.acAnalyticsActivityMapCollection.filter(function(t){return t.element.isSameNode(e)})[0];return i?i.regionName:void 0}}}},function(t,e,i){"use strict";t.exports=function(t){var e="";if("string"==typeof t&&(e=t),document.location.search&&e&&-1===e.indexOf("applestoreww")){var i=document.location.search;(i.indexOf("?cid=AOS-")>-1||i.indexOf("&cid=AOS-")>-1)&&(e+=",applestoreww")}return e}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=i(1125),o=i(1136),a=[];function c(t){return u(t)?"metrics."+t.acAnalytics.trackingDomain:location.hostname}function l(t){return u(t)?"securemetrics."+t.acAnalytics.trackingDomain:location.hostname}function h(){return 112}function u(t){var e=window.location.host;return a.indexOf(e)>-1}function d(t,e,i){var n=new Date,r=new Date(n.setFullYear(n.getFullYear()+2)),s=i||r,o=t.c_r(e);if(o)try{t.c_w(e,o,s)}catch(t){}}t.exports={setDefaults:function(t,e){"object"!==r(t.acAnalytics)&&(t.acAnalytics={}),t.acAnalytics.version=e.acAnalyticsVersion||"n/a",t.acAnalytics.trackingDomain=t.Ea=e.trackingDomain||"apple.com";var i=e.linkInternalFiltersLocale?"/"+e.linkInternalFiltersLocale:"";t.pageName=e.pageName||"",t.currencyCode="USD",t.trackDownloadLinks=!0,t.trackExternalLinks=!0,t.trackInlineStats=!0,t.useForcedLinkTracking=!0,t.forcedLinkTrackingTimeout=100,t.linkDownloadFileTypes="zip,wav,mp3,doc,pdf,xls,dmg,sit,pkg,exe,m4a,rss,xml,extz,safariextz,ibooks",t.linkInternalFilters="tel:,mailto:,javascript:,"+t.acAnalytics.trackingDomain+i+","+t.acAnalytics.trackingDomain+"/media,"+t.acAnalytics.trackingDomain+"/105",t.linkLeaveQueryString=!1,t.linkTrackVars="campaign",t.linkTrackEvents="None",t._isSafari=o.isSafari(t),!0===o.isSafariTopSitesPreview(t)&&(t.t=function(){return""}),d(t,"s_vnum_n2_us");var n=new Date;n.setDate(n.getDate()-1),d(t,"s_pv",n),t.eVar54=document.location.href,t.eVar49=document.referrer,t.usePlugins=!0,t.doPlugins=s,a=function(t,e){var i=[],n=e.subdomainSupportedDomains||["apple.com"],r=e.subdomains||["www"];return-1!==n.indexOf(t.acAnalytics.trackingDomain)&&r.forEach(function(e){i.push(e+"."+t.acAnalytics.trackingDomain)}),i}(t,e),t.trackingServer=c(t),t.trackingServerSecure=l(t),t.dc=112,t.pte="event220,event221,event222,event223,event224,event225,event226,event227,event228,event229,event230,event231,event232",t.ptc=!1},getTrackingServer:c,getSecureTrackingServer:l,getDataCenterId:h}},function(t,e,i){"use strict";var n,r=i(1126),s=i(1127),o=i(1128),a=i(1129),c=i(1130),l=i(557),h=i(1131),u=i(1132),d=i(1133),f=i(1134),p=i(1135),m="ac";t.exports=function(t){!t.tcall&&t.linkObject&&"A"===t.linkObject.tagName&&("e"!==t.linkType||l(t)||(t.linkURL="",t.linkType=""),t.linkObject.classList.contains("ac-gn-link-bag")&&(void 0===n&&(n=document.querySelector("meta[property=analytics-track]")),n&&n.content&&(t.linkName=t.prop3=n.content.toLowerCase()+" - bag",t.linkType="o",t.l=t.linkObject,t.acAnalytics.ct_li=!0,t.eVar1=t.pageName+" | global nav | bag",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar1",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"prop3",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar49",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar54",",",1),t.A=function(t){t.N=0,t.linkTrackVars="",t.eVar1="",t.prop3=""}.bind(null,t))),t.linkHandler(h,"e"),"e"!==t.linkType&&t.linkObject.hasAttribute("data-analytics-exit-link")&&(t.linkType="e",t.linkName=t.linkObject.getAttribute("data-analytics-exit-link"),t.linkTrackEvents&&(t.linkTrackEvents=""),t.linkTrackVars&&(t.linkTrackVars="")));var e=!!t.linkType;"function"==typeof s&&s(t),navigator&&navigator.platform&&(window.devicePixelRatio>=1.5?t.prop5=navigator.platform+" 2x":t.prop5=navigator.platform);var i=t.getQueryParam("ref");if(i&&t.tcall?t.referrer=i:i&&!t.tcall&&(t.referrer=""),!t.campaign&&(t.campaign=t.getQueryParam("cid"),t.campaign.match(/OAS-.+?-DOMAINS-/i))){var _="http://"+t.campaign.replace(/OAS-.+?-DOMAINS-/i,"");t.referrer=t.tcall?_:""}var g=d(t);if(g&&(t.server=m+"-"+g),t.campaign=t.getValOnce(t.campaign,"s_campaign",0),t.prop6=!t.prop6&&t.getQueryParam("cp")&&t.pageName?'D="'+t.getQueryParam("cp").toLowerCase()+": "+t.pageName+'"':t.prop6,t.prop11=t.getQueryParam("sr"),t.d.URL.match(/\/channel\//)||t.prop11||!t.c_r("s_3p")||(t.prop11=t.c_r("s_3p"),t.c_w("s_3p","",-1)),t.eVar7=t.eVar7?"":t.getQueryParam("aid"),t.eVar7=t.getValOnce(t.eVar7,"s_var_7",0),t.eVar2&&(t.events=t.apl(t.events,"event6",",",1)),!t.d.URL.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search\//)&&!t.d.URL.match(/apple.com\/search\//)&&(t.d.referrer.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search\//)||t.d.referrer.match(/apple.com\/search\//)))if(t.eVar2=t.d.referrer.match(/\/support\//)?"acs: ":t.d.referrer.match(/\/store\//)?"aos: ":"www: ",t.d.referrer.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search/)){t.eVar2+=t.getQueryParam("q","",t.d.referrer).replace(/\+/g," ");var v=t.d.referrer.match(/\/(\w{2}|befr|benl|chfr|chde|asia|lae)\//i);t.eVar2+=" ("+v[0].replace(/\//g,"")+")"}else t.eVar2+=t.getQueryParam("q","",t.d.referrer).replace(/\+/g," ")+" (us)";if("em"===t.prop11&&t.tcall&&(t.referrer="imap://chatterbox.com"),"app"===t.prop11&&t.tcall&&(t.referrer="file://fromApp"),document.referrer&&document.referrer.indexOf(t.trackingDomain+"/startpage/")>-1&&t.tcall&&(t.referrer="news://startpage.com",t._1_referrer=1),"function"==typeof a&&t.tcall&&a(t),t.prop32=t.eVar32=t.getQueryParam("psid"),t.prop32||t.c_r("s_sid")){var y=new Date,b=y.getTime();y.setTime(b+63072e4),t.prop32?t.c_w("s_psid",t.prop32,y):t.c_w("s_psid",t.c_r("s_sid"),y),t.c_w("s_sid","",-1)}t.prop32||t.c_r("s_pathLength")||(t.prop32=t.c_r("s_psid")),t.linkLeaveQueryString=!0;var w,k=t.linkURL;if("d"===t.linkType&&k&&(k.match(/\.rss|\.xml/)?t.eVar16=t.prop16="sign ups":(t.eVar11=t.pageName+" - "+k.substring(k.lastIndexOf("/")+1,k.length),t.eVar16=t.prop16="downloads",t.events=t.apl(t.events,"event5",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar11",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"events",",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event5",",",1)),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar16",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"prop16",",",1)),t.linkLeaveQueryString=!1,"function"==typeof o&&o(t),t.pageName&&t.pageName.match(/feedback - thank you/)&&(t.prop16=t.eVar16="feedback"),t.linkLeaveQueryString=!0,t.linkHandler("rss~ax.itunes.apple.com/WebObjects/MZStoreServices.woa/ws/RSS/|rss~rss.support.apple.com"),"rss"===t.linkName&&(t.eVar16=t.prop16="sign ups",t.apl(t.linkTrackVars,"eVar16,prop16",",",1)),t.linkLeaveQueryString=!1,"function"==typeof c&&c(t),t.tcall&&"function"==typeof t.performanceTiming&&t.performanceTiming(),"function"==typeof r&&r(t),w=document&&document.documentElement.lang?document.documentElement.lang:"n/a",t.eVar14=w,e&&(t.linkTrackVars=t.apl(t.linkTrackVars,"eVar14",", ",1)),u(t)&&(e&&(t.linkTrackEvents=t.apl(t.linkTrackEvents,"event209",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"events",",",1)),t.events=t.apl(t.events,"event209",",",1)),t.eVar4="D=pageName",e&&(t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4",", ",1)),t.tcall?t.eVar97="s.t-p":e&&(t.eVar97="s.tl-"+t.linkType,t.linkTrackVars=t.apl(t.linkTrackVars,"eVar97",",",1)),t.tcall?t.c_r("as_pvi")&&(t.prop51=t.c_r("as_pvi")):e&&-1===t.linkTrackVars.indexOf("prop51")&&void 0!==t.prop51&&(t.linkTrackVars=t.apl(t.linkTrackVars,"prop51",",",1)),t.tcall||e){var S=p(t);S&&(t.eVar57=S,e&&(t.linkTrackVars=t.apl(t.linkTrackVars,"eVar57",",",1)))}t.hier1=t.channel?t.channel:"",t.linkTrackVars=t.apl(t.linkTrackVars,"hier1",", ",1),t.linkTrackVars=t.linkTrackVars.replace(new RegExp(" ","g"),"");var x=t.getQueryParam("afid");x&&(t.eVar10=t.getValOnce(x,"s_afc")),t.prop4=t.prop4?t.prop4:"D=g",(t.c_r("rtsid")||t.c_r("rtsidInt"))&&(t.events?"string"==typeof t.events&&-1===t.events.indexOf("event37")&&(t.events+=",event37"):t.events="event37"),f(t),"d"!==t.linkType&&"e"!==t.linkType||(t.A=function(t){t.manageVars("clearVars")}.bind(null,t)),t.manageVars("lowercaseVars","purchaseID,pageType,events,products,transactionID",2),t.tcall=!1}},function(t,e,i){"use strict";t.exports=function(t){if((t.pageName&&t.prop14&&t.pageName.toLowerCase()!==t.prop14.toLowerCase()||!t.prop14)&&t.tcall){var e,i,n=t.c_r("s_pathLength"),r=n.indexOf(",")>-1?n.split(","):[],s=new Date,o=s.getTime();if(s.setTime(o+18e5),e=t.channel?(e=t.channel.substring(t.channel.indexOf(".")+1,t.channel.length)).substring(e.indexOf(".")+1,e.length):"no channel",0!==r.length&&r.toString().indexOf(e+"=")>-1){for(var a=r.length,c=0;c<a;c++)r[c].toString().indexOf(e+"=")>-1&&(++(i=r[c].split("="))[1],r[c]=i[0]+"="+i[1],t.prop48=i[1]);t.c_w("s_pathLength",r,s)}else i=n+e+"=1,",t.c_w("s_pathLength",i,s),t.prop48="1"}}},function(t,e,i){"use strict";t.exports=function(t){if(t.pageName){var e=escape(t.pageName);e=(e=(e=e.replace(/(%u2018|%u2019|%u02BC|%u02BD)/g,"%27")).replace(/(%u201C|%u201D|%E2%80%9C|%E2%80%9D)/g,"%22")).replace(/(%09|%0A|%0D)/g,""),t.pageName=unescape(e)}}},function(t,e,i){"use strict";t.exports=function(t){var e,i=navigator.userAgent;if(i.match(/windows/i))t.prop9="windows";else if(i.match(/(kindle|silk-accelerated)/i))i.match(/(kindle fire|silk-accelerated)/i)?t.prop9="kindle fire":t.prop9="kindle";else{if(i.match(/(iphone|ipod|ipad)/i))return e=i.match(/OS [0-9_]+/i),void(t.prop9="i"+e[0].replace(/_/g,"."));if(i.match(/android/i))t.prop9=i.match(/android [0-9]\.?[0-9]?\.?[0-9]?/i);else{if(i.match(/webos\/[0-9\.]+/i))return e=i.match(/webos\/[0-9]\.?[0-9]?\.?[0-9]?/i),void(t.prop9=e[0].replace(/webos\//i,"web os "));if(i.match(/rim tablet os [0-9\.]+/i))return e=i.match(/rim tablet os [0-9]\.?[0-9]?\.?[0-9]?/i),void(t.prop9=e[0].replace(/rim tablet os/i,"rim os "));if((i.match(/firefox\/(\d{2}||[3-9])/i)||i.match(/AppleWebKit\//))&&i.match(/Mac OS X [0-9_\.]+/)){var n=i.match(/[0-9_\.]+/g);return n=n[1].split(/_|\./),void(t.prop9=n[0]+"."+n[1]+".x")}var r=i.match(/AppleWebKit\/\d*/i)&&i.match(/AppleWebKit\/\d*/i).toString().replace(/AppleWebKit\//i,"");t.prop9=r>522?"10.5.x":r>400?"10.4.x":r>99?"10.3.x":r>80?"10.2.x":"mac unknown or non-safari"}}}},function(t,e,i){"use strict";t.exports=function(t){var e;t.prop17||("function"==typeof t.getPercentPageViewed&&(e=t.getPercentPageViewed()),e&&e.length>=4&&void 0!==e[1]&&(t.prop14=e[0],t.prop17=e[1]+":"+e[2],t.prop28=10*Math.round(e[3]/10)))}},function(t,e,i){"use strict";var n=i(145),r=n.cookieJson,s=n.beaconHelpers,o=n.toStr,a=i(557),c="eVar93",l="eVar94",h="event210",u="event246",d="event242",f="s_aca_ct",p={path:"/",domain:"apple.com",expires:.021,secure:!0},m=900,_=x(),g="ct_li",v="ct_c",y=!0;function b(t){var e;t.tcall?e=function(){var t=r.get(f),e=Object.assign({},p,{expires:""});return r.set(f,null,e),t}():(k(t),e=w(t),t.acAnalytics[g]=!1),e&&function(t,e){e[c]&&(t[c]=e[c]);e[l]&&(t[l]=e[l]);e.events&&function(t,e){if("string"!=typeof t.events&&void 0!==t.events)return;e.forEach(function(e){-1===e.indexOf("=")?function(t,e){if(!e)return;t.events=t.apl(t.events,e,",",1)}(t,e):function(t,e){var i,n,r={};if(!e)return;if(n=e.split("=")[0],(i=t.events.split(",")).forEach(function(t,e){r[t.split("=")[0]]=e}),isNaN(r[n]))return void(t.events=t.apl(t.events,e,",",1));i.splice(r[n],1,e),t.events=i.join(",")}(t,e)})}(t,e.events);t.tcall||(void 0!==e.linkTrackEvents&&e.linkTrackEvents.forEach(function(e){t.linkTrackEvents=t.apl(t.linkTrackEvents,e,",",1)}),void 0!==e.linkTrackVars&&e.linkTrackVars.forEach(function(e){t.linkTrackVars=t.apl(t.linkTrackVars,e,",",1)}))}(t,e)}function w(t){var e=_?S():(_=x())?S():null,i={linkTrackVars:[],linkTrackEvents:[],events:[]};return null!==e?(i.events.push(u),i.events.push(h+"="+e),i.linkTrackVars.push(l),i.linkTrackEvents.push(h,u),i[l]=e):(i.events.push(d),i.linkTrackEvents.push(d)),i[c]=t.acAnalytics[v],i.linkTrackVars.push(c),i.linkTrackVars.push("events"),i}function k(t){t.acAnalytics[v]?t.acAnalytics[v]++:t.acAnalytics[v]=1}function S(){if(!_)return null;var t=((Date.now()-_)/1e3).toFixed(2);return isNaN(t)?null:(t=parseFloat(t))>=m||t<=0?null:t}function x(){if(window&&window.performance&&window.performance.timing&&window.performance.timing.domInteractive)return window.performance.timing.domInteractive}t.exports=function(t){if(y&&t.trackingDomian&&(p=t.trackingDomian,y=!1),!t.linkName||-1===t.linkName.indexOf("v@e")&&-1===t.linkName.indexOf("v@sk")&&-1===t.linkName.indexOf("v@m"))if(t.tcall)b(t);else if(a(t)&&"e"!==t.linkType&&"d"!==t.linkType)!function(t){k(t);var e=w(t);s.isNotEmpty(e)&&r.set(f,function(t){return Object.keys(t).forEach(function(e){var i=e.substring(0,4),n=o(t[e]);"prop"===i?t[e]=n.substring(0,100):"eVar"===i&&(t[e]=n.substring(0,250))}),t}(e),p)}(t);else if(t.acAnalytics[g]&&t.linkName)b(t);else if(t.linkObject){if("d"===t.linkType||"e"===t.linkType)return void b(t);t.acAnalytics[g]=!0}}},function(t,e,i){"use strict";t.exports=function(){var t="";return[{name:"deploy",url:"deploy.apple.com"},{name:"ade",url:"ade.apple.com"},{name:"appleteacher",url:"appleteacher.apple.com"},{name:"ecommerce",url:"ecommerce.apple.com"},{name:"school",url:"school.apple.com"},{name:"help",url:"help.apple.com"},{name:"survey",url:"survey.apple.com"},{name:"itunespartner",url:"itunespartner.apple.com"},{name:"investor",url:"investor.apple.com"},{name:"consultants",url:"consultants.apple.com"},{name:"itms",url:"itms.apple.com"},{name:"artists",url:"artists.apple.com"},{name:"itunes",url:"itunes.apple.com"}].forEach(function(e,i,n){t+=e.name+"~"+e.url+"|"}),t=t.slice(0,-1)}()},function(t,e,i){"use strict";t.exports=function(t){return t.Util.cookieRead("as_cn")}},function(t,e,i){"use strict";t.exports=function(t){return t.acAnalytics.version}},function(t,e,i){"use strict";var n,r="s_aca_ptd",s={};function o(){return n.tcall}t.exports=function(t){var e;("string"==typeof(n=t).linkType&&n.linkType.length>0||o())&&function(t){try{var e=window[t],i="acAnalyticsStorageTestItem";return e.setItem(i,"a"),e.removeItem(i),!0}catch(t){return!1}}("sessionStorage")&&(e=function(){var t=sessionStorage.getItem(r);if(t)try{return t=JSON.parse(t)}catch(t){return}}())&&(function(t){s.overwriteAppMeasurementValues=!(!t.options||!0!==t.options.overwriteAppMeasurementValues),s.overwriteAppMeasurementEvents=!t.options||!1!==t.options.overwriteAppMeasurementEvents,delete t.options}(e),function(t){t.events&&"string"==typeof t.events&&(function(t){var e=!1,i=function(){if(n.linkTrackEvents&&"string"==typeof n.linkTrackEvents)return n.linkTrackEvents.split(",")}(),r=function(){var t=[];return n.events&&(t=n.events.split(",").map(function(t){var e=t.split("=");return{eventName:e[0],eventValue:e[1]}})),t}();t.split(",").forEach(function(t){var a,c=t.split("="),l=c[0],h=c[1],u=null;!o()&&i&&(a=-1!==i.indexOf(l)),r.forEach(function(t){t.eventName===l&&(u=t,o()&&(a=!0))}),r.push({eventName:l,eventValue:h}),(!1!==s.overwriteAppMeasurementEvents||!a)&&(u&&function(t){var e=t.eventName;t.eventValue&&(e+="="+t.eventValue),e="^("+e+",+)|("+e+",+)|(,"+e+"$)",e=new RegExp(e),n.events=n.events.replace(e,"")}(u),n.events=n.apl(n.events,t,",",1),e||(e=!0),o()||(n.linkTrackEvents=n.apl(n.linkTrackEvents,l,",",1)))}),e&&(n.linkTrackVars=n.apl(n.linkTrackVars,"events",",",1))}(t.events),delete t.events),function(t){var e,i=function(){if(n.linkTrackVars&&"string"==typeof n.linkTrackVars)return n.linkTrackVars.split(",")}();for(var r in t)t.hasOwnProperty(r)&&(o()?e=!!n[r]:(e=-1!==i.indexOf(r))||(n.linkTrackVars=n.apl(n.linkTrackVars,r,",",1)),!s.overwriteAppMeasurementValues&&e||(n[r]=t[r]))}(t),sessionStorage.removeItem(r)}(e))}},function(t,e,i){"use strict";t.exports=function(t){if(window&&window.AB&&!window.AB.tracked&&window.AB&&window.AB.isAbTestActive){var e=function(){if(window.AB)return window.AB.targetData}();return e?(window.AB.tracked=!0,e.eVar57?e.eVar57:"no tests found"):void 0}}},function(t,e,i){"use strict";t.exports={isSafariTopSitesPreview:function(){return!(!navigator||!navigator.loadPurpose||"preview"!==navigator.loadPurpose)},isSafari:function(t){return!1}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(568).original,r=i(1173).original,s=i(173);function o(){return!n()&&!r()}t.exports=s(o),t.exports.original=o},function(t,e,i){"use strict";var n=i(240),r=i(173);function s(){var t=n.getWindow(),e=n.getDocument(),i=n.getNavigator();return!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||i.maxTouchPoints>0||i.msMaxTouchPoints>0)}t.exports=r(s),t.exports.original=s},function(t,e,i){"use strict";var n=i(568).original,r=i(240),s=i(173),o=600;function a(){var t=r.getWindow(),e=t.screen.width;return t.orientation&&t.screen.height<e&&(e=t.screen.height),!n()&&e>=o}t.exports=s(a),t.exports.original=a},,function(t,e,i){"use strict";var n=i(240),r=i(173);function s(){var t=n.getWindow(),e=!1;try{"sessionStorage"in t&&"function"==typeof t.sessionStorage.setItem&&(t.sessionStorage.setItem("ac_feature","test"),e=!0,t.sessionStorage.removeItem("ac_feature","test"))}catch(t){}return e}t.exports=r(s),t.exports.original=s},,,,function(t,e,i){"use strict";var n=i(123),r=function(t,e){n.apply(this,arguments),this._player.supportsAirPlay()&&(this._airplayStateChange=this._airplayStateChange.bind(this),this._player.getMediaElement().addEventListener("webkitplaybacktargetavailabilitychanged",this._airplayStateChange),this._updateState=this._updateState.bind(this),this._player.getMediaElement().addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this._updateState))},s=n.prototype,o=r.prototype=Object.create(s);o._airplayStateChange=function(t){"available"===t.availability?this._airplayAvailable=!0:this._airplayAvailable=!1,this._updateState()},o._updateState=function(){this._player.getMediaElement().webkitCurrentPlaybackTargetIsWireless?this._view.setState("on"):this._airplayAvailable?this._view.setState("off"):this._view.setState("initial")},o._onClick=function(){this._player.getMediaElement().webkitShowPlaybackTargetPicker()},o.destroy=function(){this._player.getMediaElement().removeEventListener("webkitplaybacktargetavailabilitychanged",this._airplayStateChange),this._player.getMediaElement().removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this._updateState)},t.exports=r},function(t,e,i){"use strict";t.exports={disableForcedCursorPointer:function(){document.body.classList.remove("cursor-pointer"),this.onSelectStartResumeDefault()},forceCursorPointer:function(){document.body.classList.add("cursor-pointer"),this.onSelectStartPreventDefault()},onSelectStartResumeDefault:function(){document.removeEventListener("selectstart",this.preventDefault)},onSelectStartPreventDefault:function(){document.addEventListener("selectstart",this.preventDefault)},preventDefault:function(t){t.preventDefault()}}},function(t,e,i){"use strict";var n=i(1182),r=function(t){this.el=t.el,this._player=t.player,this._popUp=new n(t),this.el.appendChild(this._popUp.el)},s=r.prototype;s.setData=function(t){this._popUp.setData(t)},s.show=function(){this.el.classList.remove("hidden")},s.hide=function(){this.el.classList.add("hidden")},s.destroy=function(){},t.exports=r},function(t,e,i){"use strict";var n=i(322),r=i(1183),s=i(321),o=function(t){this._player=t.player,this.el=document.createElement("div"),this.el.style.opacity="0",this.el.innerHTML='<div class="ac-video-trickplay hidden" aria-hidden="true">\n    <div class="ac-video-trickplay-image">\n    </div>\n    <div class="ac-video-trickplay-time"></div>\n</div>\n',this._thumbnailHandler=new r({el:this.el.querySelector(".ac-video-trickplay-image"),player:this._player,numberOfImages:t.numberOfImages}),this._timeLabel=this.el.querySelector(".ac-video-trickplay-time"),this._bindMethods(),this._addEventListeners()},a=o.prototype;a._initPointerTracking=function(){this._scrubberView=this._player.controls.scrubberView,this._scrubberView&&(this._runnableTrack=this._scrubberView.el.querySelector(".ac-slider-runnable-track"),this._calcOffsets(),this._scrubberView.el.addEventListener("mouseover",this._show),this._scrubberView.el.addEventListener("mouseout",this._hide),this._scrubberView.el.addEventListener("mousedown",this._startScrubbing),this._scrubberView.el.addEventListener("mouseup",this._endScrubbing),this._scrubberView.el.addEventListener("mousemove",this._onTrackerUpdate),this._scrubberView.el.addEventListener("mousemove",this._setThumbnail),this._player.on("resize",this._calcOffsets),window.addEventListener("resize",this._calcOffsets))},a._bindMethods=function(){this._show=this._show.bind(this),this._hide=this._hide.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._startScrubbing=this._startScrubbing.bind(this),this._endScrubbing=this._endScrubbing.bind(this),this._initPointerTracking=this._initPointerTracking.bind(this),this._onTrackerUpdate=this._onTrackerUpdate.bind(this),this._setThumbnail=this._setThumbnail.bind(this),this._calcOffsets=this._calcOffsets.bind(this),this._debouncedCalcOffsets=s(this._calcOffsets,30)},a._startScrubbing=function(t){this._thumbnailHandler.el.classList.add("hidden"),this._scrubberView.el.removeEventListener("mousemove",this._setThumbnail),this._scrubberView.el.removeEventListener("mouseout",this._hide),document.addEventListener("mouseup",this._endScrubbing),document.addEventListener("mousemove",this._onTrackerUpdate)},a._endScrubbing=function(t){t.target===this._scrubberView.el&&this._hide(),this._scrubberView.el.addEventListener("mousemove",this._setThumbnail),this._scrubberView.el.addEventListener("mouseout",this._hide),document.removeEventListener("mouseup",this._endScrubbing),document.removeEventListener("mousemove",this._onTrackerUpdate),this._setThumbnail(t),this._thumbnailHandler.el.classList.remove("hidden")},a._calcOffsets=function(){this._onLoadedMetaData();var t=this._player.el.getBoundingClientRect();this._offsetLeft=t.left;var e=this._runnableTrack.getBoundingClientRect();this._leftBoundary=e.left-this._offsetLeft+5,this._rightBoundary=this._leftBoundary+e.width-5-2,this._imgWidth=this.el.firstElementChild.getBoundingClientRect().width},a._onLoadedMetaData=function(){var t=this._player.getMediaElement().videoWidth,e=this._player.getMediaElement().videoHeight,i=-1!==this._player.getMediaElement().src.indexOf("-tft-");this.el.classList.remove("square-video"),this.el.classList.remove("vertical-video"),this.el.classList.remove("tft-video"),i?(this.el.classList.add("tft-video"),this._thumbnailHandler.setVertical(!1)):t<e?(this.el.classList.add("vertical-video"),this._thumbnailHandler.setVertical(!0)):t===e?(this.el.classList.add("square-video"),this._thumbnailHandler.setVertical(!1)):this._thumbnailHandler.setVertical(!1)},a._addEventListeners=function(){this._player.on("durationchange",this._onDurationChange),this._player.once("controlsready",this._initPointerTracking),this._player.on("loadedmetadata",this._calcOffsets)},a._removeEventListeners=function(){this._player.off("durationchange",this._onDurationChange),this._player.off("controlsready",this._initPointerTracking),this._player.off("timeupdate",this._calcOffsets),this._player.off("resize",this._debouncedCalcOffsets),window.removeEventListener("resize",this._debouncedCalcOffsets),this._scrubberView.el.removeEventListener("mouseover",this._show),this._scrubberView.el.removeEventListener("mouseout",this._hide),this._scrubberView.el.removeEventListener("mousemove",this._onTrackerUpdate),this._scrubberView.el.removeEventListener("mousemove",this._setThumbnail)},a._onTrackerUpdate=function(t){this._calcOffsets();var e=Math.min(Math.max(t.clientX-this._offsetLeft,this._leftBoundary),this._rightBoundary);this.el.firstElementChild.style.left=e-this._imgWidth/2+"px";var i=this._scrubberView.getClientXValue(t);this._player.getReadyState()<=2?this._cachedTrackerUpdate=t:this._cachedTrackerUpdate=null,this._setTime(Math.max(i,0))},a._onDurationChange=function(t){this._cachedDuration=this._player.getDuration(),this._cachedTrackerUpdate&&(this._onTrackerUpdate(this._cachedTrackerUpdate),this._setThumbnail()),this.el.style.opacity="1"},a._setThumbnail=function(t){this._thumbnailHandler.setTime(this._time,this._cachedDuration)},a._setTime=function(t){var e=t/this._scrubberView.getMax();this._time=Math.min(e*this._cachedDuration,this._cachedDuration);var i=n.formatTime(Math.round(this._time),this._cachedDuration);this._timeLabel.innerHTML=i},a.setData=function(t){this.el.style.opacity="0",this._canPlayThroughHander&&(this._player.off("canplaythrough",this._canPlayThroughHander),this._player.off("playing",this._canPlayThroughHander),this._canPlayThroughHander=null),t&&this._player.getReadyState()>2?(this.el.style.opacity="1",this._thumbnailHandler.setData(t),this._cachedTrackerUpdate&&(this._onTrackerUpdate(this._cachedTrackerUpdate),this._setThumbnail())):(this._thumbnailHandler.setData(null),t?(this._canPlayThroughHander=this.setData.bind(this,t),this._player.on("canplaythrough",this._canPlayThroughHander),this._player.on("playing",this._canPlayThroughHander)):this.el.style.opacity="1"),this._onLoadedMetaData()},a._show=function(t){this._onTrackerUpdate(t),this.el.firstElementChild.classList.remove("hidden")},a._hide=function(){this.el.firstElementChild.classList.add("hidden")},a.destroy=function(){this._canPlayThroughHander&&(this._player.off("canplaythrough",this._canPlayThroughHander),this._player.off("playing",this._canPlayThroughHander)),this._tracker.destroy()},t.exports=o},function(t,e,i){"use strict";var n=function(t){this.el=t.el,this._player=t.player,this._imgWidth=t.imgWidth||144,this.el.style.backgroundSize=100*this._numberOfImages+"% 100%"},r=n.prototype;r.setVertical=function(t){this._imgWidth=t?81:144},r.getWidth=function(){return this._imgWidth},r.setData=function(t){if(!t)return this._imgUrl=null,void(this.el.style.backgroundImage="");if(t.url!==this._imgUrl){this._imgUrl=t.url,this._numberOfImages=parseInt(t.numberOfImages||120),this.el.style.backgroundSize=100*this._numberOfImages+"% 100%",this.el.style.backgroundImage="",this.el.classList.add("hidden");var e=this._loadImage(this._imgUrl).then(function(){this._imageLoadPromise===e&&(this.el.style.backgroundImage='url("'+this._imgUrl+'")',this._imageLoadPromise=null,this.el.classList.remove("hidden"))}.bind(this));this._imageLoadPromise=e}},r._loadImage=function(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){e()},n.onerror=function(){i()},n.src=t})},r.setTime=function(t,e){var i=t/e,n=Math.min(Math.round(i*this._numberOfImages),this._numberOfImages-1)/(this._numberOfImages-1)*100;this.el.style.backgroundPositionX=n+"%"},r.destroy=function(){this._imageLoadPromise&&this._imageLoadPromise.cancel()},t.exports=n},function(t,e,i){"use strict";var n=i(1185),r=function(t){this.el=t.el,this._player=t.player,this._addItems(t.items||[])},s=r.prototype;s._addItems=function(t){this._items=[],t.forEach(function(t){var e=document.createElement("div");e.classList.add("end-state-item");var i=new n(Object.assign({},t,{el:e,player:this._player}));this.el.appendChild(e),this._items.push(i)}.bind(this))},s.setData=function(t){for(;this._items.length;)this._items.pop().destroy();this.el.innerHTML="",t?(this.el.classList.remove("hidden"),this._addItems(t.items)):this.el.classList.add("hidden")},s.destroy=function(){for(;this._items.length;)this._items.pop().destroy()},t.exports=r},function(t,e,i){"use strict";var n=function(t){this.el=t.el,this.el.innerHTML='<a class="end-state-link hidden"></a>\n',this._player=t.player,this._bindContent(t)},r=n.prototype;r._bindContent=function(t){if("link"===t.type||"video"===t.type){var e=this.el.querySelector(".end-state-link"),i=document.createElement("div");e.classList.remove("hidden"),i.classList.add("end-state-text-container"),i.innerText=t.label||"",e.href=t.url||"",e.appendChild(i),"link"===t.type?e.classList.add("icon","icon-after","icon-chevronright"):"video"===t.type&&e.classList.add("icon","icon-after","icon-playcircle"),this._bindAction(this.el,t)}},r._bindAction=function(t,e){"function"==typeof e.onclick?t.onclick=function(t){t.preventDefault(),e.onclick.call(null,t)}.bind(this):"video"===e.type&&e.url&&(t.onclick=function(t){t.preventDefault(),this._player.load(e.url,null,0,{})}.bind(this))},r.destroy=function(){},t.exports=n},function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(334);var r=i(166),s=(i(167),i(64)),o=s.os.ios||s.os.android,a=i(514),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._rootElement=e.rootElement,this._player=e.player,this._360=this._player.get360(),this.el=this._rootElement.querySelector(".compass-wrapper"),this.compassRing=this.el.querySelector(".compass-ring"),this.compassField=this.el.querySelector(".compass-field"),this.compass=this.el.querySelector(".compass"),this.compassArrows=this.el.querySelector(".compass-arrows"),this.compassArrowLeft=this.el.querySelector(".compass-arrow-left"),this.compassArrowRight=this.el.querySelector(".compass-arrow-right"),this.compassArrowTop=this.el.querySelector(".compass-arrow-top"),this.compassArrowBottom=this.el.querySelector(".compass-arrow-bottom"),this._keyboard=new r(this.el),this._arrowControls=this._player.get360().arrowControls,this._bindMethods(),this._addEventListeners()}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"_bindMethods",value:function(){this._onFocusIn=this._onFocusIn.bind(this),this._onFocusOut=this._onFocusOut.bind(this),this._onCompassClick=this._onCompassClick.bind(this),this._onCompassMouseEnter=this._onCompassMouseEnter.bind(this),this._onCompassMouseLeave=this._onCompassMouseLeave.bind(this),this._onCompassFocusIn=this._onCompassFocusIn.bind(this),this._onCompassFocusOut=this._onCompassFocusOut.bind(this),this._onRotationTransitionEnd=this._onRotationTransitionEnd.bind(this),this._onCompassArrowsClick=this._onCompassArrowsClick.bind(this),this._on360PositionChange=this._on360PositionChange.bind(this),this._on360IconUpdate=this._on360IconUpdate.bind(this),this._transitionTiming=this._transitionTiming.bind(this)}},{key:"_addEventListeners",value:function(){this._player.once("controlsready",function(){o||(this.compass.addEventListener("mouseenter",this._onCompassMouseEnter),this.compass.addEventListener("mouseleave",this._onCompassMouseLeave)),this.el.addEventListener("focusin",this._onFocusIn),this.el.addEventListener("focusout",this._onFocusOut),this.compass.addEventListener("click",this._onCompassClick),this.compass.addEventListener("focusin",this._onCompassFocusIn),this.compass.addEventListener("focusout",this._onCompassFocusOut),this.compassArrows.addEventListener("click",this._onCompassArrowsClick),this._360.on(a.POSITION_CHANGE,this._on360PositionChange),this._360.on(a.ROTATION_START,this._transitionTiming),this._360.on(a.ROTATION_COMPLETE,this._onRotationTransitionEnd)}.bind(this))}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("focusin",this._onFocusIn),this.el.removeEventListener("focusout",this._onFocusOut),this.compass.removeEventListener("click",this._onCompassClick),this.compass.removeEventListener("focusin",this._onCompassFocusIn),this.compass.removeEventListener("focusout",this._onCompassFocusOut),this.compass.removeEventListener("mouseenter",this._onCompassMouseEnter),this.compass.removeEventListener("mouseleave",this._onCompassMouseLeave),this.compassArrows.removeEventListener("click",this._onCompassArrowsClick),this._360.off(a.POSITION_CHANGE,this._on360PositionChange),this._360.off(a.ROTATION_START,this._transitionTiming),this._360.off(a.ROTATION_COMPLETE,this._onRotationTransitionEnd)}},{key:"_showCompassArrows",value:function(){this.el.classList.add("show-arrows")}},{key:"_hideCompassArrows",value:function(){this.el.classList.remove("show-arrows")}},{key:"_onRotationTransitionEnd",value:function(){this._compassIsRotating=!1,this._360.off(a.ROTATION_UPDATE,this._on360IconUpdate)}},{key:"_transitionTiming",value:function(t){var e=t.time,i=this._get360HorizontalAngle();this._compassIsRotating=!0,this.compassRing.style.transition="transform ".concat(e,"ms cubic-bezier(0.25,0.1,0,1)"),this.compassField.style.transition="transform ".concat(e,"ms cubic-bezier(0.25,0.1,0,1)");var n="rotate(".concat(360,"deg)");i>180?(this.compassRing.style.transform=n,this.compassField.style.transform=n):i<-180?(this.compassRing.style.transform=n,this.compassField.style.transform=n):(this.compassRing.style.transform="rotate(0deg)",this.compassField.style.transform="rotate(0deg)")}},{key:"_on360IconUpdate",value:function(t){this.compassRing.style.transition="transform 0.1s ease",this.compassRing.style.transform="rotate(".concat(t.currentPosition.lon,"deg)"),this.compassField.style.transition="transform 0.1s ease",this.compassField.style.transform="rotate(".concat(t.currentPosition.lon,"deg)")}},{key:"_onCompassClick",value:function(t){this._compassIsRotating||(this._player.get360().isAtOrigin?(this._360.on(a.ROTATION_UPDATE,this._on360IconUpdate),this._player.get360().oscillateLongitude()):this._player.panToOrigin())}},{key:"_onCompassArrowsClick",value:function(t){switch(t.target){case this.compassArrowLeft:this._arrowControls.leftArrowDown(t),this._arrowControls.leftArrowUp(t);break;case this.compassArrowRight:this._arrowControls.rightArrowDown(t),this._arrowControls.rightArrowUp(t);break;case this.compassArrowTop:this._arrowControls.upArrowDown(t),this._arrowControls.upArrowUp(t);break;case this.compassArrowBottom:this._arrowControls.downArrowDown(t),this._arrowControls.downArrowUp(t)}}},{key:"_onFocusIn",value:function(t){t.target!==this.compass&&this._showCompassArrows()}},{key:"_onFocusOut",value:function(t){this._hideCompassArrows()}},{key:"_onCompassFocusIn",value:function(t){this._rotateFieldOfViewToOrigin()}},{key:"_onCompassFocusOut",value:function(t){var e=this._get360HorizontalAngle();this.compassField.style.transform="rotate(".concat(e,"deg)")}},{key:"_rotateFieldOfViewToOrigin",value:function(){var t=this._get360HorizontalAngle();this.compassField.style.transition="transform 0.3s ease",this.compassField.style.transform=t>180?"rotate(".concat(360,"deg)"):t<-180?"rotate(-".concat(360,"deg)"):"rotate(0deg)"}},{key:"_onCompassMouseEnter",value:function(t){this._hovering=!0,this._compassIsRotating||this._rotateFieldOfViewToOrigin()}},{key:"_onCompassMouseLeave",value:function(t){if(this._hovering=!1,!this._compassIsRotating){var e=this._get360HorizontalAngle();this.compassField.style.transition="transform 0.3s ease",this.compassField.style.transform="rotate(".concat(e,"deg)")}}},{key:"_on360PositionChange",value:function(){var t=this._get360HorizontalAngle();this.compassRing.style.transition="none",this.compassRing.style.transform="rotate(".concat(t,"deg)"),this._hovering||(this.compassField.style.transition="none",this.compassField.style.transform="rotate(".concat(t,"deg)"))}},{key:"_get360HorizontalAngle",value:function(){return this._player.get360().position.lon%360}},{key:"destroy",value:function(){this._removeEventListeners()}}]),t}();t.exports=c},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=i(92);t.exports=function t(){var e=Array.prototype.slice.call(arguments);if(e.length<2)return s(e[0]);var i=s(e.shift(),!0),n=e.shift();for(var o in n)n.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&"object"===r(i[o])?"object"===r(i[o])&&"object"===r(n[o])&&(i[o]=t(i[o],n[o])):i[o]=n[o]);return e.length?t.apply(null,[i].concat(e)):i}},function(t,e,i){"use strict";var n={components:i(540),controlsImplementation:i(569)};t.exports=function(t){t=t||{};var e=Object.assign({},n,t);return{create:function(i){var r=Object.assign({},e,i);return r.components=t.components||n.components,new r.controlsImplementation(r)}}}},function(t,e,i){"use strict";var n=i(164),r=/_r[0-9].+\.mov$/,s=/_[0-9]+x[0-9].+\.mp4$/,o=/_([0-9]+)x([0-9]+)/,a=/-tpl-.*-/,c=/-cc-[a-z].*-/,l=/-tft-.*-/,h=i(1190),u=i(1191),d=i(1192),f=i(571),p=function(t,e){return t.find(function(t){return t.width===e.width&&(t.height=e.height)||t.width===e.height&&(t.height=e.width)})};t.exports={getVideoSource:function(t,e,i,a){var c,m;o.test(t);var _,g={};if(g.width=parseInt(RegExp.$1,10),g.height=parseInt(RegExp.$2,10),t.match(l))c=d,m=1536;else if(g.width===g.height)c=h,m=1080;else if(t.match(r)||p(u,g))c=u,m=1280;else{if(!p(f,g))return t;c=f,m=1624}g.width<g.height&&(_=!0);var v,y=c[0].width,b=a&&a.maxWidth?Math.max(a.maxWidth,y):m;if(!t)throw"Must provide an url to optimize";if(void 0===e||isNaN(e))throw"Must provide a width";0===e&&(e=g.width),i&&(c=c.filter(function(t){return t.type===i})),b<1920&&(c=c.filter(function(t){return t.width<=b})),v=_?c.reduce(function(t,i){return Math.abs(i.height-e)<Math.abs(t.height-e)?i:t}):c.reduce(function(t,i){return Math.abs(i.width-e)<Math.abs(t.width-e)?i:t});var w="_{width}x{height}{suffix}.mp4";return _&&(w="_{height}x{width}{suffix}.mp4"),t.match(s)?t.replace(s,n(w,v)):t.match(r)?t.replace(r,n(w,v)):t},getCaptionsSource:function(t){return t.match(c)?t.match(s)?{src:t.replace(s,"_cc.vtt"),srclang:"en"}:t.match(r)?{src:t.replace(r,"_cc.vtt"),srclang:"en"}:null:null},getThumbnailImageSource:function(t){return t.match(a)?{url:t.replace(s,"_thumbnails.jpg")}:null}}},function(t,e,i){"use strict";t.exports=[{width:360,height:360,type:"baseline-high",suffix:"h"},{width:360,height:360,type:"small",suffix:"h"},{width:360,height:360,type:"baseline-low",suffix:"l"},{width:480,height:480,type:"medium",suffix:""},{width:540,height:540,type:"medium",suffix:""},{width:720,height:720,type:"large",suffix:"h"},{width:720,height:720,type:"large",suffix:"l"},{width:1080,height:1080,type:"large",suffix:"l"},{width:1080,height:1080,type:"large",suffix:"h"}]},function(t,e,i){"use strict";t.exports=[{width:416,height:234,type:"baseline-high",suffix:"h"},{width:416,height:234,type:"small",suffix:"h"},{width:416,height:234,type:"baseline-low",suffix:"l"},{width:416,height:234,type:"baseline-medium",suffix:"m"},{width:640,height:360,type:"medium",suffix:"h"},{width:848,height:480,type:"large",suffix:""},{width:960,height:540,type:"large",suffix:""},{width:1280,height:720,type:"large",suffix:"h"},{width:1280,height:720,type:"large",suffix:"l"},{width:1920,height:1080,type:"large",suffix:"l"},{width:1920,height:1080,type:"large",suffix:"h"}]},function(t,e,i){"use strict";t.exports=[{width:384,height:160,type:"baseline-high",suffix:"h"},{width:384,height:160,type:"small",suffix:"h"},{width:384,height:160,type:"baseline-low",suffix:"l"},{width:384,height:160,type:"baseline-medium",suffix:"m"},{width:480,height:200,type:"medium",suffix:"h"},{width:768,height:320,type:"large",suffix:""},{width:960,height:400,type:"large",suffix:""},{width:1536,height:640,type:"large",suffix:"h"},{width:1536,height:640,type:"large",suffix:"l"},{width:1920,height:800,type:"large",suffix:"l"},{width:1920,height:800,type:"large",suffix:"h"}]},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=i(319),u=i(531),d=i(64).os,f=d.ios||d.android||!i(100)(),p=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=o(this,c(e).call(this,t)),t.threesixty&&i.el.classList.add("threesixty-video"),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,h),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"_bindMethods",value:function(){a(c(e.prototype),"_bindMethods",this).call(this),this._showCompass=this._showCompass.bind(this),this._hideCompass=this._hideCompass.bind(this),this.panToOrigin=this.panToOrigin.bind(this)}},{key:"_addEventListeners",value:function(){a(c(e.prototype),"_addEventListeners",this).call(this)}},{key:"_removeEventListeners",value:function(){a(c(e.prototype),"_removeEventListeners",this).call(this),this.controls.compass.removeEventListener("click",this.panToOrigin)}},{key:"_showCompass",value:function(){this.el.classList.add("threesixty-ui")}},{key:"_hideCompass",value:function(){this.el.classList.remove("threesixty-ui")}},{key:"_instantiateDefaultCustomUIControls",value:function(){return this.controls=this._controlsFactory.create({player:this,endState:this.options.endState,threesixty:!0,enableMainControls:!0,basePath:this.options.localizationBasePath,template:this.options.template,readyCallback:function(){this.options.autoplay&&!f||this._showStartState(),this.trigger("controlsready")}.bind(this)}),this.controls.el.parentNode!==this.el&&this.el.appendChild(this.controls.el),this._videoImpl.setControls(!1),this._createBlockade(),this._controlsInteraction=u({player:this,keyboardControl:this._keyboardControl,threesixty:!0,controlsTimeoutDuration:this.options.controlsTimeoutDuration,threesixtyElementsTimeoutDuration:this.options.threesixtyElementsTimeoutDuration,showControls:this._showControls,hideControls:this._hideControls,raiseControls:this._raiseControls,lowerControls:this._lowerControls,showCompass:this._showCompass,hideCompass:this._hideCompass,controlsVisible:function(){return this._controlsVisible}.bind(this),sendMouseDown:this._videoImpl.sendMouseDown,elementEmitter:this._elementEmitter}),this.controls}},{key:"panToOrigin",value:function(){this.get360().panToPosition({lat:0,lon:0})}},{key:"get360",value:function(){return this._videoImpl.get360()}},{key:"getFullScreenElement",value:function(){return this.el}},{key:"getFullScreenEnabled",value:function(){return!f&&a(c(e.prototype),"getFullScreenEnabled",this).call(this)}}]),e}();t.exports=p},,,,function(t,e,i){"use strict";t.exports={Router:i(1198),History:i(574),Routes:i(243).Routes,Route:i(243).Route}},function(t,e,i){"use strict";var n=i(241).create,r=i(242).DOMEmitter,s=i(574),o=(i(243).Route,i(243).Routes);function a(t){t=t||{},this._intercept=t.intercept||"[data-route]",this._interceptAttribute=t.attribute||"href",this._handleTrigger=this._handleTrigger.bind(this),this.intercept(this._intercept),this.history=t.history||new s({root:t.root,autoStart:t.autoStart,pushState:t.pushState,hashChange:t.hashChange,resolveInitialHash:t.resolveInitialHash}),o.call(this,t.routes),t.autoStart&&(this.history.started||this.history.start(),this.start())}var c=a.prototype=n(o.prototype);c._handleTrigger=function(t){if(this.started){var e=t.target.getAttribute(this._interceptAttribute);e&&(/^(http|https):\/\/+/.exec(e)&&"href"===this._interceptAttribute&&(e=e.substr(e.indexOf(this.history.root)+this.history.root.length)||"/"),this.navigate(e)&&t.preventDefault())}},c._handlePopstate=function(t){this.navigate(t.fragment,!0)},c.start=function(){this.started||(this.started=!0,this.history.start(),this._handlePopstate=this._handlePopstate.bind(this),this.history.on("popstate",this._handlePopstate),this.navigate(this.history.fragment(),!0))},c.stop=function(){this.started&&(this.started=!1,this.history.stop(),this.history.off("popstate",this._handlePopstate))},c.navigate=function(t,e){return this.history.fragment()!==t||e?!(t&&!e&&!this.history.navigate(t))&&(this.match(t),!0):this.history.canUpdate()},c.intercept=function(t,e){new r(e||document.body).on("click",t,this._handleTrigger)},t.exports=a},,,,,,,,,,,,,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=i(575);function o(t){this._routes={},t&&this.addRoutes(t)}var a=o.prototype;a._getIndex=function(t,e,i){if(void 0!==this._routes[t])for(var n=this._routes[t].length;--n>-1;)if(this._routes[t][n].callback===e&&this._routes[t][n].context===i)return n;return-1},a.match=function(t){var e,i;for(e in this._routes)for(i=this._routes[e].length;--i>-1&&(!this._routes[e][i].match(t)||!this._routes[e][i].greedy););},a.add=function(t){if(void 0===this._routes[t.path])this._routes[t.path]=[t];else if(!this.get(t.path,t.callback,t.context)){var e,i=this._routes[t.path].length;if(i>0)for(e=0;e<i;++e)if(this._routes[t.path][e].priority>t.priority)return this._routes[t.path].splice(e,0,t),t;this._routes[t.path].push(t)}return t},a.remove=function(t){var e=this._getIndex(t.path,t.callback,t.context);return e>-1&&(this._routes[t.path].splice(e,1),t)},a.get=function(t,e,i){var n=this._getIndex(t,e,i);return n>-1&&this._routes[t][n]},a.createRoute=function(t,e,i,n,r){var o=new s(t,e,i,n,r);return this.add(o),o},a.addRoutes=function(t){if(!(t instanceof Array))throw new Error("routes must be an Array.");var e,i,n=t.length;for(e=0;e<n;++e)(i=t[e])&&"object"===r(i)&&this.add(i)},a.removeRoutes=function(t){if(!(t instanceof Array))throw new Error("routes must be an Array.");var e,i,n=t.length;for(e=0;e<n;++e)(i=t[e])&&"object"===r(i)&&this.remove(i)},a.getRoutes=function(t){return void 0===this._routes[t]?[]:this._routes[t]},t.exports=o},function(t,e,i){"use strict";t.exports=i(539)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(1244).ScrollContainer,r={itemsSelector:".tabnav-items",itemSelector:".tabnav-link",leftPaddleSelector:".tabnav-paddle-left",rightPaddleSelector:".tabnav-paddle-right",scrollEasing:"ease-out",scrollDuration:.5,usePaddles:!0};t.exports=function(t,e){return e=Object.assign({},r,e),new n(t,e)}},function(t,e,i){"use strict";var n=i(1245);t.exports={ScrollContainer:n}},function(t,e,i){"use strict";var n=i(587),r=i(1246),s=i(146).Clip,o=i(91);function a(t,e){this.el=t,this._options=e||{},this._wrapper=this.el.querySelector(this._options.itemsSelector),this._items=Array.prototype.slice.call(this.el.querySelectorAll(this._options.itemSelector)),this.lastCenteredItem=this._items[0],this._isRightToLeft="rtl"===window.getComputedStyle(t).direction,this._inlineStart=this._isRightToLeft?"right":"left",this._inlineEnd=this._isRightToLeft?"left":"right",this._scrollType=this._scrollDirection(),this._usePaddles=void 0===this._options.usePaddles?o():this._options.usePaddles,this.centerItem=this.centerItem.bind(this),this._onScrollClipUpdate=this._onScrollClipUpdate.bind(this),this._init()}var c=a.prototype;c._init=function(){this._usePaddles&&this._setupPaddles()},c.centerItem=function(t,e){this.lastCenteredItem=t;var i=.5*n(this.el).width,s=r(t).left+.5*n(t).width,o=Math.round(s-i);e?this.el.scrollLeft=this._setNormalizedScroll(o):(this._destroyCurrentClip(),this._isRightToLeft&&(o*=-1),this._smoothScrollTo(o))},c._getPaddles=function(){var t=this._isRightToLeft?this._options.rightPaddleSelector:this._options.leftPaddleSelector,e=this._isRightToLeft?this._options.leftPaddleSelector:this._options.rightPaddleSelector;return{start:this.el.querySelector(t),end:this.el.querySelector(e)}},c._setupPaddles=function(){this.el.classList.add("with-paddles"),this._paddles=this._getPaddles(),this._children=this._wrapper.children,this._childCount=this._wrapper.children.length,this._onScrollClipComplete=this._onScrollClipComplete.bind(this),this._onPaddleStartClick=this._onPaddleStartClick.bind(this),this._paddles.start.addEventListener("click",this._onPaddleStartClick),this._onPaddleEndClick=this._onPaddleEndClick.bind(this),this._paddles.end.addEventListener("click",this._onPaddleEndClick),this._onScroll=this._onScroll.bind(this),this._wrapper.addEventListener("scroll",this._onScroll),this._updateElementMetrics=this._updateElementMetrics.bind(this),window.addEventListener("resize",this._updateElementMetrics),window.addEventListener("orientationchange",this._updateElementMetrics),this._updateElementMetrics()},c._updateElementMetrics=function(){this._wrapperWidth=this._wrapper.offsetWidth,this._contentWidth=this._wrapper.scrollWidth,this._contentWidth<=this._wrapperWidth&&(this._destroyCurrentClip(),0!==this._wrapper.scrollLeft&&(this._wrapper.scrollLeft=0)),this._scrollStart=this._wrapper.scrollLeft,this._usePaddles&&(this._paddleWidth=this._paddles.start.offsetWidth,this._updatePaddleDisplay())},c._onScroll=function(){this._lockPaddles||(this._scrollStart=this._wrapper.scrollLeft,this._updatePaddleDisplay())},c._updatePaddleDisplay=function(){var t=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth;this._paddles.start.disabled=this._getNormalizedScroll(this._scrollStart)<=1,this._paddles.end.disabled=t>=this._contentWidth-1},c._onPaddleStartClick=function(t){this._smoothScrollTo(this._getPaddleStartScrollDestination())},c._getPaddleStartScrollDestination=function(){var t,e,i=this._getNormalizedScroll(this._scrollStart);for(e=this._childCount-1;e>0;e--)if((t=this._normalizePosition(r(this._children[e])))[this._inlineStart]<i)return t[this._inlineEnd]-this._wrapperWidth;return 0},c._onPaddleEndClick=function(t){this._smoothScrollTo(this._getPaddleEndScrollDestination())},c._getPaddleEndScrollDestination=function(){var t,e,i=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth;for(e=0;e<this._childCount;e++)if((t=this._normalizePosition(r(this._children[e])))[this._inlineEnd]>i)return t[this._inlineStart];return this._contentWidth},c._getBoundedScrollX=function(t){var e=this._contentWidth-this._wrapperWidth;return Math.max(Math.min(t,e),0)},c._smoothScrollTo=function(t){if(this._updateElementMetrics(),!this._lockPaddles&&t!==this._scrollStart){var e={scrollLeft:this._wrapper.scrollLeft},i={scrollLeft:this._setNormalizedScroll(t)},n={ease:this._options.scrollEasing,onUpdate:this._onScrollClipUpdate};this._usePaddles&&(this._lockPaddles=!0,n.onComplete=this._onScrollClipComplete),this._clip=s.to(e,this._options.scrollDuration,i,n)}},c._onScrollClipUpdate=function(t){this._scrollStart=this._wrapper.scrollLeft=Math.round(t.target().scrollLeft)},c._onScrollClipComplete=function(){this._updatePaddleDisplay(),this._lockPaddles=!1},c._scrollDirection=function(){var t="reverse",e=document.createElement("div");return e.style.cssText="width:2px; height:1px; position:absolute; top:-1000px; overflow:scroll; font-size: 14px;",e.style.direction="rtl",e.innerHTML="test",document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),document.body.removeChild(e),t},c._getNormalizedScroll=function(t){if(!this._isRightToLeft)return t;var e=Math.abs(t);return"default"===this._scrollType&&(e=this._contentWidth-this._wrapperWidth-e),e},c._setNormalizedScroll=function(t){var e=this._getBoundedScrollX(t);return this._isRightToLeft&&"reverse"!==this._scrollType?"negative"===this._scrollType?-e:-(e-this._contentWidth+this._wrapperWidth):e},c._normalizePosition=function(t){return this._isRightToLeft?{top:t.top,right:this._wrapperWidth-t.right+this._paddleWidth,bottom:t.bottom,left:this._wrapperWidth-t.left+this._paddleWidth}:{top:t.top,right:t.right-this._paddleWidth,bottom:t.bottom,left:t.left-this._paddleWidth}},c._destroyCurrentClip=function(){this._clip&&this._clip.playing()&&(this._clip.destroy(),this._lockPaddles=!1)},c._destroyPaddles=function(){this._paddles.start.removeEventListener("click",this._onPaddleStartClick),this._paddles.end.removeEventListener("click",this._onPaddleEndClick),this._wrapper.removeEventListener("scroll",this._onScroll),this._paddles=null},c.destroy=function(){this._items=null,this._destroyCurrentClip(),this._destroyPaddles(),window.removeEventListener("resize",this._updateElementMetrics),window.removeEventListener("orientationchange",this._updateElementMetrics)},t.exports=a},function(t,e,i){"use strict";var n=i(587),r=i(588);t.exports=function(t,e){var i,s,o;return e?(i=r(t),t.offsetParent&&(s=r(t.offsetParent),i.top-=s.top,i.left-=s.left)):(o=n(t,e),i={top:t.offsetTop,left:t.offsetLeft,width:o.width,height:o.height}),{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}},,,,,,,,,,function(t,e,i){"use strict";var n=i(248).Clip,r=i(179);t.exports=function(t,e,i,s,o){if(r("opacity")){if(o=o||{},s)return o.autoplay=!1!==o.autoplay||o.autoplay,o.propsFrom=o.propsFrom||{},o.propsFrom.opacity=e,o.autoplay?n.to(t,s,{opacity:i},o):new n(t,s,{opacity:i},o);t.style.opacity=i,"function"==typeof o.onStart&&o.onStart(),"function"==typeof o.onComplete&&o.onComplete()}else t.style.visibility=i?"visible":"hidden","function"==typeof o.onStart&&o.onStart(),"function"==typeof o.onComplete&&o.onComplete()}},,,,,function(t,e,i){"use strict";var n=i(250),r=i(176),s=i(177);t.exports=function(t,e){var i;if(!(t=r(t)))return!1;if(i=n[t].css,void 0!==e){if(!1===(e=s(t,e)))return!1;i+=":"+e+";"}return i}},function(t,e,i){"use strict";var n=/^(webkit|moz|ms)/gi;t.exports=function(t){return"cssfloat"===t.toLowerCase()?"float":(n.test(t)&&(t="-"+t),t.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())}},function(t,e,i){"use strict";var n=/-([a-z])/g;t.exports=function(t){return"float"===t.toLowerCase()?"cssFloat":("Ms"===(t=t.replace(n,function(t,e){return e.toUpperCase()})).substr(0,2)&&(t="ms"+t.substring(2)),t)}},function(t,e,i){"use strict";var n,r,s=i(250),o=i(597),a=!1;t.exports=function(t,e){var i,c;if(function(){var t;if(!a){a=!0,n="CSS"in window&&"supports"in window.CSS,r=!1,t=o();try{t.style.width="invalid"}catch(t){r=!0}}}(),n)return t=s[t].css,CSS.supports(t,e);if(i=(c=o()).style[t],r)try{c.style[t]=e}catch(t){return!1}else c.style[t]=e;return c.style[t]&&c.style[t]!==i},t.exports.resetFlags=function(){a=!1}},,function(t,e,i){"use strict";var n=/(-webkit-|-moz-|-ms-)|^(webkit|moz|ms)/gi;t.exports=function(t){return(t=String.prototype.replace.call(t,n,"")).charAt(0).toLowerCase()+t.substring(1)}},,,,,,,,function(t,e,i){"use strict";var n=i(1275),r=i(1285),s=i(1286),o=Math.PI/180,a=180/Math.PI;function c(){this.m=n.create()}var l=c.prototype;l.rotateX=function(t){var e=o*t;return n.rotateX(this.m,this.m,e),this},l.rotateY=function(t){var e=o*t;return n.rotateY(this.m,this.m,e),this},l.rotateZ=function(t){var e=o*t;return n.rotateZ(this.m,this.m,e),this},l.rotate=l.rotateZ,l.rotate3d=function(t,e,i,r){null!==e&&void 0!==e||(e=t),null!==i&&void 0!==e||(i=t);var s=o*r;return n.rotate(this.m,this.m,s,[t,e,i]),this},l.rotateAxisAngle=l.rotate3d,l.scale=function(t,e){return e=e||t,n.scale(this.m,this.m,[t,e,1]),this},l.scaleX=function(t){return n.scale(this.m,this.m,[t,1,1]),this},l.scaleY=function(t){return n.scale(this.m,this.m,[1,t,1]),this},l.scaleZ=function(t){return n.scale(this.m,this.m,[1,1,t]),this},l.scale3d=function(t,e,i){return n.scale(this.m,this.m,[t,e,i]),this},l.skew=function(t,e){if(null===e||void 0===e)return this.skewX(t);t*=o,e*=o;var i=n.create();return i[4]=Math.tan(t),i[1]=Math.tan(e),n.multiply(this.m,this.m,i),this},l.skewX=function(t){t*=o;var e=n.create();return e[4]=Math.tan(t),n.multiply(this.m,this.m,e),this},l.skewY=function(t){t*=o;var e=n.create();return e[1]=Math.tan(t),n.multiply(this.m,this.m,e),this},l.translate=function(t,e){return e=e||0,n.translate(this.m,this.m,[t,e,0]),this},l.translate3d=function(t,e,i){return n.translate(this.m,this.m,[t,e,i]),this},l.translateX=function(t){return n.translate(this.m,this.m,[t,0,0]),this},l.translateY=function(t){return n.translate(this.m,this.m,[0,t,0]),this},l.translateZ=function(t){return n.translate(this.m,this.m,[0,0,t]),this},l.perspective=function(t){var e=n.create();0!==t&&(e[11]=-1/t),n.multiply(this.m,this.m,e)},l.inverse=function(){var t=this.clone();return t.m=n.invert(t.m,this.m),t},l.reset=function(){return n.identity(this.m),this},l.getTranslateXY=function(){var t=this.m;return this.isAffine(),[t[12],t[13]]},l.getTranslateXYZ=function(){var t=this.m;return this.isAffine()?[t[12],t[13],0]:[t[12],t[13],t[14]]},l.getTranslateX=function(){var t=this.m;return this.isAffine(),t[12]},l.getTranslateY=function(){var t=this.m;return this.isAffine(),t[13]},l.getTranslateZ=function(){var t=this.m;return this.isAffine()?0:t[14]},l.clone=function(){var t=new c;return t.m=n.clone(this.m),t},l.toArray=function(){var t=this.m;return this.isAffine()?[t[0],t[1],t[4],t[5],t[12],t[13]]:[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},l.fromArray=function(t){return this.m=Array.prototype.slice.call(t),this},l.setMatrixValue=function(t){t=String(t).trim();var e=n.create();if("none"===t)return this.m=e,this;var i,r,s=t.slice(0,t.indexOf("("));if("matrix3d"===s)for(i=t.slice(9,-1).split(","),r=0;r<i.length;r++)e[r]=parseFloat(i[r]);else{if("matrix"!==s)throw new TypeError("Invalid Matrix Value");for(r=(i=t.slice(7,-1).split(",")).length;r--;)i[r]=parseFloat(i[r]);e[0]=i[0],e[1]=i[1],e[12]=i[4],e[4]=i[2],e[5]=i[3],e[13]=i[5]}return this.m=e,this};var h=function(t){return Math.abs(t)<1e-4};l.decompose=function(t){t=t||!1;for(var e=n.clone(this.m),i=r.create(),o=r.create(),c=r.create(),l=s.create(),u=s.create(),d=(r.create(),0);d<16;d++)e[d]/=e[15];var f=n.clone(e);f[3]=0,f[7]=0,f[11]=0,f[15]=1;e[3],e[7],e[11];var p=e[12],m=e[13],_=e[14],g=(e[15],s.create());if(h(e[3])&&h(e[7])&&h(e[11]))l=s.fromValues(0,0,0,1);else{g[0]=e[3],g[1]=e[7],g[2]=e[11],g[3]=e[15];var v=n.invert(n.create(),f),y=n.transpose(n.create(),v);l=s.transformMat4(l,g,y)}i[0]=p,i[1]=m,i[2]=_;var b=[r.create(),r.create(),r.create()];b[0][0]=e[0],b[0][1]=e[1],b[0][2]=e[2],b[1][0]=e[4],b[1][1]=e[5],b[1][2]=e[6],b[2][0]=e[8],b[2][1]=e[9],b[2][2]=e[10],o[0]=r.length(b[0]),r.normalize(b[0],b[0]),c[0]=r.dot(b[0],b[1]),b[1]=this._combine(b[1],b[0],1,-c[0]),o[1]=r.length(b[1]),r.normalize(b[1],b[1]),c[0]/=o[1],c[1]=r.dot(b[0],b[2]),b[2]=this._combine(b[2],b[0],1,-c[1]),c[2]=r.dot(b[1],b[2]),b[2]=this._combine(b[2],b[1],1,-c[2]),o[2]=r.length(b[2]),r.normalize(b[2],b[2]),c[1]/=o[2],c[2]/=o[2];var w=r.cross(r.create(),b[1],b[2]);if(r.dot(b[0],w)<0)for(d=0;d<3;d++)o[d]*=-1,b[d][0]*=-1,b[d][1]*=-1,b[d][2]*=-1;u[0]=.5*Math.sqrt(Math.max(1+b[0][0]-b[1][1]-b[2][2],0)),u[1]=.5*Math.sqrt(Math.max(1-b[0][0]+b[1][1]-b[2][2],0)),u[2]=.5*Math.sqrt(Math.max(1-b[0][0]-b[1][1]+b[2][2],0)),u[3]=.5*Math.sqrt(Math.max(1+b[0][0]+b[1][1]+b[2][2],0)),b[2][1]>b[1][2]&&(u[0]=-u[0]),b[0][2]>b[2][0]&&(u[1]=-u[1]),b[1][0]>b[0][1]&&(u[2]=-u[2]);var k=s.fromValues(u[0],u[1],u[2],2*Math.acos(u[3])),S=this._rotationFromQuat(u);return t&&(c[0]=Math.round(c[0]*a*100)/100,c[1]=Math.round(c[1]*a*100)/100,c[2]=Math.round(c[2]*a*100)/100,S[0]=Math.round(S[0]*a*100)/100,S[1]=Math.round(S[1]*a*100)/100,S[2]=Math.round(S[2]*a*100)/100,k[3]=Math.round(k[3]*a*100)/100),{translation:i,scale:o,skew:c,perspective:l,quaternion:u,eulerRotation:S,axisAngle:k}},l.recompose=function(t,e,i,o,a){t=t||r.create(),e=e||r.create(),i=i||r.create(),o=o||s.create(),a=a||s.create();var c=n.fromRotationTranslation(n.create(),a,t);c[3]=o[0],c[7]=o[1],c[11]=o[2],c[15]=o[3];var l=n.create();return 0!==i[2]&&(l[9]=i[2],n.multiply(c,c,l)),0!==i[1]&&(l[9]=0,l[8]=i[1],n.multiply(c,c,l)),i[0]&&(l[8]=0,l[4]=i[0],n.multiply(c,c,l)),n.scale(c,c,e),this.m=c,this},l.isAffine=function(){return 0===this.m[2]&&0===this.m[3]&&0===this.m[6]&&0===this.m[7]&&0===this.m[8]&&0===this.m[9]&&1===this.m[10]&&0===this.m[11]&&0===this.m[14]&&1===this.m[15]},l.toString=function(){var t=this.m;return this.isAffine()?"matrix("+t[0]+", "+t[1]+", "+t[4]+", "+t[5]+", "+t[12]+", "+t[13]+")":"matrix3d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},l.toCSSString=l.toString,l._combine=function(t,e,i,n){var s=r.create();return s[0]=i*t[0]+n*e[0],s[1]=i*t[1]+n*e[1],s[2]=i*t[2]+n*e[2],s},l._matrix2dToMat4=function(t){for(var e=n.create(),i=0;i<4;i++)for(var r=0;r<4;r++)e[4*i+r]=t[i][r];return e},l._mat4ToMatrix2d=function(t){for(var e=[],i=0;i<4;i++){e[i]=[];for(var n=0;n<4;n++)e[i][n]=t[4*i+n]}return e},l._rotationFromQuat=function(t){var e,i,n,s=t[3]*t[3],o=t[0]*t[0],a=t[1]*t[1],c=t[2]*t[2],l=o+a+c+s,h=t[0]*t[1]+t[2]*t[3];return h>.499*l?(i=2*Math.atan2(t[0],t[3]),n=Math.PI/2,e=0,r.fromValues(e,i,n)):h<-.499*l?(i=-2*Math.atan2(t[0],t[3]),n=-Math.PI/2,e=0,r.fromValues(e,i,n)):(i=Math.atan2(2*t[1]*t[3]-2*t[0]*t[2],o-a-c+s),n=Math.asin(2*h/l),e=Math.atan2(2*t[0]*t[3]-2*t[1]*t[2],-o+a-c+s),r.fromValues(e,i,n))},t.exports=c},function(t,e,i){var n={create:i(608),rotate:i(1276),rotateX:i(1277),rotateY:i(1278),rotateZ:i(1279),scale:i(1280),multiply:i(1281),translate:i(1282),invert:i(609),clone:i(610),transpose:i(611),identity:i(1283),fromRotationTranslation:i(1284)};t.exports=n},,,,,,,,,,function(t,e,i){var n={create:i(612),dot:i(613),normalize:i(614),length:i(615),cross:i(616),fromValues:i(617)};t.exports=n},function(t,e,i){var n={create:i(618),transformMat4:i(619),fromValues:i(620)};t.exports=n},,,,,,,,,,,function(t,e,i){"use strict";var n=i(248).Clip,r=i(179);t.exports=function(t,e,i){if(i=i||{},r("opacity")){if(e)return i.autoplay=!1!==i.autoplay||i.autoplay,i.autoplay?n.to(t,e,{opacity:1},i):new n(t,e,{opacity:1},i);t.style.opacity=1,"function"==typeof i.onStart&&i.onStart(),"function"==typeof i.onComplete&&i.onComplete()}else t.style.visibility="visible","function"==typeof i.onStart&&i.onStart(),"function"==typeof i.onComplete&&i.onComplete()}},function(t,e,i){"use strict";var n=i(248).Clip,r=i(179);t.exports=function(t,e,i){if(i=i||{},r("opacity")){if(e)return i.autoplay=!1!==i.autoplay||i.autoplay,i.autoplay?n.to(t,e,{opacity:0},i):new n(t,e,{opacity:0},i);t.style.opacity=0,"function"==typeof i.onStart&&i.onStart(),"function"==typeof i.onComplete&&i.onComplete()}else t.style.visibility="hidden","function"==typeof i.onStart&&i.onStart(),"function"==typeof i.onComplete&&i.onComplete()}},function(t,e,i){"use strict";var n=i(246),r=i(607).Transform,s=i(1300);t.exports=function(t,e,i,o){var a=new r;return a.setMatrixValue(getComputedStyle(t)[n.transform]),s(t,e,a.getTranslateY(),i,o)}},function(t,e,i){"use strict";var n=i(248).Clip,r=i(627);t.exports=function(t,e,i,s,o){(o=o||{}).autoplay=!1!==o.autoplay||o.autoplay;var a,c=o.onStart||null,l=o.onComplete||null;if(a={transform:{translateX:e+"px",translateY:i+"px"}},s)return o.onStart=function(){t.style.willChange="transform",null!==c&&c.call(this)},o.onComplete=function(){t.style.willChange="",null!==l&&l.call(this)},o.autoplay?n.to(t,s,a,o):new n(t,s,a,o);r.setStyle(t,a),"function"==typeof o.onStart&&o.onStart(),"function"==typeof o.onComplete&&o.onComplete()}},,,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=i(12).EventEmitterMicro,h=i(93),u=i(180),d=i(369),f=i(629),p=i(630),m=i(1321),_=i(253),g={create:i(255),update:i(370),cancelUpdate:i(1322),external:i(634),draw:i(371)},v=null,y=function(t){function e(){var t;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}(this,o(e).call(this)),v)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";return v=c(c(t)),t.groups=[],t.scrollSystems=[],t.timeSystems=[],t._forceUpdateRAFId=-1,t.setupEvents(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,l),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"initialize",value:function(){this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes()}},{key:"destroy",value:function(){this.groups.forEach(function(t){return t.destroy()}),this.groups=null,this.scrollSystems=null,this.timeSystems=null,window.clearTimeout(h.RESIZE_TIMEOUT),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate)}},{key:"createTimeGroup",value:function(t){var e=new m(t,this);return this.groups.push(e),this.timeSystems.push(e),this.trigger(h.EVENTS.ON_GROUP_CREATED,e),e}},{key:"createScrollGroup",value:function(t){if(!t)throw"AnimSystem scroll based groups must supply an HTMLElement";var e=new p(t,this);return this.groups.push(e),this.scrollSystems.push(e),this.trigger(h.EVENTS.ON_GROUP_CREATED,e),e}},{key:"removeGroup",value:function(t){var e=this;t.keyframeControllers.forEach(function(e){return t.removeKeyframeController(e)}),g.update(function(){var i=e.groups.indexOf(t);-1!==i&&e.groups.splice(i,1),-1!==(i=e.scrollSystems.indexOf(t))&&e.scrollSystems.splice(i,1),-1!==(i=e.timeSystems.indexOf(t))&&e.timeSystems.splice(i,1),g.update(function(){return t.destroy()})})}},{key:"createDOMGroups",value:function(){var t=this;document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach(function(e){return t.createScrollGroup(e)}),document.querySelectorAll("[data-anim-time-group]").forEach(function(e){return t.createTimeGroup(e)}),this.trigger(h.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}},{key:"createDOMKeyframes",value:function(){var t=this,e=[];[u.DATA_ATTRIBUTE,d.DATA_ATTRIBUTE,f.DATA_ATTRIBUTE].forEach(function(t){for(var i=0;i<12;i++)e.push(t+(0===i?"":"-"+(i-1)))});for(var i=0;i<e.length;i++)for(var n=e[i],r=document.querySelectorAll("["+n+"]"),s=0;s<r.length;s++){var o=r[s],a=JSON.parse(o.getAttribute(n));this.addKeyframe(o,a)}g.update(function(){return t.groups.forEach(function(t){return t.onKeyframesDirty({preventOnScroll:!0})})},!0),g.update(function(){t.groups.forEach(function(t){return t.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,t)}),t.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,t),t.groups.forEach(function(t){return t.reconcile()}),t.onScroll()},!0)}},{key:"initializeModel",value:function(){h.pageMetrics.windowHeight=window.innerHeight,h.pageMetrics.windowWidth=window.innerWidth,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset,h.pageMetrics.breakpoint=h.getBreakpoint();var t=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=t.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=t.top+h.pageMetrics.scrollY}},{key:"setupEvents",value:function(){this.onScroll=this.onScroll.bind(this),this.onResizedDebounced=this.onResizedDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResizeImmediate)}},{key:"determineActiveKeyframes",value:function(){for(var t=_(Array.from(document.documentElement.classList)),e=0,i=this.groups.length;e<i;e++)this.groups[e].determineActiveKeyframes(t)}},{key:"onScroll",value:function(){h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(var t=0,e=this.scrollSystems.length;t<e;t++)this.scrollSystems[t]._onScroll();this.trigger(h.PageEvents.ON_SCROLL,h.pageMetrics)}},{key:"onResizeImmediate",value:function(){h.pageMetrics.windowHeight=window.innerHeight,h.pageMetrics.windowWidth=window.innerWidth,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;var t=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=t.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=t.top+h.pageMetrics.scrollY,window.clearTimeout(h.RESIZE_TIMEOUT),h.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(h.PageEvents.ON_RESIZE_IMMEDIATE,h.pageMetrics)}},{key:"onResizedDebounced",value:function(){var t=this;g.update(function(){var e=h.pageMetrics.breakpoint,i=h.getBreakpoint(),n=i!==e;if(n){h.pageMetrics.previousBreakpoint=e,h.pageMetrics.breakpoint=i;for(var r=0,s=t.groups.length;r<s;r++)t.groups[r]._onBreakpointChange();t.trigger(h.PageEvents.ON_BREAKPOINT_CHANGE,h.pageMetrics)}for(var o=0,a=t.groups.length;o<a;o++)t.groups[o].forceUpdate({recalculateActiveKeyframes:n,waitForNextUpdate:!1});t.trigger(h.PageEvents.ON_RESIZE_DEBOUNCED,h.pageMetrics)},!0)}},{key:"forceUpdate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.recalculateActiveKeyframes,n=void 0!==i&&i,r=e.waitForNextUpdate,s=void 0===r||r;-1!==this._forceUpdateRAFId&&g.cancelUpdate(this._forceUpdateRAFId);var o=function(){for(var e=0,i=t.groups.length;e<i;e++){t.groups[e].forceUpdate({recalculateActiveKeyframes:n,waitForNextUpdate:!1})}return-1};this._forceUpdateRAFId=s?g.update(o,!0):o()}},{key:"addKeyframe",value:function(t,e){return this.getGroupForTarget(t).addKeyframe(t,e)}},{key:"getGroupForTarget",value:function(t){if(t._animInfo&&t._animInfo.group)return t._animInfo.group;for(var e=t;e;){if(e._animInfo&&e._animInfo.isGroup)return e._animInfo.group;e=e.parentElement}}},{key:"getControllerForTarget",value:function(t){return t._animInfo&&t._animInfo.controller?t._animInfo.controller:null}}]),e}();t.exports=new y},function(t,e,i){"use strict";t.exports=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.linear=function(t){return t},this.easeInQuad=function(t){return t*t},this.easeOutQuad=function(t){return t*(2-t)},this.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},this.easeInSin=function(t){return 1+Math.sin(Math.PI/2*t-Math.PI/2)},this.easeOutSin=function(t){return Math.sin(Math.PI/2*t)},this.easeInOutSin=function(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2},this.easeInElastic=function(t){return 0===t?t:(.04-.04/t)*Math.sin(25*t)+1},this.easeOutElastic=function(t){return.04*t/--t*Math.sin(25*t)},this.easeInOutElastic=function(t){return(t-=.5)<0?(.02+.01/t)*Math.sin(50*t):(.02-.01/t)*Math.sin(50*t)+1},this.easeOutBack=function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},this.easeInCubic=function(t){return t*t*t},this.easeOutCubic=function(t){return--t*t*t+1},this.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},this.easeInQuart=function(t){return t*t*t*t},this.easeOutQuart=function(t){return 1- --t*t*t*t},this.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},this.easeInQuint=function(t){return t*t*t*t*t},this.easeOutQuint=function(t){return 1+--t*t*t*t*t},this.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Math.abs,s=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cp=new Float32Array(6),this.cp[0]=3*e,this.cp[1]=3*(n-e)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*i,this.cp[4]=3*(r-i)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"sampleCurveX",value:function(t){return((this.cp[2]*t+this.cp[1])*t+this.cp[0])*t}},{key:"sampleCurveY",value:function(t){return((this.cp[5]*t+this.cp[4])*t+this.cp[3])*t}},{key:"sampleCurveDerivativeX",value:function(t){return(3*this.cp[2]*t+2*this.cp[1])*t+this.cp[0]}},{key:"solveCurveX",value:function(t){var e,i,n,s,o,a;for(n=t,a=0;a<5;a++){if(s=this.sampleCurveX(n)-t,r(s)<1e-5)return n;if(o=this.sampleCurveDerivativeX(n),r(o)<1e-5)break;n-=s/o}if(i=1,(n=t)<(e=0))return e;if(n>i)return i;for(;e<i;){if(s=this.sampleCurveX(n),r(s-t)<1e-5)return n;t>s?e=n:i=n,n=.5*(i-e)+e}return n}},{key:"solve",value:function(t){return this.sampleCurveY(this.solveCurveX(t))}}]),t}(),o=/\d*\.?\d+/g;s.fromCSSString=function(t){var e=t.match(o);if(4!==e.length)throw"UnitBezier could not convert ".concat(t," to cubic-bezier");var i=e.map(Number),n=new s(i[0],i[1],i[2],i[3]);return n.solve.bind(n)},t.exports=s},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var o=i(93),a=function(t,e){return void 0===t||null===t?e:t},c=function(){function t(){n(this,t),this._metrics=new WeakMap}return s(t,[{key:"destroy",value:function(){this._metrics=null}},{key:"add",value:function(t){var e=this._metrics.get(t);if(e)return e;var i=new l(t);return this._metrics.set(t,i),this._refreshMetrics(t,i)}},{key:"get",value:function(t){return this._metrics.get(t)}},{key:"refreshCollection",value:function(t){var e=this;t.forEach(function(t){return e._refreshMetrics(t,null)})}},{key:"refreshMetrics",value:function(t){return this._refreshMetrics(t)}},{key:"_refreshMetrics",value:function(t,e){if(e=e||this._metrics.get(t),!(t instanceof Element))return e.width=a(t.width,0),e.height=a(t.height,0),e.top=a(t.top,0),e.left=a(t.left,0),e.right=e.left+e.width,void(e.bottom=e.top+e.height);if(void 0===t.offsetWidth){var i=t.getBoundingClientRect();return e.width=i.width,e.height=i.height,e.top=o.pageMetrics.scrollY+i.top,e.left=o.pageMetrics.scrollX+i.left,e.right=e.left+e.width,e.bottom=e.top+e.height,e}e.width=t.offsetWidth,e.height=t.offsetHeight,e.top=o.pageMetrics.documentOffsetY,e.left=o.pageMetrics.documentOffsetX;for(var n=t;n;)e.top+=n.offsetTop,e.left+=n.offsetLeft,n=n.offsetParent;return e.right=e.left+e.width,e.bottom=e.top+e.height,e}}]),t}(),l=function(){function t(e){n(this,t),this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}return s(t,[{key:"toString",value:function(){return"top:".concat(this.top,", bottom:").concat(this.bottom,", left:").concat(this.left,", right:").concat(this.right,", height:").concat(this.height,", width:").concat(this.width)}},{key:"toObject",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}]),t}();t.exports=c},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(93),s=i(1308),o=/([-|\+])?(\d+\.?\d*)(px|vh|vw|pw|ph|\%w|\%h|rw|rh|\%)?|(-|\+|\*|\/)/g,a=/^[-+]?(?:[0-9]{0,30}\.)?[0-9]{1,30}(?:[Ee][-+]?[1-2]?[0-9])?$/g,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.group=e}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"parse",value:function(t,e){if(Array.isArray(e))return this.parseArray(t,e);throw new Error("Keyframe value `"+e+"` is not supported. Only arrays in the form of [start,end] are currently supported")}},{key:"parseArray",value:function(t,e){return[this.parseExpression(t,e[0]),this.parseExpression(t,e[1])]}},{key:"parseExpression",value:function(t,e){if(null===e)return 0;if("number"==typeof e)return e;for(var i,n,r=5;-1!==(i=e.indexOf("("))&&--r>0;){var a=this.captureParenthesis(e,i),c=this.parseExpression(t,a);e=e.replace("("+a+")",c)}for(var l=[];null!==(n=o.exec(e));)if(n.index===o.lastIndex&&o.lastIndex++,n[4])l.push(s.GetOpCode(n[4]));else{var h=n[1],u=parseFloat(n[2]),d=n[3];"-"===h&&(u*=-1);var f=this.parseSplitUnit(t,u,d);l.push(f)}var p=l.length;if(3===p&&"function"==typeof l[1])return l[1](l[0],l[2]);for(var m=0;m<p;m++)if("function"==typeof l[m]&&1===l[m].priority){var _=l[m-1],g=l[m+1],v=l[m](_,g);l[m-1]=null,l[m+0]=null,l[m+1]=v,m+=1}for(var y=0;null==l[y]&&y<p;)y+=1;var b=l[y],w=null,k=null;for(y+=1;y<p;y++)null!==l[y]?l[y]instanceof Function?w=l[y]:(null===k&&(k=l[y]),null!==k&&(b=(w=w||s.add)(b,k),w=null,k=null)):y+=1;return b}},{key:"parseSplitUnit",value:function(t,e,i){if(void 0===i)return parseFloat(e);switch(i){case"vh":return.01*e*r.pageMetrics.windowHeight;case"%":return.01*e*t.controller.elementMetrics.height;case"px":return e;case"rh":return.01*e*this.group.metrics.get(t.relativeTo).height;case"vw":return.01*e*r.pageMetrics.windowWidth;case"rw":return.01*e*this.group.metrics.get(t.relativeTo).width;case"%w":return.01*e*t.controller.elementMetrics.width;case"%h":return.01*e*t.controller.elementMetrics.height;case"pw":return.01*e*t.controller.parentElementMetrics.width;case"ph":return.01*e*t.controller.parentElementMetrics.height;default:throw new Error("ExpressionParser: no strategy found for unit `"+i+"` only `vh, vw, %, ph, pw` are supported")}}},{key:"captureParenthesis",value:function(t,e){for(var i="",n=0,r=!1,s=t.length,o=e;o<s;o++)if("("===t[o]?(n+=1,r&&(i+=t[o]),r=!0):")"===t[o]?0!==(n-=1)&&(i+=t[o]):r&&(i+=t[o]),r&&0===n)return i}},{key:"isUnitlessNumber",value:function(t){return String(t).match(a)}},{key:"destroy",value:function(){this.group=null}},{key:"logParts",value:function(t){console.log(t.reduce(function(t,e){return"function"==typeof e?t+e.friendlyName+" ":t+(e+" ")},""))}}]),t}();t.exports=c},function(t,e){t.exports=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.add=function(t,e){return t+e},this.sub=function(t,e){return t-e},this.mul=function(t,e){return t*e},this.div=function(t,e){return t/e},this.add.friendlyName="add",this.sub.friendlyName="sub",this.mul.friendlyName="mul",this.div.friendlyName="div",this.add.priority=0,this.sub.priority=0,this.mul.priority=1,this.div.priority=1,this.GetOpCode=function(t){switch(t){case"-":return this.sub;case"+":return this.add;case"*":return this.mul;case"/":return this.div;default:throw new Error('AnimSystem.parsing.Operations - op code "'.concat(t,"\" was found. Only '+ - * /' are supported. Check expression for typos/spacing issues"))}}}},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.group=e,this.groupIsTimeBased=i}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"parse",value:function(t,e){if("number"==typeof e)return e;var i=this.groupIsTimeBased?0:this.group.metrics.get(t.relativeTo).top,n=this.group.expressionParser.parseExpression(t,e)+i;return this.group.convertScrollPositionToTValue(n)}},{key:"destroy",value:function(){this.group=null}}]),t}();t.exports=r},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=i(93),u=(i(180),i(369)),d=i(1311),f=i(253),p=i(1312),m=i(12).EventEmitterMicro,_=i(1313),g={update:i(370),external:i(634),draw:i(371)},v=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?l(t):e}(this,a(e).call(this))).uuid=p(),n.group=t,n.element=i,n._ownerIsElement=n.element instanceof Element,n._ownerIsElement?n.friendlyName=n.element.tagName+"."+Array.from(n.element.classList).join("."):n.friendlyName=n.element.friendlyName||n.uuid,n.element._animInfo=n.element._animInfo||new h.AnimInfo(t,l(l(n))),n.element._animInfo.controller=l(l(n)),n.tweenProps={},n.eventObject=new h.EventObject(l(l(n))),n.needsStyleUpdate=!1,n.needsClassUpdate=!1,n.elementMetrics=n.group.metrics.add(n.element),n._parentElementMetrics=null,n.attributes=[],n.keyframes={},n._allKeyframes=[],n._activeKeyframes=[],n.keyframesRequiringDispatch=[],n.updateCachedValuesFromElement(),n.boundsMin=0,n.boundsMax=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,m),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"destroy",value:function(){this.element._animInfo&&this.element._animInfo.controller===this&&(this.element._animInfo.controller=null,this.element._animInfo=null),this._parentElementMetrics=null,this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(var t=0;t<this._allKeyframes.length;t++)this._allKeyframes[t].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,o(a(e.prototype),"destroy",this).call(this)}},{key:"remove",value:function(){this.group.removeKeyframeController(this)}},{key:"updateCachedValuesFromElement",value:function(){if(this._ownerIsElement){var t=getComputedStyle(this.element),e=_(this.element,!0),i=h.KeyframeDefaults.epsilon;this.tweenProps.x=new h.TargetValue(e.translation[0],i,!1),this.tweenProps.y=new h.TargetValue(e.translation[1],i,!1),this.tweenProps.z=new h.TargetValue(e.translation[2],i,!1),this.tweenProps.rotation=new h.TargetValue(e.eulerRotation[2],i,!1),this.tweenProps.rotationX=new h.TargetValue(e.eulerRotation[0],i,!1),this.tweenProps.rotationY=new h.TargetValue(e.eulerRotation[1],i,!1),this.tweenProps.rotationZ=new h.TargetValue(e.eulerRotation[2],i,!1),this.tweenProps.scale=new h.TargetValue(e.scale[0],i,!1),this.tweenProps.scaleX=new h.TargetValue(e.scale[0],i,!1),this.tweenProps.scaleY=new h.TargetValue(e.scale[1],i,!1),this.tweenProps.opacity=new h.TargetValue(parseFloat(t.opacity),i,!1)}}},{key:"addKeyframe",value:function(t){var e=d(t);if(!e)throw new Error("AnimSystem Cannot create keyframe for from options `"+t+"`");var i=new e(this,t);return i.parseOptions(t),i.id=this._allKeyframes.length,this._allKeyframes.push(i),i}},{key:"needsUpdate",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t],n=this.tweenProps[i];if(Math.abs(n.current-n.target)>n.epsilon)return!0}return!1}},{key:"updateLocalProgress",value:function(t){for(var e=0,i=this.attributes.length;e<i;e++){var n=this.attributes[e],r=this.keyframes[this.attributes[e]];if(1!==r.length){var s=this.getNearestKeyframeForAttribute(t,n);s&&s.updateLocalProgress(t)}else r[0].updateLocalProgress(t)}}},{key:"reconcile",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t],n=this.getNearestKeyframeForAttribute(this.group.timelines.local,i);n.updateLocalProgress(this.group.timelines.local),n.snapAtCreation&&n.reconcile(i)}}},{key:"determineActiveKeyframes",value:function(t){var e=this;t=t||f(Array.from(document.documentElement.classList));var i=this._activeKeyframes,n=this.attributes;this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(var r=0;r<this._allKeyframes.length;r++){var s=this._allKeyframes[r];if(s.setEnabled(t))for(var o in this._activeKeyframes.push(s),s.animValues)this.keyframes[o]=this.keyframes[o]||[],this.keyframes[o].push(s),-1===this.attributes.indexOf(o)&&this.attributes.push(o)}var a=i.filter(function(t){return-1===e._activeKeyframes.indexOf(t)});if(0!==a.length){var c=n.filter(function(t){return-1===e.attributes.indexOf(t)});0!==c.length&&this._ownerIsElement&&g.external(function(){var t=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"];c.filter(function(e){return-1!==t.indexOf(e)}).length>0&&e.element.style.removeProperty("transform");for(var i=0,n=c.length;i<n;++i){var r=c[i],s=e.tweenProps[r];s.current=s.target=s.initialValue,"opacity"===r&&e.element.style.removeProperty("opacity")}for(var o=0,l=a.length;o<l;++o){var h=a[o];h instanceof u&&h._unapply()}},!0)}}},{key:"onDOMRead",value:function(t){for(var e=0,i=this.attributes.length;e<i;e++){var n=this.attributes[e],r=this.getNearestKeyframeForAttribute(t.local,n);r&&r.onDOMRead(n)}}},{key:"onDOMWrite",value:function(){this._ownerIsElement?this.onDOMWriteForElement():this.onDOMWriteForObject(),this.handleEventDispatch()}},{key:"onDOMWriteForObject",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t];this.element[i]=this.tweenProps[i].current}}},{key:"onDOMWriteForElement",value:function(){var t=this.tweenProps,e="";if(void 0!==this.keyframes.z?e+="translate3d("+t.x.current+"px,"+t.y.current+"px, "+t.z.current+"px)":void 0===this.keyframes.x&&void 0===this.keyframes.y||(e+="translate("+t.x.current+"px,"+t.y.current+"px)"),void 0!==this.keyframes.rotation?e+="rotate("+t.rotation.current+"deg) ":(void 0!==this.keyframes.rotationX&&(e+="rotateX("+t.rotationX.current+"deg) "),void 0!==this.keyframes.rotationY&&(e+="rotateY("+t.rotationY.current+"deg) "),void 0!==this.keyframes.rotationZ&&(e+="rotateZ("+t.rotationZ.current+"deg) ")),void 0!==this.keyframes.scale)e+="scale("+t.scale.current+","+t.scale.current+") ";else{var i=void 0!==this.keyframes.scaleX,n=void 0!==this.keyframes.scaleY;(i||n)&&(e+="scale("+t.scaleX.current+","+t.scaleY.current+") ")}if(""!==e&&(this.element.style.transform=e),void 0!==this.keyframes.opacity&&(this.element.style.opacity=t.opacity.current),this.needsStyleUpdate){for(var r in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[r]&&(this.element.style[r]=this.tweenProps.targetStyles[r]),this.tweenProps.targetStyles[r]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(this.tweenProps.targetClasses.add.length>0&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),this.tweenProps.targetClasses.remove.length>0&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}},{key:"handleEventDispatch",value:function(){if(0!==this.keyframesRequiringDispatch.length){for(var t=0,e=this.keyframesRequiringDispatch.length;t<e;t++){var i=this.keyframesRequiringDispatch[t];i.needsEventDispatch=!1,this.eventObject.keyframe=i,this.eventObject.pageMetrics=h.pageMetrics,this.eventObject.event=i.event,this.trigger(i.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}}},{key:"updateAnimationConstraints",value:function(){for(var t=this,e=0,i=this._activeKeyframes.length;e<i;e++)this._activeKeyframes[e].updateAnimationConstraints();this.attributes.forEach(function(e){1!==t.keyframes[e].length&&t.keyframes[e].sort(h.KeyframeComparison)}),this.updateDeferredPropertyValues()}},{key:"refreshMetrics",value:function(){var t=this,e=this._activeKeyframes.map(function(t){return t.relativeTo}),i=new Set(e);i.add(this.element),i.forEach(function(e){return t.group.metrics.refreshMetrics(e)}),this.group.keyframesDirty=!0}},{key:"updateDeferredPropertyValues",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t],n=this.keyframes[i];if(!(n[0].keyframeType>h.KeyframeTypes.InterpolationForward))for(var r=0,s=n.length;r<s;r++){var o=n[r];if(null===o.jsonProps[i][0]){if(0===r)throw new RangeError("AnimSystem - earliest keyframe cannot defer it's beginning value! ".concat(i,":[null,").concat(o.jsonProps[i][1],"]"));o.animValues[i][0]=n[r-1].animValues[i][1]}if(null===o.jsonProps[i][1]){if(r===s-1)throw new RangeError("AnimSystem - last keyframe cannot defer it's end value! ".concat(i,":[").concat(o.jsonProps[i][0],",null]"));o.animValues[i][1]=n[r+1].animValues[i][0]}}}}},{key:"getBounds",value:function(t){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(var e=0,i=this.attributes.length;e<i;e++)for(var n=this.keyframes[this.attributes[e]],r=0;r<n.length;r++){var s=n[r];this.boundsMin=Math.min(s.start,this.boundsMin),this.boundsMax=Math.max(s.end,this.boundsMax),t.min=Math.min(s.start,t.min),t.max=Math.max(s.end,t.max)}}},{key:"getNearestKeyframeForAttribute",value:function(t,e){var i=null,n=Number.POSITIVE_INFINITY,r=this.keyframes[e];if(void 0===r)return null;var s=r.length;if(0===s)return null;if(1===s)return r[0];for(var o=0;o<s;o++){var a=r[o];if(a.isInRange(t)){i=a;break}var c=Math.min(Math.abs(t-a.start),Math.abs(t-a.end));c<n&&(n=c,i=a)}return i}},{key:"getAllKeyframesForAttribute",value:function(t){return this.keyframes[t]}},{key:"updateKeyframe",value:function(t,e){var i=this;t.parseOptions(e),t.updateAnimationConstraints(),this.group.keyframesDirty=!0,g.update(function(){i.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,t),i.group.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,t)},!0)}},{key:"removeKeyframe",value:function(t){var e=this._allKeyframes.indexOf(t);-1!==e&&(this._allKeyframes.splice(e,1),this.group.keyframesDirty=!0)}},{key:"updateAnimation",value:function(t,e){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(t,e)}}]),e}();Object.defineProperty(v.prototype,"parentElementMetrics",{get:function(){return null===this._parentElementMetrics&&(this._parentElementMetrics=this.group.metrics.add(this.element.parentElement)),this._parentElementMetrics}}),t.exports=v},function(t,e,i){"use strict";var n=i(93),r=i(180),s=i(629),o=i(369),a=function(t){for(var e in t){var i=t[e];if(-1===n.KeyframeJSONReservedWords.indexOf(e)&&Array.isArray(i))return!0}return!1};t.exports=function(t){if(void 0!==t.cssClass||void 0!==t.style){if(a(t))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return o}if(a(t))return r;if(t.event)return s;throw"Could not determine tween type based on ".concat(JSON.stringify(t))}},function(t,e){t.exports=function(){for(var t="",e=0;e<8;e++){var i=16*Math.random()|0;8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&i|8:i).toString(16)}return t}},function(t,e,i){"use strict";var n={create:i(608),invert:i(609),clone:i(610),transpose:i(611)},r={create:i(612),dot:i(613),normalize:i(614),length:i(615),cross:i(616),fromValues:i(617)},s={create:i(618),transformMat4:i(619),fromValues:i(620)},o=(Math.PI,180/Math.PI),a=function(t,e,i,n){var s=r.create();return s[0]=i*t[0]+n*e[0],s[1]=i*t[1]+n*e[1],s[2]=i*t[2]+n*e[2],s},c=function(t){var e,i,n,s=t[3]*t[3],o=t[0]*t[0],a=t[1]*t[1],c=t[2]*t[2],l=o+a+c+s,h=t[0]*t[1]+t[2]*t[3];return h>.499*l?(i=2*Math.atan2(t[0],t[3]),n=Math.PI/2,e=0,r.fromValues(e,i,n)):h<-.499*l?(i=-2*Math.atan2(t[0],t[3]),n=-Math.PI/2,e=0,r.fromValues(e,i,n)):(i=Math.atan2(2*t[1]*t[3]-2*t[0]*t[2],o-a-c+s),n=Math.asin(2*h/l),e=Math.atan2(2*t[0]*t[3]-2*t[1]*t[2],-o+a-c+s),r.fromValues(e,i,n))},l=function(t){return Math.abs(t)<1e-4};t.exports=function(t,e){return function(t,e){e=e||!1;for(var i=n.clone(t),h=r.create(),u=r.create(),d=r.create(),f=s.create(),p=s.create(),m=(r.create(),0);m<16;m++)i[m]/=i[15];var _=n.clone(i);_[3]=0,_[7]=0,_[11]=0,_[15]=1;i[3],i[7],i[11];var g=i[12],v=i[13],y=i[14],b=(i[15],s.create());if(l(i[3])&&l(i[7])&&l(i[11]))f=s.fromValues(0,0,0,1);else{b[0]=i[3],b[1]=i[7],b[2]=i[11],b[3]=i[15];var w=n.invert(n.create(),_),k=n.transpose(n.create(),w);f=s.transformMat4(f,b,k)}h[0]=g,h[1]=v,h[2]=y;var S=[r.create(),r.create(),r.create()];S[0][0]=i[0],S[0][1]=i[1],S[0][2]=i[2],S[1][0]=i[4],S[1][1]=i[5],S[1][2]=i[6],S[2][0]=i[8],S[2][1]=i[9],S[2][2]=i[10],u[0]=r.length(S[0]),r.normalize(S[0],S[0]),d[0]=r.dot(S[0],S[1]),S[1]=a(S[1],S[0],1,-d[0]),u[1]=r.length(S[1]),r.normalize(S[1],S[1]),d[0]/=u[1],d[1]=r.dot(S[0],S[2]),S[2]=a(S[2],S[0],1,-d[1]),d[2]=r.dot(S[1],S[2]),S[2]=a(S[2],S[1],1,-d[2]),u[2]=r.length(S[2]),r.normalize(S[2],S[2]),d[1]/=u[2],d[2]/=u[2];var x=r.cross(r.create(),S[1],S[2]);if(r.dot(S[0],x)<0)for(m=0;m<3;m++)u[m]*=-1,S[m][0]*=-1,S[m][1]*=-1,S[m][2]*=-1;p[0]=.5*Math.sqrt(Math.max(1+S[0][0]-S[1][1]-S[2][2],0)),p[1]=.5*Math.sqrt(Math.max(1-S[0][0]+S[1][1]-S[2][2],0)),p[2]=.5*Math.sqrt(Math.max(1-S[0][0]-S[1][1]+S[2][2],0)),p[3]=.5*Math.sqrt(Math.max(1+S[0][0]+S[1][1]+S[2][2],0)),S[2][1]>S[1][2]&&(p[0]=-p[0]),S[0][2]>S[2][0]&&(p[1]=-p[1]),S[1][0]>S[0][1]&&(p[2]=-p[2]);var E=s.fromValues(p[0],p[1],p[2],2*Math.acos(p[3])),C=c(p);return e&&(d[0]=Math.round(d[0]*o*100)/100,d[1]=Math.round(d[1]*o*100)/100,d[2]=Math.round(d[2]*o*100)/100,C[0]=Math.round(C[0]*o*100)/100,C[1]=Math.round(C[1]*o*100)/100,C[2]=Math.round(C[2]*o*100)/100,E[3]=Math.round(E[3]*o*100)/100),{translation:h,scale:u,skew:d,perspective:f,quaternion:p,eulerRotation:C,axisAngle:E}}(function(t){var e=String(getComputedStyle(t).transform).trim(),i=n.create();if("none"===e||""===e)return i;var r,s,o=e.slice(0,e.indexOf("("));if("matrix3d"===o)for(r=e.slice(9,-1).split(","),s=0;s<r.length;s++)i[s]=parseFloat(r[s]);else{if("matrix"!==o)throw new TypeError("Invalid Matrix Value");for(s=(r=e.slice(7,-1).split(",")).length;s--;)r[s]=parseFloat(r[s]);i[0]=r[0],i[1]=r[1],i[12]=r[4],i[4]=r[2],i[5]=r[3],i[13]=r[5]}return i}(t),e)}},function(t,e,i){"use strict";var n=i(1315),r=function(t){this.phase=t,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(t,e){return!0===e&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},s.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},s._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},s._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},s._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},s._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},s._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},s._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},s._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},s._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=r},function(t,e,i){"use strict";var n=i(255),r=function(t){n.call(this,t)};(r.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},function(t,e,i){"use strict";t.exports={EventEmitterMicro:i(631)}},function(t,e,i){"use strict";var n=i(632).SharedInstance,r=i(633).majorVersionNumber,s=i(1319);t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,s)},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=window,o=s.AC,a=function(){var t={};return{get:function(e,i){var n=null;return t[e]&&t[e][i]&&(n=t[e][i]),n},set:function(e,i,n){return t[e]||(t[e]={}),t[e][i]="function"==typeof n?new n:n,t[e][i]},share:function(t,e,i){var n=this.get(t,e);return n||(n=this.set(t,e,i)),n},remove:function(e,i){var n=r(i);if("string"!==n&&"number"!==n)t[e]&&(t[e]=null);else{if(!t[e]||!t[e][i])return;t[e][i]=null}}}}();o||(o=s.AC={}),o.SharedInstance||(o.SharedInstance=a),t.exports=o.SharedInstance},function(t,e,i){"use strict";var n,r=i(631);function s(t){t=t||{},this._reset(),this.updatePhases(),this.eventEmitter=new r,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(n=s.prototype).frameRequestedPhase="requested",n.startPhase="start",n.runPhases=["update","external","draw"],n.endPhase="end",n.disabledPhase="disabled",n.beforePhaseEventPrefix="before:",n.afterPhaseEventPrefix="after:",n.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},n.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},n.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},n.getSubscribeID=function(){return this._totalSubscribeCount+=1},n.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},n.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},n.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},n._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},n._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},n._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},n._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},n._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=s},function(t,e,i){"use strict";var n=i(632).SharedInstance,r=i(633).majorVersionNumber,s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,s)},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=i(630),u=i(368),d=0,f={create:i(255)},p=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t||((t=document.createElement("div")).className="TimeGroup-"+d++),(n=o(this,c(e).call(this,t,i))).name=n.name||t.getAttribute("data-anim-time-group"),n.timeParser.groupIsTimeBased=!0,n._isPaused=!0,n._repeats=0,n._isReversed=!1,n._timeScale=1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,h),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"finalizeInit",value:function(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),a(c(e.prototype),"finalizeInit",this).call(this)}},{key:"progress",value:function(t){if(void 0===t)return 0===this.boundsMax?0:this.timelines.local/this.boundsMax;var e=t*this.boundsMax;this._onScroll(e)}},{key:"time",value:function(t){if(void 0===t)return this.timelines.local;t=u.clamp(t,this.boundsMin,this.boundsMax),this._onScroll(t)}},{key:"play",value:function(t){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(t),this._playheadEmitter.run()}},{key:"reverse",value:function(t){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(t),this._playheadEmitter.run()}},{key:"restart",value:function(){this._isReversed?(this.progress(1),this.reverse()):(this.progress(0),this.play())}},{key:"pause",value:function(t){this.time(t),this._isPaused=!0}},{key:"paused",value:function(t){return void 0===t?this._isPaused:(this._isPaused=t,this._isPaused||this.play(),this)}},{key:"onPlayTimeUpdate",value:function(t){if(!this._isPaused){var i=u.clamp(t.delta/1e3,0,.5);this._isReversed&&(i=-i);var n=this.time()+i*this._timeScale;if(this._repeats===e.REPEAT_FOREVER||this._repeats>0){var r=!1;!this._isReversed&&n>this.boundsMax?(n-=this.boundsMax,r=!0):this._isReversed&&n<0&&(n=this.boundsMax+n,r=!0),r&&(this._repeats=this._repeats===e.REPEAT_FOREVER?e.REPEAT_FOREVER:this._repeats-1)}this.time(n),this._playheadEmitter.run()}}},{key:"updateProgress",value:function(t){this.hasDuration()?this.timelines.localUnclamped=t:this.timelines.local=this.timelines.localUnclamped=0}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},e=0,i=this.keyframeControllers.length;e<i;e++)this.keyframeControllers[e].getBounds(t);this.boundsMin=0,this.boundsMax=t.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}},{key:"setupRAFEmitter",value:function(t){this._playheadEmitter=new f.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),a(c(e.prototype),"setupRAFEmitter",this).call(this,t)}},{key:"timeScale",value:function(t){return void 0===t?this._timeScale:(this._timeScale=t,this)}},{key:"repeats",value:function(t){return void 0===t?this._repeats:(this._repeats=t,this)}},{key:"reversed",value:function(t){return void 0===t?this._isReversed:(this._isReversed=t,this)}},{key:"getPosition",value:function(){return this.timelines.local}},{key:"convertScrollPositionToTValue",value:function(t){return t}},{key:"convertTValueToScrollPosition",value:function(t){return t}},{key:"hasDuration",value:function(){return this.boundsMax>0}},{key:"destroy",value:function(){this._playheadEmitter.destroy(),this._playheadEmitter=null,a(c(e.prototype),"destroy",this).call(this)}},{key:"duration",get:function(){return this.boundsMax}}]),e}();p.REPEAT_FOREVER=-1,t.exports=p},function(t,e,i){"use strict";var n=i(254);t.exports=n.cancelAnimationFrame("update")},,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";t.exports={Queue:i(641),QueueItem:i(375),LiveQueue:i(1344)}},function(t,e,i){"use strict";i(148),i(247),i(358);var n=i(641),r=i(375);function s(t){this._queue=new n,this._maxProcesses=t||1,this._availableSlots=this._maxProcesses,this._rafId=0,this._isRunning=!1,this._boundFunctions={_run:this._run.bind(this),_releaseSlot:this._releaseSlot.bind(this)}}var o=s.prototype;o.start=function(){this._isRunning&&cancelAnimationFrame(this._rafId),this._rafId=requestAnimationFrame(this._boundFunctions._run),this._isRunning=!0},o.pause=function(){this._isRunning&&(cancelAnimationFrame(this._rafId),this._rafId=0),this._isRunning=!1},o.stop=function(){this.pause(),this.clear()},o.enqueue=function(t,e){if("function"!=typeof t)throw new Error("LiveQueue can only enqueue functions");void 0===e&&(e=n.PRIORITY_DEFAULT);var i=new r(t,e);return this.enqueueQueueItem(i)},o.enqueueQueueItem=function(t){return this._queue.enqueueQueueItem(t),this._isRunning&&0===this._rafId&&this.start(),t},o.dequeueQueueItem=function(t){return this._queue.dequeueQueueItem(t)},o.clear=function(){this._queue=new n},o.destroy=function(){this.pause(),this._isRunning=!1,this._queue=null,this._boundFunctions=null},o.count=function(){return this._queue.count()+this.pending()},o.pending=function(){return this._maxProcesses-this._availableSlots},o.isEmpty=function(){return 0===this.count()},o._run=function(){if(this._isRunning&&(this._rafId=requestAnimationFrame(this._boundFunctions._run),!this._queue.isEmpty()&&0!==this._availableSlots)){var t=this._queue.dequeue().data();this._isPromise(t)&&(this._retainSlot(),t.then(this._boundFunctions._releaseSlot,this._boundFunctions._releaseSlot)),this._stopRunningIfDone()}},o._retainSlot=function(){this._availableSlots--},o._releaseSlot=function(){this._availableSlots++,this._stopRunningIfDone()},o._stopRunningIfDone=function(){0!=this._rafId&&0===this._queue.count()&&this._availableSlots==this._maxProcesses&&(cancelAnimationFrame(this._rafId),this._rafId=0)},o._isPromise=function(t){return!(!t||"function"!=typeof t.then)},t.exports=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(12).EventEmitterMicro,r=i(1389),s={ID:"viewport-emitter",OPTIONS:{removeNamespace:!0}},o="data-viewport-emitter-dispatch",a="data-viewport-emitter-state",c={RETINA:"only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",PORTRAIT:"only screen and (orientation: portrait)",LANDSCAPE:"only screen and (orientation: landscape)"},l="change:any",h="change:orientation",u="change:retina",d="change:viewport";function f(t,e){n.call(this),this._id=t||s.ID,this._options=Object.assign({},s.OPTIONS,e),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia(c.RETINA)},orientation:{portrait:window.matchMedia(c.PORTRAIT),landscape:window.matchMedia(c.LANDSCAPE)}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}Object.defineProperty(f,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return o}}),Object.defineProperty(f,"DOM_STATE_ATTRIBUTE",{get:function(){return a}});var p=f.prototype=Object.create(n.prototype);Object.defineProperty(p,"id",{get:function(){return this._id}}),Object.defineProperty(p,"element",{get:function(){return this._el}}),Object.defineProperty(p,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(p,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(p,"retina",{get:function(){return this._retina}}),Object.defineProperty(p,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(p,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),p.destroy=function(){for(var t in this._removeListeners(),this._options)this._options[t]=null;for(var e in this._mediaQueryLists){var i=this._mediaQueryLists[e];for(var r in i)i[r]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,n.prototype.destroy.call(this)},p._initViewportEl=function(t){var e=document.getElementById(t);return e||((e=document.createElement("div")).id=t,e=document.body.appendChild(e)),e.hasAttribute(o)||(e.setAttribute(o,""),this._allowDOMEventDispatch=!0),e.hasAttribute(a)||(this._allowElementStateData=!0),e},p._dispatch=function(t,e){var i={viewport:this._viewport,orientation:this._orientation,retina:this._retina};if(this._allowDOMEventDispatch){var n=new CustomEvent(t,{detail:e}),r=new CustomEvent(l,{detail:i});this._el.dispatchEvent(n),this._el.dispatchEvent(r)}this.trigger(t,e),this.trigger(l,i)},p._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},p._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},p._updateElementStateData=function(){if(this._allowElementStateData){var t=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina});this._el.setAttribute(a,t)}},p._getViewport=function(t){var e=window.getComputedStyle(this._el,"::before").content;return e?(e=e.replace(/["']/g,""),t?e.split(":").pop():e):null},p._getRetina=function(t){return t.matches},p._getOrientation=function(t){var e=this._orientation;if(t.matches){return t.media.match(/portrait|landscape/)[0]}return e},p._initOrientation=function(){var t=this._getOrientation(this._mediaQueryLists.orientation.portrait);return t||this._getOrientation(this._mediaQueryLists.orientation.landscape)},p._onViewportChange=function(){this._resizing||(this._resizing=!0,r(this._onViewportChangeUpdate))},p._onViewportChangeUpdate=function(){var t=this._viewport;if(this._viewport=this._getViewport(this._options.removeNamespace),t!==this._viewport){var e={from:t,to:this._viewport};this._updateElementStateData(),this._dispatch(d,e)}this._resizing=!1},p._onRetinaChange=function(t){var e=this._retina;if(this._retina=this._getRetina(t),e!==this._retina){var i={from:e,to:this._retina};this._updateElementStateData(),this._dispatch(u,i)}},p._onOrientationChange=function(t){var e=this._orientation;if(this._orientation=this._getOrientation(t),e!==this._orientation){var i={from:e,to:this._orientation};this._updateElementStateData(),this._dispatch(h,i)}},t.exports=f},function(t,e,i){"use strict";var n=i(1390);t.exports=n.requestAnimationFrame("update")},function(t,e,i){"use strict";var n=i(1391),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},s.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new r},function(t,e,i){"use strict";var n=i(1392),r=function(t){this.phase=t,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(t,e){return!0===e&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},s.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},s._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},s._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},s._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},s._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},s._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},s._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},s._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},s._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=r},function(t,e,i){"use strict";var n=i(1393),r=function(t){n.call(this,t)};(r.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},function(t,e,i){"use strict";var n,r=i(12).EventEmitterMicro,s=i(1394),o=i(1396);function a(t){t=t||{},r.call(this),this.id=o.getNewID(),this.executor=t.executor||s,this._reset(),this._willRun=!1,this._didDestroy=!1}(n=a.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},n.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},n.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,t},n.willRun=function(){return this._willRun},n.isRunning=function(){return this._isRunning},n._subscribe=function(){return this.executor.subscribe(this)},n._unsubscribe=function(){return this.executor.unsubscribe(this)},n._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},n._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},n._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=a},function(t,e,i){"use strict";var n=i(99).SharedInstance,r=i(653).majorVersionNumber,s=i(1395);t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,s)},function(t,e,i){"use strict";var n,r=i(222);function s(t){t=t||{},this._reset(),this.updatePhases(),this.eventEmitter=new r,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(n=s.prototype).frameRequestedPhase="requested",n.startPhase="start",n.runPhases=["update","external","draw"],n.endPhase="end",n.disabledPhase="disabled",n.beforePhaseEventPrefix="before:",n.afterPhaseEventPrefix="after:",n.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},n.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},n.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},n.getSubscribeID=function(){return this._totalSubscribeCount+=1},n.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},n.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},n.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},n._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},n._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},n._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},n._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},n._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=s},function(t,e,i){"use strict";var n=i(99).SharedInstance,r=i(653).majorVersionNumber,s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,s)},,,,,,function(t,e,i){"use strict";t.exports={getContentDimensions:i(1403),getDimensions:i(185),getMaxScrollPosition:i(1404),getPagePosition:i(655),getPercentInViewport:i(656),getPixelsInViewport:i(657),getPosition:i(1405),getScrollPosition:i(386),getViewportPosition:i(658),isInViewport:i(1406)}},function(t,e,i){"use strict";t.exports=function(t,e){var i=1;return e&&(i=t.getBoundingClientRect().width/t.offsetWidth),{width:t.scrollWidth*i,height:t.scrollHeight*i}}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function s(t,e){return"x"===e?t.scrollWidth-t.clientWidth:t.scrollHeight-t.clientHeight}t.exports=function(t,e){var i=r(t);return e="string"===i?t:e,t=t&&"string"!==i&&t!==window?t:document.documentElement,e&&/^[xy]$/i.test(e)?s(t,e):{x:s(t,"x"),y:s(t,"y")}}},function(t,e,i){"use strict";var n=i(185);t.exports=function(t,e){var i,r,s,o,a,c,l;return e?(r=(i=t.getBoundingClientRect()).top,s=i.left,o=i.width,a=i.height,t.offsetParent&&(r-=(c=t.offsetParent.getBoundingClientRect()).top,s-=c.left)):(l=n(t,e),r=t.offsetTop,s=t.offsetLeft,o=l.width,a=l.height),{top:r,right:s+o,bottom:r+a,left:s}}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var s=i(656),o=i(185);t.exports=function(t,e,i){var n=s(t,e);return i=function(t,e,i){var n={x:0,y:0};if(!e)return n;var s,a=r(e);return e="number"===a||"string"===a?{x:e,y:e}:Object.assign(n,e),Object.keys(n).forEach(function(n){var r=e[n];("string"==typeof r||r>1)&&(s=s||o(t,i),r=(parseInt(r,10)||0)/("x"===n?s.width:s.height)),e[n]=r}),e}(t,i,e),n.y>0&&n.y>=i.y&&n.x>0&&n.x>=i.x}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i(1459),i(1467),i(573),i(1469),i(1472),i(1474),i(1475),i(1476),i(651),i(648),i(1478),i(1480),i(1484),i(148),i(247),i(1485),i(1488)},function(t,e,i){"use strict";i(175),i(349),i(518),i(373),i(1460),i(546),i(1461),i(228),i(1462),i(1463),i(1464),i(1465),i(125),i(1466)},function(t,e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var s=e[r];if(t.call(n,s,r,e))return s;r++}}})},function(t,e){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;var r=0|e,s=Math.max(r>=0?r:n-Math.abs(r),0);function o(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}for(;s<n;){if(o(i[s],t))return!0;s++}return!1}})},function(t,e){Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t,e){var i,n=Object(this),r=n.length>>>0;if(e=parseInt(e,10),r<=0)return-1;for(i=(i="number"==typeof e?Math.min(r-1,e):r-1)>=0?i:r-Math.abs(i);i>=0;i-=1)if(i in n&&t===n[i])return i;return-1})},function(t,e){Array.prototype.map||(Array.prototype.map=function(t,e){var i,n=Object(this),r=n.length>>>0,s=new Array(r);if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=0;i<r;i+=1)i in n&&(s[i]=t.call(e,n[i],i,n));return s})},function(t,e){Array.prototype.reduce||(Array.prototype.reduce=function(t,e){var i,n=Object(this),r=n.length>>>0,s=0;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(void 0===e){if(!r)throw new TypeError("Reduce of empty array with no initial value");i=n[0],s=1}else i=e;for(;s<r;)s in n&&(i=t.call(void 0,i,n[s],s,n),s+=1);return i})},function(t,e){Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t,e){var i,n=Object(this),r=n.length>>>0,s=r-1;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(void 0===e){if(!r)throw new TypeError("Reduce of empty array with no initial value");i=n[r-1],s=r-2}else i=e;for(;s>=0;)s in n&&(i=t.call(void 0,i,n[s],s,n),s-=1);return i})},function(t,e){Array.prototype.some||(Array.prototype.some=function(t,e){var i,n=Object(this),r=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=0;i<r;i+=1)if(i in n&&!0===t.call(e,n[i],i,n))return!0;return!1})},function(t,e,i){i(1468)},,function(t,e,i){"use strict";i(524),i(1470),i(1471)},function(t,e){Date.prototype.toISOString||(Date.prototype.toISOString=function(){if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var t,e,i={year:this.getUTCFullYear(),month:this.getUTCMonth()+1,day:this.getUTCDate(),hours:this.getUTCHours(),minutes:this.getUTCMinutes(),seconds:this.getUTCSeconds(),mseconds:(this.getUTCMilliseconds()/1e3).toFixed(3).substr(2,3)};for(t in i)i.hasOwnProperty(t)&&"year"!==t&&"mseconds"!==t&&(i[t]=1===String(i[t]).length?"0"+String(i[t]):String(i[t]));return(i.year<0||i.year>9999)&&(e=i.year<0?"-":"+",i.year=e+String(Math.abs(i.year/1e6)).substr(2,6)),i.year+"-"+i.month+"-"+i.day+"T"+i.hours+":"+i.minutes+":"+i.seconds+"."+i.mseconds+"Z"})},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return(n="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)})(t)}Date.prototype.toJSON||(Date.prototype.toJSON=function(t){var e,i=Object(this),r=function(t){var e=n(t);return!![null,"undefined","boolean","string","number"].some(function(t){return t===e})};if("number"==typeof(e=function(t){var e;if(r(t))return t;if((e="function"==typeof t.valueOf?t.valueOf():"function"==typeof t.toString?t.toString():null)&&r(e))return e;throw new TypeError(t+" cannot be converted to a primitive")}(i))&&!isFinite(e))return null;if("function"!=typeof i.toISOString)throw new TypeError("toISOString is not callable");return i.toISOString.call(i)})},function(t,e,i){"use strict";i(356),i(552),i(1473)},function(t,e,i){"use strict";t.exports=function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}},function(t,e,i){"use strict";i(358)},function(t,e){if(!window.getComputedStyle){function i(t,e,n){t.document;var r,s=t.currentStyle[e].match(/(-?[\d\.]+)(%|cm|em|in|mm|pc|pt|)/)||[0,0,""],o=s[1],a=s[2];return n=n?/%|em/.test(a)&&t.parentElement?i(t.parentElement,"fontSize",null):16:n,r="fontSize"==e?n:/width/i.test(e)?t.clientWidth:t.clientHeight,"%"==a?o/100*r:"cm"==a?.3937*o*96:"em"==a?o*n:"in"==a?96*o:"mm"==a?.3937*o*96/10:"pc"==a?12*o*96/72:"pt"==a?96*o/72:o}function n(t,e){var i="border"==e?"Width":"",n=e+"Top"+i,r=e+"Right"+i,s=e+"Bottom"+i,o=e+"Left"+i;t[e]=(t[n]==t[r]&&t[n]==t[s]&&t[n]==t[o]?[t[n]]:t[n]==t[s]&&t[o]==t[r]?[t[n],t[r]]:t[o]==t[r]?[t[n],t[r],t[s]]:[t[n],t[r],t[s],t[o]]).join(" ")}function r(t){var e,r=t.currentStyle,s=i(t,"fontSize"),o=function(t){return"-"+t.toLowerCase()};for(e in r)if(Array.prototype.push.call(this,"styleFloat"==e?"float":e.replace(/[A-Z]/,o)),"width"==e)this[e]=t.offsetWidth+"px";else if("height"==e)this[e]=t.offsetHeight+"px";else if("styleFloat"==e)this.float=r[e],this.cssFloat=r[e];else if(/margin.|padding.|border.+W/.test(e)&&"auto"!=this[e])this[e]=Math.round(i(t,e,s))+"px";else if(/^outline/.test(e))try{this[e]=r[e]}catch(t){this.outlineColor=r.color,this.outlineStyle=this.outlineStyle||"none",this.outlineWidth=this.outlineWidth||"0px",this.outline=[this.outlineColor,this.outlineWidth,this.outlineStyle].join(" ")}else this[e]=r[e];n(this,"margin"),n(this,"padding"),n(this,"border"),this.fontSize=Math.round(s)+"px"}r.prototype={constructor:r,getPropertyPriority:function(){throw new Error("NotSupportedError: DOM Exception 9")},getPropertyValue:function(t){return this[t.replace(/-\w/g,function(t){return t[1].toUpperCase()})]},item:function(t){return this[t]},removeProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},setProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},getPropertyCSSValue:function(){throw new Error("NotSupportedError: DOM Exception 9")}},window.getComputedStyle=function(t){return new r(t)}}},function(t,e,i){i(1477)},,function(t,e,i){"use strict";i(1479)},function(t,e){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)})},function(t,e,i){"use strict";i(172),i(1481),i(1482),i(1483)},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return(n="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)})(t)}if(!Object.create){var r=function(){};Object.create=function(t){if(arguments.length>1)throw new Error("Second argument not supported");if(null===t||"object"!==n(t))throw new TypeError("Object prototype may only be an Object.");return r.prototype=t,new r}}},function(t,e){Object.is||(Object.is=function(t,e){return 0===t&&0===e?1/t==1/e:t!=t?e!=e:t===e})},function(t,e){Object.keys||(Object.keys=function(t){var e,i=[];if(!t||"function"!=typeof t.hasOwnProperty)throw"Object.keys called on non-object.";for(e in t)t.hasOwnProperty(e)&&i.push(e);return i})},function(t,e,i){"use strict";i(327)},function(t,e,i){"use strict";i(1486),i(1487)},function(t,e){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},function(t,e){String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)})},function(t,e){window.XMLHttpRequest=window.XMLHttpRequest||function(){var t;try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t}}])]);