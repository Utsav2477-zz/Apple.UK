require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/isArray");require("@marcom/ac-polyfills/Array/prototype.forEach");module.exports=function flatten(array){var flattenedArray=[];var callback=function(item){if(Array.isArray(item)){item.forEach(callback)}else{flattenedArray.push(item)}};array.forEach(callback);return flattenedArray}},{"@marcom/ac-polyfills/Array/isArray":128,"@marcom/ac-polyfills/Array/prototype.forEach":130}],2:[function(require,module,exports){"use strict";module.exports={flatten:require("./flatten"),intersection:require("./intersection"),shuffle:require("./shuffle"),toArray:require("./toArray"),union:require("./union"),unique:require("./unique"),without:require("./without")}},{"./flatten":1,"./intersection":3,"./shuffle":4,"./toArray":5,"./union":6,"./unique":7,"./without":8}],3:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.indexOf");module.exports=function intersection(array){if(!array){return[]}var argsLength=arguments.length;var i=0;var len=array.length;var result=[];var item;for(i;i<len;i++){item=array[i];if(result.indexOf(item)>-1){continue}for(var j=1;j<argsLength;j++){if(arguments[j].indexOf(item)<0){break}}if(j===argsLength){result.push(item)}}return result}},{"@marcom/ac-polyfills/Array/prototype.indexOf":131}],4:[function(require,module,exports){"use strict";module.exports=function shuffle(array){var len=array.length;var index;var temp;while(len){index=Math.floor(Math.random()*len--);temp=array[len];array[len]=array[index];array[index]=temp}return array}},{}],5:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.slice");module.exports=function toArray(arrayLike){return Array.prototype.slice.call(arrayLike)}},{"@marcom/ac-polyfills/Array/prototype.slice":133}],6:[function(require,module,exports){"use strict";var flatten=require("./flatten");var toArray=require("./toArray");var unique=require("./unique");module.exports=function union(array){return unique(flatten(toArray(arguments)))}},{"./flatten":1,"./toArray":5,"./unique":7}],7:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.indexOf");require("@marcom/ac-polyfills/Array/prototype.reduce");module.exports=function unique(array){var _unique=function(prev,current){if(prev.indexOf(current)<0){prev.push(current)}return prev};return array.reduce(_unique,[])}},{"@marcom/ac-polyfills/Array/prototype.indexOf":131,"@marcom/ac-polyfills/Array/prototype.reduce":132}],8:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.indexOf");require("@marcom/ac-polyfills/Array/prototype.slice");module.exports=function without(arr,value,recurse){var newArr;var index=arr.indexOf(value);var length=arr.length;if(index>=0){if(recurse){newArr=arr.slice(0,length);var i,amountRemoved=0;for(i=index;i<length;i++){if(arr[i]===value){newArr.splice(i-amountRemoved,1);amountRemoved++}}}else if(index===length-1){newArr=arr.slice(0,length-1)}else if(index===0){newArr=arr.slice(1)}else{newArr=arr.slice(0,index);newArr=newArr.concat(arr.slice(index+1))}}else{return arr}return newArr}},{"@marcom/ac-polyfills/Array/prototype.indexOf":131,"@marcom/ac-polyfills/Array/prototype.slice":133}],9:[function(require,module,exports){"use strict";module.exports={log:require("./ac-console/log")}},{"./ac-console/log":10}],10:[function(require,module,exports){"use strict";var debugMessagingKey="f7c9180f-5c45-47b4-8de4-428015f096c0";var allowDebugMessaging=!!function(){try{return window.localStorage.getItem(debugMessagingKey)}catch(err){}}();module.exports=function log(){if(window.console&&typeof console.log!=="undefined"&&allowDebugMessaging){console.log.apply(console,Array.prototype.slice.call(arguments,0))}}},{}],11:[function(require,module,exports){"use strict";var addEventListenerUtil=require("./utils/addEventListener");var getEventType=require("./shared/getEventType");module.exports=function addEventListener(target,type,listener,useCapture){type=getEventType(target,type);return addEventListenerUtil(target,type,listener,useCapture)}},{"./shared/getEventType":21,"./utils/addEventListener":25}],12:[function(require,module,exports){"use strict";var dispatchEventUtil=require("./utils/dispatchEvent");var getEventType=require("./shared/getEventType");module.exports=function dispatchEvent(target,type,options){type=getEventType(target,type);return dispatchEventUtil(target,type,options)}},{"./shared/getEventType":21,"./utils/dispatchEvent":26}],13:[function(require,module,exports){"use strict";module.exports={addEventListener:require("./addEventListener"),dispatchEvent:require("./dispatchEvent"),preventDefault:require("./preventDefault"),removeEventListener:require("./removeEventListener"),stop:require("./stop"),stopPropagation:require("./stopPropagation"),target:require("./target")}},{"./addEventListener":11,"./dispatchEvent":12,"./preventDefault":19,"./removeEventListener":20,"./stop":22,"./stopPropagation":23,"./target":24}],14:[function(require,module,exports){"use strict";var eventTypeAvailable=require("./utils/eventTypeAvailable");var camelCasedEventTypes=require("./shared/camelCasedEventTypes");var windowFallbackEventTypes=require("./shared/windowFallbackEventTypes");var prefixHelper=require("./shared/prefixHelper");var cache={};module.exports=function getEventType(type,tagName){var prefixedType;var tagNameCache;var i;tagName=tagName||"div";type=type.toLowerCase();if(!(tagName in cache)){cache[tagName]={}}tagNameCache=cache[tagName];if(type in tagNameCache){return tagNameCache[type]}if(eventTypeAvailable(type,tagName)){return tagNameCache[type]=type}if(type in camelCasedEventTypes){for(i=0;i<camelCasedEventTypes[type].length;i++){prefixedType=camelCasedEventTypes[type][i];if(eventTypeAvailable(prefixedType.toLowerCase(),tagName)){return tagNameCache[type]=prefixedType}}}for(i=0;i<prefixHelper.evt.length;i++){prefixedType=prefixHelper.evt[i]+type;if(eventTypeAvailable(prefixedType,tagName)){prefixHelper.reduce(i);return tagNameCache[type]=prefixedType}}if(tagName!=="window"&&windowFallbackEventTypes.indexOf(type)){return tagNameCache[type]=getEventType(type,"window")}return tagNameCache[type]=false}},{"./shared/camelCasedEventTypes":15,"./shared/prefixHelper":16,"./shared/windowFallbackEventTypes":17,"./utils/eventTypeAvailable":18}],15:[function(require,module,exports){"use strict";module.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},{}],16:[function(require,module,exports){"use strict";var CSS_PREFIXES=["-webkit-","-moz-","-ms-"];var DOM_PREFIXES=["Webkit","Moz","ms"];var EVT_PREFIXES=["webkit","moz","ms"];var PrefixeHelper=function(){this.initialize()};var proto=PrefixeHelper.prototype;proto.initialize=function(){this.reduced=false;this.css=CSS_PREFIXES;this.dom=DOM_PREFIXES;this.evt=EVT_PREFIXES};proto.reduce=function(index){if(!this.reduced){this.reduced=true;this.css=[this.css[index]];this.dom=[this.dom[index]];this.evt=[this.evt[index]]}};module.exports=new PrefixeHelper},{}],17:[function(require,module,exports){"use strict";module.exports=["transitionend","animationstart","animationend","animationiteration"]},{}],18:[function(require,module,exports){"use strict";var testElements={window:window,document:document};module.exports=function eventTypeAvailable(type,tagName){var el;type="on"+type;if(!(tagName in testElements)){testElements[tagName]=document.createElement(tagName)}el=testElements[tagName];if(type in el){return true}if("setAttribute"in el){el.setAttribute(type,"return;");return typeof el[type]==="function"}return false}},{}],19:[function(require,module,exports){"use strict";module.exports=function preventDefault(evt){evt=evt||window.event;if(evt.preventDefault){evt.preventDefault()}else{evt.returnValue=false}}},{}],20:[function(require,module,exports){"use strict";var removeEventListenerUtil=require("./utils/removeEventListener");var getEventType=require("./shared/getEventType");module.exports=function removeEventListener(target,type,listener,useCapture){type=getEventType(target,type);return removeEventListenerUtil(target,type,listener,useCapture)}},{"./shared/getEventType":21,"./utils/removeEventListener":27}],21:[function(require,module,exports){"use strict";var getPrefixedEventType=require("@marcom/ac-prefixer/getEventType");module.exports=function getEventType(target,type){var tagName;var prefixed;if("tagName"in target){tagName=target.tagName}else if(target===window){tagName="window"}else{tagName="document"}prefixed=getPrefixedEventType(type,tagName);if(prefixed){return prefixed}return type}},{"@marcom/ac-prefixer/getEventType":14}],22:[function(require,module,exports){"use strict";var stopPropagation=require("./stopPropagation");var preventDefault=require("./preventDefault");module.exports=function stop(evt){evt=evt||window.event;stopPropagation(evt);preventDefault(evt);evt.stopped=true;evt.returnValue=false}},{"./preventDefault":19,"./stopPropagation":23}],23:[function(require,module,exports){"use strict";module.exports=function stopPropagation(evt){evt=evt||window.event;if(evt.stopPropagation){evt.stopPropagation()}else{evt.cancelBubble=true}}},{}],24:[function(require,module,exports){"use strict";module.exports=function target(evt){evt=evt||window.event;return typeof evt.target!=="undefined"?evt.target:evt.srcElement}},{}],25:[function(require,module,exports){"use strict";module.exports=function addEventListener(target,type,listener,useCapture){if(target.addEventListener){target.addEventListener(type,listener,!!useCapture)}else{target.attachEvent("on"+type,listener)}return target}},{}],26:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/CustomEvent");module.exports=function dispatchEvent(target,type,options){var evt;if(target.dispatchEvent){if(options){evt=new CustomEvent(type,options)}else{evt=new CustomEvent(type)}target.dispatchEvent(evt)}else{evt=document.createEventObject();if(options&&"detail"in options){evt.detail=options.detail}target.fireEvent("on"+type,evt)}return target}},{"@marcom/ac-polyfills/CustomEvent":134}],27:[function(require,module,exports){"use strict";module.exports=function removeEventListener(target,type,listener,useCapture){if(target.removeEventListener){target.removeEventListener(type,listener,!!useCapture)}else{target.detachEvent("on"+type,listener)}return target}},{}],28:[function(require,module,exports){"use strict";module.exports=8},{}],29:[function(require,module,exports){"use strict";module.exports=11},{}],30:[function(require,module,exports){"use strict";module.exports=9},{}],31:[function(require,module,exports){"use strict";module.exports=10},{}],32:[function(require,module,exports){"use strict";module.exports=1},{}],33:[function(require,module,exports){"use strict";module.exports=3},{}],34:[function(require,module,exports){"use strict";module.exports=function createDocumentFragment(html){var fragment=document.createDocumentFragment();var div;if(html){div=document.createElement("div");div.innerHTML=html;while(div.firstChild){fragment.appendChild(div.firstChild)}}return fragment}},{}],35:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.slice");require("@marcom/ac-polyfills/Array/prototype.filter");var isNodeType=require("./internal/isNodeType");var ELEMENT_NODE=require("./ELEMENT_NODE");module.exports=function filterByNodeType(nodes,nodeType){nodeType=nodeType||ELEMENT_NODE;nodes=Array.prototype.slice.call(nodes);return nodes.filter(function(node){return isNodeType(node,nodeType)})}},{"./ELEMENT_NODE":32,"./internal/isNodeType":43,"@marcom/ac-polyfills/Array/prototype.filter":129,"@marcom/ac-polyfills/Array/prototype.slice":133}],36:[function(require,module,exports){"use strict";module.exports=function hasAttribute(el,attr){if("hasAttribute"in el){return el.hasAttribute(attr)}return el.attributes.getNamedItem(attr)!==null}},{}],37:[function(require,module,exports){"use strict";module.exports={createDocumentFragment:require("./createDocumentFragment"),filterByNodeType:require("./filterByNodeType"),hasAttribute:require("./hasAttribute"),indexOf:require("./indexOf"),insertAfter:require("./insertAfter"),insertBefore:require("./insertBefore"),insertFirstChild:require("./insertFirstChild"),insertLastChild:require("./insertLastChild"),isComment:require("./isComment"),isDocument:require("./isDocument"),isDocumentFragment:require("./isDocumentFragment"),isDocumentType:require("./isDocumentType"),isElement:require("./isElement"),isNode:require("./isNode"),isNodeList:require("./isNodeList"),isTextNode:require("./isTextNode"),remove:require("./remove"),replace:require("./replace"),COMMENT_NODE:require("./COMMENT_NODE"),DOCUMENT_FRAGMENT_NODE:require("./DOCUMENT_FRAGMENT_NODE"),DOCUMENT_NODE:require("./DOCUMENT_NODE"),DOCUMENT_TYPE_NODE:require("./DOCUMENT_TYPE_NODE"),ELEMENT_NODE:require("./ELEMENT_NODE"),TEXT_NODE:require("./TEXT_NODE")}},{"./COMMENT_NODE":28,"./DOCUMENT_FRAGMENT_NODE":29,"./DOCUMENT_NODE":30,"./DOCUMENT_TYPE_NODE":31,"./ELEMENT_NODE":32,"./TEXT_NODE":33,"./createDocumentFragment":34,"./filterByNodeType":35,"./hasAttribute":36,"./indexOf":38,"./insertAfter":39,"./insertBefore":40,"./insertFirstChild":41,"./insertLastChild":42,"./isComment":45,"./isDocument":46,"./isDocumentFragment":47,"./isDocumentType":48,"./isElement":49,"./isNode":50,"./isNodeList":51,"./isTextNode":52,"./remove":53,"./replace":54}],38:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.indexOf");require("@marcom/ac-polyfills/Array/prototype.slice");var validate=require("./internal/validate");var filterByNodeType=require("./filterByNodeType");module.exports=function indexOf(node,nodeType){var parentNode=node.parentNode;var nodes;if(!parentNode){return 0}nodes=parentNode.childNodes;if(nodeType!==false){nodes=filterByNodeType(nodes,nodeType)}else{nodes=Array.prototype.slice.call(nodes)}return nodes.indexOf(node)}},{"./filterByNodeType":35,"./internal/validate":44,"@marcom/ac-polyfills/Array/prototype.indexOf":131,"@marcom/ac-polyfills/Array/prototype.slice":133}],39:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function insertAfter(node,target){validate.insertNode(node,true,"insertAfter");validate.childNode(target,true,"insertAfter");validate.hasParentNode(target,"insertAfter");if(!target.nextSibling){return target.parentNode.appendChild(node)}return target.parentNode.insertBefore(node,target.nextSibling)}},{"./internal/validate":44}],40:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function insertBefore(node,target){validate.insertNode(node,true,"insertBefore");validate.childNode(target,true,"insertBefore");validate.hasParentNode(target,"insertBefore");return target.parentNode.insertBefore(node,target)}},{"./internal/validate":44}],41:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function insertFirstChild(node,target){validate.insertNode(node,true,"insertFirstChild");validate.parentNode(target,true,"insertFirstChild");if(!target.firstChild){return target.appendChild(node)}return target.insertBefore(node,target.firstChild)}},{"./internal/validate":44}],42:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function insertLastChild(node,target){validate.insertNode(node,true,"insertLastChild");validate.parentNode(target,true,"insertLastChild");return target.appendChild(node)}},{"./internal/validate":44}],43:[function(require,module,exports){"use strict";var isNode=require("../isNode");module.exports=function isNodeType(node,nodeType){if(!isNode(node)){return false}if(typeof nodeType==="number"){return node.nodeType===nodeType}return nodeType.indexOf(node.nodeType)!==-1}},{"../isNode":50}],44:[function(require,module,exports){"use strict";var isNodeType=require("./isNodeType");var COMMENT_NODE=require("../COMMENT_NODE");var DOCUMENT_FRAGMENT_NODE=require("../DOCUMENT_FRAGMENT_NODE");var ELEMENT_NODE=require("../ELEMENT_NODE");var TEXT_NODE=require("../TEXT_NODE");var VALID_INSERT_NODE=[ELEMENT_NODE,TEXT_NODE,COMMENT_NODE,DOCUMENT_FRAGMENT_NODE];var ERR_INVALID_INSERT_NODE=" must be an Element, TextNode, Comment, or Document Fragment";var VALID_CHILD_NODE=[ELEMENT_NODE,TEXT_NODE,COMMENT_NODE];var ERR_INVALID_CHILD_NODE=" must be an Element, TextNode, or Comment";var VALID_PARENT_NODE=[ELEMENT_NODE,DOCUMENT_FRAGMENT_NODE];var ERR_INVALID_PARENT_NODE=" must be an Element, or Document Fragment";var ERR_NO_PARENT_NODE=" must have a parentNode";module.exports={parentNode:function(node,required,funcName,paramName){paramName=paramName||"target";if((node||required)&&!isNodeType(node,VALID_PARENT_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_PARENT_NODE)}},childNode:function(node,required,funcName,paramName){paramName=paramName||"target";if(!node&&!required){return}if(!isNodeType(node,VALID_CHILD_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_CHILD_NODE)}},insertNode:function(node,required,funcName,paramName){paramName=paramName||"node";if(!node&&!required){return}if(!isNodeType(node,VALID_INSERT_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_INSERT_NODE)}},hasParentNode:function(node,funcName,paramName){paramName=paramName||"target";if(!node.parentNode){throw new TypeError(funcName+": "+paramName+ERR_NO_PARENT_NODE)}}}},{"../COMMENT_NODE":28,"../DOCUMENT_FRAGMENT_NODE":29,"../ELEMENT_NODE":32,"../TEXT_NODE":33,"./isNodeType":43}],45:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var COMMENT_NODE=require("./COMMENT_NODE");module.exports=function isComment(obj){return isNodeType(obj,COMMENT_NODE)}},{"./COMMENT_NODE":28,"./internal/isNodeType":43}],46:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var DOCUMENT_NODE=require("./DOCUMENT_NODE");module.exports=function isDocument(obj){return isNodeType(obj,DOCUMENT_NODE)}},{"./DOCUMENT_NODE":30,"./internal/isNodeType":43}],47:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var DOCUMENT_FRAGMENT_NODE=require("./DOCUMENT_FRAGMENT_NODE");module.exports=function isDocumentFragment(obj){return isNodeType(obj,DOCUMENT_FRAGMENT_NODE)}},{"./DOCUMENT_FRAGMENT_NODE":29,"./internal/isNodeType":43}],48:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var DOCUMENT_TYPE_NODE=require("./DOCUMENT_TYPE_NODE");module.exports=function isDocumentType(obj){return isNodeType(obj,DOCUMENT_TYPE_NODE)}},{"./DOCUMENT_TYPE_NODE":31,"./internal/isNodeType":43}],49:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var ELEMENT_NODE=require("./ELEMENT_NODE");module.exports=function isElement(obj){return isNodeType(obj,ELEMENT_NODE)}},{"./ELEMENT_NODE":32,"./internal/isNodeType":43}],50:[function(require,module,exports){"use strict";module.exports=function isNode(obj){return!!(obj&&obj.nodeType)}},{}],51:[function(require,module,exports){"use strict";var nodeListToStringPattern=/^\[object (HTMLCollection|NodeList|Object)\]$/;module.exports=function isNodeList(obj){if(!obj){return false}if(typeof obj.length!=="number"){return false}if(typeof obj[0]==="object"&&(!obj[0]||!obj[0].nodeType)){return false}return nodeListToStringPattern.test(Object.prototype.toString.call(obj))}},{}],52:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var TEXT_NODE=require("./TEXT_NODE");module.exports=function isTextNode(obj){return isNodeType(obj,TEXT_NODE)}},{"./TEXT_NODE":33,"./internal/isNodeType":43}],53:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function remove(node){validate.childNode(node,true,"remove");if(!node.parentNode){return node}return node.parentNode.removeChild(node)}},{"./internal/validate":44}],54:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function replace(newNode,oldNode){validate.insertNode(newNode,true,"insertFirstChild","newNode");validate.childNode(oldNode,true,"insertFirstChild","oldNode");validate.hasParentNode(oldNode,"insertFirstChild","oldNode");return oldNode.parentNode.replaceChild(newNode,oldNode)}},{"./internal/validate":44}],55:[function(require,module,exports){"use strict";module.exports={ancestor:require("./ancestor"),ancestors:require("./ancestors"),children:require("./children"),filterBySelector:require("./filterBySelector"),firstChild:require("./firstChild"),lastChild:require("./lastChild"),matchesSelector:require("./matchesSelector"),nextSibling:require("./nextSibling"),nextSiblings:require("./nextSiblings"),previousSibling:require("./previousSibling"),previousSiblings:require("./previousSiblings"),querySelector:require("./querySelector"),querySelectorAll:require("./querySelectorAll"),siblings:require("./siblings")}},{"./ancestor":56,"./ancestors":57,"./children":58,"./filterBySelector":59,"./firstChild":60,"./lastChild":63,"./matchesSelector":64,"./nextSibling":65,"./nextSiblings":66,"./previousSibling":67,"./previousSiblings":68,"./querySelector":69,"./querySelectorAll":70,"./siblings":74}],56:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var matchesSelector=require("./matchesSelector");var validate=require("./internal/validate");module.exports=function ancestor(node,selector,inclusive){validate.childNode(node,true,"ancestors");validate.selector(selector,false,"ancestors");if(inclusive&&isElement(node)&&(!selector||matchesSelector(node,selector))){return node}if(node!==document.body){while((node=node.parentNode)&&isElement(node)){if(!selector||matchesSelector(node,selector)){return node}if(node===document.body){break}}}return null}},{"./internal/validate":62,"./matchesSelector":64,"@marcom/ac-dom-nodes/isElement":49}],57:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var matchesSelector=require("./matchesSelector");var validate=require("./internal/validate");module.exports=function ancestors(node,selector,inclusive){var els=[];validate.childNode(node,true,"ancestors");validate.selector(selector,false,"ancestors");if(inclusive&&isElement(node)&&(!selector||matchesSelector(node,selector))){els.push(node)}if(node!==document.body){while((node=node.parentNode)&&isElement(node)){if(!selector||matchesSelector(node,selector)){els.push(node)}if(node===document.body){break}}}return els}},{"./internal/validate":62,"./matchesSelector":64,"@marcom/ac-dom-nodes/isElement":49}],58:[function(require,module,exports){"use strict";var filterByNodeType=require("@marcom/ac-dom-nodes/filterByNodeType");var filterBySelector=require("./filterBySelector");var validate=require("./internal/validate");module.exports=function children(node,selector){var els;validate.parentNode(node,true,"children");validate.selector(selector,false,"children");els=node.children||node.childNodes;els=filterByNodeType(els);if(selector){els=filterBySelector(els,selector)}return els}},{"./filterBySelector":59,"./internal/validate":62,"@marcom/ac-dom-nodes/filterByNodeType":35}],59:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.slice");require("@marcom/ac-polyfills/Array/prototype.filter");var matchesSelector=require("./matchesSelector");var validate=require("./internal/validate");module.exports=function filterBySelector(nodes,selector){validate.selector(selector,true,"filterBySelector");nodes=Array.prototype.slice.call(nodes);return nodes.filter(function(el){return matchesSelector(el,selector)})}},{"./internal/validate":62,"./matchesSelector":64,"@marcom/ac-polyfills/Array/prototype.filter":129,"@marcom/ac-polyfills/Array/prototype.slice":133}],60:[function(require,module,exports){"use strict";var children=require("./children");var validate=require("./internal/validate");module.exports=function firstChild(node,selector){var els;validate.parentNode(node,true,"firstChild");validate.selector(selector,false,"firstChild");if(node.firstElementChild&&!selector){return node.firstElementChild}els=children(node,selector);if(els.length){return els[0]}return null}},{"./children":58,"./internal/validate":62}],61:[function(require,module,exports){"use strict";module.exports=window.Element?function(proto){return proto.matches||proto.matchesSelector||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector}(Element.prototype):null},{}],62:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.indexOf");var isNode=require("@marcom/ac-dom-nodes/isNode");var COMMENT_NODE=require("@marcom/ac-dom-nodes/COMMENT_NODE");var DOCUMENT_FRAGMENT_NODE=require("@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE");var DOCUMENT_NODE=require("@marcom/ac-dom-nodes/DOCUMENT_NODE");var ELEMENT_NODE=require("@marcom/ac-dom-nodes/ELEMENT_NODE");var TEXT_NODE=require("@marcom/ac-dom-nodes/TEXT_NODE");var isNodeType=function(node,nodeType){if(!isNode(node)){return false}if(typeof nodeType==="number"){return node.nodeType===nodeType}return nodeType.indexOf(node.nodeType)!==-1};var VALID_PARENT_NODE=[ELEMENT_NODE,DOCUMENT_NODE,DOCUMENT_FRAGMENT_NODE];var ERR_INVALID_PARENT_NODE=" must be an Element, Document, or Document Fragment";var VALID_CHILD_NODE=[ELEMENT_NODE,TEXT_NODE,COMMENT_NODE];var ERR_INVALID_CHILD_NODE=" must be an Element, TextNode, or Comment";var ERR_INVALID_SELECTOR=" must be a string";module.exports={parentNode:function(node,required,funcName,paramName){paramName=paramName||"node";if((node||required)&&!isNodeType(node,VALID_PARENT_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_PARENT_NODE)}},childNode:function(node,required,funcName,paramName){paramName=paramName||"node";if(!node&&!required){return}if(!isNodeType(node,VALID_CHILD_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_CHILD_NODE)}},selector:function(selector,required,funcName,paramName){paramName=paramName||"selector";if((selector||required)&&typeof selector!=="string"){throw new TypeError(funcName+": "+paramName+ERR_INVALID_SELECTOR)}}}},{"@marcom/ac-dom-nodes/COMMENT_NODE":28,"@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE":29,"@marcom/ac-dom-nodes/DOCUMENT_NODE":30,"@marcom/ac-dom-nodes/ELEMENT_NODE":32,"@marcom/ac-dom-nodes/TEXT_NODE":33,"@marcom/ac-dom-nodes/isNode":50,"@marcom/ac-polyfills/Array/prototype.indexOf":131}],63:[function(require,module,exports){"use strict";var children=require("./children");var validate=require("./internal/validate");module.exports=function lastChild(node,selector){var els;validate.parentNode(node,true,"lastChild");validate.selector(selector,false,"lastChild");if(node.lastElementChild&&!selector){return node.lastElementChild}els=children(node,selector);if(els.length){return els[els.length-1]}return null}},{"./children":58,"./internal/validate":62}],64:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var validate=require("./internal/validate");var nativeMatches=require("./internal/nativeMatches");var matchesSelectorShim=require("./shims/matchesSelector");module.exports=function matchesSelector(node,selector){validate.selector(selector,true,"matchesSelector");if(!isElement(node)){return false}if(!nativeMatches){return matchesSelectorShim(node,selector)}return nativeMatches.call(node,selector)}},{"./internal/nativeMatches":61,"./internal/validate":62,"./shims/matchesSelector":71,"@marcom/ac-dom-nodes/isElement":49}],65:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var matchesSelector=require("./matchesSelector");var validate=require("./internal/validate");module.exports=function nextSibling(node,selector){validate.childNode(node,true,"nextSibling");validate.selector(selector,false,"nextSibling");if(node.nextElementSibling&&!selector){return node.nextElementSibling}while(node=node.nextSibling){if(isElement(node)){if(!selector||matchesSelector(node,selector)){return node}}}return null}},{"./internal/validate":62,"./matchesSelector":64,"@marcom/ac-dom-nodes/isElement":49}],66:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var matchesSelector=require("./matchesSelector");var validate=require("./internal/validate");module.exports=function nextSiblings(node,selector){var els=[];validate.childNode(node,true,"nextSiblings");validate.selector(selector,false,"nextSiblings");while(node=node.nextSibling){if(isElement(node)){if(!selector||matchesSelector(node,selector)){els.push(node)}}}return els}},{"./internal/validate":62,"./matchesSelector":64,"@marcom/ac-dom-nodes/isElement":49}],67:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var matchesSelector=require("./matchesSelector");var validate=require("./internal/validate");module.exports=function previousSibling(node,selector){validate.childNode(node,true,"previousSibling");validate.selector(selector,false,"previousSibling");if(node.previousElementSibling&&!selector){return node.previousElementSibling}while(node=node.previousSibling){if(isElement(node)){if(!selector||matchesSelector(node,selector)){return node}}}return null}},{"./internal/validate":62,"./matchesSelector":64,"@marcom/ac-dom-nodes/isElement":49}],68:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var matchesSelector=require("./matchesSelector");var validate=require("./internal/validate");module.exports=function previousSiblings(node,selector){var els=[];validate.childNode(node,true,"previousSiblings");validate.selector(selector,false,"previousSiblings");while(node=node.previousSibling){if(isElement(node)){if(!selector||matchesSelector(node,selector)){els.push(node)}}}return els.reverse()}},{"./internal/validate":62,"./matchesSelector":64,"@marcom/ac-dom-nodes/isElement":49}],69:[function(require,module,exports){"use strict";var validate=require("./internal/validate");var querySelectorShim=require("./shims/querySelector");var querySelectorAvailable="querySelector"in document;module.exports=function querySelector(selector,context){context=context||document;validate.parentNode(context,true,"querySelector","context");validate.selector(selector,true,"querySelector");if(!querySelectorAvailable){return querySelectorShim(selector,context)}return context.querySelector(selector)}},{"./internal/validate":62,"./shims/querySelector":72}],70:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.slice");var validate=require("./internal/validate");var querySelectorAllShim=require("./shims/querySelectorAll");var querySelectorAllAvailable="querySelectorAll"in document;module.exports=function querySelectorAll(selector,context){context=context||document;validate.parentNode(context,true,"querySelectorAll","context");validate.selector(selector,true,"querySelectorAll");if(!querySelectorAllAvailable){return querySelectorAllShim(selector,context)}return Array.prototype.slice.call(context.querySelectorAll(selector))}},{"./internal/validate":62,"./shims/querySelectorAll":73,"@marcom/ac-polyfills/Array/prototype.slice":133}],71:[function(require,module,exports){"use strict";var querySelectorAll=require("../querySelectorAll");module.exports=function matchesSelector(node,selector){var context=node.parentNode||document;var nodes=querySelectorAll(selector,context);var i;for(i=0;i<nodes.length;i++){if(nodes[i]===node){return true}}return false}},{"../querySelectorAll":70}],72:[function(require,module,exports){"use strict";var querySelectorAll=require("./querySelectorAll");module.exports=function querySelector(selector,context){var allResults=querySelectorAll(selector,context);return allResults.length?allResults[0]:null}},{"./querySelectorAll":73}],73:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.indexOf");var isElement=require("@marcom/ac-dom-nodes/isElement");var isDocumentFragment=require("@marcom/ac-dom-nodes/isDocumentFragment");var removeElement=require("@marcom/ac-dom-nodes/remove");var COLLECTION_PREFIX="_ac_qsa_";var isElementInContext=function(el,context){var parent;if(context===document){return true}parent=el;while((parent=parent.parentNode)&&isElement(parent)){if(parent===context){return true}}return false};var recalcStyles=function(context){if("recalc"in context){context.recalc(false)}else{document.recalc(false)}window.scrollBy(0,0)};module.exports=function querySelectorAll(selector,context){var style=document.createElement();var id=COLLECTION_PREFIX+(Math.random()+"").slice(-6);var els=[];var el;context=context||document;document[id]=[];style.innerHTML="x<style>*{display:recalc;}"+selector+'{ac-qsa:expression(document["'+id+'"] && document["'+id+'"].push(this));}';style=style.lastChild;if(isDocumentFragment(context)){context.appendChild(style)}else{document.documentElement.firstChild.appendChild(style)}recalcStyles(context);while(document[id].length){el=document[id].shift();el.style.removeAttribute("ac-qsa");if(els.indexOf(el)===-1&&isElementInContext(el,context)){els.push(el)}}document[id]=null;removeElement(style);recalcStyles(context);return els}},{"@marcom/ac-dom-nodes/isDocumentFragment":47,"@marcom/ac-dom-nodes/isElement":49,"@marcom/ac-dom-nodes/remove":53,"@marcom/ac-polyfills/Array/prototype.indexOf":131}],74:[function(require,module,exports){"use strict";var children=require("./children");var validate=require("./internal/validate");module.exports=function siblings(node,selector){var els=[];validate.childNode(node,true,"siblings");validate.selector(selector,false,"siblings");if(node.parentNode){els=children(node.parentNode,selector);els=els.filter(function(el){return el!==node})}return els}},{"./children":58,"./internal/validate":62}],75:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");var canvasAvailable=function(){var documentObj=globalsHelper.getDocument();var canvas=documentObj.createElement("canvas");return!!(typeof canvas.getContext==="function"&&canvas.getContext("2d"))};module.exports=once(canvasAvailable);module.exports.original=canvasAvailable},{"./helpers/globals":83,"@marcom/ac-function/once":93}],76:[function(require,module,exports){"use strict";var ac_browser=require("ac-browser");var touchAvailable=require("./touchAvailable").original;var once=require("@marcom/ac-function/once");function continuousScrollEventsAvailable(){return!touchAvailable()||ac_browser.os==="iOS"&&ac_browser.version>=8||ac_browser.name==="Chrome"}module.exports=once(continuousScrollEventsAvailable);module.exports.original=continuousScrollEventsAvailable},{"./touchAvailable":115,"@marcom/ac-function/once":93,"ac-browser":108}],77:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function cookiesAvailable(){var available=false;var documentObj=globalsHelper.getDocument();var navigatorObj=globalsHelper.getNavigator();try{if("cookie"in documentObj&&!!navigatorObj.cookieEnabled){documentObj.cookie="ac_feature_cookie=1";available=documentObj.cookie.indexOf("ac_feature_cookie")!==-1;documentObj.cookie="ac_feature_cookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}}catch(err){}return available}module.exports=once(cookiesAvailable);module.exports.original=cookiesAvailable},{"./helpers/globals":83,"@marcom/ac-function/once":93}],78:[function(require,module,exports){"use strict";var getStyleValue=require("@marcom/ac-prefixer/getStyleValue");var once=require("@marcom/ac-function/once");function cssLinearGradientAvailable(){var values=["linear-gradient(to bottom right, #9f9, white)","linear-gradient(top left, #9f9, white)","gradient(linear, left top, right bottom, from(#9f9), to(white))"];return values.some(function(value){return!!getStyleValue("background-image",value)})}module.exports=once(cssLinearGradientAvailable);module.exports.original=cssLinearGradientAvailable},{"@marcom/ac-function/once":93,"@marcom/ac-prefixer/getStyleValue":96}],79:[function(require,module,exports){"use strict";var getStyleValue=require("@marcom/ac-prefixer/getStyleValue");var getStyleProperty=require("@marcom/ac-prefixer/getStyleProperty");var memoize=require("@marcom/ac-function/memoize");function cssPropertyAvailable(property,value){if(typeof value!=="undefined"){return!!getStyleValue(property,value)}else{return!!getStyleProperty(property)}}module.exports=memoize(cssPropertyAvailable);module.exports.original=cssPropertyAvailable},{"@marcom/ac-function/memoize":92,"@marcom/ac-prefixer/getStyleProperty":95,"@marcom/ac-prefixer/getStyleValue":96}],80:[function(require,module,exports){"use strict";var getStyleValue=require("@marcom/ac-prefixer/getStyleValue");var once=require("@marcom/ac-function/once");function cssViewportUnitsAvailable(){return!!getStyleValue("margin","1vw 1vh")}module.exports=once(cssViewportUnitsAvailable);module.exports.original=cssViewportUnitsAvailable},{"@marcom/ac-function/once":93,"@marcom/ac-prefixer/getStyleValue":96}],81:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");var memoize=require("@marcom/ac-function/memoize");function elementAttributeAvailable(attr,tagName){var documentObj=globalsHelper.getDocument();var el;tagName=tagName||"div";el=documentObj.createElement(tagName);return attr in el}module.exports=memoize(elementAttributeAvailable);module.exports.original=elementAttributeAvailable},{"./helpers/globals":83,"@marcom/ac-function/memoize":92}],82:[function(require,module,exports){"use strict";var getEventType=require("@marcom/ac-prefixer/getEventType");var memoize=require("@marcom/ac-function/memoize");function eventTypeAvailable(type,tagName){return!!getEventType(type,tagName)}module.exports=memoize(eventTypeAvailable);module.exports.original=eventTypeAvailable},{"@marcom/ac-function/memoize":92,"@marcom/ac-prefixer/getEventType":94}],83:[function(require,module,exports){"use strict";module.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],84:[function(require,module,exports){"use strict";module.exports={canvasAvailable:require("./canvasAvailable"),continuousScrollEventsAvailable:require("./continuousScrollEventsAvailable"),cookiesAvailable:require("./cookiesAvailable"),cssLinearGradientAvailable:require("./cssLinearGradientAvailable"),cssPropertyAvailable:require("./cssPropertyAvailable"),cssViewportUnitsAvailable:require("./cssViewportUnitsAvailable"),elementAttributeAvailable:require("./elementAttributeAvailable"),eventTypeAvailable:require("./eventTypeAvailable"),isDesktop:require("./isDesktop"),isHandheld:require("./isHandheld"),isRetina:require("./isRetina"),isTablet:require("./isTablet"),localStorageAvailable:require("./localStorageAvailable"),mediaElementsAvailable:require("./mediaElementsAvailable"),mediaQueriesAvailable:require("./mediaQueriesAvailable"),sessionStorageAvailable:require("./sessionStorageAvailable"),svgAvailable:require("./svgAvailable"),threeDTransformsAvailable:require("./threeDTransformsAvailable"),touchAvailable:require("./touchAvailable"),webGLAvailable:require("./webGLAvailable")}},{"./canvasAvailable":75,"./continuousScrollEventsAvailable":76,"./cookiesAvailable":77,"./cssLinearGradientAvailable":78,"./cssPropertyAvailable":79,"./cssViewportUnitsAvailable":80,"./elementAttributeAvailable":81,"./eventTypeAvailable":82,"./isDesktop":85,"./isHandheld":86,"./isRetina":87,"./isTablet":88,"./localStorageAvailable":89,"./mediaElementsAvailable":90,"./mediaQueriesAvailable":91,"./sessionStorageAvailable":112,"./svgAvailable":113,"./threeDTransformsAvailable":114,"./touchAvailable":115,"./webGLAvailable":116}],85:[function(require,module,exports){"use strict";var touchAvailable=require("./touchAvailable").original;var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function isDesktop(){var windowObj=globalsHelper.getWindow();return!touchAvailable()&&!windowObj.orientation}module.exports=once(isDesktop);module.exports.original=isDesktop},{"./helpers/globals":83,"./touchAvailable":115,"@marcom/ac-function/once":93}],86:[function(require,module,exports){"use strict";var isDesktop=require("./isDesktop").original;var isTablet=require("./isTablet").original;var once=require("@marcom/ac-function/once");function isHandheld(){return!isDesktop()&&!isTablet()}module.exports=once(isHandheld);module.exports.original=isHandheld},{"./isDesktop":85,"./isTablet":88,"@marcom/ac-function/once":93}],87:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");module.exports=function isRetina(){var windowObj=globalsHelper.getWindow();return"devicePixelRatio"in windowObj&&windowObj.devicePixelRatio>=1.5}},{"./helpers/globals":83}],88:[function(require,module,exports){"use strict";var isDesktop=require("./isDesktop").original;var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");var MIN_TABLET_WIDTH=600;function isTablet(){var windowObj=globalsHelper.getWindow();var width=windowObj.screen.width;if(windowObj.orientation&&windowObj.screen.height<width){width=windowObj.screen.height}return!isDesktop()&&width>=MIN_TABLET_WIDTH}module.exports=once(isTablet);module.exports.original=isTablet},{"./helpers/globals":83,"./isDesktop":85,"@marcom/ac-function/once":93}],89:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function localStorageAvailable(){var windowObj=globalsHelper.getWindow();var available=false;try{available=!!(windowObj.localStorage&&windowObj.localStorage.non_existent!==null)}catch(err){}return available}module.exports=once(localStorageAvailable);module.exports.original=localStorageAvailable},{"./helpers/globals":83,"@marcom/ac-function/once":93}],90:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function mediaElementsAvailable(){var windowObj=globalsHelper.getWindow();return"HTMLMediaElement"in windowObj}module.exports=once(mediaElementsAvailable);module.exports.original=mediaElementsAvailable},{"./helpers/globals":83,"@marcom/ac-function/once":93}],91:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/matchMedia");var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function mediaQueriesAvailable(){var windowObj=globalsHelper.getWindow();var mql=windowObj.matchMedia("only all");return!!(mql&&mql.matches)}module.exports=once(mediaQueriesAvailable);module.exports.original=mediaQueriesAvailable},{"./helpers/globals":83,"@marcom/ac-function/once":93,"@marcom/ac-polyfills/matchMedia":135}],92:[function(require,module,exports){"use strict";var defaultHashFunction=function(){var key="";var i;for(i=0;i<arguments.length;i++){if(i>0){key+=","}key+=arguments[i]}return key};module.exports=function memoize(func,hashFunction){hashFunction=hashFunction||defaultHashFunction;var memoized=function(){var args=arguments;var key=hashFunction.apply(this,args);if(!(key in memoized.cache)){memoized.cache[key]=func.apply(this,args)}return memoized.cache[key]};memoized.cache={};return memoized}},{}],93:[function(require,module,exports){"use strict";module.exports=function once(func){var result;return function(){if(typeof result==="undefined"){result=func.apply(this,arguments)}return result}}},{}],94:[function(require,module,exports){module.exports=require(14)},{"./shared/camelCasedEventTypes":97,"./shared/prefixHelper":99,"./shared/windowFallbackEventTypes":102,"./utils/eventTypeAvailable":103}],95:[function(require,module,exports){"use strict";var cache=require("./shared/stylePropertyCache");var getStyleTestElement=require("./shared/getStyleTestElement");var toCSS=require("./utils/toCSS");var toDOM=require("./utils/toDOM");var prefixHelper=require("./shared/prefixHelper");var memoizeStyleProperty=function(property,prefixed){var cssProperty=toCSS(property);var cssPrefixed=prefixed===false?false:toCSS(prefixed);cache[property]=cache[prefixed]=cache[cssProperty]=cache[cssPrefixed]={dom:prefixed,css:cssPrefixed};return prefixed};module.exports=function getStyleProperty(property){var properties;var ucProperty;var el;var i;property+="";if(property in cache){return cache[property].dom}el=getStyleTestElement();property=toDOM(property);ucProperty=property.charAt(0).toUpperCase()+property.substring(1);if(property==="filter"){properties=["WebkitFilter","filter"]}else{properties=(property+" "+prefixHelper.dom.join(ucProperty+" ")+ucProperty).split(" ")}for(i=0;i<properties.length;i++){if(typeof el.style[properties[i]]!=="undefined"){if(i!==0){prefixHelper.reduce(i-1)}return memoizeStyleProperty(property,properties[i])}}return memoizeStyleProperty(property,false)}},{"./shared/getStyleTestElement":98,"./shared/prefixHelper":99,"./shared/stylePropertyCache":100,"./utils/toCSS":104,"./utils/toDOM":105}],96:[function(require,module,exports){"use strict";var getStyleProperty=require("./getStyleProperty");var styleValueAvailable=require("./shared/styleValueAvailable");var prefixHelper=require("./shared/prefixHelper");var stylePropertyCache=require("./shared/stylePropertyCache");var styleValueCache={};var RE_CSS_FUNCTION_PARAMS=/(\([^\)]+\))/gi;var RE_CSS_VALUES=/([^ ,;\(]+(\([^\)]+\))?)/gi;module.exports=function getStyleValue(property,value){var cssProperty;value+="";property=getStyleProperty(property);if(!property){return false}if(styleValueAvailable(property,value)){return value}cssProperty=stylePropertyCache[property].css;value=value.replace(RE_CSS_VALUES,function(match){var values;var valueKey;var key;var i;if(match[0]==="#"||!isNaN(match[0])){return match}valueKey=match.replace(RE_CSS_FUNCTION_PARAMS,"");key=cssProperty+":"+valueKey;if(key in styleValueCache){if(styleValueCache[key]===false){return""}return match.replace(valueKey,styleValueCache[key])}values=prefixHelper.css.map(function(prefix){return prefix+match});values=[match].concat(values);for(i=0;i<values.length;i++){if(styleValueAvailable(property,values[i])){if(i!==0){prefixHelper.reduce(i-1)}styleValueCache[key]=values[i].replace(RE_CSS_FUNCTION_PARAMS,"");return values[i]}}styleValueCache[key]=false;return""});value=value.trim();return value===""?false:value}},{"./getStyleProperty":95,"./shared/prefixHelper":99,"./shared/stylePropertyCache":100,"./shared/styleValueAvailable":101}],97:[function(require,module,exports){module.exports=require(15)},{}],98:[function(require,module,exports){"use strict";var el;module.exports=function getStyleTestElement(){if(!el){el=document.createElement("_")}else{el.style.cssText="";el.removeAttribute("style")}return el};module.exports.resetElement=function(){el=null}},{}],99:[function(require,module,exports){module.exports=require(16)},{}],100:[function(require,module,exports){"use strict";module.exports={}},{}],101:[function(require,module,exports){"use strict";var cache=require("./stylePropertyCache");var getStyleTestElement=require("./getStyleTestElement");var flagsSet=false;var supportsAvailable;var invalidStyleThrowsError;var prepareFlags=function(){var el;if(!flagsSet){flagsSet=true;supportsAvailable="CSS"in window&&"supports"in window.CSS;invalidStyleThrowsError=false;el=getStyleTestElement();try{el.style.width="invalid"}catch(e){invalidStyleThrowsError=true}}};module.exports=function styleValueAvailable(property,value){var before;var el;prepareFlags();if(supportsAvailable){property=cache[property].css;return CSS.supports(property,value)}el=getStyleTestElement();before=el.style[property];if(invalidStyleThrowsError){try{el.style[property]=value}catch(e){return false}}else{el.style[property]=value}return el.style[property]&&el.style[property]!==before};module.exports.resetFlags=function(){flagsSet=false}},{"./getStyleTestElement":98,"./stylePropertyCache":100}],102:[function(require,module,exports){module.exports=require(17)},{}],103:[function(require,module,exports){module.exports=require(18)},{}],104:[function(require,module,exports){"use strict";var RE_DOM_PREFIXES=/^(webkit|moz|ms)/gi;module.exports=function toCSS(str){var i;if(str.toLowerCase()==="cssfloat"){return"float"}if(RE_DOM_PREFIXES.test(str)){str="-"+str}return str.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}},{}],105:[function(require,module,exports){"use strict";var RE_CSS_WORD=/-([a-z])/g;module.exports=function toDOM(str){var i;if(str.toLowerCase()==="float"){return"cssFloat"}str=str.replace(RE_CSS_WORD,function(str,m1){return m1.toUpperCase()});if(str.substr(0,2)==="Ms"){str="ms"+str.substring(2)}return str}},{}],106:[function(require,module,exports){if(!Array.prototype.filter){Array.prototype.filter=function filter(callback,thisObj){var arrayObject=Object(this);var len=arrayObject.length>>>0;var i;var results=[];if(typeof callback!=="function"){throw new TypeError(callback+" is not a function")}for(i=0;i<len;i+=1){if(i in arrayObject&&callback.call(thisObj,arrayObject[i],i,arrayObject)){results.push(arrayObject[i])}}return results}}},{}],107:[function(require,module,exports){if(!Array.prototype.some){Array.prototype.some=function some(callback,thisObj){var arrayObj=Object(this);var len=arrayObj.length>>>0;var i;if(typeof callback!=="function"){throw new TypeError(callback+" is not a function")}for(i=0;i<len;i+=1){if(i in arrayObj&&callback.call(thisObj,arrayObj[i],i,arrayObj)===true){return true}}return false}}},{}],108:[function(require,module,exports){"use strict";var BrowserData=require("./ac-browser/BrowserData");var webkitRegExp=/applewebkit/i;var IE=require("./ac-browser/IE");var browser=BrowserData.create();browser.isWebKit=function(userAgentString){var userAgent=userAgentString||window.navigator.userAgent;return userAgent?!!webkitRegExp.test(userAgent):false};browser.lowerCaseUserAgent=navigator.userAgent.toLowerCase();if(browser.name==="IE"){browser.IE={documentMode:IE.getDocumentMode()}}module.exports=browser},{"./ac-browser/BrowserData":109,"./ac-browser/IE":110}],109:[function(require,module,exports){"use strict";require("ac-polyfills/Array/prototype.filter");require("ac-polyfills/Array/prototype.some");var _data=require("./data");function BrowserData(){}BrowserData.prototype={__getBrowserVersion:function(stringToSearch,identity){var version;if(!stringToSearch||!identity){return}var filteredData=_data.browser.filter(function(item){return item.identity===identity});filteredData.some(function(item){var versionSearchString=item.versionSearch||identity;var index=stringToSearch.indexOf(versionSearchString);if(index>-1){version=parseFloat(stringToSearch.substring(index+versionSearchString.length+1));return true}});return version},__getName:function(dataBrowser){return this.__getIdentityStringFromArray(dataBrowser)},__getIdentity:function(item){if(item.string){return this.__matchSubString(item)}else if(item.prop){return item.identity}},__getIdentityStringFromArray:function(dataArray){for(var i=0,l=dataArray.length,identity;i<l;i++){identity=this.__getIdentity(dataArray[i]);if(identity){return identity}}},__getOS:function(dataOS){return this.__getIdentityStringFromArray(dataOS)},__getOSVersion:function(stringToSearch,osIdentity){if(!stringToSearch||!osIdentity){return}var filteredData=_data.os.filter(function(item){return item.identity===osIdentity})[0];var versionSearchString=filteredData.versionSearch||osIdentity;var regex=new RegExp(versionSearchString+" ([\\d_\\.]+)","i");var version=stringToSearch.match(regex);if(version!==null){return version[1].replace(/_/g,".")}},__matchSubString:function(item){var subString=item.subString;if(subString){var matches=subString.test?!!subString.test(item.string):item.string.indexOf(subString)>-1;if(matches){return item.identity}}}};BrowserData.create=function(){var instance=new BrowserData;var out={};out.name=instance.__getName(_data.browser);out.version=instance.__getBrowserVersion(_data.versionString,out.name);out.os=instance.__getOS(_data.os);out.osVersion=instance.__getOSVersion(_data.versionString,out.os);return out};module.exports=BrowserData},{"./data":111,"ac-polyfills/Array/prototype.filter":106,"ac-polyfills/Array/prototype.some":107}],110:[function(require,module,exports){"use strict";module.exports={getDocumentMode:function(){var ie;if(document.documentMode){ie=parseInt(document.documentMode,10)}else{ie=5;if(document.compatMode){if(document.compatMode==="CSS1Compat"){ie=7}}}return ie}}},{}],111:[function(require,module,exports){"use strict";module.exports={browser:[{string:window.navigator.userAgent,subString:"Edge",identity:"Edge"},{string:window.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:window.navigator.userAgent,subString:/silk/i,identity:"Silk"},{string:window.navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:window.navigator.userAgent,subString:/mobile\/[^\s]*\ssafari\//i,identity:"Safari Mobile",versionSearch:"Version"},{string:window.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:window.navigator.vendor,subString:"iCab",identity:"iCab"},{string:window.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:window.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:window.navigator.vendor,subString:"Camino",identity:"Camino"},{string:window.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:window.navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:window.navigator.userAgent,subString:"Trident",identity:"IE",versionSearch:"rv"},{string:window.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:window.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],os:[{string:window.navigator.platform,subString:"Win",identity:"Windows",versionSearch:"Windows NT"},{string:window.navigator.platform,subString:"Mac",identity:"OS X"},{string:window.navigator.userAgent,subString:"iPhone",identity:"iOS",versionSearch:"iPhone OS"},{string:window.navigator.userAgent,subString:"iPad",identity:"iOS",versionSearch:"CPU OS"},{string:window.navigator.userAgent,subString:/android/i,identity:"Android"},{string:window.navigator.platform,subString:"Linux",identity:"Linux"}],versionString:window.navigator.userAgent||window.navigator.appVersion||undefined}},{}],112:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function sessionStorageAvailable(){var windowObj=globalsHelper.getWindow();var available=false;try{if("sessionStorage"in windowObj&&typeof windowObj.sessionStorage.setItem==="function"){windowObj.sessionStorage.setItem("ac_feature","test");available=true;windowObj.sessionStorage.removeItem("ac_feature","test")}}catch(e){}return available}module.exports=once(sessionStorageAvailable);module.exports.original=sessionStorageAvailable},{"./helpers/globals":83,"@marcom/ac-function/once":93}],113:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function svgAvailable(){var documentObj=globalsHelper.getDocument();return!!documentObj.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}module.exports=once(svgAvailable);module.exports.original=svgAvailable},{"./helpers/globals":83,"@marcom/ac-function/once":93}],114:[function(require,module,exports){"use strict";var getStyleValue=require("@marcom/ac-prefixer/getStyleValue");var once=require("@marcom/ac-function/once");function threeDTransformsAvailable(){return!!(getStyleValue("perspective","1px")&&getStyleValue("transform","translateZ(0)"))}module.exports=once(threeDTransformsAvailable);module.exports.original=threeDTransformsAvailable},{"@marcom/ac-function/once":93,"@marcom/ac-prefixer/getStyleValue":96}],115:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function touchAvailable(){var windowObj=globalsHelper.getWindow();var documentObj=globalsHelper.getDocument();var navigatorObj=globalsHelper.getNavigator();return!!("ontouchstart"in windowObj||windowObj.DocumentTouch&&documentObj instanceof windowObj.DocumentTouch||navigatorObj.maxTouchPoints>0||navigatorObj.msMaxTouchPoints>0)}module.exports=once(touchAvailable);module.exports.original=touchAvailable},{"./helpers/globals":83,"@marcom/ac-function/once":93}],116:[function(require,module,exports){"use strict";var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function webGLAvailable(){var documentObj=globalsHelper.getDocument();var canvas=documentObj.createElement("canvas");if(typeof canvas.getContext==="function"){return!!(canvas.getContext("webgl")||canvas.getContext("experimental-webgl"))}return false}module.exports=once(webGLAvailable);module.exports.original=webGLAvailable},{"./helpers/globals":83,"@marcom/ac-function/once":93}],117:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/isArray");var extend=require("./extend");var hasOwnProp=Object.prototype.hasOwnProperty;var deepClone=function(dest,source){var prop;for(prop in source){if(hasOwnProp.call(source,prop)){if(source[prop]===null){dest[prop]=null}else if(typeof source[prop]==="object"){dest[prop]=Array.isArray(source[prop])?[]:{};deepClone(dest[prop],source[prop])}else{dest[prop]=source[prop]}}}return dest};module.exports=function clone(object,deep){if(deep){return deepClone({},object)}return extend({},object)}},{"./extend":120,"@marcom/ac-polyfills/Array/isArray":128}],118:[function(require,module,exports){"use strict";var F=function(){};module.exports=function create(proto){if(arguments.length>1){throw new Error("Second argument not supported")}if(proto===null||typeof proto!=="object"){throw new TypeError("Object prototype may only be an Object.")}if(typeof Object.create==="function"){return Object.create(proto)}else{F.prototype=proto;return new F}}},{}],119:[function(require,module,exports){"use strict";var extend=require("./extend");module.exports=function defaults(defaultsObj,options){if(typeof defaultsObj!=="object"){throw new TypeError("defaults: must provide a defaults object")}options=options||{};if(typeof options!=="object"){throw new TypeError("defaults: options must be a typeof object")}return extend({},defaultsObj,options)}},{"./extend":120}],120:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.forEach");var hasOwnProp=Object.prototype.hasOwnProperty;module.exports=function extend(){var args;var dest;if(arguments.length<2){args=[{},arguments[0]]}else{args=[].slice.call(arguments)}dest=args.shift();args.forEach(function(source){if(source!=null){for(var property in source){if(hasOwnProp.call(source,property)){dest[property]=source[property]}}}});return dest}},{"@marcom/ac-polyfills/Array/prototype.forEach":130}],121:[function(require,module,exports){"use strict";var hasOwnProp=Object.prototype.hasOwnProperty;module.exports=function getPrototypeOf(obj){if(Object.getPrototypeOf){return Object.getPrototypeOf(obj)}else{if(typeof obj!=="object"){throw new Error("Requested prototype of a value that is not an object.")}else if(typeof this.__proto__==="object"){return obj.__proto__}else{var constructor=obj.constructor;var oldConstructor;if(hasOwnProp.call(obj,"constructor")){oldConstructor=constructor;if(!delete obj.constructor){return null}constructor=obj.constructor;obj.constructor=oldConstructor}return constructor?constructor.prototype:null}}}},{}],122:[function(require,module,exports){"use strict";module.exports={clone:require("./clone"),create:require("./create"),defaults:require("./defaults"),extend:require("./extend"),getPrototypeOf:require("./getPrototypeOf"),isDate:require("./isDate"),isEmpty:require("./isEmpty"),isRegExp:require("./isRegExp"),toQueryParameters:require("./toQueryParameters")}},{"./clone":117,"./create":118,"./defaults":119,"./extend":120,"./getPrototypeOf":121,"./isDate":123,"./isEmpty":124,"./isRegExp":125,"./toQueryParameters":127}],123:[function(require,module,exports){"use strict";module.exports=function isDate(date){return Object.prototype.toString.call(date)==="[object Date]"}},{}],124:[function(require,module,exports){"use strict";var hasOwnProp=Object.prototype.hasOwnProperty;module.exports=function isEmpty(object){var prop;if(typeof object!=="object"){throw new TypeError("ac-base.Object.isEmpty : Invalid parameter - expected object")}for(prop in object){if(hasOwnProp.call(object,prop)){return false}}return true}},{}],125:[function(require,module,exports){"use strict";module.exports=function isRegExp(obj){return window.RegExp?obj instanceof RegExp:false}},{}],126:[function(require,module,exports){var toString=Object.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;var indexOf=typeof Array.prototype.indexOf==="function"?function(arr,el){return arr.indexOf(el)}:function(arr,el){for(var i=0;i<arr.length;i++){if(arr[i]===el)return i}return-1};var isArray=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"};var objectKeys=Object.keys||function(obj){var ret=[];for(var key in obj){if(obj.hasOwnProperty(key)){ret.push(key)}}return ret};var forEach=typeof Array.prototype.forEach==="function"?function(arr,fn){return arr.forEach(fn)}:function(arr,fn){for(var i=0;i<arr.length;i++)fn(arr[i])};var reduce=function(arr,fn,initial){if(typeof arr.reduce==="function")return arr.reduce(fn,initial);var res=initial;for(var i=0;i<arr.length;i++)res=fn(res,arr[i]);return res};var isint=/^[0-9]+$/;function promote(parent,key){if(parent[key].length==0)return parent[key]={};var t={};for(var i in parent[key]){if(hasOwnProperty.call(parent[key],i)){t[i]=parent[key][i]}}parent[key]=t;return t}function parse(parts,parent,key,val){var part=parts.shift();if(hasOwnProperty.call(Object.prototype,key))return;if(!part){if(isArray(parent[key])){parent[key].push(val)}else if("object"==typeof parent[key]){parent[key]=val}else if("undefined"==typeof parent[key]){parent[key]=val}else{parent[key]=[parent[key],val]}}else{var obj=parent[key]=parent[key]||[];if("]"==part){if(isArray(obj)){if(""!=val)obj.push(val)}else if("object"==typeof obj){obj[objectKeys(obj).length]=val}else{obj=parent[key]=[parent[key],val]}}else if(~indexOf(part,"]")){part=part.substr(0,part.length-1);if(!isint.test(part)&&isArray(obj))obj=promote(parent,key);parse(parts,obj,part,val)}else{if(!isint.test(part)&&isArray(obj))obj=promote(parent,key);parse(parts,obj,part,val)}}}function merge(parent,key,val){if(~indexOf(key,"]")){var parts=key.split("["),len=parts.length,last=len-1;parse(parts,parent,"base",val)}else{if(!isint.test(key)&&isArray(parent.base)){var t={};for(var k in parent.base)t[k]=parent.base[k];parent.base=t}set(parent.base,key,val)}return parent}function compact(obj){if("object"!=typeof obj)return obj;if(isArray(obj)){var ret=[];for(var i in obj){if(hasOwnProperty.call(obj,i)){ret.push(obj[i])}}return ret}for(var key in obj){obj[key]=compact(obj[key])}return obj}function parseObject(obj){var ret={base:{}};forEach(objectKeys(obj),function(name){merge(ret,name,obj[name])});return compact(ret.base)}function parseString(str){var ret=reduce(String(str).split("&"),function(ret,pair){var eql=indexOf(pair,"="),brace=lastBraceInKey(pair),key=pair.substr(0,brace||eql),val=pair.substr(brace||eql,pair.length),val=val.substr(indexOf(val,"=")+1,val.length);if(""==key)key=pair,val="";if(""==key)return ret;return merge(ret,decode(key),decode(val))},{base:{}}).base;return compact(ret)}exports.parse=function(str){if(null==str||""==str)return{};return"object"==typeof str?parseObject(str):parseString(str)};var stringify=exports.stringify=function(obj,prefix){if(isArray(obj)){return stringifyArray(obj,prefix)}else if("[object Object]"==toString.call(obj)){return stringifyObject(obj,prefix)}else if("string"==typeof obj){return stringifyString(obj,prefix)}else{return prefix+"="+encodeURIComponent(String(obj))}};function stringifyString(str,prefix){if(!prefix)throw new TypeError("stringify expects an object");return prefix+"="+encodeURIComponent(str)}function stringifyArray(arr,prefix){var ret=[];if(!prefix)throw new TypeError("stringify expects an object");for(var i=0;i<arr.length;i++){ret.push(stringify(arr[i],prefix+"["+i+"]"))}return ret.join("&")}function stringifyObject(obj,prefix){var ret=[],keys=objectKeys(obj),key;for(var i=0,len=keys.length;i<len;++i){key=keys[i];if(""==key)continue;if(null==obj[key]){ret.push(encodeURIComponent(key)+"=")}else{ret.push(stringify(obj[key],prefix?prefix+"["+encodeURIComponent(key)+"]":encodeURIComponent(key)))}}return ret.join("&")}function set(obj,key,val){var v=obj[key];if(hasOwnProperty.call(Object.prototype,key))return;if(undefined===v){obj[key]=val}else if(isArray(v)){v.push(val)}else{obj[key]=[v,val]}}function lastBraceInKey(str){var len=str.length,brace,c;for(var i=0;i<len;++i){c=str[i];if("]"==c)brace=false;if("["==c)brace=true;if("="==c&&!brace)return i}}function decode(str){try{return decodeURIComponent(str.replace(/\+/g," "))}catch(err){return str}}},{}],127:[function(require,module,exports){"use strict";var qs=require("qs");module.exports=function toQueryParameters(object){if(typeof object!=="object"){throw new TypeError("toQueryParameters error: argument is not an object")}return qs.stringify(object)}},{qs:126}],128:[function(require,module,exports){if(!Array.isArray){Array.isArray=function(arg){return Object.prototype.toString.call(arg)==="[object Array]"}}},{}],129:[function(require,module,exports){if(!Array.prototype.filter){Array.prototype.filter=function filter(callback,thisObj){var arrayObject=Object(this);var len=arrayObject.length>>>0;var i;var results=[];if(typeof callback!=="function"){throw new TypeError(callback+" is not a function")}for(i=0;i<len;i+=1){if(i in arrayObject&&callback.call(thisObj,arrayObject[i],i,arrayObject)){results.push(arrayObject[i])}}return results}}},{}],130:[function(require,module,exports){if(!Array.prototype.forEach){Array.prototype.forEach=function forEach(callback,thisObj){var arrayObject=Object(this);var i;var currentValue;if(typeof callback!=="function"){throw new TypeError("No function object passed to forEach.")}for(i=0;i<this.length;i+=1){currentValue=arrayObject[i];callback.call(thisObj,currentValue,i,arrayObject)}}}},{}],131:[function(require,module,exports){if(!Array.prototype.indexOf){Array.prototype.indexOf=function indexOf(searchElement,fromIndex){var startIndex=fromIndex||0;var currentIndex=0;if(startIndex<0){startIndex=this.length+fromIndex-1;if(startIndex<0){throw"Wrapped past beginning of array while looking up a negative start index."}}for(currentIndex=0;currentIndex<this.length;currentIndex++){if(this[currentIndex]===searchElement){return currentIndex}}return-1}}},{}],132:[function(require,module,exports){if(!Array.prototype.reduce){Array.prototype.reduce=function reduce(callback,initialValue){var arrayObj=Object(this);var len=arrayObj.length>>>0;var i=0;var result;if(typeof callback!=="function"){throw new TypeError(callback+" is not a function")}if(typeof initialValue==="undefined"){if(!len){throw new TypeError("Reduce of empty array with no initial value")}result=arrayObj[0];i=1}else{result=initialValue}while(i<len){if(i in arrayObj){result=callback.call(undefined,result,arrayObj[i],i,arrayObj);i+=1}}return result}}},{}],133:[function(require,module,exports){(function(){"use strict";var _slice=Array.prototype.slice;try{_slice.call(document.documentElement)}catch(e){Array.prototype.slice=function(begin,end){end=typeof end!=="undefined"?end:this.length;if(Object.prototype.toString.call(this)==="[object Array]"){return _slice.call(this,begin,end)}var i,cloned=[],size,len=this.length;var start=begin||0;start=start>=0?start:len+start;var upTo=end?end:len;if(end<0){upTo=len+end}size=upTo-start;if(size>0){cloned=new Array(size);if(this.charAt){for(i=0;i<size;i++){cloned[i]=this.charAt(start+i)}}else{for(i=0;i<size;i++){cloned[i]=this[start+i]}}}return cloned}}})()},{}],134:[function(require,module,exports){if(document.createEvent){try{new window.CustomEvent("click")}catch(err){window.CustomEvent=function(){function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;return CustomEvent}()}}},{}],135:[function(require,module,exports){window.matchMedia=window.matchMedia||function(doc,undefined){var bool,docElem=doc.documentElement,refNode=docElem.firstElementChild||docElem.firstChild,fakeBody=doc.createElement("body"),div=doc.createElement("div");div.id="mq-test-1";div.style.cssText="position:absolute;top:-100em";fakeBody.style.background="none";fakeBody.appendChild(div);return function(q){div.innerHTML='&shy;<style media="'+q+'"> #mq-test-1 { width:42px; }</style>';docElem.insertBefore(fakeBody,refNode);bool=div.offsetWidth===42;docElem.removeChild(fakeBody);return{matches:bool,media:q}}}(document)},{}],136:[function(require,module,exports){"use strict";var sCode=require("./s-code/s-code");var plugins=require("./s-code/plugins");module.exports.init=sCode;module.exports.plugins=plugins},{"./s-code/plugins":137,"./s-code/s-code":150}],137:[function(require,module,exports){"use strict";function init(sCode){require("./plugins/utilities/utilities")(sCode);require("./plugins/customLinkHandler")(sCode);require("./plugins/detectRIA")(sCode);require("./plugins/deviceOrientationChanges")(sCode);require("./plugins/downloadLinkHandler")(sCode);require("./plugins/getAndPersistValue")(sCode);require("./plugins/getPercentPageViewed")(sCode);require("./plugins/getPreviousValue")(sCode);require("./plugins/getQueryParam")(sCode);require("./plugins/getValOnce")(sCode);require("./plugins/setClickMapEmail")(sCode);require("./plugins/setDynamicObjectIDs")(sCode)}module.exports.init=init},{"./plugins/customLinkHandler":138,"./plugins/detectRIA":139,"./plugins/deviceOrientationChanges":140,"./plugins/downloadLinkHandler":141,"./plugins/getAndPersistValue":142,"./plugins/getPercentPageViewed":143,"./plugins/getPreviousValue":144,"./plugins/getQueryParam":145,"./plugins/getValOnce":146,"./plugins/setClickMapEmail":147,"./plugins/setDynamicObjectIDs":148,"./plugins/utilities/utilities":149}],138:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.linkHandler=new Function("p","t",""+"var s=this,h=s.p_gh(),i,l;t=t?t:'o';if(!h||(s.linkType&&(h||s.linkN"+"ame)))return '';i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h."+"substring(0,i);l=s.pt(p,'|','p_gn',h.toLowerCase());if(l){s.linkNam"+"e=l=='[['?'':l;s.linkType=t;return h;}return '';");sCode.p_gn=new Function("t","h",""+"var i=t?t.indexOf('~'):-1,n,x;if(t&&h){n=i<0?'':t.substring(0,i);x="+"t.substring(i+1);if(h.indexOf(x.toLowerCase())>-1)return n?n:'[[';}"+"return 0;")}},{}],139:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.detectRIA=new Function("cn","fp","sp","mfv","msv","sf",""+"cn=cn?cn:'s_ria';msv=msv?msv:2;mfv=mfv?mfv:10;var s=this,sv='',fv=-"+"1,dwi=0,fr='',sr='',w,mt=s.n.mimeTypes,uk=s.c_r(cn),k=s.c_w('s_cc',"+"'true',0)?'Y':'N';fk=uk.substring(0,uk.indexOf('|'));sk=uk.substrin"+"g(uk.indexOf('|')+1,uk.length);if(k=='Y'&&s.p_fo('detectRIA')){if(u"+"k&&!sf){if(fp){s[fp]=fk;}if(sp){s[sp]=sk;}return false;}if(!fk&&fp)"+"{if(s.pl&&s.pl.length){if(s.pl['Shockwave Flash 2.0'])fv=2;x=s.pl['"+"Shockwave Flash'];if(x){fv=0;z=x.description;if(z)fv=z.substring(16"+",z.indexOf('.'));}}else if(navigator.plugins&&navigator.plugins.len"+"gth){x=navigator.plugins['Shockwave Flash'];if(x){fv=0;z=x.descript"+"ion;if(z)fv=z.substring(16,z.indexOf('.'));}}else if(mt&&mt.length)"+"{x=mt['application/x-shockwave-flash'];if(x&&x.enabledPlugin)fv=0;}"+"if(fv<=0)dwi=1;w=s.u.indexOf('Win')!=-1?1:0;if(dwi&&s.isie&&w&&exec"+"Script){result=false;for(var i=mfv;i>=3&&result!=true;i--){execScri"+"pt('on error resume next: result = IsObject(CreateObject(\"Shockwav"+"eFlash.ShockwaveFlash.'+i+'\"))','VBScript');fv=i;}}fr=fv==-1?'Flas"+"h Not Detected':fv==0?'Flash Enabled (No Version)':'Flash '+fv;}if("+"!sk&&sp&&s.apv>=4.1){var tc='try{x=new ActiveXObject(\"AgControl.A'"+"+'gControl\");for(var i=msv;i>0;i--){for(var j=9;j>=0;j--){if(x.is'"+'+\'VersionSupported(i+"."+j)){sv=i+"."+j;break;}}if(sv){break;}\''+"+'}}catch(e){try{x=navigator.plugins[\"Silverlight Plug-In\"];sv=x'"+"+'.description.substring(0,x.description.indexOf(\".\")+2);}catch('"+"+'e){}}';eval(tc);sr=sv==''?'Silverlight Not Detected':'Silverlight"+" '+sv;}if((fr&&fp)||(sr&&sp)){s.c_w(cn,fr+'|'+sr,0);if(fr)s[fp]=fr;"+"if(sr)s[sp]=sr;}}")}},{}],140:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.p_oc=new Function("evt",""+"var o=s.wd.orientation,ot=(Math.abs(o)==90)?'l':'p',cv,v;s.lc=(evt."+"type=='load')?s.lc+1:s.lc;if(s.lc==0)return;if(typeof(o)!='undefine"+"d'){ot=(evt.type=='load')?ot:ot+':'+s.c_r('s_orientationHeight');cv"+"=s.c_r('s_orientation');v=cv?cv+=','+ot:ot;s.c_w('s_orientation',v)"+"}");sCode.p_och=new Function("",""+"var dh=Math.max(Math.max(s.d.body.scrollHeight,s.d.documentElement."+"scrollHeight),Math.max(s.d.body.offsetHeight,s.d.documentElement.of"+"fsetHeight),Math.max(s.d.body.clientHeight,s.d.documentElement.clie"+"ntHeight));vph=s.wd.innerHeight||(s.d.documentElement.clientHeight|"+"|s.d.body.clientHeight),st=s.wd.pageYOffset||(s.wd.document.documen"+"tElement.scrollTop||s.wd.document.body.scrollTop),vh=st+vph;s.c_w('"+"s_orientationHeight',vh);");sCode.deviceOrientationChanges=new Function("ext",""+"var s=this,v;s.lc=0;if(typeof(s.linkType)!='undefined'&&s.linkType!"+"='e')return'';var cv=s.c_r('s_orientation'),cva=(cv.indexOf(',')>-1"+")?cv.split(','):'';if(cv){if(cva){if(!ext){for(i=1;i<cva.length;i++"+"){cva[i]=cva[i].split(':')[0];}}cva[0]+='@s';cva.push(cva[cva.lengt"+"h-1].split(':')[0]+'@e');v=cva.toString();}else{v=cv+'@s,'+cv+'@e';"+"}}s.c_w('s_orientation','');if(s.wd.addEventListener){s.wd.addEvent"+"Listener('orientationchange',s.p_oc,false);s.wd.addEventListener('l"+"oad',s.p_oc,false);s.wd.addEventListener('load',s.p_och,false);s.wd"+".addEventListener('scroll',s.p_och,false);}return v;")}},{}],141:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.downloadLinkHandler=new Function("p",""+"var s=this,h=s.p_gh(),n='linkDownloadFileTypes',i,t;if(!h||(s.linkT"+"ype&&(h||s.linkName)))return '';i=h.indexOf('?');t=s[n];s[n]=p?p:t;"+"if(s.lt(h)=='d')s.linkType='d';else h='';s[n]=t;return h;")}},{}],142:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.getAndPersistValue=new Function("v","c","e",""+"var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if("+"v)s.c_w(c,v,e?a:0);return s.c_r(c);");sCode.__se=new Function(""+"var l={'~':'tl:[\\'','^': 'kw:[\\'','%': 'ahoo','|': '\\'],','>': '"+"\\']}','*': '.com','$': 'search',';':'query','#':'land','`':'oogle'"+",'+':'http://www','<':'keyword'};var f=this.___se+'';var g='';for(v"+"ar i=0;i<f.length;i++){if(l[f.substring(i,i+1)]&&typeof l[f.substri"+"ng(i,i+1)]!='undefined'){g+=l[f.substring(i,i+1)];}else{g+=f.substr"+"ing(i,i+1);}}return eval('('+g+')');");sCode.___se="{}";sCode.isEntry=new Function(""+"var s=this;var l=s.linkInternalFilters,r=s.referrer||typeof s.refer"+"rer!='undefined'?s.referrer:document.referrer,p=l.indexOf(','),b=0,"+"v='';if(!r){return 1;}while(p=l.indexOf(',')){v=p>-1?l.substring(b,"+"p):l;if(v=='.'||r.indexOf(v)>-1){return 0;}if(p==-1){break;}b=p+1;l"+"=l.substring(b,l.length);}return 1;");sCode.p_fo=new Function("n",""+"var s=this;if(!s.__fo){s.__fo=new Object;}if(!s.__fo[n]){s.__fo[n]="+"new Object;return 1;}else {return 0;}")}},{}],143:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.handlePPVevents=new Function("",""+"if(!s.getPPVid)return;var dh=Math.max(Math.max(s.d.body.scrollHeigh"+"t,s.d.documentElement.scrollHeight),Math.max(s.d.body.offsetHeight,"+"s.d.documentElement.offsetHeight),Math.max(s.d.body.clientHeight,s."+"d.documentElement.clientHeight)),vph=s.wd.innerHeight||(s.d.documen"+"tElement.clientHeight||s.d.body.clientHeight),st=s.wd.pageYOffset||"+"(s.wd.document.documentElement.scrollTop||s.wd.document.body.scroll"+"Top),vh=st+vph,pv=Math.min(Math.round(vh/dh*100),100),c=s.c_r('s_pp"+"v'),a=(c.indexOf(',')>-1)?c.split(',',5):[],id=(a.length>0)?(a[0]):"+"escape(s.getPPVid),cv=(a.length>1)?parseInt(a[1]):(0),p0=(a.length>"+"2)?parseInt(a[2]):(pv),cy=(a.length>3)?parseInt(a[3]):(0),pt=s._ct,"+"ph=s._ch,t=new Date;t.setTime(t.getTime()+1800000);s._ct=new Date()"+".getTime();s._ch=vh;var sa='',td=Math.round((s._ct-pt)/1000),hd=Mat"+"h.abs(s._ch-ph),lowerBound,upperBound;if(hd&&td){lowerBound=Math.ce"+"il(st/100)*100;upperBound=Math.ceil(s._ch/100)*100;while(lowerBound"+"<=upperBound){if(lowerBound!=0){var value=lowerBound+':'+(td>10?'>'"+":td);if(s.pxViewedArray.length==0){s.pxViewedArray.push(value);}els"+"e if(s.pxViewedArray.toString().indexOf(lowerBound)==-1){s.pxViewed"+"Array.push(value);}else{for(i=0;i<s.pxViewedArray.length;i++){var a"+"v=s.pxViewedArray[i].split(':');if(lowerBound==av[0]){if(av[1]!='>'"+"){var totalTime=Math.floor((Number(av[1])+Number(td))*100)/100;if(t"+"otalTime>10){totalTime='>';}s.pxViewedArray[i]=av[0]+':'+totalTime;"+"}break;}}}}lowerBound=lowerBound+100;s.pxViewedArray.sort(function("+"a,b){return parseInt(a)-parseInt(b)});}}sa=s.pxViewedArray.toString"+"().replace(/,/g,'|');cn=(pv>0)?(id+','+((pv>cv)?pv:cv)+','+p0+','+("+"(vh>cy)?vh:cy)+','+((sa)?sa:'')):'';s.c_w('s_ppv',cn,t);");sCode.getPercentPageViewed=new Function("pid",""+"pid=pid?pid:'-';var s=this,ist=!s.getPPVid?true:false,t=new Date;t."+"setTime(t.getTime()+1800000);if(typeof(s.linkType)!='undefined'&&s."+"linkType!='e')return'';var v=s.c_r('s_ppv'),a=(v.indexOf(',')>-1)?v"+".split(',',5):[];if(a.length<5){for(var i=4;i>0;i--){a[i]=(i<a.leng"+"th)?(a[i-1]):('');}a[0]='';}a[0]=unescape(a[0]);s.getPPVpid=pid;s.c"+"_w('s_ppv',escape(pid),t);s.pxViewedArray=[];if(ist){s.getPPVid=(pi"+"d)?(pid):(s.pageName?s.pageName:document.location.href);s.c_w('s_pp"+"v',escape(s.getPPVid),0);if(s.wd.addEventListener){s.wd.addEventLis"+"tener('load',s.handlePPVevents,false);s.wd.addEventListener('scroll"+"',s.handlePPVevents,false);s.wd.addEventListener('resize',s.handleP"+"PVevents,false);}else if(s.wd.attachEvent){s.wd.attachEvent('onload"+"',s.handlePPVevents);s.wd.attachEvent('onscroll',s.handlePPVevents)"+";s.wd.attachEvent('onresize',s.handlePPVevents);}}return(pid!='-')?"+"(a):(a[1]);")}},{}],144:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.getPreviousValue=new Function("v","c","el",""+"var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el"+"){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i"+"){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t)"+":s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?"+"s.c_w(c,v,t):s.c_w(c,'no value',t);return r}")}},{}],145:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.getQueryParam=new Function("p","d","u",""+"var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.locati"+"on);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p"+".length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-"+"1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i="+"=p.length?i:i+1)}return v");sCode.p_gpv=new Function("k","u",""+"var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v"+"=s.pt(q,'&','p_gvf',k)}return v");sCode.p_gvf=new Function("t","k",""+"if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'T"+"rue':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s."+"epa(v)}return ''")}},{}],146:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.getValOnce=new Function("v","c","e",""+"var s=this,a=new Date,v=v?v:v='',c=c?c:c='s_gvo',e=e?e:0,k=s.c_r(c"+");if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}return"+" v==k?'':v")}},{}],147:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.setClickMapEmail=new Function("qp","ot",""+"var s=this,v=s.getQueryParam(qp,'~'),d,pn,oid,ot=s.getQueryParam(ot)"+",ot=ot?ot:'A',cv;d=v.indexOf('~');if(!v)return '';if(d>-1){pn=v.subs"+"tring(0,d);oid=v.substring(d+1);}cv='&pid='+s.ape(s.fl(pn,255))+'&pi"+"dt=1&oid='+s.ape(s.fl(oid,100))+'&oidt=1&ot='+ot+'&oi=1';s.sq(cv);")}},{}],148:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.setupDynamicObjectIDs=new Function(""+"var s=this;if(!s.doi){s.doi=1;if(s.apv>3&&(!s.isie||!s.ismac||s.apv"+">=5)){if(s.wd.attachEvent)s.wd.attachEvent('onload',s.setOIDs);else"+" if(s.wd.addEventListener)s.wd.addEventListener('load',s.setOIDs,fa"+"lse);else{s.doiol=s.wd.onload;s.wd.onload=s.setOIDs}}s.wd.s_semapho"+"re=1}");sCode.setOIDs=new Function("e",""+"var s=s_c_il["+s._in+"],b=s.eh(s.wd,'onload'),o='onclick',x,l,u,c,i"+",a=new Array;if(s.doiol){if(b)s[b]=s.wd[b];s.doiol(e)}if(s.d.links)"+"{for(i=0;i<s.d.links.length;i++){l=s.d.links[i];"+"if(s._isSafari){s.acAnalytics.dynamicObjectIdHandlerSafari(s, l);}"+"c=l[o]?''+l[o]:'';b"+"=s.eh(l,o);z=l[b]?''+l[b]:'';u=s.getObjectID(l);if(u&&c.indexOf('s_"+"objectID')<0&&z.indexOf('s_objectID')<0){u=s.repl(u,'\"','');u=s.re"+"pl(u,'\\n','').substring(0,97);l.s_oc=l[o];a[u]=a[u]?a[u]+1:1;x='';"+"if(c.indexOf('.t(')>=0||c.indexOf('.tl(')>=0||c.indexOf('s_gs(')>=0"+")x='var x=\".tl(\";';x+='s_objectID=\"'+u+'_'+a[u]+'\";return this."+"s_oc?this.s_oc(e):true';if(s.isns&&s.apv>=5)l.setAttribute(o,x);l[o"+"]=new Function('e',x)}}}s.wd.s_semaphore=0;return true")}},{}],149:[function(require,module,exports){"use strict";module.exports=function(sCode){sCode.manageVars=new Function("c","l","f",""+"var s=this,vl,la,vla;l=l?l:'';f=f?f:1 ;if(!s[c])return false;vl='pa"+"geName,purchaseID,channel,server,pageType,campaign,state,zip,events"+",products,transactionID';for(var n=1;n<76;n++){vl+=',prop'+n+',eVar"+"'+n+',hier'+n;}if(l&&(f==1||f==2)){if(f==1){vl=l;}if(f==2){la=s.spl"+"it(l,',');vla=s.split(vl,',');vl='';for(x in la){for(y in vla){if(l"+"a[x]==vla[y]){vla[y]='';}}}for(y in vla){vl+=vla[y]?','+vla[y]:'';}"+"}s.pt(vl,',',c,0);return true;}else if(l==''&&f==1){s.pt(vl,',',c,0"+");return true;}else{return false;}");sCode.clearVars=new Function("t","var s=this;s[t]='';");sCode.lowercaseVars=new Function("t",""+"var s=this;if(s[t]&&t!='events'){s[t]=s[t].toString();if(s[t].index"+"Of('D=')!=0){s[t]=s[t].toLowerCase();}}");sCode.join=new Function("v","p",""+"var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back"+":'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0"+";x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);el"+"se str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;");sCode.p_fo=new Function("n",""+"var s=this;if(!s.__fo){s.__fo=new Object;}if(!s.__fo[n]){s.__fo[n]="+"new Object;return 1;}else {return 0;}");sCode.p_gh=new Function(""+"var s=this;if(!s.eo&&!s.lnk)return '';var o=s.eo?s.eo:s.lnk,y=s.ot("+"o),n=s.oid(o),x=o.s_oidt;if(s.eo&&o==s.eo){while(o&&!n&&y!='BODY'){"+"o=o.parentElement?o.parentElement:o.parentNode;if(!o)return '';y=s."+"ot(o);n=s.oid(o);x=o.s_oidt}}return o.href?o.href:'';");sCode.apl=new Function("L","v","d","u",""+"var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a."+"length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCas"+"e()));}}if(!m)L=L?L+d+v:v;return L");sCode.repl=new Function("x","o","n",""+"var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x."+"substring(i+o.length);i=x.indexOf(o,i+l)}return x");sCode.split=new Function("l","d",""+"var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x"+"++]=l.substring(0,i);l=l.substring(i+d.length);}return a");sCode.vpr=new Function("vs","v","if(typeof(v)!='undefined'){var s=this; eval('s.'+vs+'=\"'+v+'\"')}")}},{}],150:[function(require,module,exports){(function(){"use strict";var s_code="",s_objectID;function s_gi(un,pg,ss){var c="s.version='H.27';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(s.rep(m,\"\\\\\",\"\\\\\\"+'\\"),"\\n","\\\\n"),"\\"","\\\\\\"")+\'");}catch(e){}\');tcf()};s.cls=function(x,c){var i,y=\'\';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return '+"y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;retur"+"n 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\"+~!*()'\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent(x)"+";for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\"%\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.subs"+"tring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+',"+"'%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+"+"x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unescap"+"e(x)}return y');return tcf(x)}else return unescape(x)}return y};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z"+"+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,"+"2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f"+");return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visibi"+"litychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){while("+"s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s"+".sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.link"+"Type=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,"+"n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.'"+",'c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?"+"c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60)"+";if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');"+"return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l"+"[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf="+"new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.w"+"d,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;r"+"eturn true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s."+"tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for("+"n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingS"+"erverBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+s._in+'_'+un,im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLower"+"Case();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.versio"+"n+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!"+"s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r"+";return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd[im"+"n];if(!im)im=s.wd[imn]=new Image;im.alt=\"\";im.s_l=0;im.onload=im.onerror=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\"'+un+'\");s.nrs--;if(!s."+"nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('if(window.s"+"_c_il)window.s_c_il['+s._in+'].bcr()',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||ta=='_parent'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e.g"+"etTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v"+"]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l="+"0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='http"+"s://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',"+"p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c"+";else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData"+"\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(nf"+"n=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk"+"=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLig"+"htData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp"+"=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return q"+"s};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe="+"s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if("+"fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||"+"fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='supplementalDataID')q='sdid';else if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';el"+"se if(k=='marketingCloudVisitorID')q='mid';else if(k=='analyticsVisitorID')q='aid';else if(k=='audienceManagerLocationHint')q='aamlh';else if(k=='audienceManagerBlob')q='aamb';else if(k=='pageURL')"+"{q='g';if(v.length>255){s.pageURLRest=v.substring(255);v=v.substring(0,255);}}else if(k=='pageURLRest')q='-g';else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigration"+"Key')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}e"+"lse if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='coo"+"kieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='r"+"esolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='bro"+"wserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';"+"else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q="+"'mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k]"+",fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'"+"?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?'),hi=h.indexOf('#');if(qi>=0){if(hi>=0&&hi<qi)qi=hi;}else qi=hi;h=qi>=0?h.substring(0"+",qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h"+"){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h"+"))return 'd';if(s.trackExternalLinks&&h.indexOf('#')!=0&&h.indexOf('about:')!=0&&h.indexOf('javascript:')!=0&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';"+"return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=this;s.t();s.lnk=0;if(b)return this[b](e);return true');s.bcr=function(){var s=this;if(s.bct&&s.bce)s.bct.di"+"spatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.bct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&e.s_fe)return;var s=s_c_il['+s."+'_in+\'],f,tcf,t,n,nrs,a,h;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else if(!s.useForcedLinkTracking){s.b.removeEventListener("click",s.bc,true);s.bbc=s.useForc'+'edLinkTracking=0;return}else s.b.removeEventListener("click",s.bc,false);s.eo=e.srcElement?e.srcElement:e.target;nrs=s.nrs;s.t();s.eo=0;if(s.nrs>nrs&&s.useForcedLinkTracking&&e.target){a=e.target'+';while(a&&a!=s.b&&a.tagName.toUpperCase()!="A"&&a.tagName.toUpperCase()!="AREA")a=a.parentNode;if(a){h=a.href;if(h.indexOf("#")==0||h.indexOf("about:")==0||h.indexOf("javascript:")==0)h=0'+';t=a.target;if(e.target.dispatchEvent&&h&&(!t||t=="_self"||t=="_top"||t=="_parent"||(s.wd.name&&t==s.wd.name))){tcf=new Function("s","var x;try{n=s.d.createEvent(\\\\"MouseEvents\\\\")}c'+'atch(x){n=new MouseEvent}return n");n=tcf(s);if(n){tcf=new Function("n","e","var x;try{n.initMouseEvent(\\\\"click\\\\",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,'+'e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(x){n=0}return n");n=tcf(n,e);if(n){n.s_fe=1;e.stopPropagation();if (e.stopImmediatePropagation) {e.stopImmediatePr'+"opagation();}e.preventDefault();s.bct=e.target;s.bce=n}}}}}');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||("+"j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!"+"='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():"+"'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;i"+"f(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",'')"+",\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o."+"s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>"+"=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);"+"return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){va"+"r s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if("+"x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+="+"(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s"+'.d.links[i];oc=o.onclick?""+o.onclick:"";if((oc.indexOf("s_gs(")<0||oc.indexOf(".s_oc(")>=0)&&oc.indexOf(".tl(")<0)s.eh(o,"onclick",0,s.lc);}return r\');s.wds=function(){var s=this;if(s.'+"apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener){if(s.n&&((s.n.userAgent.indexOf('WebKit')>=0&&s.d.createEvent)||(s.n"+".userAgent.indexOf('Firefox/2')>=0&&s.wd.MouseEvent))){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListener('click',s.bc,true)}s.b.addEventListener('click',s.bc,false)}else s.eh(s.wd,'onload',0,s"+".wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n)"+"{if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&"+"&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i"+";s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un"+".substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,"+"a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._i"+"l;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}e"+"lse if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g"+'="m_"+n;var s=s_c_il[\'+s._in+\'],c=s[g+"_c"],m,x,f=0;if(s.mpc("m_a",arguments))return;if(!c)c=s.wd["s_"+g+"_c"];if(c&&s_d)s[g]=new Function("s",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\\'s_\\\''+'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!="m_"+n)){m._i=f=1;if((""+x).indexOf("function")>=0)x(s);else s.m_m("x",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f\');s.m_m=f'+"unction(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m["+"t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s"+".m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h"+"?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){i"+"f(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\""+"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c',"+"'i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChi"+"ld(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.l"+"ength&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k"+"==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo,onlySet){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!onlySet&&!vo[k])vo['!'+"+"k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}el"+"se f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime"+"();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s._waitingForMarketingCloudVisitorID = false;s._doneWaitingForMarketingCloudVisitorID = false;s._marketing"+"CloudVisitorIDCallback=function(marketingCloudVisitorID) {var s=this;s.marketingCloudVisitorID = marketingCloudVisitorID;s._doneWaitingForMarketingCloudVisitorID = true;s._callbackWhenReadyToTrackC"+"heck();};s._waitingForAnalyticsVisitorID = false;s._doneWaitingForAnalyticsVisitorID = false;s._analyticsVisitorIDCallback=function(analyticsVisitorID) {var s=this;s.analyticsVisitorID = analyticsV"+"isitorID;s._doneWaitingForAnalyticsVisitorID = true;s._callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerLocationHint = false;s._doneWaitingForAudienceManagerLocationHint = false;s._aud"+"ienceManagerLocationHintCallback=function(audienceManagerLocationHint) {var s=this;s.audienceManagerLocationHint = audienceManagerLocationHint;s._doneWaitingForAudienceManagerLocationHint = true;s."+"_callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerBlob = false;s._doneWaitingForAudienceManagerBlob = false;s._audienceManagerBlobCallback=function(audienceManagerBlob) {var s=this;s.a"+"udienceManagerBlob = audienceManagerBlob;s._doneWaitingForAudienceManagerBlob = true;s._callbackWhenReadyToTrackCheck();};s.isReadyToTrack=function() {var s=this,readyToTrack = true,visitor = s.vis"+"itor;if ((visitor) && (visitor.isAllowed())) {if ((!s._waitingForMarketingCloudVisitorID) && (!s.marketingCloudVisitorID) && (visitor.getMarketingCloudVisitorID)) {s.marketingCloudVisitorID = visit"+"or.getMarketingCloudVisitorID([s,s._marketingCloudVisitorIDCallback]);if (!s.marketingCloudVisitorID) {s._waitingForMarketingCloudVisitorID = true;}}if ((!s._waitingForAnalyticsVisitorID) && (!s.an"+"alyticsVisitorID) && (visitor.getAnalyticsVisitorID)) {s.analyticsVisitorID = visitor.getAnalyticsVisitorID([s,s._analyticsVisitorIDCallback]);if (!s.analyticsVisitorID) {s._waitingForAnalyticsVisi"+"torID = true;}}if ((!s._waitingForAudienceManagerLocationHint) && (!s.audienceManagerLocationHint) && (visitor.getAudienceManagerLocationHint)) {s.audienceManagerLocationHint = visitor.getAudienceM"+"anagerLocationHint([s,s._audienceManagerLocationHintCallback]);if (!s.audienceManagerLocationHint) {s._waitingForAudienceManagerLocationHint = true;}}if ((!s._waitingForAudienceManagerBlob) && (!s."+"audienceManagerBlob) && (visitor.getAudienceManagerBlob)) {s.audienceManagerBlob = visitor.getAudienceManagerBlob([s,s._audienceManagerBlobCallback]);if (!s.audienceManagerBlob) {s._waitingForAudie"+"nceManagerBlob = true;}}if (((s._waitingForMarketingCloudVisitorID)     && (!s._doneWaitingForMarketingCloudVisitorID)     && (!s.marketingCloudVisitorID)) ||((s._waitingForAnalyticsVisitorID)     "+"     && (!s._doneWaitingForAnalyticsVisitorID)          && (!s.analyticsVisitorID)) ||((s._waitingForAudienceManagerLocationHint) && (!s._doneWaitingForAudienceManagerLocationHint) && (!s.audienceM"+"anagerLocationHint)) ||((s._waitingForAudienceManagerBlob)         && (!s._doneWaitingForAudienceManagerBlob)         && (!s.audienceManagerBlob))) {readyToTrack = false;}}return readyToTrack;};s._"+"callbackWhenReadyToTrackQueue = null;s._callbackWhenReadyToTrackInterval = 0;s.callbackWhenReadyToTrack=function(callbackThis,callback,args) {var s=this,callbackInfo;callbackInfo = {};callbackInfo."+"callbackThis = callbackThis;callbackInfo.callback     = callback;callbackInfo.args         = args;if (s._callbackWhenReadyToTrackQueue == null) {s._callbackWhenReadyToTrackQueue = [];}s._callbackWh"+"enReadyToTrackQueue.push(callbackInfo);if (s._callbackWhenReadyToTrackInterval == 0) {s._callbackWhenReadyToTrackInterval = setInterval(s._callbackWhenReadyToTrackCheck,100);}};s._callbackWhenReady"+"ToTrackCheck=new Function('var s=s_c_il['+s._in+'],callbackNum,callbackInfo;if (s.isReadyToTrack()) {if (s._callbackWhenReadyToTrackInterval) {clearInterval(s._callbackWhenReadyToTrackInterval);s._"+"callbackWhenReadyToTrackInterval = 0;}if (s._callbackWhenReadyToTrackQueue != null) {while (s._callbackWhenReadyToTrackQueue.length > 0) {callbackInfo = s._callbackWhenReadyToTrackQueue.shift();cal"+"lbackInfo.callback.apply(callbackInfo.callbackThis,callbackInfo.args);}}}');s._handleNotReadyToTrack=function(variableOverrides) {var s=this,args,varKey,variableOverridesCopy = null,setVariables = "+"null;if (!s.isReadyToTrack()) {args = [];if (variableOverrides != null) {variableOverridesCopy = {};for (varKey in variableOverrides) {variableOverridesCopy[varKey] = variableOverrides[varKey];}}se"+"tVariables = {};s.vob(setVariables,true);args.push(variableOverridesCopy);args.push(setVariables);s.callbackWhenReadyToTrack(s,s.track,args);return true;}return false;};s.gfid=function(){var s=this"+",d='0123456789ABCDEF',k='s_fid',fid=s.c_r(k),h='',l='',i,j,m=8,n=4,e=new Date,y;if(!fid||fid.indexOf('-')<0){for(i=0;i<16;i++){j=Math.floor(Math.random()*m);h+=d.substring(j,j+1);j=Math.floor(Math."+"random()*n);l+=d.substring(j,j+1);m=n=16}fid=h+'-'+l;}y=e.getYear();e.setYear(y+2+(y<1900?1900:0));if(!s.c_w(k,fid,e))fid=0;return fid};s.track=s.t=function(vo,setVariables){var s=this,notReadyToTr"+"ack,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+"+"'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;if ((!s.supplement"+'alDataID) && (s.visitor) && (s.visitor.getSupplementalDataID)) {s.supplementalDataID = s.visitor.getSupplementalDataID("AppMeasurement:" + s._in,(s.expectSupplementalData ? false : true));}if(s.m'+"pc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();notReadyToTrack = s._handleNotReadyToTrack(vo);if (!notReadyToTrack) {if (setVariables) {s.voa(setVariables);}if(!s.td){var tl=tfs.location,a,"+"o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.isma"+"c&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j"+"='1.7';if(a.reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';if(Object.create)j='1.8.5'}}}}}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.ja"+"vaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>="+"5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\""+"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)"+"while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s."+"browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}if(!s.analyticsVisitorID&&!s.marketingCloudVisitorID)s.fid=s.gfid();if((vo&&vo._t)||!s.m_m('d')){if("+"s.usePlugins)s.doPlugins(s);if(!s.abort){var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');"+"if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot"+"(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);"+"i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');"+"s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttrib"+"ute&&o.getAttribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(s.useForcedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.index"+"Of('s_objectID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\"= \\t\\r\\n\").indexOf(oc.charAt(ocb))>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'"+'||ocq)){if(ocq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)=="\\\\")ocx=!ocx;else ocx=0;}else{ocq=oc.charAt(oce);if(ocq!=\'"\'&&ocq!="\'")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc'+"){o.s_soid=new Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')"+"+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?q"+"s:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}}else s.dl(vo);if(vo)s.voa(vb,1);}s.abort=0;s.pageURLRest=s."+"lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo,f){"+"var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s."+"setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t."+"lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!="+"'function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f"+"].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElements"+"ByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.in"+"dexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.ap"+"v=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);"+"s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='suppleme"+"ntalDataID,timestamp,dynamicVariablePrefix,visitorID,marketingCloudVisitorID,analyticsVisitorID,audienceManagerLocationHint,fid,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServer"+"Secure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,"+"deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,"+"lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,audienceManagerBlob,linkName,linkType';var n;for(n=1;n"+"<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resol"+"ution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,pageURLRest,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackin"+"gServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMa"+"tch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTra"+"ckVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs=function("+"un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",w=window,l=w.s_c_il,n=navigator,u=n.userAgent,v=n.appVersion,e=v.indexOf("MSIE "),m=u.indexOf("https://www.apple.com/ae-ar/retail/Netscape6/"),a,i,j,x,s;if(un){un=un.toLowerCase();if(l)for(j=0;j<2;j++)for(i=0;i<l.length;i++){s=l[i];x=s._c;if((!x||x=="s_c"||j>0&&x=="s_l")&&(s.oun==un||s.fs&&s.sa&&s.fs(s.oun,un))){if(s.sa)s.sa(un);if(x=="s_c")return s}else s=0}}w.s_an="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";w.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.subst"+"ring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a");w.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x");w.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)");w.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d"+"=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn("+"x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x");w.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")");w.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':"+"a");w.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){i"+"f(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")"+"'+c.substring(e+1);s=c.indexOf('=function(')}return c;");c=s_d(c);if(e>0){a=parseInt(i=v.substring(e+5));if(a>3)a=parseFloat(i)}else if(m>0)a=parseFloat(u.substring(m+10));else a=parseFloat(v);if(a<5||v.indexOf("Opera")>=0||u.indexOf("Opera")>=0)c=s_ft(c);if(!s){s=new Object;if(!w.s_c_in){w.s_c_il=new Array;w.s_c_in=0}s._il=w.s_c_il;s._in=w.s_c_in;s._il[s._in]=s;w.s_c_in++}s._c="s_c";new Function("s","un","pg","ss",c)(s,un,pg,ss);return s}function s_giqf(){var w=window,q=w.s_giq,i,t,s;if(q)for(i=0;i<q.length;i++){t=q[i];s=s_gi(t.oun);s.sa(t.un);s.setTagContainer(t.tagContainerName)}w.s_giq=0}s_giqf();module.exports=s_gi})()},{}],151:[function(require,module,exports){var sCode=require("./ac-s-code/sCode");module.exports={init:sCode.init,getInstance:sCode.getInstance}},{"./ac-s-code/sCode":164}],152:[function(require,module,exports){(function(){"use strict";function sCodeAccount(bucket){var s_account="";if(typeof bucket==="string"){s_account=bucket}if(document.location.search&&s_account){var dls=document.location.search;if(dls.indexOf("?cid=AOS-")>-1||dls.indexOf("&cid=AOS-")>-1){s_account+=",applestoreWW"}}return s_account}module.exports=sCodeAccount})()},{}],153:[function(require,module,exports){(function(){"use strict";var sCodePlugins=require("../plugin/sCodePlugins");var sCodeServers=require("./server");var browserHelper=require("./helper/browser");var dynamicObjectIdHandlerSafari=require("./../plugin/helper/dynamicObjectIdHandlerSafari");function setDefaults(sCode,options){function resetCookie(cookieName,expires){var date=new Date;var defaultExpirationDate=new Date(date.setFullYear(date.getFullYear()+2));var expirationDate=expires||defaultExpirationDate;var cookieValue=sCode.c_r(cookieName);if(cookieValue){try{sCode.c_w(cookieName,cookieValue,expirationDate)}catch(e){}}}function resetVisitorIDCookie(cookieName,expires){var date=new Date;var defaultExpirationDate=new Date(date.setFullYear(date.getFullYear()+2));var cookieValue=sCode.c_r(cookieName);if(cookieValue){document.cookie=cookieName+"="+cookieValue+"; expires="+defaultExpirationDate.toUTCString()+"; domain=apple.com; path=/"}}if(typeof sCode.acAnalytics!=="object"){sCode.acAnalytics={}}sCode.acAnalytics.dynamicObjectIdHandlerSafari=dynamicObjectIdHandlerSafari;sCode.pageName=options.pageName||"";sCode.currencyCode="USD";sCode.trackDownloadLinks=true;sCode.trackExternalLinks=true;sCode.trackInlineStats=true;sCode.useForcedLinkTracking=true;sCode.forcedLinkTrackingTimeout=100;sCode.linkDownloadFileTypes="zip,wav,mp3,doc,pdf,xls,dmg,sit,pkg,exe,m4a,rss,xml,extz,safariextz";sCode.linkInternalFilters="javascript:,apple.com"+(options.linkInternalFilters?"/"+options.linkInternalFilters:"");sCode.linkLeaveQueryString=false;sCode.linkTrackVars="campaign";sCode.linkTrackEvents="None";sCode._isSafari=browserHelper.isSafari(s);if(browserHelper.isSafariTopSitesPreview(s)===true){sCode.t=function(){return""}}resetCookie("s_vnum_n2_us");resetVisitorIDCookie("s_vi");var tmpDate=new Date;tmpDate.setDate(tmpDate.getDate()-1);resetCookie("s_pv",tmpDate);function s_getObjectID(o){var ID=o.href;return ID}sCode.getObjectID=s_getObjectID;if(typeof iTunesDetected==="function"){var activeX=document.createElement("object");activeX.setAttribute("width",1);activeX.setAttribute("height",1);activeX.id="iTunesDetectorIE";activeX.setAttribute("classid","clsid:D719897A-B07A-4C0C-AEA9-9B663A28DFCB");document.getElementsByTagName("head")[0].appendChild(activeX);sCode.prop12=iTunesDetected()?"itunes":"no itunes"}sCode.eVar54=document.location.href;sCode.eVar49=document.referrer;sCode.usePlugins=true;sCode.doPlugins=sCodePlugins;sCode.trackingServer=sCodeServers.getTrackingServer();sCode.trackingServerSecure=sCodeServers.getSecureTrackingServer();sCode.dc=sCodeServers.getDataCenterId()}module.exports=setDefaults})()},{"../plugin/sCodePlugins":163,"./../plugin/helper/dynamicObjectIdHandlerSafari":157,"./helper/browser":154,"./server":155}],154:[function(require,module,exports){(function(){"use strict";function isSafariTopSitesPreview(){if(navigator&&navigator.loadPurpose&&navigator.loadPurpose==="preview"){return true}return false}function isSafari(sCode){if(sCode.u.toLowerCase().indexOf("webkit")>-1){if(sCode.u.toLowerCase().indexOf("safari")>-1&&sCode.u.toLowerCase().indexOf("chrome")<0){return true}}return false}module.exports={isSafariTopSitesPreview:isSafariTopSitesPreview,isSafari:isSafari}})()},{}],155:[function(require,module,exports){(function(){"use strict";var production=["www.apple.com","images.apple.com","movies.apple.com","ssl.apple.com"];function getTrackingServer(){return _isProduction()?"metrics.apple.com":location.hostname}function getSecureTrackingServer(){return _isProduction()?"securemetrics.apple.com":location.hostname}function getDataCenterId(){return 112}function _isProduction(){var hostname=window.location.host;if(production.indexOf(hostname)>-1){return true}return false}module.exports={getTrackingServer:getTrackingServer,getSecureTrackingServer:getSecureTrackingServer,getDataCenterId:getDataCenterId}})()},{}],156:[function(require,module,exports){(function(){"use strict";function cleanPageName(sCode){if(sCode.pageName){var pgEscaped=escape(sCode.pageName);pgEscaped=pgEscaped.replace(/(%u2018|%u2019|%u02BC|%u02BD)/g,"%27");pgEscaped=pgEscaped.replace(/(%u201C|%u201D|%E2%80%9C|%E2%80%9D)/g,"%22");pgEscaped=pgEscaped.replace(/(%09|%0A|%0D)/g,"");sCode.pageName=unescape(pgEscaped)}}module.exports=cleanPageName})()},{}],157:[function(require,module,exports){(function(){"use strict";function dynamicObjectIdHandlerSafari(sCode,link){if(sCode.lt(link.href)){link.addEventListener("mouseup",function(evt){if(evt.which&&evt.which===1||evt.button&&evt.button===1){var linkHref=evt.currentTarget.href;var linkType=sCode.lt(linkHref);if(linkType==="d"){if(linkHref.match(/\.rss|\.xml/)){sCode.eVar16=sCode.prop16="sign ups"}else{sCode.eVar11=(sCode.pageName&&sCode.pageName!==""?sCode.pageName:"")+" - "+linkHref.substring(linkHref.lastIndexOf("https://www.apple.com/")+1,linkHref.length);sCode.eVar11=sCode.eVar11.toLowerCase();sCode.eVar16=sCode.prop16="Downloads";sCode.events=sCode.apl(sCode.events,"event5","","",1)}sCode.linkTrackVars="prop16,eVar16,eVar11,events";sCode.linkTrackEvents="event5"}sCode.linkTrackVars="None";sCode.linkTrackEvents="None"}},false)}}module.exports=dynamicObjectIdHandlerSafari})()},{}],158:[function(require,module,exports){(function(){"use strict";function getVisitNumPerChannel(sCode){var e=new Date;var cl;var cs;var vn=0;var iv=false;var lm=false;var ch="no channel";var ct=e.getTime();var xs=ct+30*60*1e3;var xl=ct+730*24*60*60*1e3;var pn=sCode.wd.location.pathname;var geoCode="us";var channelMap="";var i;var channelTable=new Array("no channel","aos","homepage","support","itunes","myappleid.iforgot","trailers","ip","discussions","myappleid","quicktime","ipad","ipadmini","legal","mac","macosx","safari","ipod","developer","retailstore","macbookair","retail.concierge","macosx.downloads","ipodtouch","ios","macbookpro","webapps","search","retail.onetoone","icloud","imac","macmini","ilife","other","findouthow","jobs","mobileme","whymac","macappstore","hotnews","redirects","ipodnano","education","iwork","ipodclassic","macpro","contact","appletv","finalcutstudio","pr","productpromotions","ipodshuffle","airportexpress","environment","aperture","batteries","mac.facetime","productpromotions.rebate","timecapsule","displays","airportextreme","logicstudio","buy","about","accessibility","mightymouse","thunderbolt","html5","remotedesktop","magictrackpad","keyboard","business","retail.jointventure","itunesappstore","pro","science","logicexpress","channelprograms","startpage","advertising","financialservices","giftcards","xsan","server","battery","companystore","ali","supplier","beatles","usergroups","webbadges","procurement","802.11n","retail","itunesnews","ibooks-author","osx","apple-events","applewatch");if(sCode.wd.location.hostname.match(/apple.com.cn/)){geoCode="cn"}else if(!pn.match(/^\/(ws|pr|g5|go|ta|wm|kb)\//)){if(pn.match(/^\/(\w{2}|befr|benl|chfr|chde|asia|lae)(?=\/)/)){geoCode=pn.split("https://www.apple.com/")[1].toLowerCase()}}var c="s_vnum_n2_"+geoCode;var c2="s_invisit_n2_"+geoCode;if(sCode.channel){ch=sCode.channel.substring(sCode.channel.indexOf(".")+1,sCode.channel.length);ch=ch.substring(ch.indexOf(".")+1,ch.length)}function chLookup(channel){for(i=0;i<=channelTable.length;i++){if(channel===channelTable[i]){return i+1}}}channelMap=chLookup(ch);if(!channelMap){channelMap="0"}sCode.c_w("s_vnum_"+geoCode,"",63072e3);sCode.c_w("s_invisit_"+geoCode,"",63072e3);sCode.c_w("s_invisit_n_"+geoCode,"",63072e3);sCode.c_w("s_vnum_n_"+geoCode,"",63072e3);cl=sCode.c_r(c);cs=sCode.c_r(c2);if(channelMap){var val;if(cs){var csa=cs.split(/,/);for(i=0;val=csa[i];i++){if(channelMap.toString()===val){iv=true;break}}}if(!iv){var cla=cl?cl.split(/,/):[];var vs;for(i=0;val=cla[i];i++){vs=val.split(/\|/);if(channelMap.toString()===vs[0]){vn=parseInt(vs[1],10)+1;cla[i]=vs[0]+"|"+vn;lm=true;break}}e.setTime(xs);sCode.c_w(c2,cs?cs+","+channelMap:channelMap,e);e.setTime(xl);if(lm){sCode.c_w(c,cla.toString(),e);return ch+"="+vn}else{if(cla.toString()){cla.push(channelMap+"|"+1)}else{cla=channelMap+"|"+1}sCode.c_w(c,cla.toString(),e);return ch+"="+1}}}}module.exports=getVisitNumPerChannel})()},{}],159:[function(require,module,exports){(function(){"use strict";function osDetect(sCode){var match;if(sCode.u.match(/windows/i)){sCode.prop9="windows";return}if(sCode.u.match(/(kindle|silk-accelerated)/i)){if(sCode.u.match(/(kindle fire|silk-accelerated)/i)){sCode.prop9="kindle fire"}else{sCode.prop9="kindle"}return}if(sCode.u.match(/(iphone|ipod|ipad)/i)){match=sCode.u.match(/OS [0-9_]+/i);sCode.prop9="i"+match[0].replace(/_/g,".");return}if(sCode.u.match(/android/i)){sCode.prop9=sCode.u.match(/android [0-9]\.?[0-9]?\.?[0-9]?/i);return}if(sCode.u.match(/webos\/[0-9\.]+/i)){match=sCode.u.match(/webos\/[0-9]\.?[0-9]?\.?[0-9]?/i);sCode.prop9=match[0].replace(/webos\//i,"web os ");return}if(sCode.u.match(/rim tablet os [0-9\.]+/i)){match=sCode.u.match(/rim tablet os [0-9]\.?[0-9]?\.?[0-9]?/i);sCode.prop9=match[0].replace(/rim tablet os/i,"rim os ");return}if((sCode.u.match(/firefox\/(\d{2}||[3-9])/i)||sCode.u.match(/AppleWebKit\//))&&sCode.u.match(/Mac OS X [0-9_\.]+/)){var matches=sCode.u.match(/[0-9_\.]+/g);matches=matches[1].split(/_|\./);sCode.prop9=matches[0]+"."+matches[1]+".x";return}var mv=sCode.u.match(/AppleWebKit\/\d*/i)&&sCode.u.match(/AppleWebKit\/\d*/i).toString().replace(/AppleWebKit\//i,"");if(mv>522){sCode.prop9="10.5.x"}else if(mv>400){sCode.prop9="10.4.x"}else if(mv>99){sCode.prop9="10.3.x"}else if(mv>80){sCode.prop9="10.2.x"}else{sCode.prop9="mac unknown or non-safari"}}module.exports=osDetect})()},{}],160:[function(require,module,exports){(function(){"use strict";function percentPageViewed(sCode){if(!sCode.prop17){var percent=sCode.getPercentPageViewed(sCode.pageName);if(percent&&percent.length>=5&&typeof percent[1]!=="undefined"){sCode.prop14=percent[0];sCode.prop17=percent[1]+":"+percent[2];sCode.prop28=Math.round(percent[3]/10)*10;sCode.eVar17=sCode.eVar18="";if(percent[4]){var sva=percent[4].split(/\|/g);var sv="";var svaSize=sva.length;for(var i=0;i<svaSize;i++){if(i!==svaSize-1){var diff=sva[i+1].split(/:/)[0]-sva[i].split(/:/)[0];if(diff>100){sv+=sva[i].split(/:/)[1];var nz=diff/100;while(nz>1){sv+="0";nz--}}else{sv+=sva[i].split(/:/)[1]}}else{sv+=sva[i].split(/:/)[1]}}if(sv.length>254){sCode.eVar17=sv.substring(0,254);sCode.eVar18=sv.substring(255,sv.length)}else{sCode.eVar17=sv}}if(!sCode.tcall){sCode.linkTrackVars="prop17,prop28"}}}}module.exports=percentPageViewed})()},{}],161:[function(require,module,exports){(function(){"use strict";function plpChannel(sCode){if((sCode.pageName&&sCode.prop14&&sCode.pageName.toLowerCase()!==sCode.prop14.toLowerCase()||!sCode.prop14)&&sCode.tcall){var ch;var pathLengthValue;var cookieValue=sCode.c_r("s_pathLength");var pathLengthArray=cookieValue.indexOf(",")>-1?cookieValue.split(","):[];var e=new Date;var ct=e.getTime();e.setTime(ct+30*60*1e3);if(sCode.channel){ch=sCode.channel.substring(sCode.channel.indexOf(".")+1,sCode.channel.length);ch=ch.substring(ch.indexOf(".")+1,ch.length)}else{ch="no channel"}if(pathLengthArray.length!==0&&pathLengthArray.toString().indexOf(ch+"=")>-1){var pathLengthArraySize=pathLengthArray.length;for(var i=0;i<pathLengthArraySize;i++){if(pathLengthArray[i].toString().indexOf(ch+"=")>-1){pathLengthValue=pathLengthArray[i].split("=");++pathLengthValue[1];pathLengthArray[i]=pathLengthValue[0]+"="+pathLengthValue[1];sCode.prop48=pathLengthValue[1]}}sCode.c_w("s_pathLength",pathLengthArray,e)}else{pathLengthValue=cookieValue+ch+"="+1+",";sCode.c_w("s_pathLength",pathLengthValue,e);sCode.prop48="1"}}}module.exports=plpChannel})()},{}],162:[function(require,module,exports){(function(){"use strict";function setMembership(sCode){if(sCode.tcall){var membership;var pathname=window.location.pathname;var newMembership=false;var noMatch=true;if(sCode.c_r("iTunesPresent")||sCode.prop12&&sCode.prop12==="iTunes"){membership=membership?membership+"it,":"it,"}if(sCode.c_r("hasMobileMe")){membership=membership?membership+"mm,":"mm,"}if(sCode.c_r("DefaultAppleID")||sCode.pageName&&sCode.pageName.match(/iforgot - cr or email option/)){membership=membership?membership+"aid,":"aid,"}if(sCode.c_r("trackStartpage")){membership=membership?membership+"sp,":"sp,"}if(sCode.prop11){if(sCode.prop11.match("3p")){membership=membership?membership+"3p,":"3p,"}}if(sCode.pageName){if(sCode.pageName.match(/one to one - index/)){membership=membership?membership+"o2o,":"o2o,"}}if(pathname.match("https://www.apple.com/welcomescreen/")){var portion;if(portion===pathname.match("ilife.*")){portion="il"+portion.toString().match("[0-9]+")+",";membership=membership?membership+portion:portion}else if(portion===pathname.match("iwork.*")){portion="iwk"+portion.toString().match("[0-9]+")+",";membership=membership?membership+portion:portion}else if(portion===pathname.match("itunes.*")){portion="it"+portion.toString().match("[0-9]+")+",";membership=membership?membership+portion:portion}else if(portion===pathname.match("aperture.*")){portion="ap"+portion.toString().match("[0-9]+")+",";membership=membership?membership+portion:portion}}if(sCode.getQueryParam("sr")&&sCode.getQueryParam("vr")){var ver=sCode.getQueryParam("vr");ver=ver.substring(0,ver.indexOf("-"))+",";membership=membership?membership+ver:ver}if(typeof membership!=="undefined"){var e;var ct;membership=membership.substring(0,membership.length-1).toLowerCase();membership=membership.split(",");if(sCode.c_r("s_membership")){var membershipCookie=sCode.c_r("s_membership").split(/:/);membershipCookie.splice(0,1);for(var i=0;i<membership.length;i++){for(var j=0;j<membershipCookie.length;j++){if(membershipCookie[j]===membership[i]){noMatch=false}}if(noMatch){membershipCookie[membershipCookie.length]=membership[i];newMembership=true}noMatch=true}if(newMembership){e=new Date;membership=membershipCookie.length+":"+membershipCookie.toString().replace(/,/g,":");ct=e.getTime();e.setTime(ct+63072e3);sCode.c_w("s_membership",membership,e);sCode.prop31=membership}}else{membership=membership.length+":"+membership.toString().replace(/,/g,":");e=new Date;ct=e.getTime();e.setTime(ct+63072e3);sCode.c_w("s_membership",membership,e);sCode.prop31=membership}}if(!sCode.prop31&&!sCode.c_r("s_pathLength")){sCode.prop31=sCode.c_r("s_membership")}}}module.exports=setMembership})()},{}],163:[function(require,module,exports){(function(){"use strict";var plpChannel=require("./helper/plpChannel");var cleanPageName=require("./helper/cleanPageName");var osDetect=require("./helper/osDetect");var percentPageViewed=require("./helper/percentPageViewed");var setMembership=require("./helper/setMembership");var getVisitNumPerChannel=require("./helper/getVisitNumPerChannel");function sCodePlugins(sCode){sCode.tcall=typeof sCode.linkType==="undefined"?true:false;if(typeof cleanPageName==="function"){cleanPageName(sCode)}var dynamicObjectPathExp="/(apple.com/retail/.+/map/|apple.com/buy/locator/|discussions.apple.com|discussionsjapan.apple.com)/g";if(!sCode.d.URL.match(dynamicObjectPathExp)){sCode.setupDynamicObjectIDs()}if(navigator&&navigator.platform){if(window.devicePixelRatio>=1.5){sCode.prop5=navigator.platform+" 2x"}else{sCode.prop5=navigator.platform}}var tempVar1=sCode.getQueryParam("ref");if(tempVar1&&sCode.tcall){sCode.referrer=tempVar1}else if(tempVar1&&!sCode.tcall){sCode.referrer=""}if(!sCode.campaign){sCode.campaign=sCode.getQueryParam("cid");sCode.setClickMapEmail("Email_PageName,Email_OID","Email_OT");if(sCode.campaign.match(/OAS-.+?-DOMAINS-/i)){var tempVar0="http://"+sCode.campaign.replace(/OAS-.+?-DOMAINS-/i,"");sCode.referrer=sCode.tcall?tempVar0:""}}sCode.server=sCode.getQueryParam("alias");if(!sCode.server){sCode.server="new approach ac-analytics"}sCode.campaign=sCode.getValOnce(sCode.campaign,"s_campaign",0);sCode.prop6=!sCode.prop6&&sCode.getQueryParam("cp")&&sCode.pageName?'D="'+sCode.getQueryParam("cp").toLowerCase()+": "+sCode.pageName+'"':sCode.prop6;sCode.prop11=sCode.getQueryParam("sr");if(!sCode.d.URL.match(/\/channel\//)&&!sCode.prop11&&sCode.c_r("s_3p")){sCode.prop11=sCode.c_r("s_3p");sCode.c_w("s_3p","",-1)}sCode.eVar7=!sCode.eVar7?sCode.getQueryParam("aid"):"";sCode.eVar7=sCode.getValOnce(sCode.eVar7,"s_var_7",0);if(sCode.eVar2){sCode.events=sCode.apl(sCode.events,"event6",", ",1)}if(!sCode.d.URL.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search\//)&&!sCode.d.URL.match(/apple.com\/search\//)&&(sCode.d.referrer.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search\//)||sCode.d.referrer.match(/apple.com\/search\//))){sCode.eVar2=sCode.d.referrer.match(/\/support\//)?"acs: ":sCode.d.referrer.match(/\/store\//)?"aos: ":"www: ";if(sCode.d.referrer.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search/)){sCode.eVar2+=sCode.getQueryParam("q","",sCode.d.referrer).replace(/\+/g," ");var geo=sCode.d.referrer.match(/\/(\w{2}|befr|benl|chfr|chde|asia|lae)\//i);sCode.eVar2+=" ("+geo[0].replace(/\//g,"")+")"}else{sCode.eVar2+=sCode.getQueryParam("q","",sCode.d.referrer).replace(/\+/g," ")+" (us)"}}if(sCode.prop11==="em"&&sCode.tcall){sCode.referrer="imap://chatterbox.com"}if(sCode.prop11==="app"&&sCode.tcall){sCode.referrer="file://fromApp"}if(document.referrer&&document.referrer.indexOf("apple.com/startpage/")>-1&&sCode.tcall){sCode.referrer="news://startpage.com";sCode._1_referrer=1}if(typeof percentPageViewed==="function"){percentPageViewed(sCode)}sCode.prop38=sCode.tcall?sCode.deviceOrientationChanges(true):"";sCode.prop32=sCode.eVar32=sCode.getQueryParam("psid");if(sCode.prop32||sCode.c_r("s_sid")){var e=new Date;var ct=e.getTime();e.setTime(ct+63072e4);if(sCode.prop32){sCode.c_w("s_psid",sCode.prop32,e)}else{sCode.c_w("s_psid",sCode.c_r("s_sid"),e)}sCode.c_w("s_sid","",-1)}if(!sCode.prop32&&!sCode.c_r("s_pathLength")){sCode.prop32=sCode.c_r("s_psid")}sCode.linkLeaveQueryString=true;var pageURL=sCode.downloadLinkHandler();if(pageURL){if(pageURL.match(/\.rss|\.xml/)){sCode.eVar16=sCode.prop16="sign ups"}else{sCode.eVar11=(sCode.pageName&&sCode.pageName!==""?sCode.pageName:"")+" - "+pageURL.substring(pageURL.lastIndexOf("/")+1,pageURL.length);sCode.eVar16=sCode.prop16="downloads";sCode.events=sCode.apl(sCode.events,"event5",", ",1)}sCode.linkTrackVars="prop16,eVar16,eVar11,events";sCode.linkTrackEvents="event5"}sCode.linkLeaveQueryString=false;if(typeof osDetect==="function"){osDetect(sCode)}if(sCode.pageName&&sCode.pageName.match(/feedback - thank you/)){sCode.prop16=sCode.eVar16="feedback"}sCode.linkLeaveQueryString=true;var exitUrl=sCode.linkHandler("itms.apple.com|itunes.apple.com","e");var url=sCode.linkHandler("ax.itunes.apple.com/WebObjects/MZStoreServices.woa/ws/RSS/|rss.support.apple.com","o");if(url){sCode.eVar16=sCode.prop16="sign ups";sCode.linkTrackVars="eVar16,prop16"}sCode.linkLeaveQueryString=false;if(typeof setMembership==="function"){setMembership(sCode)}if(typeof plpChannel==="function"){plpChannel(sCode)}if(sCode.tcall){sCode.prop50=getVisitNumPerChannel(s)}sCode.hier1=sCode.channel?sCode.channel:"";sCode.linkTrackVars=sCode.apl(sCode.linkTrackVars,"hier1",", ",1);sCode.linkTrackVars=sCode.linkTrackVars.replace(new RegExp(" ","g"),"");function getCleanVisitorId(){var visitorId=sCode&&sCode.c_r?sCode.c_r("s_vi"):"";var match=visitorId?visitorId.match(/^\s*\[CS\]v1\|(.+)\[CE\]\s*$/):null;if(match){return match[1]}}var eVar10=sCode.getQueryParam("afid");if(eVar10){sCode.eVar10=sCode.getValOnce(eVar10,"s_afc")}sCode.prop4=sCode.prop4?sCode.prop4:"D=g";var retailCookie=sCode.c_r("rtsid")||sCode.c_r("rtsidInt")||null;if(retailCookie){if(!sCode.events){sCode.events="event37"}else{if(typeof sCode.events==="string"&&sCode.events.indexOf("event37")===-1){sCode.events+=",event37"}}}sCode.manageVars("lowercaseVars","purchaseID,pageType,events,products,transactionID",2)}module.exports=sCodePlugins})()},{"./helper/cleanPageName":156,"./helper/getVisitNumPerChannel":158,"./helper/osDetect":159,"./helper/percentPageViewed":160,"./helper/plpChannel":161,"./helper/setMembership":162}],164:[function(require,module,exports){(function(){"use strict";var ac_Object=require("@marcom/ac-object");var sCode=require("@marcom/s-code");var sCodeAccount=require("./config/account");var setDefaults=require("./config/defaults");var sCodeInstance;var initDefaults={force:false};function init(options){options=ac_Object.defaults(initDefaults,options||{});if(!sCodeInstance||options.force===true){var bucket=options.bucket||"";sCodeInstance=window.s=sCode.init(sCodeAccount(bucket));var plugins=sCode.plugins.init(sCodeInstance);setDefaults(sCodeInstance,options)}return sCodeInstance}function getInstance(){return sCodeInstance}module.exports={init:init,getInstance:getInstance}})()},{"./config/account":152,"./config/defaults":153,"@marcom/ac-object":122,"@marcom/s-code":136}],165:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"&&exports){module.exports=factory}else if(typeof define==="function"&&define.amd){define(factory)}else{root.Deferred=factory}})(this,function(){"use strict";var exports={};var statuses,each,CallbackContainer,funcOrEmpty,Deferred,Promise,promiseProto,passThrough;statuses={0:"pending",1:"resolved",2:"rejected"};each=function(type,data){var i,pending,length,callbackObj,callbackResult;if(this._status!==0){if(console&&console.warn){console.warn("Trying to fulfill more than once.")}return false}this.data=data;pending=this.pending;length=pending.length;for(i=0;i<length;i++){callbackObj=pending[i];if(callbackObj[type]){callbackResult=callbackObj[type](data)}if(typeof callbackResult==="object"&&callbackResult.hasOwnProperty("then")&&callbackResult.hasOwnProperty("status")){callbackResult.then(function(data){callbackObj.deferred.resolve(data)},function(data){callbackObj.deferred.reject(data)},function(data){callbackObj.deferred.progress(data)})}else{callbackObj.deferred[type](callbackResult||undefined)}}if(type!=="progress"){pending=[]}return true};Promise=function(then,status){this.then=then;this.status=status};promiseProto=Promise.prototype;passThrough=function(value){return value};promiseProto.success=function(callback,context){return this.then(callback.bind(context),passThrough,passThrough)};promiseProto.fail=function(callback,context){return this.then(passThrough,callback.bind(context),passThrough)};promiseProto.progress=function(callback,context){return this.then(passThrough,passThrough,callback.bind(context))};funcOrEmpty=function(func){if(typeof func!=="function"){return function(){}}return func};CallbackContainer=function(success,error,progress){this.resolve=funcOrEmpty(success);this.reject=funcOrEmpty(error);this.progress=funcOrEmpty(progress);this.deferred=new Deferred};Deferred=function(){this.pending=[];this._status=0;this._promise=new Promise(this.then.bind(this),this.status.bind(this))};Deferred.prototype={status:function(){return statuses[this._status]},promise:function(){return this._promise},progress:function(update){each.call(this,"progress",update);return this._promise},resolve:function(value){each.call(this,"resolve",value);if(this._status===0){this._status=1}return this._promise},reject:function(error){each.call(this,"reject",error);if(this._status===0){this._status=2}return this._promise},then:function(success,error,progress){var result,callbackObject;callbackObject=new CallbackContainer(success,error,progress);if(this._status===0){this.pending.push(callbackObject)}else if(this._status===1&&typeof success==="function"){result=success(this.data);if(typeof result==="object"&&result.hasOwnProperty("then")&&result.hasOwnProperty("status")){result.then(function(data){callbackObject.deferred.resolve(data)},function(data){callbackObject.deferred.reject(data)},function(data){callbackObject.deferred.progress(data)})}else{callbackObject.deferred.resolve(result)}}else if(this._status===2&&typeof error==="function"){result=error(this.data);callbackObject.deferred.reject(result)}return callbackObject.deferred.promise()}};var when=function(){var values,deferred,pending,success,fail;values=[].slice.call(arguments);deferred=new Deferred;pending=0;success=function(value){pending--;var i=values.indexOf(this);values[i]=value;if(pending===0){deferred.resolve(values)}};fail=function(error){deferred.reject(error)};values.forEach(function(value){if(value.then){pending++}});values.forEach(function(value){if(value.then){value.then(success.bind(value),fail)}});return deferred.promise()};Deferred.when=when;exports.Deferred=Deferred;return exports}())},{}],166:[function(require,module,exports){"use strict";function Deferred(){}Deferred.prototype={resolve:function resolve(){this._defer.resolve.apply(this._defer,Array.prototype.slice.call(arguments));return this.promise()},reject:function reject(){this._defer.reject.apply(this._defer,Array.prototype.slice.call(arguments));return this.promise()},progress:function progress(){var message="ac-defer.progress is deprecated since it is not part of the A+ spec. Recommend using ac-event-emitter for progress signaling";console.warn(message);this._defer.progress.apply(this._defer,Array.prototype.slice.call(arguments));return this.promise()},then:function then(){this._defer.then.apply(this._defer,Array.prototype.slice.call(arguments));return this.promise()},promise:function promise(){return this._defer.promise.apply(this._defer,Array.prototype.slice.call(arguments))}};module.exports=Deferred},{}],167:[function(require,module,exports){"use strict";var proto=new(require("./ac-deferred/Deferred")),SmartsignDeferred=require("smartsign-deferred").Deferred;function Deferred(){this._defer=new SmartsignDeferred}Deferred.prototype=proto;module.exports.join=function join(){return SmartsignDeferred.when.apply(null,[].slice.call(arguments))};module.exports.all=function all(arrayOfPromises){return SmartsignDeferred.when.apply(null,arrayOfPromises)};module.exports.Deferred=Deferred},{"./ac-deferred/Deferred":166,"smartsign-deferred":165}],168:[function(require,module,exports){"use strict";module.exports={flatten:require("./ac-array/flatten"),intersection:require("./ac-array/intersection"),toArray:require("./ac-array/toArray"),union:require("./ac-array/union"),unique:require("./ac-array/unique"),without:require("./ac-array/without")}},{"./ac-array/flatten":169,"./ac-array/intersection":170,"./ac-array/toArray":171,"./ac-array/union":172,"./ac-array/unique":173,"./ac-array/without":174}],169:[function(require,module,exports){"use strict";module.exports=function flatten(array){var flattenedArray=[];var callback=function(item){if(Array.isArray(item)){item.forEach(callback)}else{flattenedArray.push(item)}};array.forEach(callback);return flattenedArray}},{}],170:[function(require,module,exports){"use strict";module.exports=function intersection(array){if(!array){return[]}var argsLength=arguments.length;var i=0;var len=array.length;var result=[];var item;for(i;i<len;i++){item=array[i];if(result.indexOf(item)>-1){continue}for(var j=1;j<argsLength;j++){if(arguments[j].indexOf(item)<0){break}}if(j===argsLength){result.push(item)}}return result}},{}],171:[function(require,module,exports){"use strict";module.exports=function toArray(arrayLike){return Array.prototype.slice.call(arrayLike)}},{}],172:[function(require,module,exports){"use strict";var flatten=require("./flatten");var unique=require("./unique");module.exports=function union(array){return unique(flatten(Array.prototype.slice.call(arguments)))}},{"./flatten":169,"./unique":173}],173:[function(require,module,exports){"use strict";module.exports=function unique(array){var _unique=function(prev,current){if(prev.indexOf(current)<0){prev.push(current)}return prev};return array.reduce(_unique,[])}},{}],174:[function(require,module,exports){"use strict";module.exports=function without(arr,value,recurse){var newArr;var index=arr.indexOf(value);var length=arr.length;if(index>=0){if(recurse){newArr=arr.slice(0,length);var i,amountRemoved=0;for(i=index;i<length;i++){if(arr[i]===value){newArr.splice(i-amountRemoved,1);amountRemoved++}}}else if(index===length-1){newArr=arr.slice(0,length-1)}else if(index===0){newArr=arr.slice(1)}else{newArr=arr.slice(0,index);newArr=newArr.concat(arr.slice(index+1))}}else{return arr}return newArr}},{}],175:[function(require,module,exports){module.exports.DOMEmitter=require("./ac-dom-emitter/DOMEmitter")},{"./ac-dom-emitter/DOMEmitter":176}],176:[function(require,module,exports){"use strict";var proto;var EventEmitter=require("ac-event-emitter").EventEmitter;var internalEventPrefix="dom-emitter";function DOMEmitter(el){if(el===null){return}this.el=el;this._bindings={};this._eventEmitter=new EventEmitter}proto=DOMEmitter.prototype;proto._parseEventNames=function(evt){if(!evt){return[evt]}return evt.split(" ")};proto._onListenerEvent=function(evtName,e){this.trigger(evtName,e,false)};proto._setListener=function(evt){this._bindings[evt]=this._onListenerEvent.bind(this,evt);this._addEventListener(evt,this._bindings[evt])};proto._removeListener=function(evt){this._removeEventListener(evt,this._bindings[evt]);delete this._bindings[evt]};proto._addEventListener=function(evt,func,useCapture){if(this.el.addEventListener){this.el.addEventListener(evt,func,useCapture)}else if(this.el.attachEvent){this.el.attachEvent("on"+evt,func)}else{target["on"+evt]=func}return this};proto._removeEventListener=function(evt,func,useCapture){if(this.el.removeEventListener){this.el.removeEventListener(evt,func,useCapture)}else{this.el.detachEvent("on"+evt,func)}return this};proto._triggerInternalEvent=function(evt,data){this.trigger(internalEventPrefix+":"+evt,data)};proto.on=function(evts,callback,context){evts=this._parseEventNames(evts);evts.forEach(function(callback,context,evt){if(!this.has(evt)){this._setListener(evt)}this._triggerInternalEvent("willon",{evt:evt,callback:callback,context:context});this._eventEmitter.on(evt,callback,context);this._triggerInternalEvent("didon",{evt:evt,callback:callback,context:context})}.bind(this,callback,context));return this};proto.off=function(evts,callback,context){var args=Array.prototype.slice.call(arguments,0);evts=this._parseEventNames(evts);evts.forEach(function(callback,context,args,evt){if(args.length===0){this._eventEmitter.off();var i;for(i in this._bindings){if(this._bindings.hasOwnProperty(i)){this._removeListener(i)}}return}this._triggerInternalEvent("willoff",{evt:evt,callback:callback,context:context});this._eventEmitter.off(evt,callback,context);this._triggerInternalEvent("didoff",{evt:evt,callback:callback,context:context});if(!this.has(evt)){this._removeListener(evt)}}.bind(this,callback,context,args));return this};proto.once=function(evts,callback,context){evts=this._parseEventNames(evts);evts.forEach(function(callback,context,evt){if(!this.has(evt)){this._setListener(evt)}this._triggerInternalEvent("willonce",{evt:evt,callback:callback,context:context});this._eventEmitter.once.call(this,evt,callback,context);this._triggerInternalEvent("didonce",{evt:evt,callback:callback,context:context})}.bind(this,callback,context));return this};proto.has=function(evt,callback,context){if(this._eventEmitter&&this._eventEmitter.has.apply(this._eventEmitter,arguments)){return true}return false};proto.trigger=function(evts,data,doNotPropogate){evts=this._parseEventNames(evts);evts.forEach(function(data,doNotPropogate,evt){this._eventEmitter.trigger(evt,data,doNotPropogate)}.bind(this,data,doNotPropogate));return this};proto.destroy=function(){this._triggerInternalEvent("willdestroy");this.off();this.el=this._eventEmitter=this._bindings=null};module.exports=DOMEmitter},{"ac-event-emitter":270}],177:[function(require,module,exports){"use strict";var vendorTransformHelper=require("./ac-dom-styles/vendorTransformHelper");var ac_dom_styles={};ac_dom_styles.setStyle=function(el,styles){var stylesObj;var camelCaseProp;var prop;if(typeof styles!=="string"&&typeof styles!=="object"||Array.isArray(styles)){throw new TypeError("styles argument must be either an object or a string")}stylesObj=ac_dom_styles.setStyle.__explodeStyleStringToObject(styles);for(prop in stylesObj){if(stylesObj.hasOwnProperty(prop)){camelCaseProp=prop.replace(/-(\w)/g,ac_dom_styles.setStyle.__camelCaseReplace);ac_dom_styles.setStyle.__setStyle(el,camelCaseProp,stylesObj,stylesObj[prop])}}return el};ac_dom_styles.setStyle.__explodeStyleStringToObject=function(styles){var stylesObj=typeof styles==="object"?styles:{};var splitStyles;var colon;var len;var i;if(typeof styles==="string"){splitStyles=styles.split(";");len=splitStyles.length;for(i=0;i<len;i+=1){colon=splitStyles[i].indexOf(":");if(colon>0){stylesObj[splitStyles[i].substr(0,colon).trim()]=splitStyles[i].substr(colon+1).trim()}}}return stylesObj};ac_dom_styles.setStyle.__setStyle=function(element,camelCaseProp,stylesObj,stylesValue){if(typeof element.style[camelCaseProp]!=="undefined"){element.style[camelCaseProp]=stylesValue}};ac_dom_styles.setStyle.__camelCaseReplace=function(match,group,offset,string){return offset===0&&string.substr(1,3)!=="moz"?group:group.toUpperCase()};ac_dom_styles.getStyle=function(el,property,css){var value;property=property.replace(/-(\w)/g,ac_dom_styles.setStyle.__camelCaseReplace);property=property==="float"?"cssFloat":property;css=css||window.getComputedStyle(el,null);value=css?css[property]:null;if(property==="opacity"){return value?parseFloat(value):1}return value==="auto"?null:value};ac_dom_styles.setVendorPrefixStyle=function(el,property,value){if(typeof property!=="string"){throw new TypeError("ac-dom-styles.setVendorPrefixStyle: property must be a string")}if(typeof value!=="string"&&typeof value!=="number"){throw new TypeError("ac-dom-styles.setVendorPrefixStyle: value must be a string or a number")}var prefixes=["","webkit","Moz","ms","O"];var prefixedCamelProp;var prefixedValue;value+="";property=property.replace(/-(webkit|moz|ms|o)-/i,"");property=property.replace(/^(webkit|Moz|ms|O)/,"");property=property.charAt(0).toLowerCase()+property.slice(1);property=property.replace(/-(\w)/,function(match,group){return group.toUpperCase()});value=value.replace(/-(webkit|moz|ms|o)-/,"-vendor-");prefixes.forEach(function(prefix){prefixedCamelProp=prefix===""?property:prefix+property.charAt(0).toUpperCase()+property.slice(1);prefixedValue=prefix===""?value.replace("-vendor-",""):value.replace("-vendor-","-"+prefix.charAt(0).toLowerCase()+prefix.slice(1)+"-");if(prefixedCamelProp in el.style){ac_dom_styles.setStyle(el,prefixedCamelProp+":"+prefixedValue)}})};ac_dom_styles.getVendorPrefixStyle=function(el,property){if(typeof property!=="string"){throw new TypeError("ac-dom-styles.getVendorPrefixStyle: property must be a string")}var prefixes=["","webkit","Moz","ms","O"];var style;property=property.replace(/-(webkit|moz|ms|o)-/i,"");property=property.replace(/^(webkit|Moz|ms|O)/,"").charAt(0).toLowerCase()+property.slice(1);property=property.replace(/-(\w)/,function(match,group){return group.toUpperCase()});prefixes.some(function(prefix,index){var prefixedCamelProp=prefix===""?property:prefix+property.charAt(0).toUpperCase()+property.slice(1);if(prefixedCamelProp in el.style){style=ac_dom_styles.getStyle(el,prefixedCamelProp);return true}});return style};ac_dom_styles.setVendorPrefixTransform=function(el,transformFunctions){if(typeof transformFunctions!=="string"&&typeof transformFunctions!=="object"||Array.isArray(transformFunctions)||transformFunctions===null){throw new TypeError("ac-dom-styles.setVendorPrefixTransform: transformFunctions argument must be either an object or a string")}ac_dom_styles.setVendorPrefixStyle(el,"transform",vendorTransformHelper.convert2dFunctions(transformFunctions))};require("./ac-dom-styles/ie")(ac_dom_styles);module.exports=ac_dom_styles},{"./ac-dom-styles/ie":178,"./ac-dom-styles/vendorTransformHelper":179}],178:[function(require,module,exports){"use strict";module.exports=function(ac_dom_styles){if(typeof window.getComputedStyle!=="function"){ac_dom_styles.getStyle=function(el,style,css){var alphaFilter;var value;css=css||el.currentStyle;if(css){style=style.replace(/-(\w)/g,ac_dom_styles.setStyle.__camelCaseReplace);style=style==="float"?"styleFloat":style;value=css[style]||null;return value==="auto"?null:value}}}}},{}],179:[function(require,module,exports){"use strict";var vendorTransformHelper={__objectifiedFunctions:{},__paramMaps:{translate:"p1, p2, 0",translateX:"p1, 0, 0",translateY:"0, p1, 0",scale:"p1, p2, 1",scaleX:"p1, 1, 1",scaleY:"1, p1, 1",rotate:"0, 0, 1, p1",matrix:"p1, p2, 0, 0, p3, p4, 0, 0, 0, 0, 1, 0, p5, p6, 0, 1"},convert2dFunctions:function(functions2d){var values;this.__init(functions2d);for(var func in this.__objectifiedFunctions){if(this.__objectifiedFunctions.hasOwnProperty(func)){values=this.__objectifiedFunctions[func].replace(" ","").split(",");if(func in this.__paramMaps){for(var map in this.__paramMaps){if(func===map){this.valuesToSet.push(this.__stripFunctionAxis(func)+"3d("+this.__map2DTransformParams(values,this.__paramMaps[func])+")")}}}else{this.valuesToSet.push(func+"("+this.__objectifiedFunctions[func]+")")}}}return this.valuesToSet.join(" ")},__init:function(functions2d){this.valuesToSet=[];this.__objectifiedFunctions=typeof functions2d==="object"?functions2d:{};if(typeof functions2d==="string"){this.__objectifiedFunctions=this.__objectifyFunctionString(functions2d)}},__map2DTransformParams:function(params2d,template3d){params2d.forEach(function(val,i){template3d=template3d.replace("p"+(i+1),val)});return template3d},__splitFunctionStringToArray:function(functionString){return functionString.match(/[\w]+\(.+?\)/g)},__splitFunctionNameAndParams:function(functionString){return functionString.match(/(.*)\((.*)\)/)},__stripFunctionAxis:function(func){return func.match(/([a-z]+)(|X|Y)$/)[1]},__objectifyFunctionString:function(functionString){var self=this;var splitMember;this.__splitFunctionStringToArray(functionString).forEach(function(member){splitMember=self.__splitFunctionNameAndParams(member);self.__objectifiedFunctions[splitMember[1]]=splitMember[2]});return this.__objectifiedFunctions}};module.exports=vendorTransformHelper},{}],180:[function(require,module,exports){"use strict";var ac_dom_styles=require("ac-dom-styles");var ac_dom_metrics={};var viewportScrollOffsets=function(){return{x:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}};var viewportDimensions=function(){return{height:window.innerHeight||document.documentElement.clientHeight,width:window.innerWidth||document.documentElement.clientWidth}};ac_dom_metrics.cumulativeOffset=function(el){var box=ac_dom_metrics.getBoundingBox(el);var scrollOffsets=viewportScrollOffsets();var offset=[box.top+scrollOffsets.y,box.left+scrollOffsets.x];offset.top=offset[0];offset.left=offset[1];return offset};ac_dom_metrics.getBoundingBox=function(el){var rect=el.getBoundingClientRect();var width=rect.width||rect.right-rect.left;var height=rect.height||rect.bottom-rect.top;return{top:rect.top,right:rect.right,bottom:rect.bottom,left:rect.left,width:width,height:height}};ac_dom_metrics.getInnerDimensions=function(el){var dims=ac_dom_metrics.getBoundingBox(el);var width=dims.width;var height=dims.height;var style;var styleValue;var css=window.getComputedStyle?window.getComputedStyle(el,null):null;["padding","border"].forEach(function(prop){["Top","Right","Bottom","Left"].forEach(function(side){style=prop==="border"?prop+side+"Width":prop+side;styleValue=parseFloat(ac_dom_styles.getStyle(el,style,css));styleValue=isNaN(styleValue)?0:styleValue;if(side==="Right"||side==="Left"){width-=styleValue}if(side==="Top"||side==="Bottom"){height-=styleValue}})});return{width:width,height:height}};ac_dom_metrics.getOuterDimensions=function(el){var dims=ac_dom_metrics.getBoundingBox(el);var width=dims.width;var height=dims.height;var marginStyle;var css=window.getComputedStyle?window.getComputedStyle(el,null):null;["margin"].forEach(function(prop){["Top","Right","Bottom","Left"].forEach(function(side){marginStyle=parseFloat(ac_dom_styles.getStyle(el,prop+side,css));marginStyle=isNaN(marginStyle)?0:marginStyle;if(side==="Right"||side==="Left"){width+=marginStyle}if(side==="Top"||side==="Bottom"){height+=marginStyle}})});return{width:width,height:height}};ac_dom_metrics.pixelsInViewport=function(el,boundingBox){var pixelsInView;var viewportMetrics=viewportDimensions();boundingBox=boundingBox||ac_dom_metrics.getBoundingBox(el);var elementViewportOffsetY=boundingBox.top;if(elementViewportOffsetY>=0){pixelsInView=viewportMetrics.height-elementViewportOffsetY;if(pixelsInView>boundingBox.height){pixelsInView=boundingBox.height}}else{pixelsInView=boundingBox.height+elementViewportOffsetY}if(pixelsInView<0){pixelsInView=0}if(pixelsInView>viewportMetrics.height){pixelsInView=viewportMetrics.height}return pixelsInView};ac_dom_metrics.percentInViewport=function(el){var boundingBox=ac_dom_metrics.getBoundingBox(el);var pixelsInView=ac_dom_metrics.pixelsInViewport(el,boundingBox);return pixelsInView/boundingBox.height};ac_dom_metrics.isInViewport=function(el,threshold){var percentInViewport=ac_dom_metrics.percentInViewport(el);if(typeof threshold!=="number"||1<threshold||threshold<0){threshold=0}return percentInViewport>threshold||percentInViewport===1};require("./ac-dom-metrics/ie")(ac_dom_metrics);module.exports=ac_dom_metrics},{"./ac-dom-metrics/ie":181,"ac-dom-styles":177}],181:[function(require,module,exports){"use strict";module.exports=function(ac_metrics){if(!("getBoundingClientRect"in document.createElement("_"))){ac_metrics.getBoundingBox=function(el){var left=el.offsetLeft;var top=el.offsetTop;var width=el.offsetWidth;var height=el.offsetHeight;return{top:top,right:left+width,bottom:top+height,left:left,width:width,height:height}}}}},{}],182:[function(require,module,exports){"use strict";module.exports=8},{}],183:[function(require,module,exports){"use strict";module.exports=11},{}],184:[function(require,module,exports){"use strict";module.exports=9},{}],185:[function(require,module,exports){"use strict";module.exports=10},{}],186:[function(require,module,exports){"use strict";module.exports=1},{}],187:[function(require,module,exports){"use strict";module.exports=3},{}],188:[function(require,module,exports){"use strict";module.exports=function createDocumentFragment(html){var fragment=document.createDocumentFragment();var div;if(html){div=document.createElement("div");div.innerHTML=html;while(div.firstChild){fragment.appendChild(div.firstChild)}}return fragment}},{}],189:[function(require,module,exports){"use strict";require("ac-polyfills/Array/prototype.slice");require("ac-polyfills/Array/prototype.filter");var isNodeType=require("./internal/isNodeType");var ELEMENT_NODE=require("./ELEMENT_NODE");module.exports=function filterByNodeType(nodes,nodeType){nodeType=nodeType||ELEMENT_NODE;nodes=Array.prototype.slice.call(nodes);return nodes.filter(function(node){return isNodeType(node,nodeType)})}},{"./ELEMENT_NODE":186,"./internal/isNodeType":197,"ac-polyfills/Array/prototype.filter":207,"ac-polyfills/Array/prototype.slice":209}],190:[function(require,module,exports){"use strict";module.exports=function hasAttribute(el,attr){if("hasAttribute"in el){return el.hasAttribute(attr)}return el.attributes.getNamedItem(attr)!==null}},{}],191:[function(require,module,exports){"use strict";module.exports={createDocumentFragment:require("./createDocumentFragment"),filterByNodeType:require("./filterByNodeType"),hasAttribute:require("./hasAttribute"),indexOf:require("./indexOf"),insertAfter:require("./insertAfter"),insertBefore:require("./insertBefore"),insertFirstChild:require("./insertFirstChild"),insertLastChild:require("./insertLastChild"),isComment:require("./isComment"),isDocument:require("./isDocument"),isDocumentFragment:require("./isDocumentFragment"),isDocumentType:require("./isDocumentType"),isElement:require("./isElement"),isNode:require("./isNode"),isNodeList:require("./isNodeList"),isTextNode:require("./isTextNode"),remove:require("./remove"),replace:require("./replace"),COMMENT_NODE:require("./COMMENT_NODE"),DOCUMENT_FRAGMENT_NODE:require("./DOCUMENT_FRAGMENT_NODE"),DOCUMENT_NODE:require("./DOCUMENT_NODE"),DOCUMENT_TYPE_NODE:require("./DOCUMENT_TYPE_NODE"),ELEMENT_NODE:require("./ELEMENT_NODE"),TEXT_NODE:require("./TEXT_NODE")}},{"./COMMENT_NODE":182,"./DOCUMENT_FRAGMENT_NODE":183,"./DOCUMENT_NODE":184,"./DOCUMENT_TYPE_NODE":185,"./ELEMENT_NODE":186,"./TEXT_NODE":187,"./createDocumentFragment":188,"./filterByNodeType":189,"./hasAttribute":190,"./indexOf":192,"./insertAfter":193,"./insertBefore":194,"./insertFirstChild":195,"./insertLastChild":196,"./isComment":199,"./isDocument":200,"./isDocumentFragment":201,"./isDocumentType":202,"./isElement":203,"./isNode":204,"./isNodeList":205,"./isTextNode":206,"./remove":210,"./replace":211}],192:[function(require,module,exports){"use strict";require("ac-polyfills/Array/prototype.indexOf");require("ac-polyfills/Array/prototype.slice");var validate=require("./internal/validate");var filterByNodeType=require("./filterByNodeType");module.exports=function indexOf(node,nodeType){var parentNode=node.parentNode;var nodes;if(!parentNode){return 0}nodes=parentNode.childNodes;if(nodeType!==false){nodes=filterByNodeType(nodes,nodeType)}else{nodes=Array.prototype.slice.call(nodes)}return nodes.indexOf(node)}},{"./filterByNodeType":189,"./internal/validate":198,"ac-polyfills/Array/prototype.indexOf":208,"ac-polyfills/Array/prototype.slice":209}],193:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function insertAfter(node,target){validate.insertNode(node,true,"insertAfter");validate.childNode(target,true,"insertAfter");validate.hasParentNode(target,"insertAfter");if(!target.nextSibling){return target.parentNode.appendChild(node)}return target.parentNode.insertBefore(node,target.nextSibling)}},{"./internal/validate":198}],194:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function insertBefore(node,target){validate.insertNode(node,true,"insertBefore");validate.childNode(target,true,"insertBefore");validate.hasParentNode(target,"insertBefore");return target.parentNode.insertBefore(node,target)}},{"./internal/validate":198}],195:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function insertFirstChild(node,target){validate.insertNode(node,true,"insertFirstChild");validate.parentNode(target,true,"insertFirstChild");if(!target.firstChild){return target.appendChild(node)}return target.insertBefore(node,target.firstChild)}},{"./internal/validate":198}],196:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function insertLastChild(node,target){validate.insertNode(node,true,"insertLastChild");validate.parentNode(target,true,"insertLastChild");return target.appendChild(node)}},{"./internal/validate":198}],197:[function(require,module,exports){"use strict";var isNode=require("../isNode");module.exports=function isNodeType(node,nodeType){if(!isNode(node)){return false}if(typeof nodeType==="number"){return node.nodeType===nodeType}return nodeType.indexOf(node.nodeType)!==-1}},{"../isNode":204}],198:[function(require,module,exports){"use strict";var isNodeType=require("./isNodeType");var COMMENT_NODE=require("../COMMENT_NODE");var DOCUMENT_FRAGMENT_NODE=require("../DOCUMENT_FRAGMENT_NODE");var ELEMENT_NODE=require("../ELEMENT_NODE");var TEXT_NODE=require("../TEXT_NODE");var VALID_INSERT_NODE=[ELEMENT_NODE,TEXT_NODE,COMMENT_NODE,DOCUMENT_FRAGMENT_NODE];var ERR_INVALID_INSERT_NODE=" must be an Element, TextNode, Comment, or Document Fragment";var VALID_CHILD_NODE=[ELEMENT_NODE,TEXT_NODE,COMMENT_NODE];var ERR_INVALID_CHILD_NODE=" must be an Element, TextNode, or Comment";var VALID_PARENT_NODE=[ELEMENT_NODE,DOCUMENT_FRAGMENT_NODE];var ERR_INVALID_PARENT_NODE=" must be an Element, or Document Fragment";var ERR_NO_PARENT_NODE=" must have a parentNode";module.exports={parentNode:function(node,required,funcName,paramName){paramName=paramName||"target";if((node||required)&&!isNodeType(node,VALID_PARENT_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_PARENT_NODE)}},childNode:function(node,required,funcName,paramName){paramName=paramName||"target";if(!node&&!required){return}if(!isNodeType(node,VALID_CHILD_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_CHILD_NODE)}},insertNode:function(node,required,funcName,paramName){paramName=paramName||"node";if(!node&&!required){return}if(!isNodeType(node,VALID_INSERT_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_INSERT_NODE)}},hasParentNode:function(node,funcName,paramName){paramName=paramName||"target";if(!node.parentNode){throw new TypeError(funcName+": "+paramName+ERR_NO_PARENT_NODE)}}}},{"../COMMENT_NODE":182,"../DOCUMENT_FRAGMENT_NODE":183,"../ELEMENT_NODE":186,"../TEXT_NODE":187,"./isNodeType":197}],199:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var COMMENT_NODE=require("./COMMENT_NODE");module.exports=function isComment(obj){return isNodeType(obj,COMMENT_NODE)}},{"./COMMENT_NODE":182,"./internal/isNodeType":197}],200:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var DOCUMENT_NODE=require("./DOCUMENT_NODE");module.exports=function isDocument(obj){return isNodeType(obj,DOCUMENT_NODE)}},{"./DOCUMENT_NODE":184,"./internal/isNodeType":197}],201:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var DOCUMENT_FRAGMENT_NODE=require("./DOCUMENT_FRAGMENT_NODE");module.exports=function isDocumentFragment(obj){return isNodeType(obj,DOCUMENT_FRAGMENT_NODE)}},{"./DOCUMENT_FRAGMENT_NODE":183,"./internal/isNodeType":197}],202:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var DOCUMENT_TYPE_NODE=require("./DOCUMENT_TYPE_NODE");module.exports=function isDocumentType(obj){return isNodeType(obj,DOCUMENT_TYPE_NODE)}},{"./DOCUMENT_TYPE_NODE":185,"./internal/isNodeType":197}],203:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var ELEMENT_NODE=require("./ELEMENT_NODE");module.exports=function isElement(obj){return isNodeType(obj,ELEMENT_NODE)}},{"./ELEMENT_NODE":186,"./internal/isNodeType":197}],204:[function(require,module,exports){"use strict";module.exports=function isNode(obj){return!!(obj&&obj.nodeType)}},{}],205:[function(require,module,exports){"use strict";var nodeListToStringPattern=/^\[object (HTMLCollection|NodeList|Object)\]$/;module.exports=function isNodeList(obj){if(!obj){return false}if(typeof obj.length!=="number"){return false}if(typeof obj[0]==="object"&&(!obj[0]||!obj[0].nodeType)){return false}return nodeListToStringPattern.test(Object.prototype.toString.call(obj))}},{}],206:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var TEXT_NODE=require("./TEXT_NODE");module.exports=function isTextNode(obj){return isNodeType(obj,TEXT_NODE)}},{"./TEXT_NODE":187,"./internal/isNodeType":197}],207:[function(require,module,exports){module.exports=require(106)},{}],208:[function(require,module,exports){if(!Array.prototype.indexOf){Array.prototype.indexOf=function indexOf(searchElement,fromIndex){var startIndex=fromIndex||0;var currentIndex=0;if(startIndex<0){startIndex=this.length+fromIndex-1;if(startIndex<0){throw"Wrapped past beginning of array while looking up a negative start index."}}for(currentIndex=0;currentIndex<this.length;currentIndex++){if(this[currentIndex]===searchElement){return currentIndex}}return-1}}},{}],209:[function(require,module,exports){(function(){"use strict";var _slice=Array.prototype.slice;try{_slice.call(document.documentElement)}catch(e){Array.prototype.slice=function(begin,end){end=typeof end!=="undefined"?end:this.length;if(Object.prototype.toString.call(this)==="[object Array]"){return _slice.call(this,begin,end)}var i,cloned=[],size,len=this.length;var start=begin||0;start=start>=0?start:len+start;var upTo=end?end:len;if(end<0){upTo=len+end}size=upTo-start;if(size>0){cloned=new Array(size);if(this.charAt){for(i=0;i<size;i++){cloned[i]=this.charAt(start+i)}}else{for(i=0;i<size;i++){cloned[i]=this[start+i]}}}return cloned}}})()},{}],210:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function remove(node){validate.childNode(node,true,"remove");if(!node.parentNode){return node}return node.parentNode.removeChild(node)}},{"./internal/validate":198}],211:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function replace(newNode,oldNode){validate.insertNode(newNode,true,"insertFirstChild","newNode");validate.childNode(oldNode,true,"insertFirstChild","oldNode");validate.hasParentNode(oldNode,"insertFirstChild","oldNode");return oldNode.parentNode.replaceChild(newNode,oldNode)}},{"./internal/validate":198}],212:[function(require,module,exports){"use strict";var events={};events.addEventListener=function(target,type,listener,useCapture){if(target.addEventListener){target.addEventListener(type,listener,useCapture)}else if(target.attachEvent){target.attachEvent("on"+type,listener)}else{target["on"+type]=listener}return target};events.dispatchEvent=function(target,type){if(document.createEvent){target.dispatchEvent(new CustomEvent(type))}else{target.fireEvent("on"+type,document.createEventObject())}return target};events.removeEventListener=function(target,type,listener,useCapture){if(target.removeEventListener){target.removeEventListener(type,listener,useCapture)}else{target.detachEvent("on"+type,listener)}return target};var prefixMatch=/^(webkit|moz|ms|o)/i;events.addVendorPrefixEventListener=function(target,type,listener,useCapture){if(prefixMatch.test(type)){type=type.replace(prefixMatch,"")}else{type=type.charAt(0).toUpperCase()+type.slice(1)}if(/WebKit/i.test(window.navigator.userAgent)){return events.addEventListener(target,"webkit"+type,listener,useCapture)}else if(/Opera/i.test(window.navigator.userAgent)){return events.addEventListener(target,"O"+type,listener,useCapture)}else if(/Gecko/i.test(window.navigator.userAgent)){return events.addEventListener(target,type.toLowerCase(),listener,useCapture)}else{type=type.charAt(0).toLowerCase()+type.slice(1);return events.addEventListener(target,type,listener,useCapture)}};events.removeVendorPrefixEventListener=function(target,type,listener,useCapture){if(prefixMatch.test(type)){type=type.replace(prefixMatch,"")}else{type=type.charAt(0).toUpperCase()+type.slice(1)}events.removeEventListener(target,"webkit"+type,listener,useCapture);events.removeEventListener(target,"O"+type,listener,useCapture);events.removeEventListener(target,type.toLowerCase(),listener,useCapture);type=type.charAt(0).toLowerCase()+type.slice(1);return events.removeEventListener(target,type,listener,useCapture)};events.stop=function(evt){if(!evt){evt=window.event}if(evt.stopPropagation){evt.stopPropagation()}else{evt.cancelBubble=true}if(evt.preventDefault){evt.preventDefault()}evt.stopped=true;evt.returnValue=false};events.target=function(evt){return typeof evt.target!=="undefined"?evt.target:evt.srcElement};module.exports=events},{}],213:[function(require,module,exports){"use strict";var ac_dom_traversal={querySelector:require("./ac-dom-traversal/querySelector"),querySelectorAll:require("./ac-dom-traversal/querySelectorAll"),ancestor:require("./ac-dom-traversal/ancestor"),ancestors:require("./ac-dom-traversal/ancestors"),children:require("./ac-dom-traversal/children"),firstChild:require("./ac-dom-traversal/firstChild"),lastChild:require("./ac-dom-traversal/lastChild"),siblings:require("./ac-dom-traversal/siblings"),nextSibling:require("./ac-dom-traversal/nextSibling"),nextSiblings:require("./ac-dom-traversal/nextSiblings"),previousSibling:require("./ac-dom-traversal/previousSibling"),previousSiblings:require("./ac-dom-traversal/previousSiblings"),filterBySelector:require("./ac-dom-traversal/filterBySelector"),matchesSelector:require("./ac-dom-traversal/matchesSelector")};require("./ac-dom-traversal/shims/ie")(ac_dom_traversal);module.exports=ac_dom_traversal},{"./ac-dom-traversal/ancestor":214,"./ac-dom-traversal/ancestors":215,"./ac-dom-traversal/children":216,"./ac-dom-traversal/filterBySelector":217,"./ac-dom-traversal/firstChild":218,"./ac-dom-traversal/lastChild":221,"./ac-dom-traversal/matchesSelector":222,"./ac-dom-traversal/nextSibling":223,"./ac-dom-traversal/nextSiblings":224,"./ac-dom-traversal/previousSibling":225,"./ac-dom-traversal/previousSiblings":226,"./ac-dom-traversal/querySelector":227,"./ac-dom-traversal/querySelectorAll":228,"./ac-dom-traversal/shims/ie":229,"./ac-dom-traversal/siblings":230}],214:[function(require,module,exports){"use strict";var ac_dom_nodes=require("ac-dom-nodes");var matchesSelector=require("./matchesSelector");var validate=require("./helpers/validate");module.exports=function ancestor(node,selector){validate.childNode(node,true,"ancestors");validate.selector(selector,false,"ancestors");if(node!==document.body){while((node=node.parentNode)&&ac_dom_nodes.isElement(node)){if(!selector||matchesSelector(node,selector)){return node}if(node===document.body){break}}}return null}},{"./helpers/validate":220,"./matchesSelector":222,"ac-dom-nodes":191}],215:[function(require,module,exports){"use strict";var ac_dom_nodes=require("ac-dom-nodes");var matchesSelector=require("./matchesSelector");var validate=require("./helpers/validate");module.exports=function ancestors(node,selector){var els=[];validate.childNode(node,true,"ancestors");validate.selector(selector,false,"ancestors");if(node!==document.body){while((node=node.parentNode)&&ac_dom_nodes.isElement(node)){if(!selector||matchesSelector(node,selector)){els.push(node)}if(node===document.body){break}}}return els}},{"./helpers/validate":220,"./matchesSelector":222,"ac-dom-nodes":191}],216:[function(require,module,exports){"use strict";var ac_dom_nodes=require("ac-dom-nodes");var filterBySelector=require("./filterBySelector");var validate=require("./helpers/validate");module.exports=function children(node,selector){var els;validate.parentNode(node,true,"children");validate.selector(selector,false,"children");els=node.children||node.childNodes;els=ac_dom_nodes.filterByNodeType(els);if(selector){els=filterBySelector(els,selector)}return els}},{"./filterBySelector":217,"./helpers/validate":220,"ac-dom-nodes":191}],217:[function(require,module,exports){"use strict";var matchesSelector=require("./matchesSelector");var validate=require("./helpers/validate");module.exports=function filterBySelector(nodes,selector){validate.selector(selector,true,"filterBySelector");nodes=Array.prototype.slice.call(nodes);return nodes.filter(function(el){return matchesSelector(el,selector)})}},{"./helpers/validate":220,"./matchesSelector":222}],218:[function(require,module,exports){"use strict";var children=require("./children");var validate=require("./helpers/validate");module.exports=function firstChild(node,selector){var els;validate.parentNode(node,true,"firstChild");validate.selector(selector,false,"firstChild");if(node.firstElementChild&&!selector){return node.firstElementChild}els=children(node,selector);if(els.length){return els[0]}return null}},{"./children":216,"./helpers/validate":220}],219:[function(require,module,exports){"use strict";module.exports=window.Element?function(proto){return proto.matches||proto.matchesSelector||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector}(Element.prototype):null},{}],220:[function(require,module,exports){"use strict";var ac_dom_nodes=require("ac-dom-nodes");var isNodeType=function(node,nodeType){if(!ac_dom_nodes.isNode(node)){return false}if(typeof nodeType==="number"){return node.nodeType===nodeType}return nodeType.indexOf(node.nodeType)!==-1};var VALID_PARENT_NODE=[ac_dom_nodes.ELEMENT_NODE,ac_dom_nodes.DOCUMENT_NODE,ac_dom_nodes.DOCUMENT_FRAGMENT_NODE];var ERR_INVALID_PARENT_NODE=" must be an Element, Document, or Document Fragment";var VALID_CHILD_NODE=[ac_dom_nodes.ELEMENT_NODE,ac_dom_nodes.TEXT_NODE,ac_dom_nodes.COMMENT_NODE];var ERR_INVALID_CHILD_NODE=" must be an Element, TextNode, or Comment";var ERR_INVALID_SELECTOR=" must be a string";module.exports={parentNode:function(node,required,funcName,paramName){paramName=paramName||"node";if((node||required)&&!isNodeType(node,VALID_PARENT_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_PARENT_NODE)}},childNode:function(node,required,funcName,paramName){paramName=paramName||"node";if(!node&&!required){return}if(!isNodeType(node,VALID_CHILD_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_CHILD_NODE)}},selector:function(selector,required,funcName,paramName){paramName=paramName||"selector";if((selector||required)&&typeof selector!=="string"){throw new TypeError(funcName+": "+paramName+ERR_INVALID_SELECTOR)}}}},{"ac-dom-nodes":191}],221:[function(require,module,exports){"use strict";var children=require("./children");var validate=require("./helpers/validate");module.exports=function lastChild(node,selector){var els;validate.parentNode(node,true,"lastChild");validate.selector(selector,false,"lastChild");if(node.lastElementChild&&!selector){return node.lastElementChild}els=children(node,selector);if(els.length){return els[els.length-1]}return null}},{"./children":216,"./helpers/validate":220}],222:[function(require,module,exports){"use strict";var ac_dom_nodes=require("ac-dom-nodes");var nativeMatches=require("./helpers/nativeMatches");var validate=require("./helpers/validate");module.exports=function matchesSelector(node,selector){validate.selector(selector,true,"matchesSelector");return ac_dom_nodes.isElement(node)?nativeMatches.call(node,selector):false}},{"./helpers/nativeMatches":219,"./helpers/validate":220,"ac-dom-nodes":191}],223:[function(require,module,exports){"use strict";var ac_dom_nodes=require("ac-dom-nodes");var matchesSelector=require("./matchesSelector");var validate=require("./helpers/validate");module.exports=function nextSibling(node,selector){validate.childNode(node,true,"nextSibling");validate.selector(selector,false,"nextSibling");if(node.nextElementSibling&&!selector){return node.nextElementSibling}while(node=node.nextSibling){if(ac_dom_nodes.isElement(node)){if(!selector||matchesSelector(node,selector)){return node}}}return null}},{"./helpers/validate":220,"./matchesSelector":222,"ac-dom-nodes":191}],224:[function(require,module,exports){"use strict";var ac_dom_nodes=require("ac-dom-nodes");var matchesSelector=require("./matchesSelector");var validate=require("./helpers/validate");module.exports=function nextSiblings(node,selector){var els=[];validate.childNode(node,true,"nextSiblings");validate.selector(selector,false,"nextSiblings");while(node=node.nextSibling){if(ac_dom_nodes.isElement(node)){if(!selector||matchesSelector(node,selector)){els.push(node)}}}return els}},{"./helpers/validate":220,"./matchesSelector":222,"ac-dom-nodes":191}],225:[function(require,module,exports){"use strict";var ac_dom_nodes=require("ac-dom-nodes");var matchesSelector=require("./matchesSelector");var validate=require("./helpers/validate");module.exports=function previousSibling(node,selector){validate.childNode(node,true,"previousSibling");validate.selector(selector,false,"previousSibling");if(node.previousElementSibling&&!selector){return node.previousElementSibling}while(node=node.previousSibling){if(ac_dom_nodes.isElement(node)){if(!selector||matchesSelector(node,selector)){return node}}}return null}},{"./helpers/validate":220,"./matchesSelector":222,"ac-dom-nodes":191}],226:[function(require,module,exports){"use strict";var ac_dom_nodes=require("ac-dom-nodes");var matchesSelector=require("./matchesSelector");var validate=require("./helpers/validate");module.exports=function previousSiblings(node,selector){var els=[];validate.childNode(node,true,"previousSiblings");validate.selector(selector,false,"previousSiblings");while(node=node.previousSibling){if(ac_dom_nodes.isElement(node)){if(!selector||matchesSelector(node,selector)){els.push(node)}}}return els.reverse()}},{"./helpers/validate":220,"./matchesSelector":222,"ac-dom-nodes":191}],227:[function(require,module,exports){"use strict";var validate=require("./helpers/validate");module.exports=function querySelector(selector,context){context=context||document;validate.parentNode(context,true,"querySelector","context");validate.selector(selector,true,"querySelector");return context.querySelector(selector)}},{"./helpers/validate":220}],228:[function(require,module,exports){"use strict";var validate=require("./helpers/validate");module.exports=function querySelectorAll(selector,context){context=context||document;validate.parentNode(context,true,"querySelectorAll","context");validate.selector(selector,true,"querySelectorAll");return Array.prototype.slice.call(context.querySelectorAll(selector))}},{"./helpers/validate":220}],229:[function(require,module,exports){"use strict";var sizzle=require("../vendor/sizzle/sizzle");var ac_dom_nodes=require("ac-dom-nodes");var nativeMatches=require("../helpers/nativeMatches");var validate=require("../helpers/validate");module.exports=function(ac_dom_traversal,forceShim){if(forceShim||!("querySelectorAll"in document)){ac_dom_traversal.querySelectorAll=function(selector,context){var children;var matches;context=context||document;validate.parentNode(context,true,"querySelectorAll","context");validate.selector(selector,true,"querySelectorAll");if(ac_dom_nodes.isDocumentFragment(context)){children=ac_dom_traversal.children(context);matches=[];children.forEach(function(node){var childMatches;if(sizzle.matchesSelector(node,selector)){matches.push(node)}childMatches=sizzle(selector,node);if(childMatches.length){matches=matches.concat(childMatches)}});return matches}return sizzle(selector,context)};ac_dom_traversal.querySelector=function(selector,context){var allResults;context=context||document;validate.parentNode(context,true,"querySelector","context");validate.selector(selector,true,"querySelector");allResults=ac_dom_traversal.querySelectorAll(selector,context);return allResults.length?allResults[0]:null}}if(forceShim||!nativeMatches){ac_dom_traversal.matchesSelector=function(node,selector){return sizzle.matchesSelector(node,selector)}}}},{"../helpers/nativeMatches":219,"../helpers/validate":220,"../vendor/sizzle/sizzle":231,"ac-dom-nodes":191}],230:[function(require,module,exports){"use strict";var children=require("./children");var validate=require("./helpers/validate");module.exports=function siblings(node,selector){var els=[];validate.childNode(node,true,"siblings");validate.selector(selector,false,"siblings");if(node.parentNode){els=children(node.parentNode,selector);els=els.filter(function(el){return el!==node})}return els}},{"./children":216,"./helpers/validate":220}],231:[function(require,module,exports){(function(window,undefined){var cachedruns,dirruns,sortOrder,siblingCheck,assertGetIdNotName,document=window.document,docElem=document.documentElement,strundefined="undefined",hasDuplicate=false,baseHasDuplicate=true,done=0,slice=[].slice,push=[].push,expando=("sizcache"+Math.random()).replace(".",""),whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])",identifier="(?:[\\w#_-]|[^\\x00-\\xa0]|\\\\.)",operators="([*^$|!~]?=)",attributes="\\["+whitespace+"*("+characterEncoding+"+)"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+"+)|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+"+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|(.*))\\)|)",pos=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",combinators=whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*",groups="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+attributes+"|"+pseudos.replace(2,7)+"|[^\\\\(),])+",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcombinators=new RegExp("^"+combinators),rgroups=new RegExp(groups+"?(?="+whitespace+"*,|$)","g"),rselector=new RegExp("^(?:(?!,)(?:(?:^|,)"+whitespace+"*"+groups+")*?|"+whitespace+"*(.*?))(\\)|$)"),rtokens=new RegExp(groups.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+combinators,"g"),rquickExpr=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rsibling=/[\x20\t\r\n\f]*[+~]/,rendsWithNot=/:not\($/,rheader=/h\d/i,rinputs=/input|select|textarea|button/i,rbackslash=/\\(?!\\)/g,matchExpr={ID:new RegExp("^#("+characterEncoding+"+)"),CLASS:new RegExp("^\\.("+characterEncoding+"+)"),NAME:new RegExp("^\\[name=['\"]?("+characterEncoding+"+)['\"]?\\]"),TAG:new RegExp("^("+characterEncoding.replace("[-","[-\\*")+"+)"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),POS:new RegExp(pos,"ig"),needsContext:new RegExp("^"+whitespace+"*[>+~]|"+pos,"i")},classCache={},cachedClasses=[],compilerCache={},cachedSelectors=[],markFunction=function(fn){fn.sizzleFilter=true;return fn},createInputFunction=function(type){return function(elem){return elem.nodeName.toLowerCase()==="input"&&elem.type===type}},createButtonFunction=function(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}},assert=function(fn){var pass=false,div=document.createElement("div");try{pass=fn(div)}catch(e){}div=null;return pass},assertAttributes=assert(function(div){div.innerHTML="<select></select>";var type=typeof div.lastChild.getAttribute("multiple");return type!=="boolean"&&type!=="string"}),assertUsableName=assert(function(div){div.id=expando+0;div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>";docElem.insertBefore(div,docElem.firstChild);var pass=document.getElementsByName&&document.getElementsByName(expando).length===2+document.getElementsByName(expando+0).length;assertGetIdNotName=!document.getElementById(expando);docElem.removeChild(div);return pass}),assertTagNameNoComments=assert(function(div){div.appendChild(document.createComment(""));return div.getElementsByTagName("*").length===0}),assertHrefNotNormalized=assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&div.firstChild.getAttribute("href")==="#"}),assertUsableClassName=assert(function(div){div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0){return false}div.lastChild.className="e";return div.getElementsByClassName("e").length!==1});var Sizzle=function(selector,context,results,seed){results=results||[];context=context||document;var match,elem,xml,m,nodeType=context.nodeType;if(nodeType!==1&&nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}xml=isXML(context);if(!xml&&!seed){if(match=rquickExpr.exec(selector)){if(m=match[1]){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));return results}else if((m=match[3])&&assertUsableClassName&&context.getElementsByClassName){push.apply(results,slice.call(context.getElementsByClassName(m),0));return results}}}return select(selector,context,results,seed,xml)};var Expr=Sizzle.selectors={cacheLength:50,match:matchExpr,order:["ID","TAG"],attrHandle:{},createPseudo:markFunction,find:{ID:assertGetIdNotName?function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}}:function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[]}},TAG:assertTagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag)}}:function(tag,context){var results=context.getElementsByTagName(tag);if(tag==="*"){var elem,tmp=[],i=0;for(;elem=results[i];i++){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(rbackslash,"");match[3]=(match[4]||match[5]||"").replace(rbackslash,"");if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1]==="nth"){if(!match[2]){Sizzle.error(match[0])}match[3]=+(match[3]?match[4]+(match[5]||1):2*(match[2]==="even"||match[2]==="odd"));match[4]=+(match[6]+match[7]||match[2]==="odd")}else if(match[2]){Sizzle.error(match[0])}return match},PSEUDO:function(match){var argument,unquoted=match[4];if(matchExpr["CHILD"].test(match[0])){return null}if(unquoted&&(argument=rselector.exec(unquoted))&&argument.pop()){match[0]=match[0].slice(0,argument[0].length-unquoted.length-1);unquoted=argument[0].slice(0,-1)}match.splice(2,3,unquoted||match[3]);return match}},filter:{ID:assertGetIdNotName?function(id){id=id.replace(rbackslash,"");return function(elem){return elem.getAttribute("id")===id}}:function(id){id=id.replace(rbackslash,"");return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===id}},TAG:function(nodeName){if(nodeName==="*"){return function(){return true}}nodeName=nodeName.replace(rbackslash,"").toLowerCase();return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className];if(!pattern){pattern=classCache[className]=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)");cachedClasses.push(className);if(cachedClasses.length>Expr.cacheLength){delete classCache[cachedClasses.shift()]}}return function(elem){return pattern.test(elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")}},ATTR:function(name,operator,check){if(!operator){return function(elem){return Sizzle.attr(elem,name)!=null}}return function(elem){var result=Sizzle.attr(elem,name),value=result+"";if(result==null){return operator==="!="}switch(operator){case"=":return value===check;case"!=":return value!==check;case"^=":return check&&value.indexOf(check)===0;case"*=":return check&&value.indexOf(check)>-1;case"$=":return check&&value.substr(value.length-check.length)===check;case"~=":return(" "+value+" ").indexOf(check)>-1;case"|=":return value===check||value.substr(0,check.length+1)===check+"-"}}},CHILD:function(type,argument,first,last){if(type==="nth"){var doneName=done++;return function(elem){var parent,diff,count=0,node=elem;if(first===1&&last===0){return true}parent=elem.parentNode;if(parent&&(parent[expando]!==doneName||!elem.sizset)){for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.sizset=++count;if(node===elem){break}}}parent[expando]=doneName}diff=elem.sizset-last;if(first===0){return diff===0}else{return diff%first===0&&diff/first>=0}}}return function(elem){var node=elem;switch(type){case"only":case"first":while(node=node.previousSibling){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while(node=node.nextSibling){if(node.nodeType===1){return false}}return true}}},PSEUDO:function(pseudo,argument,context,xml){var fn=Expr.pseudos[pseudo]||Expr.pseudos[pseudo.toLowerCase()];if(!fn){Sizzle.error("unsupported pseudo: "+pseudo)}if(!fn.sizzleFilter){return fn}return fn(argument,context,xml)}},pseudos:{not:markFunction(function(selector,context,xml){var matcher=compile(selector.replace(rtrim,"$1"),context,xml);return function(elem){return!matcher(elem)}}),enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},parent:function(elem){return!!elem.firstChild},empty:function(elem){return!elem.firstChild},contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),header:function(elem){return rheader.test(elem.nodeName)},text:function(elem){var type,attr;return elem.nodeName.toLowerCase()==="input"&&(type=elem.type)==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===type)},radio:createInputFunction("radio"),checkbox:createInputFunction("checkbox"),file:createInputFunction("file"),password:createInputFunction("password"),image:createInputFunction("image"),submit:createButtonFunction("submit"),reset:createButtonFunction("reset"),button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},input:function(elem){return rinputs.test(elem.nodeName)},focus:function(elem){var doc=elem.ownerDocument;return elem===doc.activeElement&&(!doc.hasFocus||doc.hasFocus())&&!!(elem.type||elem.href)},active:function(elem){return elem===elem.ownerDocument.activeElement}},setFilters:{first:function(elements,argument,not){return not?elements.slice(1):[elements[0]]},last:function(elements,argument,not){var elem=elements.pop();return not?elements:[elem]},even:function(elements,argument,not){var results=[],i=not?1:0,len=elements.length;for(;i<len;i=i+2){results.push(elements[i])}return results},odd:function(elements,argument,not){var results=[],i=not?0:1,len=elements.length;for(;i<len;i=i+2){results.push(elements[i])}return results},lt:function(elements,argument,not){return not?elements.slice(+argument):elements.slice(0,+argument)},gt:function(elements,argument,not){return not?elements.slice(0,+argument+1):elements.slice(+argument+1)},eq:function(elements,argument,not){var elem=elements.splice(+argument,1);return not?elements:elem}}};Expr.setFilters["nth"]=Expr.setFilters["eq"];Expr.filters=Expr.pseudos;if(!assertHrefNotNormalized){Expr.attrHandle={href:function(elem){return elem.getAttribute("href",2)},type:function(elem){return elem.getAttribute("type")}}}if(assertUsableName){Expr.order.push("NAME");Expr.find["NAME"]=function(name,context){if(typeof context.getElementsByName!==strundefined){return context.getElementsByName(name)}}}if(assertUsableClassName){Expr.order.splice(1,0,"CLASS");Expr.find["CLASS"]=function(className,context,xml){if(typeof context.getElementsByClassName!==strundefined&&!xml){return context.getElementsByClassName(className)}}}try{slice.call(docElem.childNodes,0)[0].nodeType}catch(e){slice=function(i){var elem,results=[];for(;elem=this[i];i++){results.push(elem)}return results}}var isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};var contains=Sizzle.contains=docElem.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:docElem.contains?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&adown.contains&&adown.contains(bup))}:function(a,b){while(b=b.parentNode){if(b===a){return true}}return false};var getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}}else{for(;node=elem[i];i++){ret+=getText(node)}}return ret};Sizzle.attr=function(elem,name){var attr,xml=isXML(elem);if(!xml){name=name.toLowerCase()}if(Expr.attrHandle[name]){return Expr.attrHandle[name](elem)}if(assertAttributes||xml){return elem.getAttribute(name)}attr=elem.getAttributeNode(name);return attr?typeof elem[name]==="boolean"?elem[name]?name:null:attr.specified?attr.value:null:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};[0,0].sort(function(){return baseHasDuplicate=0});if(docElem.compareDocumentPosition){sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0}return(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}}else{sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0}else if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup){return siblingCheck(a,b)}else if(!aup){return-1}else if(!bup){return 1}while(cur){ap.unshift(cur);cur=cur.parentNode}cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode}al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i])}}return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)};siblingCheck=function(a,b,ret){if(a===b){return ret}var cur=a.nextSibling;while(cur){if(cur===b){return-1}cur=cur.nextSibling}return 1}}Sizzle.uniqueSort=function(results){var elem,i=1;if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(;elem=results[i];i++){if(elem===results[i-1]){results.splice(i--,1)}}}}return results};function multipleContexts(selector,contexts,results,seed){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results,seed)}}function handlePOSGroup(selector,posfilter,argument,contexts,seed,not){var results,fn=Expr.setFilters[posfilter.toLowerCase()];if(!fn){Sizzle.error(posfilter)}if(selector||!(results=seed)){multipleContexts(selector||"*",contexts,results=[],seed)}return results.length>0?fn(results,argument,not):[]}function handlePOS(selector,context,results,seed,groups){var match,not,anchor,ret,elements,currentContexts,part,lastIndex,i=0,len=groups.length,rpos=matchExpr["POS"],rposgroups=new RegExp("^"+rpos.source+"(?!"+whitespace+")","i"),setUndefined=function(){var i=1,len=arguments.length-2;for(;i<len;i++){if(arguments[i]===undefined){match[i]=undefined}}};for(;i<len;i++){rpos.exec("");selector=groups[i];ret=[];anchor=0;elements=seed;while(match=rpos.exec(selector)){lastIndex=rpos.lastIndex=match.index+match[0].length;if(lastIndex>anchor){part=selector.slice(anchor,match.index);anchor=lastIndex;currentContexts=[context];if(rcombinators.test(part)){if(elements){currentContexts=elements}elements=seed}if(not=rendsWithNot.test(part)){part=part.slice(0,-5).replace(rcombinators,"$&*")}if(match.length>1){match[0].replace(rposgroups,setUndefined)}elements=handlePOSGroup(part,match[1],match[2],currentContexts,elements,not)}}if(elements){ret=ret.concat(elements);if((part=selector.slice(anchor))&&part!==")"){multipleContexts(part,ret,results,seed)}else{push.apply(results,ret)}}else{Sizzle(selector,context,results,seed)}}return len===1?results:Sizzle.uniqueSort(results)}function tokenize(selector,context,xml){var tokens,soFar,type,groups=[],i=0,match=rselector.exec(selector),matched=!match.pop()&&!match.pop(),selectorGroups=matched&&selector.match(rgroups)||[""],preFilters=Expr.preFilter,filters=Expr.filter,checkContext=!xml&&context!==document;for(;(soFar=selectorGroups[i])!=null&&matched;i++){groups.push(tokens=[]);if(checkContext){soFar=" "+soFar}while(soFar){matched=false;if(match=rcombinators.exec(soFar)){soFar=soFar.slice(match[0].length);matched=tokens.push({part:match.pop().replace(rtrim," "),captures:match})}for(type in filters){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match,context,xml)))){soFar=soFar.slice(match.shift().length);matched=tokens.push({part:type,captures:match})}}if(!matched){break}}}if(!matched){Sizzle.error(selector)}return groups}function addCombinator(matcher,combinator,context){var dir=combinator.dir,doneName=done++;if(!matcher){matcher=function(elem){return elem===context}}return combinator.first?function(elem,context){while(elem=elem[dir]){if(elem.nodeType===1){return matcher(elem,context)&&elem}}}:function(elem,context){var cache,dirkey=doneName+"."+dirruns,cachedkey=dirkey+"."+cachedruns;while(elem=elem[dir]){if(elem.nodeType===1){if((cache=elem[expando])===cachedkey){return false}else if(typeof cache==="string"&&cache.indexOf(dirkey)===0){if(elem.sizset){return elem}}else{elem[expando]=cachedkey;if(matcher(elem,context)){elem.sizset=true;return elem}elem.sizset=false}}}}}function addMatcher(higher,deeper){return higher?function(elem,context){var result=deeper(elem,context);return result&&higher(result===true?elem:result,context)}:deeper}function matcherFromTokens(tokens,context,xml){var token,matcher,i=0;for(;token=tokens[i];i++){if(Expr.relative[token.part]){matcher=addCombinator(matcher,Expr.relative[token.part],context)}else{token.captures.push(context,xml);matcher=addMatcher(matcher,Expr.filter[token.part].apply(null,token.captures))}}return matcher}function matcherFromGroupMatchers(matchers){return function(elem,context){var matcher,j=0;for(;matcher=matchers[j];j++){if(matcher(elem,context)){return true}}return false}}var compile=Sizzle.compile=function(selector,context,xml){var tokens,group,i,cached=compilerCache[selector];if(cached&&cached.context===context){cached.dirruns++;return cached}group=tokenize(selector,context,xml);for(i=0;tokens=group[i];i++){group[i]=matcherFromTokens(tokens,context,xml)}cached=compilerCache[selector]=matcherFromGroupMatchers(group);cached.context=context;cached.runs=cached.dirruns=0;cachedSelectors.push(selector);if(cachedSelectors.length>Expr.cacheLength){delete compilerCache[cachedSelectors.shift()]}return cached};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){return Sizzle(expr,null,null,[elem]).length>0};var select=function(selector,context,results,seed,xml){selector=selector.replace(rtrim,"$1");var elements,matcher,i,len,elem,token,type,findContext,notTokens,match=selector.match(rgroups),tokens=selector.match(rtokens),contextNodeType=context.nodeType;if(matchExpr["POS"].test(selector)){return handlePOS(selector,context,results,seed,match)}if(seed){elements=slice.call(seed,0)}else if(match&&match.length===1){if(tokens.length>1&&contextNodeType===9&&!xml&&(match=matchExpr["ID"].exec(tokens[0]))){context=Expr.find["ID"](match[1],context,xml)[0];if(!context){return results}selector=selector.slice(tokens.shift().length)}findContext=(match=rsibling.exec(tokens[0]))&&!match.index&&context.parentNode||context;notTokens=tokens.pop();token=notTokens.split(":not")[0];for(i=0,len=Expr.order.length;i<len;i++){type=Expr.order[i];if(match=matchExpr[type].exec(token)){elements=Expr.find[type]((match[1]||"").replace(rbackslash,""),findContext,xml);if(elements==null){continue}if(token===notTokens){selector=selector.slice(0,selector.length-notTokens.length)+token.replace(matchExpr[type],"");if(!selector){push.apply(results,slice.call(elements,0))}}break}}}if(selector){matcher=compile(selector,context,xml);dirruns=matcher.dirruns;if(elements==null){elements=Expr.find["TAG"]("*",rsibling.test(selector)&&context.parentNode||context)}for(i=0;elem=elements[i];i++){cachedruns=matcher.runs++;if(matcher(elem,context)){results.push(elem)}}}return results};if(document.querySelectorAll){(function(){var disconnectedMatch,oldSelect=select,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,rbuggyQSA=[],rbuggyMatches=[":active"],matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector;assert(function(div){div.innerHTML="<select><option selected></option></select>";if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}});assert(function(div){div.innerHTML="<p test=''></p>";if(div.querySelectorAll("[test^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')")}div.innerHTML="<input type='hidden'>";if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}});rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));select=function(selector,context,results,seed,xml){if(!seed&&!xml&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(context.nodeType===9){try{push.apply(results,slice.call(context.querySelectorAll(selector),0));return results}catch(qsaError){}}else if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){var old=context.getAttribute("id"),nid=old||expando,newContext=rsibling.test(selector)&&context.parentNode||context;if(old){nid=nid.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}try{push.apply(results,slice.call(newContext.querySelectorAll(selector.replace(rgroups,"[id='"+nid+"'] $&")),0));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}return oldSelect(selector,context,results,seed,xml)};if(matches){assert(function(div){disconnectedMatch=matches.call(div,"div");try{matches.call(div,"[test!='']:sizzle");rbuggyMatches.push(Expr.match.PSEUDO)}catch(e){}});rbuggyMatches=new RegExp(rbuggyMatches.join("|"));Sizzle.matchesSelector=function(elem,expr){expr=expr.replace(rattributeQuotes,"='$1']");if(!isXML(elem)&&!rbuggyMatches.test(expr)&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,null,null,[elem]).length>0}}})()}if(typeof module==="object"&&module.exports){module.exports=Sizzle}else{window.Sizzle=Sizzle}})(window)},{}],232:[function(require,module,exports){"use strict";module.exports={DOMEmitter:require("./ac-dom-emitter/DOMEmitter")}},{"./ac-dom-emitter/DOMEmitter":233}],233:[function(require,module,exports){"use strict";var proto;var EventEmitter=require("ac-event-emitter").EventEmitter,ac_dom_events=require("ac-dom-events"),ac_dom_traversal=require("ac-dom-traversal");var internalEventPrefix="dom-emitter";function DOMEmitter(el){if(el===null){return}this.el=el;this._bindings={};this._delegateFuncs={};this._eventEmitter=new EventEmitter}proto=DOMEmitter.prototype;proto._parseEventNames=function(evt){if(!evt){return[evt]}return evt.split(" ")};proto._onListenerEvent=function(evtName,e){this.trigger(evtName,e,false)};proto._setListener=function(evt){this._bindings[evt]=this._onListenerEvent.bind(this,evt);ac_dom_events.addEventListener(this.el,evt,this._bindings[evt])};proto._removeListener=function(evt){ac_dom_events.removeEventListener(this.el,evt,this._bindings[evt]);this._bindings[evt]=null};proto._triggerInternalEvent=function(evt,data){this.trigger(internalEventPrefix+":"+evt,data)};proto._normalizeArgumentsAndCall=function(argsArr,func){var binding={};if(argsArr.length===0){func.call(this,binding);return}if(typeof argsArr[0]==="string"||argsArr[0]===null){argsArr=this._cleanStringData(argsArr);binding.events=argsArr[0];if(typeof argsArr[1]==="string"){binding.delegateQuery=argsArr[1];binding.callback=argsArr[2];binding.context=argsArr[3]}else{binding.callback=argsArr[1];binding.context=argsArr[2]}func.call(this,binding);return}var i,splits,splitChar=":",obj=argsArr[0];for(i in obj){if(obj.hasOwnProperty(i)){binding={};splits=this._cleanStringData(i.split(splitChar));binding.events=splits[0];binding.delegateQuery=splits[1];binding.callback=obj[i];binding.context=argsArr[1];func.call(this,binding)}}};proto._registerDelegateFunc=function(evt,delegateQuery,callback,unboundCallback,context){var delegateFunc=this._delegateFunc.bind(this,evt,delegateQuery,callback,context);this._delegateFuncs[delegateQuery]=this._delegateFuncs[delegateQuery]||{};this._delegateFuncs[delegateQuery][evt]=this._delegateFuncs[delegateQuery][evt]||[];this._delegateFuncs[delegateQuery][evt].push({func:unboundCallback,context:context,delegateFunc:delegateFunc});return delegateFunc};proto._cleanStringData=function(arr){var isString=false;if(typeof arr==="string"){arr=[arr];isString=true}var result=[],i,val,valLen,spaceIdx,len=arr.length;for(i=0;i<len;i++){val=arr[i];if(typeof val==="string"){if(val===""||val===" "){continue}valLen=val.length;while(val[0]===" "){val=val.slice(1,valLen);valLen--}while(val[valLen-1]===" "){val=val.slice(0,valLen-1);valLen--}}result.push(val)}if(isString){return result[0]}return result};proto._unregisterDelegateFunc=function(evt,delegateQuery,unboundCallback,context){if(!this._delegateFuncs[delegateQuery]||!this._delegateFuncs[delegateQuery][evt]){return}var matchIdx=this._getDelegateFuncBindingIdx(evt,delegateQuery,unboundCallback,context),delegateFunc;if(matchIdx>-1){delegateFunc=this._delegateFuncs[delegateQuery][evt][matchIdx].delegateFunc;this._delegateFuncs[delegateQuery][evt].splice(matchIdx,1);if(this._delegateFuncs[delegateQuery][evt].length===0){this._delegateFuncs[delegateQuery][evt]=null}}return delegateFunc};proto._unregisterDelegateFuncs=function(evt,delegateQuery){if(!this._delegateFuncs[delegateQuery]){return}if(evt!==null&&!this._delegateFuncs[delegateQuery][evt]){return}if(evt===null){var i;for(i in this._delegateFuncs[delegateQuery]){if(this._delegateFuncs[delegateQuery].hasOwnProperty(i)){this._unbindDelegateFunc(i,delegateQuery)}}return}this._unbindDelegateFunc(evt,delegateQuery)};proto._unbindDelegateFunc=function(evt,delegateQuery){var binding,preRemoveLen,i=0;while(this._delegateFuncs[delegateQuery][evt]&&this._delegateFuncs[delegateQuery][evt][i]){binding=this._delegateFuncs[delegateQuery][evt][i];preRemoveLen=this._delegateFuncs[delegateQuery][evt][i].length;this._off({events:evt,delegateQuery:delegateQuery,callback:binding.func,context:binding.context});if(this._delegateFuncs[delegateQuery][evt]&&preRemoveLen===this._delegateFuncs[delegateQuery][evt].length){i++}}binding=preRemoveLen=null};proto._unregisterDelegateFuncsByEvent=function(evt){var i;for(i in this._delegateFuncs){if(this._delegateFuncs.hasOwnProperty(i)){this._unregisterDelegateFuncs(evt,i)}}};proto._delegateFunc=function(evt,delegateQuery,callback,context,e){if(ac_dom_traversal.matchesSelector(ac_dom_events.target(e),delegateQuery)){var args=Array.prototype.slice.call(arguments,0),unboundArgs=args.slice(4,args.length);context=context||window;if(typeof e.detail==="object"){unboundArgs[0]=e.detail}callback.call(context,unboundArgs)}};proto.on=function(){this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._on);return this};proto.once=function(){this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._once);return this};proto.off=function(){this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._off);return this};proto._on=function(binding){var evts=binding.events,callback=binding.callback,delegateQuery=binding.delegateQuery,context=binding.context,unboundCallback=binding.unboundCallback||callback;evts=this._parseEventNames(evts);evts.forEach(function(callback,unboundCallback,context,delegateQuery,evt){if(!this.has(evt)){this._setListener(evt)}if(typeof delegateQuery==="string"){callback=this._registerDelegateFunc(evt,delegateQuery,callback,unboundCallback,context)}this._triggerInternalEvent("willon",{evt:evt,callback:callback,context:context,delegateQuery:delegateQuery});this._eventEmitter.on(evt,callback,context);this._triggerInternalEvent("didon",{evt:evt,callback:callback,context:context,delegateQuery:delegateQuery})}.bind(this,callback,unboundCallback,context,delegateQuery));evts=callback=unboundCallback=delegateQuery=context=null};proto._off=function(binding){var evts=binding.events,callback=binding.callback,delegateQuery=binding.delegateQuery,context=binding.context,unboundCallback=binding.unboundCallback||callback;if(typeof evts==="undefined"){this._eventEmitter.off();var i;for(i in this._bindings){if(this._bindings.hasOwnProperty(i)){this._removeListener(i)}}for(i in this._delegateFuncs){if(this._delegateFuncs.hasOwnProperty(i)){this._delegateFuncs[i]=null}}return}evts=this._parseEventNames(evts);evts.forEach(function(callback,unboundCallback,context,delegateQuery,evt){if(typeof delegateQuery==="string"&&typeof unboundCallback==="function"){callback=this._unregisterDelegateFunc(evt,delegateQuery,unboundCallback,context);if(!callback){return}}if(typeof delegateQuery==="string"&&typeof callback==="undefined"){this._unregisterDelegateFuncs(evt,delegateQuery);return}if(typeof evt==="string"&&typeof callback==="undefined"){this._unregisterDelegateFuncsByEvent(evt);if(typeof delegateQuery==="string"){return}}this._triggerInternalEvent("willoff",{evt:evt,callback:callback,context:context,delegateQuery:delegateQuery});this._eventEmitter.off(evt,callback,context);this._triggerInternalEvent("didoff",{evt:evt,callback:callback,context:context,delegateQuery:delegateQuery});if(!this.has(evt)){this._removeListener(evt)}}.bind(this,callback,unboundCallback,context,delegateQuery));evts=callback=unboundCallback=delegateQuery=context=null};proto._once=function(binding){var evts=binding.events,callback=binding.callback,delegateQuery=binding.delegateQuery,context=binding.context;evts=this._parseEventNames(evts);evts.forEach(function(callback,context,delegateQuery,evt){if(typeof delegateQuery==="string"){return this._handleDelegateOnce(evt,callback,context,delegateQuery)}if(!this.has(evt)){this._setListener(evt)}this._triggerInternalEvent("willonce",{evt:evt,callback:callback,context:context,delegateQuery:delegateQuery});this._eventEmitter.once.call(this,evt,callback,context);this._triggerInternalEvent("didonce",{evt:evt,callback:callback,context:context,delegateQuery:delegateQuery})}.bind(this,callback,context,delegateQuery));evts=callback=delegateQuery=context=null};proto._handleDelegateOnce=function(evt,callback,context,delegateQuery){this._triggerInternalEvent("willonce",{evt:evt,callback:callback,context:context,delegateQuery:delegateQuery});this._on({events:evt,context:context,delegateQuery:delegateQuery,callback:this._getDelegateOnceCallback.bind(this,evt,callback,context,delegateQuery),unboundCallback:callback});this._triggerInternalEvent("didonce",{evt:evt,callback:callback,context:context,delegateQuery:delegateQuery});return this};proto._getDelegateOnceCallback=function(evt,callback,context,delegateQuery){var args=Array.prototype.slice.call(arguments,0),passedArgs=args.slice(4,args.length);callback.apply(context,passedArgs);this._off({events:evt,delegateQuery:delegateQuery,callback:callback,context:context})};proto._getDelegateFuncBindingIdx=function(evt,delegateQuery,unboundCallback,context,ignoreFuncMatch){var idx=-1;if(this._delegateFuncs[delegateQuery]&&this._delegateFuncs[delegateQuery][evt]){var i,bindingObj,len=this._delegateFuncs[delegateQuery][evt].length;for(i=0;i<len;i++){bindingObj=this._delegateFuncs[delegateQuery][evt][i];if(ignoreFuncMatch&&typeof unboundCallback==="undefined"){unboundCallback=bindingObj.func}if(bindingObj.func===unboundCallback&&bindingObj.context===context){idx=i;break}}}return idx};proto._triggerDelegateEvents=function(evt,delegateQuery,data){var targets=ac_dom_traversal.querySelectorAll(delegateQuery,this.el);var i,target,len=targets.length;for(i=0;i<len;i++){target=targets[i];if(document.createEvent){target.dispatchEvent(new CustomEvent(evt,{bubbles:true,cancelable:false,detail:data}))}else{var eventObject=document.createEventObject();eventObject.detail=data;target.fireEvent("on"+evt,eventObject)}return target}};proto.has=function(evt,callbackOrDelegateQuery,callbackOrContext,context){var delegateQuery,callback;if(typeof callbackOrDelegateQuery==="string"){delegateQuery=callbackOrDelegateQuery;callback=callbackOrContext}else{callback=callbackOrDelegateQuery;context=callbackOrContext}if(delegateQuery){var matchIdx=this._getDelegateFuncBindingIdx(evt,delegateQuery,callback,context,true);if(matchIdx>-1){return true}return false}if(this._eventEmitter&&this._eventEmitter.has.apply(this._eventEmitter,arguments)){return true}return false};proto.trigger=function(evts,dataOrDelegateQuery,doNotPropogateOrData,doNotPropogate){evts=this._parseEventNames(evts);var delegateQuery,data;if(typeof dataOrDelegateQuery==="string"){delegateQuery=this._cleanStringData(dataOrDelegateQuery);data=doNotPropogateOrData}else{data=dataOrDelegateQuery;doNotPropogate=doNotPropogateOrData}evts=this._cleanStringData(evts);evts.forEach(function(delegateQuery,data,doNotPropogate,evt){if(delegateQuery){this._triggerDelegateEvents(evt,delegateQuery,data);return}this._eventEmitter.trigger(evt,data,doNotPropogate)}.bind(this,delegateQuery,data,doNotPropogate));return this};proto.propagateTo=function(eventEmitter,prefix){this._eventEmitter.propagateTo(eventEmitter,prefix);return this};proto.stopPropagatingTo=function(eventEmitter){this._eventEmitter.stopPropagatingTo(eventEmitter);return this};proto.destroy=function(){this._triggerInternalEvent("willdestroy");this.off();this.el=this._eventEmitter=this._bindings=this._delegateFuncs=null};module.exports=DOMEmitter},{"ac-dom-events":212,"ac-dom-traversal":213,"ac-event-emitter":270}],234:[function(require,module,exports){"use strict";module.exports={SharedInstance:require("./ac-shared-instance/SharedInstance")}},{"./ac-shared-instance/SharedInstance":235}],235:[function(require,module,exports){"use strict";var instanceScope=window,instanceSharedInstanceNamespace="AC",instanceExportKey="SharedInstance",instanceTarget=instanceScope[instanceSharedInstanceNamespace];var SharedInstance=function(){var registry={};return{get:function(name,version){var module=null;if(registry[name]&&registry[name][version]){module=registry[name][version]}return module},set:function(name,version,Module){if(!registry[name]){registry[name]={}}if(typeof Module==="function"){registry[name][version]=new Module}else{registry[name][version]=Module}return registry[name][version]},share:function(name,version,Module){var module=this.get(name,version);if(!module){module=this.set(name,version,Module)}return module},remove:function(name,version){var versionType=typeof version;if(versionType==="string"||versionType==="number"){if(!registry[name]||!registry[name][version]){return}registry[name][version]=null;return}if(registry[name]){registry[name]=null}}}}();if(!instanceTarget){instanceTarget=instanceScope[instanceSharedInstanceNamespace]={}}if(!instanceTarget[instanceExportKey]){instanceTarget[instanceExportKey]=SharedInstance}module.exports=instanceTarget[instanceExportKey]},{}],236:[function(require,module,exports){"use strict";module.exports={WindowDelegate:require("./ac-window-delegate/WindowDelegate"),WindowDelegateOptimizer:require("./ac-window-delegate/WindowDelegateOptimizer"),WindowDelegateCustomEvent:require("./ac-window-delegate/WindowDelegateCustomEvent")}},{"./ac-window-delegate/WindowDelegate":239,"./ac-window-delegate/WindowDelegateCustomEvent":240,"./ac-window-delegate/WindowDelegateOptimizer":241}],237:[function(require,module,exports){"use strict";var EventEmitter=require("ac-event-emitter").EventEmitter;var CustomEventController=function(){this._emitter=new EventEmitter;this._customEvents={}};var proto=CustomEventController.prototype;proto.on=function(evts,callback,context){this._activateCustomEvents(evts);this._emitterOn.apply(this,arguments);return this};proto.once=function(evts,callback,context){this._emitterOnce.apply(this,arguments);return this};proto.off=function(evts,callback,context){this._emitterOff.apply(this,arguments);this._deactivateCustomEvents(evts);return this};proto.has=function(evt,callback,context){return this._emitter.has.apply(this._emitter,arguments)};proto.trigger=function(){this._emitter.trigger.apply(this._emitter,arguments);return this};proto.propagateTo=function(){this._emitter.propagateTo.apply(this._emitter,arguments);return this};proto.stopPropagatingTo=function(){this._emitter.stopPropagatingTo.apply(this._emitter,arguments);return this};proto.add=function(customEvent){this._customEvents[customEvent.name]=customEvent};proto.canHandleCustomEvent=function(evt){return this._customEvents.hasOwnProperty(evt)};proto.isHandlingCustomEvent=function(evt){if(this._customEvents[evt]&&this._customEvents[evt].active){return true}return false};proto._activateCustomEvents=function(evts){var evtsArr=evts.split(" "),evt,i,len=evtsArr.length;for(i=0;i<len;i++){evt=evtsArr[i];if(this._customEvents[evt]&&!this._customEvents[evt].active){this._customEvents[evt].initialize();this._customEvents[evt].active=true}}};proto._deactivateCustomEvents=function(evts){var i;if(!evts||evts.length===0){for(i in this._customEvents){if(this._customEvents.hasOwnProperty(i)){this._deactivateCustomEvent(i)}}return}var evtsArr=evts.split(" "),len=evtsArr.length;for(i=0;i<len;i++){this._deactivateCustomEvent(evtsArr[i])}};proto._deactivateCustomEvent=function(evt){if(!this.has(evt)&&this._customEvents[evt]&&this._customEvents[evt].active){this._customEvents[evt].deinitialize();this._customEvents[evt].active=false}};proto._emitterOn=function(){this._emitter.on.apply(this._emitter,arguments)};proto._emitterOnce=function(){this._emitter.once.apply(this._emitter,arguments)};proto._emitterOff=function(){this._emitter.off.apply(this._emitter,arguments)};module.exports=CustomEventController},{"ac-event-emitter":270}],238:[function(require,module,exports){"use strict";var EventEmitter=require("ac-event-emitter").EventEmitter;var proto;var OptimizerController=function(optimizers){EventEmitter.call(this);this.optimizers=optimizers;this._events={};this._properties={};this._initialize()};proto=OptimizerController.prototype=new EventEmitter(null);proto.canOptimizeEvent=function(evt){return this._events.hasOwnProperty(evt)};proto.canOptimizeProperty=function(prop){return this._properties.hasOwnProperty(prop)};proto.isOptimizingEvent=function(evt){if(this._events[evt]&&this._events[evt].active){return true}return false};proto.isOptimizingProperty=function(prop){if(this._properties[prop]&&this._properties[prop].active){return true}return false};proto.add=function(optimizer){this._setOptimizerEvents(optimizer);this._setOptimizerProperties(optimizer);optimizer.on("update",this._onUpdate,this);optimizer.on("activate",this._onActivate,this);optimizer.on("deactivate",this._onDeactivate,this)};proto.get=function(prop){if(this.isOptimizingProperty(prop)){return this._properties[prop].value}return null};proto.set=function(prop,val){if(!this._properties[prop]){return false}this._properties[prop].value=val;return this};proto.getOptimizerByEvent=function(evt){if(this._events[evt]){return this._events[evt]}return null};proto._initialize=function(){var i,optimizer;for(i in this.optimizers){if(this.optimizers.hasOwnProperty(i)){this.add(this.optimizers[i])}}};proto._onUpdate=function(e){this.set(e.prop,e.val)};proto._onActivate=function(optimizer){var propertyNames=optimizer.propertyNames,i,len=propertyNames.length;for(i=0;i<len;i++){this._properties[propertyNames[i]].active=true}};proto._onDeactivate=function(optimizer){var propertyNames=optimizer.propertyNames,i,len=propertyNames.length;for(i=0;i<len;i++){this._properties[propertyNames[i]].active=false}};proto._setOptimizerEvents=function(optimizer){var i,optimizerEvents=optimizer.eventNames,len=optimizerEvents.length;for(i=0;i<len;i++){this._setOptimizerEvent(optimizerEvents[i],optimizer)}};proto._setOptimizerEvent=function(evt,optimizer){if(this._events[evt]){return}this._events[evt]=optimizer};proto._setOptimizerProperties=function(optimizer){var i,optimizeProperties=optimizer.propertyNames,len=optimizeProperties.length;for(i=0;i<len;i++){this._setOptimizerProperty(optimizeProperties[i])}};proto._setOptimizerProperty=function(prop){if(this._properties.hasOwnProperty(prop)){return}this._properties[prop]={};this._properties[prop].active=false;this._properties[prop].value=null};module.exports=OptimizerController},{"ac-event-emitter":270}],239:[function(require,module,exports){"use strict";var proto;var SharedInstance=require("ac-shared-instance").SharedInstance,DOMEmitter=require("ac-dom-emitter").DOMEmitter,OptimizerController=require("./OptimizerController"),CustomEventController=require("./CustomEventController"),queries=require("./queries/queries"),optimizers=require("./optimizers/optimizers");var sharedInstanceName="ac-window-delegate:WindowDelegate",sharedInstanceVersion="2.0.1";function WindowDelegate(){this._emitter=new DOMEmitter(window);this._controllers={optimizer:new OptimizerController(optimizers),customEvent:new CustomEventController};var i;for(i in queries){if(queries.hasOwnProperty(i)){this[i]=this._getProperty.bind(this,i);queries[i]=queries[i].bind(this)}}this._bindEvents()}proto=WindowDelegate.prototype;proto.on=function(evts,callback,context){var evtsObj=this._seperateCustomEvents(evts);this._optimizeEvents(evtsObj.standardEvents);this._customEventOn(evtsObj.customEvents,callback,context);this._emitterOn.apply(this,arguments);return this};proto.once=function(evts,callback,context){var evtsObj=this._seperateCustomEvents(evts);this._optimizeEvents(evtsObj.standardEvents);this._customEventOnce(evtsObj.customEvents,callback,context);this._emitterOnce.apply(this,arguments);return this};proto.off=function(evts,callback,context){var evtsObj=this._seperateCustomEvents(evts),force=false;if(!evts){force=true}this._customEventOff(evtsObj.customEvents,callback,context,force);this._emitterOff.apply(this,arguments);if(force){try{var evt;for(evt in this._controllers.optimizer._events){if(this._controllers.optimizer._events.hasOwnProperty(evt)&&this._shouldDeoptimizeEvent(evt,true)){this._deoptimizeEvent(evt)}}this._bindEvents()}catch(e){}}return this};proto.has=function(evt,callback,context){return this._emitter.has.apply(this._emitter,arguments)};proto.trigger=function(){this._emitter.trigger.apply(this._emitter,arguments);return this};proto.propagateTo=function(){this._emitter.propagateTo.apply(this._emitter,arguments);return this};proto.stopPropagatingTo=function(){this._emitter.stopPropagatingTo.apply(this._emitter,arguments);return this};proto.addOptimizer=function(optimizer){this._controllers.optimizer.add(optimizer);return this};proto.addCustomEvent=function(customEvent){this._controllers.customEvent.add(customEvent);return this};proto._emitterOn=function(){this._emitter.on.apply(this._emitter,arguments)};proto._emitterOnce=function(){this._emitter.once.apply(this._emitter,arguments)};proto._emitterOff=function(){this._emitter.off.apply(this._emitter,arguments)};proto._onEventUnbound=function(e){var evt=e.evt;if(this._shouldDeoptimizeEvent(evt)){this._deoptimizeEvent(evt)}};proto._customEventOn=function(evtsArr,callback,context){if(evtsArr.length===0){return}this._controllers.customEvent.on(evtsArr.join(" "),callback,context)};proto._customEventOnce=function(evtsArr,callback,context){if(evtsArr.length===0){return}this._controllers.customEvent.once(evtsArr.join(" "),callback,context)};proto._customEventOff=function(evtsArr,callback,context,force){if(!force&&evtsArr.length===0){return}if(force&&evtsArr.length===0){this._controllers.customEvent.off();return}this._controllers.customEvent.off(evtsArr.join(" "),callback,context)};proto._getProperty=function(prop,forceQuery){var value=null;if(!forceQuery){value=this._getOptimizedValue(prop)}if(value===null){value=queries[prop].call(this,forceQuery)}return value};proto._optimizeEvents=function(evts){var evt,i,len=evts.length;for(i=0;i<len;i++){evt=evts[i];if(this._shouldOptimizeEvent(evt)){this._optimizeEvent(evt)}}};proto._shouldOptimizeEvent=function(evt){if(this._controllers.optimizer.canOptimizeEvent(evt)&&!this._controllers.optimizer.isOptimizingEvent(evt)){return true}return false};proto._shouldDeoptimizeEvent=function(evt,force){if(this._controllers.optimizer.isOptimizingEvent(evt)&&(force||this._emitter._eventEmitter._events[evt].length<=1)){return true}return false};proto._optimizeEvent=function(evt){var optimizer=this._controllers.optimizer.getOptimizerByEvent(evt);optimizer.activate();this._emitterOn(evt,optimizer.callback,optimizer)};proto._deoptimizeEvent=function(evt){var optimizer=this._controllers.optimizer.getOptimizerByEvent(evt);optimizer.deactivate();this._emitterOff(evt,optimizer.callback,optimizer)};proto._getOptimizedValue=function(prop){return this._controllers.optimizer.get(prop)};proto._seperateCustomEvents=function(evtString){var result={customEvents:[],standardEvents:[]};if(typeof evtString==="string"){var evtsArray=evtString.split(" "),evt,i,len=evtsArray.length;for(i=0;i<len;i++){evt=evtsArray[i];if(this._controllers.customEvent.canHandleCustomEvent(evt)){result.customEvents.push(evt)}else{result.standardEvents.push(evt)}}}return result};proto._bindEvents=function(){this._emitter.on("dom-emitter:didoff",this._onEventUnbound,this)};module.exports=SharedInstance.share(sharedInstanceName,sharedInstanceVersion,WindowDelegate)},{"./CustomEventController":237,"./OptimizerController":238,"./optimizers/optimizers":244,"./queries/queries":253,"ac-dom-emitter":232,"ac-shared-instance":234}],240:[function(require,module,exports){"use strict";var EventEmitter=require("ac-event-emitter").EventEmitter;function WindowDelegateCustomEvent(name,initializeFunc,deinitializeFunc){EventEmitter.call(this);this.name=name;this.active=false;this._initializeFunc=initializeFunc;this._deinitializeFunc=deinitializeFunc}var proto=WindowDelegateCustomEvent.prototype=new EventEmitter(null);proto.initialize=function(){if(this._initializeFunc){this._initializeFunc()}return this};proto.deinitialize=function(){if(this._deinitializeFunc){this._deinitializeFunc()}return this};module.exports=WindowDelegateCustomEvent},{"ac-event-emitter":270}],241:[function(require,module,exports){"use strict";var EventEmitter=require("ac-event-emitter").EventEmitter;function WindowDelegateOptimizer(config,callback){EventEmitter.call(this);this.active=false;this.eventNames=config.eventNames;this.propertyNames=config.propertyNames;this.options=config.options||{};this.callback=callback}var proto=WindowDelegateOptimizer.prototype=new EventEmitter(null);proto.update=function(prop,val){this.trigger("update",{prop:prop,val:val})};proto.activate=function(){this.active=true;this.trigger("activate",this)};proto.deactivate=function(){this.active=false;this.trigger("deactivate",this)};module.exports=WindowDelegateOptimizer},{"ac-event-emitter":270}],242:[function(require,module,exports){"use strict";var Optimizer=require("../../WindowDelegateOptimizer"),queries=require("../../queries/queries");var config={eventNames:["resize"],propertyNames:["clientWidth","clientHeight","innerWidth","innerHeight"]};var resizeOptimizer=new Optimizer(config,function(e){var i,propertyNames=config.propertyNames,len=propertyNames.length;for(i=0;i<len;i++){this.update(propertyNames[i],queries[propertyNames[i]](true))}});module.exports=resizeOptimizer},{"../../WindowDelegateOptimizer":241,"../../queries/queries":253}],243:[function(require,module,exports){"use strict";var Optimizer=require("../../WindowDelegateOptimizer"),queries=require("../../queries/queries");var config={eventNames:["scroll"],propertyNames:["scrollX","scrollY","maxScrollX","maxScrollY"]};var scrollOptimizer=new Optimizer(config,function(e){var i,propertyNames=config.propertyNames,len=propertyNames.length;for(i=0;i<len;i++){this.update(propertyNames[i],queries[propertyNames[i]](true))}});module.exports=scrollOptimizer},{"../../WindowDelegateOptimizer":241,"../../queries/queries":253}],244:[function(require,module,exports){"use strict";var resizeEvt=require("./events/resize"),scrollEvt=require("./events/scroll");module.exports=[resizeEvt,scrollEvt]},{"./events/resize":242,"./events/scroll":243}],245:[function(require,module,exports){"use strict";var queryClientHeight=function(forceQuery){return document.documentElement.clientHeight};module.exports=queryClientHeight},{}],246:[function(require,module,exports){"use strict";var queryClientWidth=function(forceQuery){return document.documentElement.clientWidth};module.exports=queryClientWidth},{}],247:[function(require,module,exports){"use strict";var queryInnerHeight=function(forceQuery){return window.innerHeight||this.clientHeight(forceQuery)};module.exports=queryInnerHeight},{}],248:[function(require,module,exports){"use strict";var queryInnerWidth=function(forceQuery){return window.innerWidth||this.clientWidth(forceQuery)};module.exports=queryInnerWidth},{}],249:[function(require,module,exports){"use strict";var queryMaxScrollX=function(forceQuery){return document.body.scrollWidth-this.innerWidth()};module.exports=queryMaxScrollX},{}],250:[function(require,module,exports){"use strict";var queryMaxScrollY=function(forceQuery){return document.body.scrollHeight-this.innerHeight()};module.exports=queryMaxScrollY},{}],251:[function(require,module,exports){"use strict";var queryScrollX=function(forceQuery){var offset=window.pageXOffset;if(!offset){var target=document.documentElement||document.body.parentNode||document.body;offset=target.scrollLeft}return offset};module.exports=queryScrollX},{}],252:[function(require,module,exports){"use strict";var queryScrollY=function(forceQuery){var offset=window.pageYOffset;if(!offset){var target=document.documentElement||document.body.parentNode||document.body;offset=target.scrollTop}return offset};module.exports=queryScrollY},{}],253:[function(require,module,exports){"use strict";var queryInnerWidth=require("./methods/innerWidth"),queryInnerHeight=require("./methods/innerHeight"),queryClientWidth=require("./methods/clientWidth"),queryClientHeight=require("./methods/clientHeight"),queryScrollX=require("./methods/scrollX"),queryScrollY=require("./methods/scrollY"),queryMaxScrollX=require("./methods/maxScrollX"),queryMaxScrollY=require("./methods/maxScrollY");module.exports={innerWidth:queryInnerWidth,innerHeight:queryInnerHeight,clientWidth:queryClientWidth,clientHeight:queryClientHeight,scrollX:queryScrollX,scrollY:queryScrollY,maxScrollX:queryMaxScrollX,maxScrollY:queryMaxScrollY}},{"./methods/clientHeight":245,"./methods/clientWidth":246,"./methods/innerHeight":247,"./methods/innerWidth":248,"./methods/maxScrollX":249,"./methods/maxScrollY":250,"./methods/scrollX":251,"./methods/scrollY":252}],254:[function(require,module,exports){var ElementTracker=require("./ac-element-tracker/ElementTracker");module.exports=new ElementTracker;module.exports.ElementTracker=ElementTracker},{"./ac-element-tracker/ElementTracker":255}],255:[function(require,module,exports){"use strict";var proto;var ac_Object=require("ac-object");var ac_dom_nodes=require("ac-dom-nodes");var ac_dom_metrics=require("ac-dom-metrics");var ac_Array=require("ac-array");var windowDelegate=require("ac-window-delegate").WindowDelegate;var TrackedElement=require("./TrackedElement");var EventEmitter=require("ac-event-emitter").EventEmitter;var defaultOptions={autoStart:false};function ElementTracker(elements,options){this.options=ac_Object.clone(defaultOptions);this.options=typeof options==="object"?ac_Object.extend(this.options,options):this.options;this.windowDelegate=windowDelegate;this.tracking=false;this.elements=[];if(elements&&(Array.isArray(elements)||ac_dom_nodes.isNodeList(elements)||ac_dom_nodes.isElement(elements))){this.addElements(elements)}if(this.options.autoStart){this.start()}}proto=ElementTracker.prototype=ac_Object.create(EventEmitter.prototype);var nodelistToStringPattern=/^\[object (HTMLCollection|NodeList|Object)\]$/;proto._registerElements=function(elements){elements=[].concat(elements);elements.forEach(function(element){if(this._elementInDOM(element)){var trackedElement=new TrackedElement(element);trackedElement.offsetTop=trackedElement.element.offsetTop;this.elements.push(trackedElement)}},this)};proto._registerTrackedElements=function(trackedElements){var objects=[].concat(trackedElements);objects.forEach(function(object){if(this._elementInDOM(object.element)){object.offsetTop=object.element.offsetTop;this.elements.push(object)}},this)};proto._elementInDOM=function(element){var assertion=false;var body=document.getElementsByTagName("body")[0];if(ac_dom_nodes.isElement(element)&&body.contains(element)){assertion=true}return assertion};proto._onVPChange=function(){this.elements.forEach(function(elementObj){this.refreshElementState(elementObj)},this)};proto._elementPercentInView=function(elementObj){return elementObj.pixelsInView/elementObj.height};proto._elementPixelsInView=function(elementObj){var pixels=0;var top=elementObj.top;var bottom=elementObj.bottom;var winHeight=this.windowDelegate.innerHeight();if(top<=0&&bottom>=winHeight){pixels=winHeight}else if(top>=0&&top<winHeight&&bottom>winHeight){pixels=winHeight-top}else if(top<0&&(bottom<winHeight&&bottom>=0)){pixels=elementObj.bottom}else if(top>=0&&bottom<=winHeight){pixels=elementObj.height}return pixels};proto._ifInView=function(trackedElement,alreadyInView){if(!alreadyInView){trackedElement.trigger("enterview",trackedElement)}};proto._ifAlreadyInView=function(trackedElement){if(!trackedElement.inView){trackedElement.trigger("exitview",trackedElement)}};proto.addElements=function(collection){collection=ac_dom_nodes.isNodeList(collection)?ac_Array.toArray(collection):[].concat(collection);collection.forEach(function(element){this.addElement(element)},this)};proto.addElement=function(element){var trackedElement;if(ac_dom_nodes.isElement(element)){trackedElement=new TrackedElement(element);this._registerTrackedElements(trackedElement)}return trackedElement};proto.removeElement=function(element){var indexes=[];var filtered;this.elements.forEach(function(elementObj,i){if(elementObj===element||elementObj.element===element){indexes.push(i)}});filtered=this.elements.filter(function(element,i){return indexes.indexOf(i)<0?true:false});this.elements=filtered};proto.stop=function(){if(this.tracking===true){this.tracking=false;this.windowDelegate.off("scroll resize orientationchange",this._onVPChange,this)}};proto.start=function(){if(this.tracking===false){this.tracking=true;this.windowDelegate.on("scroll resize orientationchange",this._onVPChange,this);this.refreshAllElementStates()}};proto.refreshAllElementStates=function(){this.elements.forEach(function(trackedElement){this.refreshElementState(trackedElement)},this)};proto.refreshElementState=function(trackedElement){var box=ac_dom_metrics.getBoundingBox(trackedElement.element);var alreadyInView=trackedElement.inView;trackedElement=ac_Object.extend(trackedElement,box);trackedElement.pixelsInView=this._elementPixelsInView(trackedElement);trackedElement.percentInView=this._elementPercentInView(trackedElement);trackedElement.inView=trackedElement.pixelsInView>0;if(trackedElement.inView){this._ifInView(trackedElement,alreadyInView)}if(alreadyInView){this._ifAlreadyInView(trackedElement)}return trackedElement};module.exports=ElementTracker},{"./TrackedElement":256,"ac-array":168,"ac-dom-metrics":180,"ac-dom-nodes":191,"ac-event-emitter":270,"ac-object":258,"ac-window-delegate":236}],256:[function(require,module,exports){"use strict";var proto;var DOMEmitter=require("ac-dom-emitter").DOMEmitter;var ac_dom_nodes=require("ac-dom-nodes");var ac_Object=require("ac-object");function TrackedElement(element){if(ac_dom_nodes.isElement(element)){this.element=element}else{throw new TypeError("TrackedElement: "+element+" is not a valid DOM element")}this.inView=false;this.percentInView=0;this.pixelsInView=0;this.offsetTop=0;this.top=0;this.right=0;this.bottom=0;this.left=0;this.width=0;this.height=0;DOMEmitter.call(this,element)}proto=TrackedElement.prototype=ac_Object.create(DOMEmitter.prototype);module.exports=TrackedElement},{"ac-dom-emitter":175,"ac-dom-nodes":191,"ac-object":258}],257:[function(require,module,exports){module.exports=require(126)},{}],258:[function(require,module,exports){"use strict";module.exports={clone:require("./ac-object/clone"),create:require("./ac-object/create"),defaults:require("./ac-object/defaults"),extend:require("./ac-object/extend"),getPrototypeOf:require("./ac-object/getPrototypeOf"),isDate:require("./ac-object/isDate"),isEmpty:require("./ac-object/isEmpty"),isRegExp:require("./ac-object/isRegExp"),toQueryParameters:require("./ac-object/toQueryParameters")}},{"./ac-object/clone":259,"./ac-object/create":260,"./ac-object/defaults":261,"./ac-object/extend":262,"./ac-object/getPrototypeOf":263,"./ac-object/isDate":264,"./ac-object/isEmpty":265,"./ac-object/isRegExp":266,"./ac-object/toQueryParameters":267}],259:[function(require,module,exports){"use strict";var extend=require("./extend");module.exports=function clone(object){return extend({},object)}},{"./extend":262}],260:[function(require,module,exports){"use strict";var F=function(){};module.exports=function create(proto){if(arguments.length>1){throw new Error("Second argument not supported")}if(proto===null||typeof proto!=="object"){throw new TypeError("Object prototype may only be an Object.")}if(typeof Object.create==="function"){return Object.create(proto)}else{F.prototype=proto;return new F}}},{}],261:[function(require,module,exports){"use strict";var extend=require("./extend");module.exports=function defaults(defaultsObj,options){if(typeof defaultsObj!=="object"){throw new TypeError("defaults: must provide a defaults object")}options=options||{};if(typeof options!=="object"){throw new TypeError("defaults: options must be a typeof object")}return extend({},defaultsObj,options)}},{"./extend":262}],262:[function(require,module,exports){"use strict";var hasOwnProp=Object.prototype.hasOwnProperty;module.exports=function extend(){var args;var dest;if(arguments.length<2){args=[{},arguments[0]]}else{args=[].slice.call(arguments)}dest=args.shift();args.forEach(function(source){if(source!=null){for(var property in source){if(hasOwnProp.call(source,property)){dest[property]=source[property]}}}});return dest}},{}],263:[function(require,module,exports){"use strict";var hasOwnProp=Object.prototype.hasOwnProperty;module.exports=function getPrototypeOf(obj){if(Object.getPrototypeOf){return Object.getPrototypeOf(obj)}else{if(typeof obj!=="object"){throw new Error("Requested prototype of a value that is not an object.")}else if(typeof this.__proto__==="object"){return obj.__proto__}else{var constructor=obj.constructor;var oldConstructor;if(hasOwnProp.call(obj,"constructor")){oldConstructor=constructor;if(!delete obj.constructor){return null}constructor=obj.constructor;obj.constructor=oldConstructor}return constructor?constructor.prototype:null}}}},{}],264:[function(require,module,exports){"use strict";module.exports=function isDate(date){return Object.prototype.toString.call(date)==="[object Date]"}},{}],265:[function(require,module,exports){"use strict";var hasOwnProp=Object.prototype.hasOwnProperty;module.exports=function isEmpty(object){var prop;if(typeof object!=="object"){throw new TypeError("ac-base.Object.isEmpty : Invalid parameter - expected object")}for(prop in object){if(hasOwnProp.call(object,prop)){return false}}return true}},{}],266:[function(require,module,exports){"use strict";module.exports=function isRegExp(obj){return window.RegExp?obj instanceof RegExp:false}},{}],267:[function(require,module,exports){"use strict";var qs=require("qs");module.exports=function toQueryParameters(object){if(typeof object!=="object"){throw new TypeError("toQueryParameters error: argument is not an object")}return qs.stringify(object)}},{qs:257}],268:[function(require,module,exports){var ElementEngagement=require("./ac-element-engagement/ElementEngagement");module.exports=new ElementEngagement;module.exports.ElementEngagement=ElementEngagement},{"./ac-element-engagement/ElementEngagement":269}],269:[function(require,module,exports){"use strict";var proto;var ac_Object=require("ac-object");var Super=require("ac-element-tracker").ElementTracker;var trackedElementDefaults={timeToEngage:500,inViewThreshold:.75,stopOnEngaged:true};var extendedTrackedElementProps={thresholdEnterTime:0,thresholdExitTime:0,inThreshold:false,engaged:false,tracking:true};var ElementEngagement=function(){Super.call(this)};proto=ElementEngagement.prototype=ac_Object.create(Super.prototype);proto._decorateTrackedElement=function(trackedElement,options){var extendedDefaults;extendedDefaults=ac_Object.defaults(trackedElementDefaults,options||{});ac_Object.extend(trackedElement,extendedDefaults);ac_Object.extend(trackedElement,extendedTrackedElementProps)};proto._attachElementListeners=function(trackedElement){trackedElement.on("thresholdenter",this._thresholdEnter,this);trackedElement.on("thresholdexit",this._thresholdExit,this);trackedElement.on("enterview",this._enterView,this);trackedElement.on("exitview",this._exitView,this)};proto._removeElementListeners=function(trackedElement){trackedElement.off("thresholdenter",this._thresholdEnter);trackedElement.off("thresholdexit",this._thresholdExit);trackedElement.off("enterview",this._enterView);trackedElement.off("exitview",this._exitView)};proto._attachAllElementListeners=function(){this.elements.forEach(function(trackedElement){if(!trackedElement.stopOnEngaged){this._attachElementListeners(trackedElement)}else if(!trackedElement.engaged){this._attachElementListeners(trackedElement)}},this)};proto._removeAllElementListeners=function(){this.elements.forEach(function(trackedElement){this._removeElementListeners(trackedElement)},this)};proto._elementInViewPastThreshold=function(trackedElement){var winHeight=this.windowDelegate.innerHeight();var isIt=false;if(trackedElement.pixelsInView===winHeight){isIt=true}else{isIt=trackedElement.percentInView>trackedElement.inViewThreshold}return isIt};proto._ifInView=function(trackedElement,alreadyInView){var alreadyInThreshold=trackedElement.inThreshold;Super.prototype._ifInView.apply(this,arguments);if(!alreadyInThreshold&&this._elementInViewPastThreshold(trackedElement)){trackedElement.inThreshold=true;trackedElement.trigger("thresholdenter",trackedElement);if(typeof trackedElement.timeToEngage==="number"&&trackedElement.timeToEngage>=0){trackedElement.engagedTimeout=window.setTimeout(this._engaged.bind(this,trackedElement),trackedElement.timeToEngage)}}};proto._ifAlreadyInView=function(trackedElement){var alreadyInThreshold=trackedElement.inThreshold;Super.prototype._ifAlreadyInView.apply(this,arguments);if(alreadyInThreshold&&!this._elementInViewPastThreshold(trackedElement)){trackedElement.inThreshold=false;trackedElement.trigger("thresholdexit",trackedElement);if(trackedElement.engagedTimeout){window.clearTimeout(trackedElement.engagedTimeout);trackedElement.engagedTimeout=null}}};proto._engaged=function(trackedElement){trackedElement.engagedTimeout=null;this._elementEngaged(trackedElement);trackedElement.trigger("engaged",trackedElement);this.trigger("engaged",trackedElement)};proto._thresholdEnter=function(trackedElement){trackedElement.thresholdEnterTime=Date.now();trackedElement.thresholdExitTime=0;this.trigger("thresholdenter",trackedElement)};proto._thresholdExit=function(trackedElement){trackedElement.thresholdExitTime=Date.now();this.trigger("thresholdexit",trackedElement)};proto._enterView=function(trackedElement){this.trigger("enterview",trackedElement)};proto._exitView=function(trackedElement){this.trigger("exitview",trackedElement)};proto._elementEngaged=function(trackedElement){trackedElement.engaged=true;if(trackedElement.stopOnEngaged){this.stop(trackedElement)}};proto.stop=function(trackedElement){if(this.tracking&&!trackedElement){this._removeAllElementListeners();Super.prototype.stop.call(this)}if(trackedElement&&trackedElement.tracking){trackedElement.tracking=false;this._removeElementListeners(trackedElement)}};proto.start=function(trackedElement){if(!trackedElement){this._attachAllElementListeners()}if(trackedElement&&!trackedElement.tracking){if(!trackedElement.stopOnEngaged){trackedElement.tracking=true;this._attachElementListeners(trackedElement)}else if(!trackedElement.engaged){trackedElement.tracking=true;this._attachElementListeners(trackedElement)}}if(!this.tracking){Super.prototype.start.call(this)}else{this.refreshAllElementStates()}};proto.addElement=function(element,options){var trackedElement=Super.prototype.addElement.call(this,element);this._decorateTrackedElement(trackedElement,options);return trackedElement};proto.addElements=function(collection,options){[].forEach.call(collection,function(element){this.addElement(element,options)},this)};module.exports=ElementEngagement},{"ac-element-tracker":254,"ac-object":258}],270:[function(require,module,exports){module.exports.EventEmitter=require("./ac-event-emitter/EventEmitter")},{"./ac-event-emitter/EventEmitter":271}],271:[function(require,module,exports){"use strict";var propagationName="EventEmitter:propagation";var EventEmitter=function(context){if(context){this.context=context}};var proto=EventEmitter.prototype;var getEvents=function(){if(!this.hasOwnProperty("_events")&&typeof this._events!=="object"){this._events={}}return this._events};var parseEvents=function(args,register){var event=args[0];var callback=args[1];var context=args[2];if(typeof event!=="string"&&typeof event!=="object"||event===null||Array.isArray(event)){throw new TypeError("Expecting event name to be a string or object.")}if(typeof event==="string"&&!callback){throw new Error("Expecting a callback function to be provided.")}if(callback&&typeof callback!=="function"){if(typeof event==="object"&&typeof callback==="object"){context=callback}else{throw new TypeError("Expecting callback to be a function.")}}if(typeof event==="object"){for(var evt in event){register.call(this,evt,event[evt],context)}}if(typeof event==="string"){event=event.split(" ");event.forEach(function(evt){register.call(this,evt,callback,context)},this)}};var each=function(event,callback){var eventsArray;var i;var length;eventsArray=getEvents.call(this)[event];if(!eventsArray||eventsArray.length===0){return}eventsArray=eventsArray.slice();this._stoppedImmediatePropagation=false;for(i=0,length=eventsArray.length;i<length;i++){if(this._stoppedImmediatePropagation||callback(eventsArray[i],i)){break}}};var removeSpecificCallback=function(events,event,callback){var i=-1;each.call(this,event,function(callbackObject,index){if(callbackObject.callback===callback){i=index;return true}});if(i===-1){return}events[event].splice(i,1)};proto.on=function(){var events=getEvents.call(this);parseEvents.call(this,arguments,function(event,callback,context){events[event]=events[event]||(events[event]=[]);events[event].push({callback:callback,context:context})});return this};proto.once=function(){parseEvents.call(this,arguments,function(event,callback,context){var wrapper=function(data){callback.call(context||this,data);this.off(event,wrapper)};this.on(event,wrapper,this)});return this};proto.off=function(event,callback){var events=getEvents.call(this);if(arguments.length===0){this._events={}}else if(!event||typeof event!=="string"&&typeof event!=="object"||Array.isArray(event)){throw new TypeError("Expecting event name to be a string or object.")}if(typeof event==="object"){for(var e in event){removeSpecificCallback.call(this,events,e,event[e])}}if(typeof event==="string"){var split=event.split(" ");if(split.length===1){if(callback){removeSpecificCallback.call(this,events,event,callback)}else{events[event]=[]}}else{split.forEach(function(event){events[event]=[]})}}return this};proto.trigger=function(event,data,doNotPropagate){if(!event){throw new Error("trigger method requires an event name")}if(typeof event!=="string"){throw new TypeError("Expecting event names to be a string.")}if(doNotPropagate&&typeof doNotPropagate!=="boolean"){throw new TypeError("Expecting doNotPropagate to be a boolean.")}event=event.split(" ");event.forEach(function(evt){each.call(this,evt,function(callbackObject){callbackObject.callback.call(callbackObject.context||this.context||this,data)}.bind(this));if(!doNotPropagate){each.call(this,propagationName,function(propagation){var eventName=evt;if(propagation.prefix){eventName=propagation.prefix+eventName}propagation.emitter.trigger(eventName,data)})}},this);return this};proto.propagateTo=function(eventEmitter,prefix){var events=getEvents.call(this);if(!events[propagationName]){this._events[propagationName]=[]}events[propagationName].push({emitter:eventEmitter,prefix:prefix})};proto.stopPropagatingTo=function(eventEmitter){var events=getEvents.call(this);if(!eventEmitter){events[propagationName]=[];return}var propagationTargets=events[propagationName];var length=propagationTargets.length;var i;for(i=0;i<length;i++){if(propagationTargets[i].emitter===eventEmitter){propagationTargets.splice(i,1);break}}};proto.stopImmediatePropagation=function(){this._stoppedImmediatePropagation=true};proto.has=function(evt,callback,context){var events=getEvents.call(this);var eventsArray=events[evt];if(arguments.length===0){return Object.keys(events)}if(!eventsArray){return false}if(!callback){return eventsArray.length>0?true:false}for(var i=0,length=eventsArray.length;i<length;i++){var callbackContainer=eventsArray[i];if(context&&callback&&callbackContainer.context===context&&callbackContainer.callback===callback){return true}else if(callback&&!context&&callbackContainer.callback===callback){return true}}return false};module.exports=EventEmitter},{}],272:[function(require,module,exports){"use strict";module.exports={adler32:require("./ac-checksum/adler32")}},{"./ac-checksum/adler32":273}],273:[function(require,module,exports){"use strict";module.exports=function adler32(string){var adlerModulo=65521;var checksum16a=1;var checksum16b=0;var unicodeValueForCurrentChar;var i;for(i=0;i<string.length;i+=1){unicodeValueForCurrentChar=string.charCodeAt(i);checksum16a=(checksum16a+unicodeValueForCurrentChar)%adlerModulo;checksum16b=(checksum16b+checksum16a)%adlerModulo}return checksum16b<<16|checksum16a}},{}],274:[function(require,module,exports){"use strict";module.exports={log:require("./ac-console/log")}},{"./ac-console/log":275}],275:[function(require,module,exports){"use strict";var debugMessagingKey="f7c9180f-5c45-47b4-8de4-428015f096c0";var allowDebugMessaging=!!function(){try{return window.localStorage.getItem(debugMessagingKey)}catch(err){}}();module.exports=function log(message){if(window.console&&typeof console.log!=="undefined"&&allowDebugMessaging){console.log(message)}}},{}],276:[function(require,module,exports){module.exports=require(182)},{}],277:[function(require,module,exports){module.exports=require(183)},{}],278:[function(require,module,exports){module.exports=require(184)},{}],279:[function(require,module,exports){module.exports=require(185)},{}],280:[function(require,module,exports){module.exports=require(186)},{}],281:[function(require,module,exports){module.exports=require(187)},{}],282:[function(require,module,exports){module.exports=require(188)},{}],283:[function(require,module,exports){module.exports=require(189)},{"./ELEMENT_NODE":280,"./internal/isNodeType":291,"ac-polyfills/Array/prototype.filter":301,"ac-polyfills/Array/prototype.slice":303}],284:[function(require,module,exports){module.exports=require(190)},{}],285:[function(require,module,exports){module.exports=require(191)},{"./COMMENT_NODE":276,"./DOCUMENT_FRAGMENT_NODE":277,"./DOCUMENT_NODE":278,"./DOCUMENT_TYPE_NODE":279,"./ELEMENT_NODE":280,"./TEXT_NODE":281,"./createDocumentFragment":282,"./filterByNodeType":283,"./hasAttribute":284,"./indexOf":286,"./insertAfter":287,"./insertBefore":288,"./insertFirstChild":289,"./insertLastChild":290,"./isComment":293,"./isDocument":294,"./isDocumentFragment":295,"./isDocumentType":296,"./isElement":297,"./isNode":298,"./isNodeList":299,"./isTextNode":300,"./remove":304,"./replace":305}],286:[function(require,module,exports){module.exports=require(192)},{"./filterByNodeType":283,"./internal/validate":292,"ac-polyfills/Array/prototype.indexOf":302,"ac-polyfills/Array/prototype.slice":303}],287:[function(require,module,exports){module.exports=require(193)},{"./internal/validate":292}],288:[function(require,module,exports){module.exports=require(194)},{"./internal/validate":292}],289:[function(require,module,exports){module.exports=require(195)},{"./internal/validate":292}],290:[function(require,module,exports){module.exports=require(196)},{"./internal/validate":292}],291:[function(require,module,exports){module.exports=require(197)},{"../isNode":298}],292:[function(require,module,exports){module.exports=require(198)},{"../COMMENT_NODE":276,"../DOCUMENT_FRAGMENT_NODE":277,"../ELEMENT_NODE":280,"../TEXT_NODE":281,"./isNodeType":291}],293:[function(require,module,exports){module.exports=require(199)},{"./COMMENT_NODE":276,"./internal/isNodeType":291}],294:[function(require,module,exports){module.exports=require(200)},{"./DOCUMENT_NODE":278,"./internal/isNodeType":291}],295:[function(require,module,exports){module.exports=require(201)},{"./DOCUMENT_FRAGMENT_NODE":277,"./internal/isNodeType":291}],296:[function(require,module,exports){module.exports=require(202)},{"./DOCUMENT_TYPE_NODE":279,"./internal/isNodeType":291}],297:[function(require,module,exports){module.exports=require(203)},{"./ELEMENT_NODE":280,"./internal/isNodeType":291}],298:[function(require,module,exports){module.exports=require(204)},{}],299:[function(require,module,exports){module.exports=require(205)},{}],300:[function(require,module,exports){module.exports=require(206)},{"./TEXT_NODE":281,"./internal/isNodeType":291}],301:[function(require,module,exports){module.exports=require(106)},{}],302:[function(require,module,exports){module.exports=require(208)},{}],303:[function(require,module,exports){module.exports=require(209)},{}],304:[function(require,module,exports){module.exports=require(210)},{"./internal/validate":292}],305:[function(require,module,exports){module.exports=require(211)},{"./internal/validate":292}],306:[function(require,module,exports){"use strict";var feature={cssPropertyAvailable:require("./ac-feature/cssPropertyAvailable"),localStorageAvailable:require("./ac-feature/localStorageAvailable")};var hasOwnProp=Object.prototype.hasOwnProperty;feature.threeDTransformsAvailable=function(){if(typeof this._threeDTransformsAvailable!=="undefined"){return this._threeDTransformsAvailable}var div,style;try{this._threeDTransformsAvailable=false;if(hasOwnProp.call(window,"styleMedia")){this._threeDTransformsAvailable=window.styleMedia.matchMedium("(-webkit-transform-3d)")}else if(hasOwnProp.call(window,"media")){this._threeDTransformsAvailable=window.media.matchMedium("(-webkit-transform-3d)")}if(!this._threeDTransformsAvailable){if(!(style=document.getElementById("supportsThreeDStyle"))){style=document.createElement("style");style.id="supportsThreeDStyle";style.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }";document.querySelector("head").appendChild(style)}if(!(div=document.querySelector("#supportsThreeD"))){div=document.createElement("div");div.id="supportsThreeD";document.body.appendChild(div)}this._threeDTransformsAvailable=div.offsetHeight===3||style.style["MozTransform"]!==undefined||style.style["WebkitTransform"]!==undefined}return this._threeDTransformsAvailable}catch(e){return false}};feature.canvasAvailable=function(){if(typeof this._canvasAvailable!=="undefined"){return this._canvasAvailable}var canvas=document.createElement("canvas");this._canvasAvailable=!!(typeof canvas.getContext==="function"&&canvas.getContext("2d"));return this._canvasAvailable};feature.sessionStorageAvailable=function(){if(typeof this._sessionStorageAvailable!=="undefined"){return this._sessionStorageAvailable}try{if(typeof window.sessionStorage!=="undefined"&&typeof window.sessionStorage.setItem==="function"){window.sessionStorage.setItem("ac_browser_detect","test");this._sessionStorageAvailable=true;window.sessionStorage.removeItem("ac_browser_detect","test")}else{this._sessionStorageAvailable=false}}catch(e){this._sessionStorageAvailable=false}return this._sessionStorageAvailable};feature.cookiesAvailable=function(){if(typeof this._cookiesAvailable!=="undefined"){return this._cookiesAvailable}this._cookiesAvailable=hasOwnProp.call(document,"cookie")&&!!navigator.cookieEnabled?true:false;return this._cookiesAvailable};feature.__normalizedScreenWidth=function(){if(typeof window.orientation==="undefined"){return window.screen.width}return window.screen.width<window.screen.height?window.screen.width:window.screen.height};feature.touchAvailable=function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};feature.isDesktop=function(){if(!this.touchAvailable()&&!window.orientation){return true}return false};feature.isHandheld=function(){return!this.isDesktop()&&!this.isTablet()};feature.isTablet=function(){return!this.isDesktop()&&this.__normalizedScreenWidth()>480};feature.isRetina=function(){var mediaQueryStrings=["min-device-pixel-ratio:1.5","-webkit-min-device-pixel-ratio:1.5","min-resolution:1.5dppx","min-resolution:144dpi","min--moz-device-pixel-ratio:1.5"];var i;if(window.devicePixelRatio!==undefined){if(window.devicePixelRatio>=1.5){return true}}else{for(i=0;i<mediaQueryStrings.length;i+=1){if(window.matchMedia("("+mediaQueryStrings[i]+")").matches===true){return true}}}return false};feature.svgAvailable=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")};module.exports=feature},{"./ac-feature/cssPropertyAvailable":307,"./ac-feature/localStorageAvailable":308}],307:[function(require,module,exports){"use strict";var style=null;var prefixes=null;var preFixes=null;var css=null;module.exports=function(property){if(style===null){style=document.createElement("browserdetect").style}if(prefixes===null){prefixes=["-webkit-","-moz-","-o-","-ms-","-khtml-",""]}if(preFixes===null){preFixes=["Webkit","Moz","O","ms","Khtml",""]}if(css===null){css={}}property=property.replace(/([A-Z]+)([A-Z][a-z])/g,"$1\\-$2").replace(/([a-z\d])([A-Z])/g,"$1\\-$2").replace(/^(\-*webkit|\-*moz|\-*o|\-*ms|\-*khtml)\-/,"").toLowerCase();switch(property){case"gradient":if(css.gradient!==undefined){return css.gradient}property="background-image:";var value1="gradient(linear,left top,right bottom,from(#9f9),to(white));";var value2="linear-gradient(left top,#9f9, white);";style.cssText=(property+prefixes.join(value1+property)+prefixes.join(value2+property)).slice(0,-property.length);css.gradient=style.backgroundImage.indexOf("gradient")!==-1;return css.gradient;case"inset-box-shadow":if(css["inset-box-shadow"]!==undefined){return css["inset-box-shadow"]}property="box-shadow:";var value="#fff 0 1px 1px inset;";style.cssText=prefixes.join(property+value);css["inset-box-shadow"]=style.cssText.indexOf("inset")!==-1;return css["inset-box-shadow"];default:var properties=property.split("-");var length=properties.length;var Property;var i;var j;if(properties.length>0){property=properties[0];for(i=1;i<length;i+=1){property+=properties[i].substr(0,1).toUpperCase()+properties[i].substr(1)}}Property=property.substr(0,1).toUpperCase()+property.substr(1);if(css[property]!==undefined){return css[property]}for(j=preFixes.length-1;j>=0;j-=1){if(style[preFixes[j]+property]!==undefined||style[preFixes[j]+Property]!==undefined){css[property]=true;return true}}return false}}},{}],308:[function(require,module,exports){"use strict";var isAvailable=null;module.exports=function localStorageAvailable(){if(isAvailable===null){isAvailable=!!(window.localStorage&&window.localStorage.non_existent!==null)}return isAvailable}},{}],309:[function(require,module,exports){module.exports=require(126)},{}],310:[function(require,module,exports){module.exports=require(258)},{"./ac-object/clone":311,"./ac-object/create":312,"./ac-object/defaults":313,"./ac-object/extend":314,"./ac-object/getPrototypeOf":315,"./ac-object/isDate":316,"./ac-object/isEmpty":317,"./ac-object/isRegExp":318,"./ac-object/toQueryParameters":319}],311:[function(require,module,exports){module.exports=require(259)},{"./extend":314}],312:[function(require,module,exports){module.exports=require(260)},{}],313:[function(require,module,exports){module.exports=require(261)},{"./extend":314}],314:[function(require,module,exports){module.exports=require(262)},{}],315:[function(require,module,exports){module.exports=require(263)},{}],316:[function(require,module,exports){module.exports=require(264)},{}],317:[function(require,module,exports){module.exports=require(265)},{}],318:[function(require,module,exports){module.exports=require(266)},{}],319:[function(require,module,exports){module.exports=require(267)},{qs:309}],320:[function(require,module,exports){"use strict";var DEFAULT_NAMESPACE="ac-storage-";var Item=require("./ac-storage/Item");var Storage=require("./ac-storage/Storage");var storageAvailable=require("./ac-storage/Storage/storageAvailable");var ac_Storage=new Storage(DEFAULT_NAMESPACE);ac_Storage.Item=Item;ac_Storage.storageAvailable=storageAvailable;module.exports=ac_Storage},{"./ac-storage/Item":321,"./ac-storage/Storage":328,"./ac-storage/Storage/storageAvailable":330}],321:[function(require,module,exports){"use strict";var ac_adler32=require("ac-checksum").adler32;var ac_Object=require("ac-object");var apis=require("./Item/apis");var createExpirationDate=require("./Item/createExpirationDate");var encoder=require("./Item/encoder");var DAY=1e3*60*60*24;var DEFAULT_DAYS_TO_EXPIRE_IN=30;function Item(key){if(!key||typeof key!=="string"){throw"ac-storage/Item: Key for Item must be a string"}this._key=key;this._checksum=null;this._expirationDate=null;this._metadata=null;this._value=null;this.setExpirationDate(Item.createExpirationDate(DEFAULT_DAYS_TO_EXPIRE_IN))}Item.prototype={save:function(){var api;var stateObj;var value;var options={};api=apis.best(options);if(api){if(this.value()===null&&typeof api.removeItem==="function"){return api.removeItem(this.key())}else if(typeof api.setItem==="function"){stateObj=this.__state();value=encoder.encode(stateObj);return api.setItem(this.key(),value,this.expirationDate())}}return false},load:function(){var api;var value;api=apis.best();if(api&&typeof api.getItem==="function"){value=api.getItem(this.key());this.__updateState(encoder.decode(value));if(value===null||this.hasExpired()){this.remove();return false}else{return true}}else{return false}},remove:function(){var api;this.__updateState(null);api=apis.best();return api.removeItem(this.key())},hasExpired:function(checksum){if(this.expirationDate()!==false&&this.expirationDate()<=Date.now()||!this.__checksumIsValid(checksum)){return true}return false},value:function(checksum){if(this.hasExpired(checksum)){this.remove()}return this._value},setValue:function(value){this._value=value},setChecksum:function(checksum){if(checksum===null){this._checksum=checksum}else if(typeof checksum==="string"&&checksum!==""){this._checksum=ac_adler32(checksum)}else{throw"ac-storage/Item#setChecksum: Checksum must be null or a string"}},checksum:function(){return this._checksum},setExpirationDate:function(expirationDate){if(expirationDate===null){expirationDate=Item.createExpirationDate(DEFAULT_DAYS_TO_EXPIRE_IN)}if(expirationDate!==false){if(typeof expirationDate==="string"){expirationDate=new Date(expirationDate).getTime()}if(expirationDate&&typeof expirationDate.getTime==="function"){expirationDate=expirationDate.getTime()}if(!expirationDate||isNaN(expirationDate)){throw"ac-storage/Item: Invalid date object provided as expirationDate"}expirationDate-=expirationDate%DAY;if(expirationDate<=Date.now()){expirationDate=false}}this._expirationDate=expirationDate},expirationDate:function(){return this._expirationDate},__state:function(){var stateObj={};stateObj.checksum=this.checksum();stateObj.expirationDate=this.expirationDate();stateObj.metadata=this.metadata();stateObj.value=this.value();return stateObj},__updateState:function(stateObj){var prop;var setter;if(stateObj===null){stateObj={checksum:null,expirationDate:null,metadata:null,value:null}}for(prop in stateObj){setter="set"+prop.charAt(0).toUpperCase()+prop.slice(1);if(typeof this[setter]==="function"){this[setter](stateObj[prop])}}},__checksumIsValid:function(checksum){if(checksum){checksum=ac_adler32(checksum);if(!this.checksum()){throw"ac-storage/Item: No checksum exists to determine if this Item’s value is valid. Try loading context from persistent storage first."}else if(checksum===this.checksum()){return true}return false}else if(this.checksum()){throw"ac-storage/Item: No checksum passed, but checksum exists in Item’s state."}return true},setKey:function(){throw"ac-storage/Item: Cannot set key /after/ initialization!"},key:function(){return this._key},metadata:function(){return this._metadata},setMetadata:function(value){this._metadata=value}};Item.createExpirationDate=createExpirationDate;module.exports=Item},{"./Item/apis":322,"./Item/createExpirationDate":325,"./Item/encoder":326,"ac-checksum":272,"ac-object":310}],322:[function(require,module,exports){"use strict";var ac_Log=require("ac-console").log;var api_localStorage=require("./apis/localStorage");var api_userData=require("./apis/userData");var apis={_list:[api_localStorage,api_userData],list:function(){return this._list},all:function(method){ac_Log("ac-storage/Item/apis.all: Method is deprecated");var args=Array.prototype.slice.call(arguments,1);if(typeof method!=="string"){throw"ac-storage/Item/apis.all: Method name must be provided as a string"}var results=this.list().map(function(api){if(api.available()){if(typeof api[method]==="function"){return api[method].apply(api,args)}else{throw"ac-storage/Item/apis.all: Method not available on api"}}return false});return results},best:function(){var best=null;this.list().some(function(api){if(api.available()){best=api;return true}});return best}};module.exports=apis},{"./apis/localStorage":323,"./apis/userData":324,"ac-console":274}],323:[function(require,module,exports){"use strict";var AC_Environment_Feature=require("ac-feature");var api=window.localStorage;var api_session=window.sessionStorage;var available;var api_localStorage={name:"localStorage",available:function(){try{localStorage.setItem("localStorage",1);localStorage.removeItem("localStorage")}catch(e){return false}if(available===undefined){available=AC_Environment_Feature.localStorageAvailable()}return available},getItem:function(key){return api.getItem(key)||api_session.getItem(key)},setItem:function(key,value,expirationDate){if(expirationDate===false){api_session.setItem(key,value)}else{api.setItem(key,value)}return true},removeItem:function(key){api.removeItem(key);api_session.removeItem(key);return true}};module.exports=api_localStorage},{"ac-feature":306}],324:[function(require,module,exports){"use strict";var AC_Element=require("ac-dom-nodes");var DAY=1e3*60*60*24;var storeID="ac-storage";var available;var api_userData={name:"userData",available:function(){if(available===undefined){available=false;if(document&&document.body){var el=this.element();if(AC_Element.isElement(el)&&el.addBehavior!==undefined){available=true}if(available===false){this.removeElement()}}else{throw"ac-storage/Item/apis/userData: DOM must be ready before using #userData."}}return available},getItem:function(key){var el=this.element();el.load(storeID);return el.getAttribute(key)||null},setItem:function(key,value,expirationDate){var el=this.element();el.setAttribute(key,value);if(expirationDate===false){expirationDate=new Date(Date.now()+DAY)}if(expirationDate&&typeof expirationDate.toUTCString==="function"){el.expires=expirationDate.toUTCString()}el.save(storeID);return true},removeItem:function(key){var el=this.element();el.removeAttribute(key);el.save(storeID);return true},_element:null,element:function(){if(this._element===null){this._element=document.createElement("meta");this._element.setAttribute("id","userData");this._element.setAttribute("name","ac-storage");this._element.style.behavior="url('#default#userData')";document.getElementsByTagName("head")[0].appendChild(this._element)}return this._element},removeElement:function(){if(this._element!==null){AC_Element.remove(this._element)}return this._element}};module.exports=api_userData},{"ac-dom-nodes":285}],325:[function(require,module,exports){"use strict";var DAY=1e3*60*60*24;var createExpirationDate=function(days,fromDate){if(typeof days!=="number"){throw"ac-storage/Item/createExpirationDate: days parameter must be a number."}if(fromDate===undefined||typeof fromDate==="number"){fromDate=fromDate===undefined?new Date:new Date(fromDate)}if(typeof fromDate.toUTCString!=="function"||fromDate.toUTCString()==="Invalid Date"){throw"ac-storage/Item/createExpirationDate: fromDate must be a date object, timestamp, or undefined."}fromDate.setTime(fromDate.getTime()+days*DAY);return fromDate.getTime()};module.exports=createExpirationDate},{}],326:[function(require,module,exports){"use strict";var compressor=require("./encoder/compressor");var encoder={encode:function(stateObj){var stateObjString;var compressedStateObj;compressedStateObj=compressor.compress(stateObj);try{stateObjString=JSON.stringify(compressedStateObj)}catch(ignore){}if(!this.__isValidStateObjString(stateObjString)){throw"ac-storage/Item/encoder/encode: state object is invalid or cannot be saved as string"}return stateObjString},decode:function(stateObjString){var stateObj;var decompressedStateObj;if(!this.__isValidStateObjString(stateObjString)){if(stateObjString===undefined||stateObjString===null||stateObjString===""){return null}throw"ac-storage/Item/encoder/decode: state string does not contain a valid state object"}try{stateObj=JSON.parse(stateObjString)}catch(ignore){throw"ac-storage/Item/encoder/decode: Item state object could not be decoded"}decompressedStateObj=compressor.decompress(stateObj);return decompressedStateObj},__isValidStateObjString:function(stateObjString){try{if(stateObjString!==undefined&&stateObjString.substring(0,1)==="{"){return true}return false}catch(e){return false}}};module.exports=encoder},{"./encoder/compressor":327}],327:[function(require,module,exports){var DAY=1e3*60*60*24;var DATE_KEY=14975;var compressor={mapping:{key:"k",checksum:"c",expirationDate:"e",metadata:"m",value:"v"},compress:function(stateObj){var compressedStateObj={};var mapping=compressor.mapping;for(var prop in mapping){if(stateObj.hasOwnProperty(prop)&&stateObj[prop]){if(prop==="expirationDate"){var days=this.millisecondsToOffsetDays(stateObj[prop]);compressedStateObj[mapping[prop]]=days}else{compressedStateObj[mapping[prop]]=stateObj[prop]}}}return compressedStateObj},decompress:function(compressedStateObj){var stateObj={};var mapping=compressor.mapping;for(var prop in mapping){if(compressedStateObj.hasOwnProperty(mapping[prop])){if(prop==="expirationDate"){var milliseconds=this.offsetDaysToMilliseconds(compressedStateObj[mapping[prop]]);stateObj[prop]=milliseconds}else{stateObj[prop]=compressedStateObj[mapping[prop]]}}}return stateObj},millisecondsToOffsetDays:function(milliseconds){return Math.floor(milliseconds/DAY)-DATE_KEY},offsetDaysToMilliseconds:function(days){return(days+DATE_KEY)*DAY}};module.exports=compressor},{}],328:[function(require,module,exports){"use strict";var ac_Object=require("ac-object");var api_localStorage=require("./Item/apis/localStorage");var registry=require("./Storage/registry");var defaultOptions={};function Storage(namespace,options){this._namespace=namespace||"";this._options=ac_Object.extend(ac_Object.clone(defaultOptions),options||{})}Storage.prototype={getItem:function(key){var item=this.__item(key);item.load();return item.value()},setItem:function(key,value){var item=this.__item(key);if(value===undefined){throw"ac-storage/Storage#setItem: Must provide value to set key to. Use #removeItem to remove."}item.setValue(value);return item.save()},removeItem:function(key){var item=this.__item(key);registry.remove(item.key(),true);return item.save()},removeExpired:function(){var item;var i;if(api_localStorage.available()){for(i=0;i<window.localStorage.length;i++){item=this.__item(window.localStorage.key(i));if(item.hasExpired()&&JSON.parse(window.localStorage[window.localStorage.key(i)]).v!=="undefined"){item.remove()}}}else{var storeID="ac-storage";var el=document.getElementById("userData");el.load(storeID);var attr;var doc=el.xmlDocument;var attributes=doc.firstChild.attributes;var len=attributes.length;i=-1;while(++i<len){attr=attributes[i];item=this.__item(attr.nodeName);if(item.hasExpired()&&JSON.parse(attr.nodeValue).v!=="undefined"){item.remove()}}}},__item:function(key){if(typeof key!=="string"||key===""){throw"ac-storage/Storage: Key must be a String."}var item=registry.item(this.namespace()+key);return item},namespace:function(){return this._namespace},setNamespace:function(value){this._namespace=value},options:function(){return this._namespace},setOptions:function(value){this._namespace=value}};module.exports=Storage},{"./Item/apis/localStorage":323,"./Storage/registry":329,"ac-object":310}],329:[function(require,module,exports){"use strict";var Item=require("../Item");var items={};var registry={item:function(key){var item=items[key];if(!item){item=this.register(key)}return item},register:function(key){var item=items[key];if(!item){item=new Item(key);items[key]=item}return item},clear:function(alsoRemoveItemFromStorage){var key;for(key in items){this.remove(key,alsoRemoveItemFromStorage)}return true},remove:function(key,alsoRemoveItemFromStorage){var item=items[key];if(item&&!!alsoRemoveItemFromStorage){item.remove()}items[key]=null;return true}};module.exports=registry},{"../Item":321}],330:[function(require,module,exports){"use strict";var apis=require("../Item/apis");var available;module.exports=function storageAvailable(){if(available!==undefined){return available}available=!!apis.best();return available}},{"../Item/apis":322}],"++O3BW":[function(require,module,exports){module.exports={observer:{Audio:require("./ac-analytics/observer/Audio"),Click:require("./ac-analytics/observer/Click"),Event:require("./ac-analytics/observer/Event"),Exit:require("./ac-analytics/observer/Exit"),Gallery:require("./ac-analytics/observer/Gallery"),Link:require("./ac-analytics/observer/Link"),Overlay:require("./ac-analytics/observer/Overlay"),Page:require("./ac-analytics/observer/Page"),Section:require("./ac-analytics/observer/Section"),Video:require("./ac-analytics/observer/Video")},regions:require("./ac-analytics/regions/regions"),createBasicObserverSuite:require("./ac-analytics/factory/basicObserverSuite").create,reset:require("./ac-analytics/reset")}},{"./ac-analytics/factory/basicObserverSuite":"eT/lVE","./ac-analytics/observer/Audio":"0uVCsT","./ac-analytics/observer/Click":"smIHK0","./ac-analytics/observer/Event":"FP42yW","./ac-analytics/observer/Exit":"G1nVnI","./ac-analytics/observer/Gallery":"7OkBs0","./ac-analytics/observer/Link":"csLHIR","./ac-analytics/observer/Overlay":"ZDCq+L","./ac-analytics/observer/Page":"2ltmNh","./ac-analytics/observer/Section":"ft2q1p","./ac-analytics/observer/Video":"EVr9gK","./ac-analytics/regions/regions":"DxeItO","./ac-analytics/reset":"DebV0p"}],"@marcom/ac-analytics":[function(require,module,exports){module.exports=require("++O3BW")},{}],"@marcom/ac-analytics/Queue":[function(require,module,exports){module.exports=require("ZTQIFU")},{}],ZTQIFU:[function(require,module,exports){"use strict";var proto;var ac_Array=require("@marcom/ac-array");var errorHandler=require("./error-handler/ErrorHandler");var ac_Storage=require("ac-storage");var STORAGE_KEY=require("./storageKey").analyticsQueue;function Queue(){this._storage=ac_Storage;this._arr=[];this._length=0}proto=Queue.prototype;proto.add=function(item){if(!item){errorHandler.log("Queue","add",item+" is not a valid object")}if(errorHandler.exception){return}this._arr.push(item);this._updateQueueSize()};proto.remove=function(){if(this.size()>0){this._arr.shift();this._updateQueueSize()}};proto.reset=function(){this._arr=[];this._length=0};proto.peek=function(){if(this.size()>0){return this._arr[0]}};proto.isEmpty=function(){return this.size()===0};proto.size=function(){return this._length};proto.load=function(){var analyticsData=this._storage.getItem(STORAGE_KEY);if(Array.isArray(analyticsData)){this._arr=analyticsData;this._storage.removeItem(STORAGE_KEY);this._updateQueueSize()}};proto.save=function(){this._storage.setItem(STORAGE_KEY,this._arr);this.reset()};proto.collect=function(){var analyticsQueue=this._arr;var analyticsData=this._storage.getItem(STORAGE_KEY);if(Array.isArray(analyticsData)){var temp=analyticsData;analyticsQueue=temp.concat(analyticsQueue)}this._storage.setItem(STORAGE_KEY,analyticsQueue);this.reset()};proto.canSave=function(){return this._storage.storageAvailable()};proto._updateQueueSize=function(){this._length=this._arr.length};module.exports=Queue},{"./error-handler/ErrorHandler":"yoExqy","./storageKey":"ntdzZF","@marcom/ac-array":2,"ac-storage":320}],vBwaVP:[function(require,module,exports){"use strict";var proto;var Deferred=require("ac-deferred").Deferred;var Queue=require("./Queue");var plugins=require("./plugins/plugins");var translator=require("./translator/translator");var errorHandler=require("./error-handler/ErrorHandler");var moduleName="Tracker";function Tracker(plugin){if(typeof plugins[plugin]==="function"){this.plugin=new plugins[plugin]}else{errorHandler.log(moduleName,null,'Could not create a Tracker. "'+plugin+'" is not a valid plugin')}if(errorHandler.exception){return}this.paused=false;this._queue=new Queue;this.resume()}proto=Tracker.prototype;proto.track=function(request){var translatedRequest;if(!request||typeof request!=="object"||!request.type){errorHandler.log(moduleName,"track",request+" is not a valid request object")}if(errorHandler.exception){return}translatedRequest=translator.translate(request);translatedRequest=this.plugin.translate(translatedRequest);this._queue.add(translatedRequest);if(this.paused===true){this._queue.collect();return}this._run()};proto.isPaused=function(){return this.paused};proto.resume=function(){this._queue.load();var queueSize=this._queue.size();if(queueSize===0){return}this.paused=false;this._run()};proto._run=function(){var promise;if(this._queue.size()===0){return}var request=this._queue.peek();var options=request.options||{};if(typeof options.async==="undefined"){options.async=true}if(options.async===false){promise=this.sync(this.send.bind(this))}else{promise=this.async(this.send.bind(this))}promise.then(function(){if(!this.paused&&this._queue.size()>0){this._run()}}.bind(this))};proto.send=function(){if(typeof this.plugin.submit!=="function"){errorHandler.log(moduleName,"send","provided plugin does not contain a valid submit method")}if(errorHandler.exception){return}if(this._queue.size()===0){return}var request=this._queue.peek();this.plugin.submit(request);this._queue.remove()};proto.pause=function(){if(this.paused===true){return}if(!this.canPause()){return}if(this._queue.size()>0){this._queue.save()}this.paused=true};proto.canPause=function(){return this._queue.canSave()};proto.async=function(callback){var defer=new Deferred;if(!callback||typeof callback!=="function"){errorHandler.log(moduleName,"async",'Provided callback "'+callback+'" is not a function')}if(errorHandler.exception){return}setTimeout(function(){callback();defer.resolve()},0);return defer.promise()};proto.sync=function(callback){var defer=new Deferred;if(!callback||typeof callback!=="function"){errorHandler.log(moduleName,"sync",'Provided callback "'+callback+'" is not a function')}if(errorHandler.exception){return}callback();defer.resolve();return defer.promise()};module.exports=Tracker},{"./Queue":"ZTQIFU","./error-handler/ErrorHandler":"yoExqy","./plugins/plugins":"kyzDBL","./translator/translator":"eq7uW9","ac-deferred":167}],"@marcom/ac-analytics/Tracker":[function(require,module,exports){module.exports=require("vBwaVP")},{}],"FmX+Kz":[function(require,module,exports){"use strict";var proto;var ac_DOMNodes=require("@marcom/ac-dom-nodes");var ac_DOMEvents=require("@marcom/ac-dom-events");var errorHandler=require("../error-handler/ErrorHandler");var moduleName="TouchController";function TouchController(element,eventCallback){if(!ac_DOMNodes.isElement(element)){errorHandler.log(moduleName,null,element+" is not a valid DOM element")}if(typeof eventCallback!=="function"){errorHandler.log(moduleName,null,eventCallback+" is not a valid function")}if(errorHandler.exception){return}this._element=element;this._eventCallback=eventCallback;this.addEventListener()}proto=TouchController.prototype;proto.addEventListener=function(){ac_DOMEvents.addEventListener(this._element,"touchstart",this._onTouchStart.bind(this))};proto.removeEventListener=function(){ac_DOMEvents.removeEventListener(this._element,"touchstart",this._boundOnTouchStart);ac_DOMEvents.removeEventListener(this._element,"touchmove",this._boundOnTouchMove);ac_DOMEvents.removeEventListener(this._element,"touchend",this._boundOnTouchEnd)};proto._onTouchStart=function(e){this.moved=false;this._boundOnTouchMove=this._onTouchMove.bind(this);this._boundOnTouchEnd=this._onTouchEnd.bind(this);ac_DOMEvents.addEventListener(this._element,"touchmove",this._boundOnTouchMove);ac_DOMEvents.addEventListener(this._element,"touchend",this._boundOnTouchEnd)};proto._onTouchMove=function(e){this.moved=true};proto._onTouchEnd=function(e){ac_DOMEvents.removeEventListener(this._element,"touchmove",this._boundOnTouchMove);ac_DOMEvents.removeEventListener(this._element,"touchend",this._boundOnTouchEnd);if(!this.moved){this._eventCallback(e)}};proto.destroy=function(){this.removeEventListener();this._element=null;this._eventCallback=null;this._boundOnTouchStart=null};module.exports=TouchController},{"../error-handler/ErrorHandler":"yoExqy","@marcom/ac-dom-events":13,"@marcom/ac-dom-nodes":37}],"@marcom/ac-analytics/controller/Touch":[function(require,module,exports){module.exports=require("FmX+Kz")},{}],DckvZc:[function(require,module,exports){(function(){"use strict";function dataStringToObject(data){var options;var optionsObj={};var splitOption;if(data&&typeof data==="string"&&data.length>0){options=data.split(",");if(options&&options.length>0){options.forEach(function(option){splitOption=option.split(":");optionsObj[splitOption[0].trim()]=splitOption[1]?splitOption[1].trim():splitOption[1]})}}return optionsObj}module.exports={dataStringToObject:dataStringToObject}})()},{}],"@marcom/ac-analytics/data-attr/helper":[function(require,module,exports){module.exports=require("DckvZc")},{}],yoExqy:[function(require,module,exports){"use strict";var proto;var ac_console=require("@marcom/ac-console");var messagePrefix="Analytics";function ErrorHandler(){this.exception=false;this.errors=[]}proto=ErrorHandler.prototype;proto.log=function(moduleName,methodName,message){var formattedMessage=this._formatMessage(moduleName,methodName,message);this.exception=true;this.errors.push({instance:moduleName,method:methodName,message:formattedMessage});ac_console.log(formattedMessage)};proto.report=function(index){var out="";if(typeof index==="number"&&this.errors[index]){out=this.errors[index].message;ac_console.log(this.errors[index].message)}else{this.errors.forEach(function(err){out+=err.message+"\r\n"});ac_console.log(out)}return out};proto._formatMessage=function(moduleName,methodName,message){var thrower;var throwerString="";var separator=" : ";var throwerSep;if(!!moduleName||!!methodName){throwerSep=moduleName&&methodName?".":"";throwerString=(moduleName||"")+throwerSep+(methodName||"")+separator}return messagePrefix+separator+throwerString+message};module.exports=new ErrorHandler},{"@marcom/ac-console":9}],"@marcom/ac-analytics/error-handler/ErrorHandler":[function(require,module,exports){module.exports=require("yoExqy")},{}],"eT/lVE":[function(require,module,exports){"use strict";var PageObserver=require("../observer/Page");var LinkObserver=require("../observer/Link");var ClickObserver=require("../observer/Click");var SectionObserver=require("../observer/Section");var ac_Object=require("@marcom/ac-object");var onDocumentReady=require("../onDocumentReady");var defaults={page:{},link:{autoEnable:false},click:{autoEnable:false},section:{autoEnable:false}};function _enableObservers(observers){for(var prop in observers){if(observers.hasOwnProperty(prop)){if(typeof observers[prop].enable==="function"){observers[prop].enable()}}}}function create(options){options=ac_Object.extend(defaults,options||{});var observers={page:new PageObserver(options.page),link:new LinkObserver(options.link),click:new ClickObserver(options.click),section:new SectionObserver(options.section)};onDocumentReady(function(){_enableObservers(observers)});return observers}module.exports={create:create}},{"../observer/Click":"smIHK0","../observer/Link":"csLHIR","../observer/Page":"2ltmNh","../observer/Section":"ft2q1p","../onDocumentReady":"s+JdTz","@marcom/ac-object":122}],"@marcom/ac-analytics/factory/basicObserverSuite":[function(require,module,exports){module.exports=require("eT/lVE")},{}],"W+q+EN":[function(require,module,exports){(function(){"use strict";var ac_Array=require("@marcom/ac-array");var errorHandler=require("./error-handler/ErrorHandler");var head=document.getElementsByTagName("head")[0];var metaTags=ac_Array.toArray(head.getElementsByTagName("meta"));var metaPropertyPrefix="analytics";var prefixPattern="^"+metaPropertyPrefix+"-";var patternRegex=new RegExp(prefixPattern);var metaObject;var initialTimeStamp=Date.now();var moduleName="metadata";function _getProductName(metaObject){var analyticsPageTitle=_strToArray(metaObject.track);if(!Array.isArray(analyticsPageTitle)||analyticsPageTitle.length===0){errorHandler.log(moduleName,"_getProductname",'"track" meta tag value is malformed. e.g. "product name - page name"')}if(errorHandler.exception){return}return analyticsPageTitle[0].trim()}function _getPageName(metaObject){if(!metaObject.track||metaObject.track===""){errorHandler.log(moduleName,"_getPageName",'"track" meta tag value is malformed. e.g. "product name - page name"')}if(errorHandler.exception){return}return metaObject.track.toLowerCase()}function _getLocale(){var htmlEl=document.documentElement;var locale=htmlEl.getAttribute("data-locale")||htmlEl.lang;if(!locale){errorHandler.log(moduleName,"_getLocale","html lang attribute can not be empty")}if(errorHandler.exception){return}return locale}function _metaTagsToObject(tags){tags=_filterMetaTags(tags);var metaObject={};tags.forEach(function(tag){var key=_transformPropertyName(tag.getAttribute("property"));var value=tag.getAttribute("content");metaObject[key]=value});return metaObject}function _filterMetaTags(tags){var filtered=tags.filter(function(tag){var propName=tag.getAttribute("property");return patternRegex.test(propName)});return filtered}function _transformPropertyName(name){var transformed=name.replace(metaPropertyPrefix+"-","");return transformed.replace(/-+(.)?/g,function(match,character){return character?character.toUpperCase():""})}function _augmentMetaObject(metaObject){metaObject.pageName=metaObject.pageName||_getPageName(metaObject);metaObject.productName=metaObject.productName||_getProductName(metaObject);metaObject.locale=metaObject.locale||_getLocale();metaObject.initialTimeStamp=initialTimeStamp;return metaObject}function _strToArray(str,separator){separator=separator||"-";if(typeof str!=="string"){errorHandler.log(moduleName,"_strToArray",str+" is not a valid string")}if(errorHandler.exception){return}return str.split(separator)}function bundleMetaObject(metaTags){metaObject=_metaTagsToObject(metaTags)}function getMetadata(){return _augmentMetaObject(metaObject)}function refreshMetadata(){metaTags=ac_Array.toArray(head.getElementsByTagName("meta"));metaObject=null;initialTimeStamp=Date.now();bundleMetaObject(metaTags);return _augmentMetaObject(metaObject)}bundleMetaObject(metaTags);module.exports={getMetadata:getMetadata,refreshMetadata:refreshMetadata}})()},{"./error-handler/ErrorHandler":"yoExqy","@marcom/ac-array":2}],"@marcom/ac-analytics/metadata":[function(require,module,exports){module.exports=require("W+q+EN")},{}],nHWlaR:[function(require,module,exports){"use strict";var Tracker=require("./Tracker");module.exports=new Tracker("sCode");module.exports.Tracker=Tracker},{"./Tracker":"vBwaVP"}],"@marcom/ac-analytics/metricsTracker":[function(require,module,exports){module.exports=require("nHWlaR")},{}],"@marcom/ac-analytics/observer/Audio":[function(require,module,exports){module.exports=require("0uVCsT")},{}],"0uVCsT":[function(require,module,exports){"use strict";var proto;var ac_Object=require("@marcom/ac-object");var ac_DOMEvents=require("@marcom/ac-dom-events");var metricsTracker=require("../metricsTracker");var errorHandler=require("../error-handler/ErrorHandler");var defaultOptions={mediaEvents:["play","pause","ended"]};var moduleName="AudioAnalyticsObserver";function AudioAnalyticsObserver(audio,options){if(!audio){errorHandler.log(moduleName,null,audio+" is not a valid audio object")}defaultOptions.mediaEventCallbacks={ended:this._onEnded.bind(this)};this.options=ac_Object.defaults(defaultOptions,options||{});if(!Array.isArray(this.options.mediaEvents)){errorHandler.log(moduleName,null,this.options.mediaEvents+" is not a valid media events array")}if(errorHandler.exception){return}this.audio=audio;this.tracker=metricsTracker;this.defaultTracking=this.track.bind(this);this.attachEvents()}proto=AudioAnalyticsObserver.prototype;proto.attachEvents=function(){var options=this.options;var customCallback;var mediaEventCallback;options.mediaEvents.forEach(function(mediaEvent){customCallback=options.mediaEventCallbacks[mediaEvent];mediaEventCallback=typeof customCallback==="function"?customCallback:this.defaultTracking;this.addListener(mediaEvent,mediaEventCallback)}.bind(this))};proto.detachEvents=function(){var options=this.options;var customCallback;var mediaEventCallback;options.mediaEvents.forEach(function(mediaEvent){customCallback=options.mediaEventCallbacks[mediaEvent];mediaEventCallback=typeof customCallback==="function"?customCallback:this.defaultTracking;this.removeListener(mediaEvent,mediaEventCallback)}.bind(this))};proto.addListener=function(eventName,callback){ac_DOMEvents.addEventListener(this.audio,eventName,callback)};proto.removeListener=function(eventName,callback){ac_DOMEvents.removeEventListener(this.audio,eventName,callback)};proto._onEnded=function(e){this.ended=true;this.track(e)};proto.track=function(e){var data={};data.ended=this.ended;this.tracker.track({type:"audio",event:e,data:data,options:this.options})};proto.destroy=function(){this.detachEvents();this.options=null;this.tracker=null;this.audio=null;this.defaultTracking=null};module.exports=AudioAnalyticsObserver},{"../error-handler/ErrorHandler":"yoExqy","../metricsTracker":"nHWlaR","@marcom/ac-dom-events":13,"@marcom/ac-object":122}],smIHK0:[function(require,module,exports){"use strict";var proto;var ac_DOMTraversal=require("@marcom/ac-dom-traversal");var ac_DOMNodes=require("@marcom/ac-dom-nodes");var ac_Object=require("@marcom/ac-object");var ac_Feature=require("@marcom/ac-feature");var ac_DOMEvents=require("@marcom/ac-dom-events");var metricsTracker=require("../metricsTracker");var errorHandler=require("../error-handler/ErrorHandler");var TouchController=require("../controller/Touch");var EventEmitter=require("ac-event-emitter").EventEmitter;var defaultOptions={dataAttribute:"analytics-click",titleDataAttribute:"analytics-title",autoEnable:true};var moduleName="ClickAnalyticsObserver";function ClickAnalyticsObserver(options){if(errorHandler.exception){return}this.options=ac_Object.defaults(defaultOptions,options||{});this.tracker=metricsTracker;this.isEnabled=false;this._boundOnInteraction=this._onInteraction.bind(this);this._touchGesture=[];this._elements=null;if(this.options.autoEnable===true){this.enable()}}proto=ClickAnalyticsObserver.prototype=ac_Object.create(EventEmitter.prototype);proto.enable=function(){if(!this.isEnabled){this.addListener();this.isEnabled=true;this.trigger("enabled")}};proto.addListener=function(){var element=document.body;if(!ac_Feature.touchAvailable()){ac_DOMEvents.addEventListener(element,"mouseup",this._boundOnInteraction)}else{this._elements=ac_DOMTraversal.querySelectorAll("*[data-"+this.options.dataAttribute+"]");this._elements.forEach(function(element,i){this._touchGesture[i]=new TouchController(element,this._boundOnInteraction)}.bind(this))}};proto.removeListener=function(){var element=document.body;ac_DOMEvents.removeEventListener(element,"mouseup",this._boundOnInteraction);if(this._touchGesture.length>0){this._touchGesture.forEach(function(touchgesture){touchgesture.destroy()})}};proto._onInteraction=function(e){var targetEl=ac_DOMEvents.target(e);var linkAncestor;if(!targetEl.getAttribute("data-"+this.options.dataAttribute)){linkAncestor=ac_DOMTraversal.ancestor(targetEl,"["+this.options.dataAttribute+"]");if(linkAncestor){targetEl=linkAncestor}}if(targetEl.getAttribute("data-"+this.options.dataAttribute)){this.track(e,targetEl)}};proto.track=function(e,targetEl){var data={};if(!ac_DOMNodes.isElement(targetEl)){errorHandler.log(moduleName,"track",targetEl+" is not a valid DOM element")}if(errorHandler.exception){return}data.targetEl=targetEl;this.tracker.track({type:"click",event:e,data:data,options:this.options})};proto.destroy=function(){this.removeListener();this.options=null;this.tracker=null;this.isEnabled=null;this._boundOnInteraction=null;this._touchGesture=[];this._elements=null};module.exports=ClickAnalyticsObserver},{"../controller/Touch":"FmX+Kz","../error-handler/ErrorHandler":"yoExqy","../metricsTracker":"nHWlaR","@marcom/ac-dom-events":13,"@marcom/ac-dom-nodes":37,"@marcom/ac-dom-traversal":55,"@marcom/ac-feature":84,"@marcom/ac-object":122,"ac-event-emitter":270}],"@marcom/ac-analytics/observer/Click":[function(require,module,exports){module.exports=require("smIHK0")},{}],FP42yW:[function(require,module,exports){"use strict";var proto;var ac_Object=require("@marcom/ac-object");var errorHandler=require("../error-handler/ErrorHandler");var metricsTracker=require("../metricsTracker");var defaultOptions={interactionEvents:[],interactionEventCallbacks:{}};var moduleName="EventAnalyticsObserver";function EventAnalyticsObserver(targetObj,options){if(!targetObj||typeof targetObj!=="object"||typeof targetObj.on!=="function"||typeof targetObj.off!=="function"){errorHandler.log(moduleName,null,targetObj+" does not appear to be a valid EventEmitter or DOMEmitter")}this.options=ac_Object.defaults(defaultOptions,options||{});if(!Array.isArray(this.options.interactionEvents)){errorHandler.log(moduleName,null,this.options.interactionEvents+" is not an array")}if(errorHandler.exception){return}this.tracker=metricsTracker;this.targetObj=targetObj;this._callbacks={};this.attachEvents()}proto=EventAnalyticsObserver.prototype;proto.attachEvents=function(){var options=this.options;var interactionEventCallback;var instanceCallbackName;options.interactionEvents.forEach(function(interactionEvent){interactionEventCallback=options.interactionEventCallbacks[interactionEvent];interactionEventCallback=typeof interactionEventCallback==="function"?interactionEventCallback:this.track.bind(this);this._callbacks[interactionEvent]=interactionEventCallback;this.addListener(interactionEvent,interactionEventCallback)},this)};proto.detachEvents=function(){var options=this.options;var instanceCallbackName;Object.keys(this._callbacks).forEach(function(callbackName){this.removeListener(callbackName,this._callbacks[callbackName])},this)};proto.addListener=function(eventType,callback){this.targetObj.on(eventType,callback)};proto.removeListener=function(eventType,callback){this.targetObj.off(eventType,callback)};proto.track=function(data){this.tracker.track({type:"event",data:data,options:this.options})};proto.destroy=function(){this.detachEvents();this.options=null;this.tracker=null;this.targetObj=null;this._callbacks=null};module.exports=EventAnalyticsObserver},{"../error-handler/ErrorHandler":"yoExqy","../metricsTracker":"nHWlaR","@marcom/ac-object":122}],"@marcom/ac-analytics/observer/Event":[function(require,module,exports){module.exports=require("FP42yW")},{}],G1nVnI:[function(require,module,exports){"use strict";var proto;var ac_Object=require("@marcom/ac-object");var ac_DOMEvents=require("@marcom/ac-dom-events");var metricsTracker=require("../metricsTracker");var errorHandler=require("../error-handler/ErrorHandler");var defaultOptions={async:false};function ExitAnalyticsObserver(options){if(errorHandler.exception){return}this.options=ac_Object.defaults(defaultOptions,options||{});this.tracker=metricsTracker;this._boundOnBeforeUnload=this._onBeforeUnload.bind(this);this.addExitListener()}proto=ExitAnalyticsObserver.prototype;proto.addExitListener=function(){if("onbeforeunload"in window){ac_DOMEvents.addEventListener(window,"beforeunload",this._boundOnBeforeUnload)}};proto.removeExitListener=function(){if("onbeforeunload"in window){ac_DOMEvents.removeEventListener(window,"beforeunload",this._boundOnBeforeUnload)}};proto._onBeforeUnload=function(e){var data={};data.exitTimeStamp=e.timeStamp;this.tracker.track({type:"exit",event:e,data:data,options:this.options})};proto.destroy=function(){this.removeExitListener();this.options=null;this.tracker=null;this._boundOnBeforeUnload=null};module.exports=ExitAnalyticsObserver},{"../error-handler/ErrorHandler":"yoExqy","../metricsTracker":"nHWlaR","@marcom/ac-dom-events":13,"@marcom/ac-object":122}],"@marcom/ac-analytics/observer/Exit":[function(require,module,exports){module.exports=require("G1nVnI")},{}],"7OkBs0":[function(require,module,exports){"use strict";var proto;var ac_Object=require("@marcom/ac-object");var metricsTracker=require("../metricsTracker");var metadata=require("../metadata").getMetadata();var errorHandler=require("../error-handler/ErrorHandler");var defaultOptions={trackAutoRotate:false,beforeUpdateEvent:"willShow",afterUpdateEvent:"didShow"};var moduleName="GalleryAnalyticsObserver";function GalleryAnalyticsObserver(gallery,options){if(!gallery||typeof gallery!=="object"){errorHandler.log(moduleName,null,gallery+" is not an object")}if(errorHandler.exception){return}this.options=ac_Object.defaults(defaultOptions,options||{});this.gallery=gallery;this.tracker=metricsTracker;this.trackedInteractionTypes=[];this.outgoingSlideInteractionType="auto";this.incomingSlideTimestamp=metadata.initialTimeStamp;this._onUpdate=this._onUpdate.bind(this);this._onComplete=this.track.bind(this);this.addListener()}proto=GalleryAnalyticsObserver.prototype;proto.addListener=function(){if(this.options.beforeUpdateEvent){this.gallery.on(this.options.beforeUpdateEvent,this._onUpdate)}if(this.options.afterUpdateEvent){this.gallery.on(this.options.afterUpdateEvent,this._onComplete)}};proto.removeListener=function(){if(this.options.beforeUpdateEvent){this.gallery.off(this.options.beforeUpdateEvent,this._onUpdate)}if(this.options.afterUpdateEvent){this.gallery.off(this.options.afterUpdateEvent,this._onComplete)}};proto._createInteractionEvent=function(evt){var interactionEvent=evt.interactionEvent.originalEvent||evt.interactionEvent;if(interactionEvent){return interactionEvent={type:interactionEvent.type,target:interactionEvent.target,srcElement:interactionEvent.srcElement}}return null};proto._onUpdate=function(d){var interactionEvent;this.interactionEvent=null;if(d.interactionEvent){this.interactionEvent=this._createInteractionEvent(d)}};proto._getSlideId=function(slide){var slideId="";var length=0;if(slide&&Array.isArray(slide)){length=slide.length;for(var i=0;i<length;i++){if(typeof slide[i].getElementId==="function"){slideId+=slide[i].getElementId()+"-"}}}return slideId.slice(0,slideId.length-1)};proto.track=function(d){if(this.options.trackAutoRotate===false){if(!d.interactionEvent||d.interactionEvent.gallery&&d.interactionEvent.gallery===this.gallery){return}}var data=ac_Object.clone(d);data.interactionEvent=this.interactionEvent||this._createInteractionEvent(d);if(!this.options.galleryName){errorHandler.log(moduleName,"track",this.options.galleryName+" is not a valid gallery name")}if(errorHandler.exception){return}if(data.incoming&&typeof data.incoming.id!=="string"){data.incoming.id=this._getSlideId(data.incoming)}if(data.outgoing&&typeof data.outgoing.id!=="string"){data.outgoing.id=this._getSlideId(data.outgoing)}this.outgoingSlideTimestamp=this.incomingSlideTimestamp;this.incomingSlideTimestamp=Date.now();data.incomingSlideTimestamp=this.incomingSlideTimestamp;data.outgoingSlideTimestamp=this.outgoingSlideTimestamp;this.tracker.track({type:"gallery",data:data,observer:this,options:this.options})};proto.destroy=function(){if(!this.gallery){errorHandler.log(moduleName,"destroy",this.gallery+" is not an object")}if(errorHandler.exception){return}this.removeListener();this.options=null;this.tracker=null;this.gallery=null;this.trackedInteractionTypes=null;this.interactionEvent=null};module.exports=GalleryAnalyticsObserver},{"../error-handler/ErrorHandler":"yoExqy","../metadata":"W+q+EN","../metricsTracker":"nHWlaR","@marcom/ac-object":122}],"@marcom/ac-analytics/observer/Gallery":[function(require,module,exports){module.exports=require("7OkBs0")},{}],csLHIR:[function(require,module,exports){"use strict";var ac_DOMTraversal=require("@marcom/ac-dom-traversal");var ac_Object=require("@marcom/ac-object");var ac_DOMEvents=require("@marcom/ac-dom-events");var metricsTracker=require("../metricsTracker");var errorHandler=require("../error-handler/ErrorHandler");var EventEmitter=require("ac-event-emitter").EventEmitter;var proto;var defaultOptions={dataAttribute:"analytics-link",titleDataAttribute:"analytics-title",silent:true,autoEnable:true};function LinkAnalyticsObserver(options){if(errorHandler.exception){return}this.options=ac_Object.defaults(defaultOptions,options||{});this.tracker=metricsTracker;this.isEnabled=false;this.defaultTracking=this.track.bind(this);if(this.options.autoEnable===true){this.enable()}}proto=LinkAnalyticsObserver.prototype=ac_Object.create(EventEmitter.prototype);proto.enable=function(){if(!this.isEnabled){this.addListener();this.isEnabled=true;this.trigger("enabled")}};proto.addListener=function(){var element=document.body;ac_DOMEvents.addEventListener(element,"mouseup",this.defaultTracking)};proto.removeListener=function(){var element=document.body;ac_DOMEvents.removeEventListener(element,"mouseup",this.defaultTracking)};proto.track=function(e){var data={};var targetEl;var linkAncestor;var element=ac_DOMEvents.target(e);if(element.nodeName.toLowerCase()==="a"){targetEl=element}if(!targetEl){linkAncestor=ac_DOMTraversal.ancestor(element,"a");if(linkAncestor){targetEl=linkAncestor}}if(targetEl){data.targetEl=targetEl;this.tracker.track({type:"link",event:e,data:data,options:this.options})}};proto.destroy=function(){this.removeListener();this.options=null;this.tracker=null;this.isEnabled=null;this.defaultTracking=null};module.exports=LinkAnalyticsObserver},{"../error-handler/ErrorHandler":"yoExqy","../metricsTracker":"nHWlaR","@marcom/ac-dom-events":13,"@marcom/ac-dom-traversal":55,"@marcom/ac-object":122,"ac-event-emitter":270}],"@marcom/ac-analytics/observer/Link":[function(require,module,exports){module.exports=require("csLHIR")},{}],"ZDCq+L":[function(require,module,exports){"use strict";var proto;var ac_Object=require("@marcom/ac-object");var metricsTracker=require("../metricsTracker");var errorHandler=require("../error-handler/ErrorHandler");var defaultOptions={interactionEvents:["open","close","reopen"]};var moduleName="OverlayAnalyticsObserver";function OverlayAnalyticsObserver(overlay,options){if(!overlay||typeof overlay!=="object"||typeof overlay.on!=="function"||typeof overlay.off!=="function"){errorHandler.log(moduleName,null,overlay+" is not an object")}defaultOptions.interactionEventCallbacks={open:this._onOpen.bind(this),close:this._onClose.bind(this),reopen:this._onReopen.bind(this)};this.options=ac_Object.defaults(defaultOptions,options||{});if(!Array.isArray(this.options.interactionEvents)){errorHandler.log(moduleName,null,this.options.interactionEvents+" is not a valid interaction events array")}if(errorHandler.exception){return}this.overlay=overlay;this.tracker=metricsTracker;this.active=false;this.defaultTracking=this.track.bind(this);this.attachEvents()}proto=OverlayAnalyticsObserver.prototype;proto.attachEvents=function(){var options=this.options;var customCallback;var interactionEventCallback;options.interactionEvents.forEach(function(interactionEvent){customCallback=options.interactionEventCallbacks[interactionEvent];interactionEventCallback=typeof customCallback==="function"?customCallback:this.defaultTracking;this.addListener(interactionEvent,interactionEventCallback)}.bind(this))};proto.detachEvents=function(){var options=this.options;var customCallback;var interactionEventCallback;options.interactionEvents.forEach(function(interactionEvent){customCallback=options.interactionEventCallbacks[interactionEvent];interactionEventCallback=typeof customCallback==="function"?customCallback:this.defaultTracking;this.removeListener(interactionEvent,interactionEventCallback)}.bind(this))};proto.addListener=function(eventName,callback){this.overlay.on(eventName,callback)};proto.removeListener=function(eventName,callback){this.overlay.off(eventName,callback)};proto._onOpen=function(e){this.active=true;this.track(e)};proto._onReopen=function(e){this.active=true;this.track(e)};proto._onClose=function(e){this.active=false;this.track(e)};proto.track=function(e){var data=this.options.data||{};data.active=this.active;this.tracker.track({type:"overlay",event:e,data:data,options:this.options})};proto.destroy=function(){this.detachEvents();this.options=null;this.tracker=null;this.overlay=null;this.active=null;this.defaultTracking=null};module.exports=OverlayAnalyticsObserver},{"../error-handler/ErrorHandler":"yoExqy","../metricsTracker":"nHWlaR","@marcom/ac-object":122}],"@marcom/ac-analytics/observer/Overlay":[function(require,module,exports){module.exports=require("ZDCq+L")},{}],"@marcom/ac-analytics/observer/Page":[function(require,module,exports){module.exports=require("2ltmNh")},{}],"2ltmNh":[function(require,module,exports){"use strict";var proto;var ac_Object=require("@marcom/ac-object");var metricsTracker=require("../metricsTracker");var errorHandler=require("../error-handler/ErrorHandler");var EventEmitter=require("ac-event-emitter").EventEmitter;var defaultOptions={autoEnable:true};function PageAnalyticsObserver(options){if(errorHandler.exception){return}this.options=ac_Object.defaults(defaultOptions,options||{});this.tracker=metricsTracker;this.data=this.options.data||{};this.isEnabled=false;if(this.options.autoEnable===true){this.enable()}}proto=PageAnalyticsObserver.prototype=ac_Object.create(EventEmitter.prototype);proto.enable=function(){if(!this.isEnabled){this.track();this.isEnabled=true;this.trigger("enabled")}};proto.track=function(e){var data=this.options.data||{};this.tracker.track({type:"page",event:e,data:data,options:this.options})};proto.destroy=function(){this.options=null;this.tracker=null;this.data=null;this.isEnabled=null};module.exports=PageAnalyticsObserver},{"../error-handler/ErrorHandler":"yoExqy","../metricsTracker":"nHWlaR","@marcom/ac-object":122,"ac-event-emitter":270}],"@marcom/ac-analytics/observer/Section":[function(require,module,exports){module.exports=require("ft2q1p")},{}],ft2q1p:[function(require,module,exports){"use strict";var proto;var ac_Object=require("@marcom/ac-object");var ac_DOMTraversal=require("@marcom/ac-dom-traversal");var ElementEngagement=require("ac-element-engagement").ElementEngagement;var metricsTracker=require("../metricsTracker");var errorHandler=require("../error-handler/ErrorHandler");var dataAttr=require("../data-attr/helper");var EventEmitter=require("ac-event-emitter").EventEmitter;var defaultOptions={dataAttribute:"analytics-section-engagement",autoEnable:true};var trackedElementDefaults={stopOnEngaged:false,timeToEngage:1e3};function SectionAnalyticsObserver(options){if(errorHandler.exception){return}this.options=ac_Object.defaults(defaultOptions,options||{});this.tracker=metricsTracker;this.elementEngagement=new ElementEngagement;this.isEnabled=false;if(this.options.autoEnable===true){this.enable()}}proto=SectionAnalyticsObserver.prototype=ac_Object.create(EventEmitter.prototype);proto.enable=function(){if(!this.isEnabled){this._loadSections();this.isEnabled=true;this.trigger("enabled")}};proto._loadSections=function(){this.sections=ac_DOMTraversal.querySelectorAll("[data-"+this.options.dataAttribute+"]");this.sections.forEach(function(section){var options;var dataString=section.getAttribute("data-"+this.options.dataAttribute);options=dataAttr.dataStringToObject(dataString);options=this._castDataAttributeOptions(options);options=ac_Object.defaults(trackedElementDefaults,options);this.elementEngagement.addElement(section,options)},this);if(this.sections&&this.sections.length>0){this._setPosition();this.options.elements=this.sections;this._bindEvents();this.elementEngagement.start()}};proto._setPosition=function(){var i;var totalSections=this.sections.length;for(i=0;i<totalSections;i+=1){this.sections[i].position=i+1}};proto._castDataAttributeOptions=function(options){var inViewThreshold;var timeToEngage;var trackOnce;options=ac_Object.clone(options);Object.keys(options).forEach(function(key){var value=options[key];var castValue;if(value==="false"){castValue=false}else if(value==="true"){castValue=true}else if(!isNaN(parseFloat(value))){castValue=parseFloat(value)}else{castValue=value}options[key]=castValue});return options};proto._bindEvents=function(){this.elementEngagement.on("thresholdexit",this._onThresholdExit,this);this.elementEngagement.windowDelegate.on("scroll",this._onScroll,this)};proto._unbindEvents=function(){this.elementEngagement.off("thresholdexit",this._onThresholdExit,this);this.elementEngagement.windowDelegate.off("scroll",this._onScroll,this)};proto._onThresholdExit=function(trackedElement){if(trackedElement.engaged){var data={element:trackedElement};this.elementEngagement.stop(trackedElement);this.track(data)}};proto._onScroll=function(){var windowDelegate=this.elementEngagement.windowDelegate;if(windowDelegate.scrollY()>=windowDelegate.maxScrollY()){this._pageEnd()}};proto._pageEnd=function(){var len=this.elementEngagement.elements.length;var sectionsInView=[];this.elementEngagement.elements.forEach(function(element){if(element.inView&&element.inThreshold&&element.tracking){sectionsInView.push(element)}});sectionsInView.forEach(function(section){if(section.engaged){this._forceTracking(section)}else{if(section.has("engaged")===false){section.once("engaged",this._forceTracking,this)}}},this)};proto._forceTracking=function(trackedElement){trackedElement.thresholdExitTime=Date.now();this.elementEngagement.stop(trackedElement);this.track({element:trackedElement})};proto.track=function(data){this.tracker.track({type:"section",data:data,options:this.options})};proto.destroy=function(){if(this.elementEngagement){this.elementEngagement.stop()}this._unbindEvents();this.options=null;this.elementEngagement=null;this.tracker=null;this.sections=null};module.exports=SectionAnalyticsObserver},{"../data-attr/helper":"DckvZc","../error-handler/ErrorHandler":"yoExqy","../metricsTracker":"nHWlaR","@marcom/ac-dom-traversal":55,"@marcom/ac-object":122,"ac-element-engagement":268,"ac-event-emitter":270}],"@marcom/ac-analytics/observer/Video":[function(require,module,exports){module.exports=require("EVr9gK")},{}],EVr9gK:[function(require,module,exports){"use strict";var proto;var ac_Object=require("@marcom/ac-object");var errorHandler=require("../error-handler/ErrorHandler");var metricsTracker=require("../metricsTracker");var ac_DOMNodes_isElement=require("@marcom/ac-dom-nodes/isElement");var defaultOptions={mediaEvents:[],mediaEventCallbacks:{},mediaEventPrefix:""};var moduleName="VideoAnalyticsObserver";var dataAttributeAnalyticsId="data-analytics-id";function VideoAnalyticsObserver(video,options){var prefix;if(!video||typeof video!=="object"){errorHandler.log(moduleName,null,video+" is not an object")}this.options=ac_Object.defaults(defaultOptions,options||{});if(!Array.isArray(this.options.mediaEvents)){errorHandler.log(moduleName,null,this.options.mediaEvents+" is not a valid media events array")}if(errorHandler.exception){return}this.tracker=metricsTracker;this.video=video;this.playCount=0;this.captionsEnableCount=0;this._callbacks={};prefix=this.options.mediaEventPrefix;this._events={play:prefix+"play",ended:prefix+"ended",timeupdate:prefix+"timeupdate",scrubStart:prefix+"scrub-start",scrubEnd:prefix+"scrub-end",captionsEnabled:prefix+"captions-enabled"};this.attachEvents()}proto=VideoAnalyticsObserver.prototype;proto.attachEvents=function(){var options=this.options;var mediaEventCallback;options.mediaEvents.forEach(function(mediaEvent){mediaEventCallback=options.mediaEventCallbacks[mediaEvent];mediaEventCallback=typeof mediaEventCallback==="function"?mediaEventCallback:this._defaultTracking.bind(this,mediaEvent);this._callbacks[mediaEvent]=mediaEventCallback;this.addListener(options.mediaEventPrefix+mediaEvent,this._callbacks[mediaEvent])}.bind(this));this._bindPlay();this.video.on(this._events.ended,this._onEnded,this);this.video.on(this._events.captionsEnabled,this._onCaptionsEnabled,this);this.video.on(this._events.timeupdate,this._onTimeupdate,this)};proto.detachEvents=function(){var options=this.options;options.mediaEvents.forEach(function(mediaEvent){this.removeListener(options.mediaEventPrefix+mediaEvent,this._callbacks[mediaEvent])}.bind(this))};proto._onPlay=function(e){var data=this._bundleTrackingData("play",e);data.playCount=this.playCount;this.track(data);this.playCount+=1;this._playBound=false};proto._onTimeupdate=function(e){if(e.currentTime===0&&!this.ended){if(this.playCount>0){this._bindPlay()}}};proto._bindPlay=function(){if(!this._playBound){this.video.once(this._events.play,this._onPlay,this);this._playBound=true}};proto._onCaptionsEnabled=function(e){var data=this._bundleTrackingData("captions-enabled",e);data.captionsEnableCount=this.captionsEnableCount;this.track(data);this.captionsEnableCount+=1};proto._onEnded=function(e){var data=this._bundleTrackingData("ended",e);this.ended=true;this.track(data);this._bindPlay()};proto.addListener=function(eventType,callback){this.video.on(eventType,callback)};proto.removeListener=function(eventType,callback){this.video.off(eventType,callback)};proto._getCommonVideoData=function(){var data={};var videoIdFromDataAttr;data.targetEl=this.video.el||this.video.element||null;videoIdFromDataAttr=data.targetEl&&ac_DOMNodes_isElement(data.targetEl)?data.targetEl.getAttribute(dataAttributeAnalyticsId):"";data.videoId=videoIdFromDataAttr?videoIdFromDataAttr:this.video.targetId;data.ended=this.ended;return data};proto._bundleTrackingData=function(eventType,e){var commonTrackingData=this._getCommonVideoData();commonTrackingData.eventType=eventType;return ac_Object.extend(ac_Object.clone(e),commonTrackingData)};proto._defaultTracking=function(eventType,e){var data=this._bundleTrackingData(eventType,e);this.track(data)};proto.track=function(data){this.tracker.track({type:"video",data:data,options:this.options})};proto.destroy=function(){this.detachEvents();this.options=null;this.tracker=null;this.video=null;this.playCount=null;this.captionsEnableCount=null;this._events=null;this._callbacks=null};module.exports=VideoAnalyticsObserver},{"../error-handler/ErrorHandler":"yoExqy","../metricsTracker":"nHWlaR","@marcom/ac-dom-nodes/isElement":49,"@marcom/ac-object":122}],"@marcom/ac-analytics/onDocumentReady":[function(require,module,exports){module.exports=require("s+JdTz")},{}],"s+JdTz":[function(require,module,exports){"use strict";var isLoaded=false;var ac_DOMEvents=require("@marcom/ac-dom-events");function onDocumentReady(func){function _documentReadyCallback(){if(document.readyState==="complete"){func();ac_DOMEvents.removeEventListener(document,"readystatechange",_documentReadyCallback)}}if(document.readyState==="complete"){func()}else{ac_DOMEvents.addEventListener(document,"readystatechange",_documentReadyCallback)}}module.exports=onDocumentReady},{"@marcom/ac-dom-events":13}],"@marcom/ac-analytics/plugins/plugins":[function(require,module,exports){module.exports=require("kyzDBL")},{}],kyzDBL:[function(require,module,exports){"use strict";module.exports={sCode:require("./s-code/sCode")}},{"./s-code/sCode":"2v3JQJ"}],"@marcom/ac-analytics/plugins/s-code/helpers/DOM":[function(require,module,exports){module.exports=require("M8C1F0")},{}],M8C1F0:[function(require,module,exports){(function(){"use strict";var ac_DOMNodes=require("@marcom/ac-dom-nodes");var errorHandler=require("../../../error-handler/ErrorHandler");var storeUrlPattern=require("../../../regexp/storeUrlPattern");var moduleName="sCodePluginHelper-DOM";function isIntraPageLink(element){var internalLink=true;if(ac_DOMNodes.isElement(element)&&element.href){var href=element.getAttribute("href");if(href.charAt(0)!=="#"&&href.indexOf("javascript:")===-1){internalLink=false}}return internalLink}function isStoreLink(url){if(typeof url!=="string"){errorHandler.log(moduleName,"isStoreLink",url+" is not a valid string")}if(errorHandler.exception){return}return storeUrlPattern.test(url)}function getLinkHref(targetEl){return targetEl.getAttribute("href")||""}module.exports={isIntraPageLink:isIntraPageLink,isStoreLink:isStoreLink,getLinkHref:getLinkHref}})()},{"../../../error-handler/ErrorHandler":"yoExqy","../../../regexp/storeUrlPattern":"rjjbV7","@marcom/ac-dom-nodes":37}],WZEdYN:[function(require,module,exports){(function(){"use strict";var errorHandler=require("../../../error-handler/ErrorHandler");var moduleName="sCodePluginFormatter";var separator=require("./separator");function productName(value){return lowerCaseString(value)}function channel(value,locale){var prefix="www.";var customCountryCodeFormat={"fr-ca":"ca.fr"};prefix+=customCountryCodeFormat[locale]?customCountryCodeFormat[locale]:legacyCountryCode(locale);return prefix+"."+value}function pageName(originalPageName,locale){var suffix="";var customCountryCodes={"fr-ca":"ca-fr"};var customCode=customCountryCodes[locale];originalPageName=originalPageName||"";if(typeof locale==="string"){locale=locale.toLowerCase();suffix=customCode?customCode:legacyCountryCode(locale);suffix=_decorateCountryCode(suffix)}return lowerCaseString(originalPageName)+suffix}function eventString(prefix,suffix){prefix=prefix||"";suffix=suffix||"";return!!prefix?prefix+"@"+suffix:suffix}function countryCodeFilter(locale){var translated;var customCountryFilter={"fr-ca":"ca/fr","en-419":"lae","es-419":"la","en-ap":"asia"};var reversedLocales=["fr-be","nl-be","fr-ch","de-ch"];if(customCountryFilter[locale]){translated=customCountryFilter[locale]}else if(reversedLocales.indexOf(locale)>=0){var localeStr=_transformLocale(locale);translated=localeStr.reverse().join("-")}else{translated=_getCountryCodeFromLocale(locale)}return translated}function legacyCountryCode(locale){var legacy;var customCountryCode={"fr-be":"bf","nl-be":"bl","fr-ch":"cr","de-ch":"ce","en-419":"la","es-419":"la","en-gb":"uk"};if(customCountryCode[locale]){legacy=customCountryCode[locale]}else{legacy=_getCountryCodeFromLocale(locale)}return legacy}function cleanProps(properties){var cleanProperties={};if(typeof properties==="object"){for(var key in properties){cleanProperties[key]=_sanitize(properties[key])}}return cleanProperties}function stringReplacer(str,target,replaceWith){var transformedStr=str;target=typeof target==="string"?target:"";replaceWith=typeof replaceWith==="string"?replaceWith:"";if(typeof transformedStr==="string"){transformedStr=transformedStr.replace(new RegExp(target,"gi"),replaceWith)}return transformedStr}function getRegionAncestry(data){var regionAncestry="";if(Array.isArray(data.regionAncestry)){data.regionAncestry.forEach(function(region){regionAncestry+=region.name+separator.pipe})}return regionAncestry}function lowerCaseString(str){if(typeof str==="string"){str=str.toLowerCase()}return str}function _getCountryCodeFromLocale(locale){if(!locale){errorHandler.log(moduleName,"_getCountryCodeFromLocale","locale should be a valid string")}if(errorHandler.exception){return}var temp=_transformLocale(locale);var country;if(temp.length>1){country=lowerCaseString(temp[1])}return country}function _decorateCountryCode(countryCode){if(!countryCode){errorHandler.log(moduleName,"_decorateCountryCode","countryCode should be a valid string")}if(errorHandler.exception){return}return" ("+lowerCaseString(countryCode)+")"}var whitelist=/[\ì\î\ë\í]/g;function _sanitize(value){if(typeof value==="string"){value=value.replace(whitelist,"")}return value}function _transformLocale(locale){return locale.split(/[-_]/)}module.exports={productName:productName,channel:channel,pageName:pageName,eventString:eventString,countryCodeFilter:countryCodeFilter,legacyCountryCode:legacyCountryCode,cleanProps:cleanProps,stringReplacer:stringReplacer,lowerCaseString:lowerCaseString,getRegionAncestry:getRegionAncestry}})()},{"../../../error-handler/ErrorHandler":"yoExqy","./separator":"9JEe2W"}],"@marcom/ac-analytics/plugins/s-code/helpers/formatter":[function(require,module,exports){module.exports=require("WZEdYN")},{}],DHq73b:[function(require,module,exports){(function(){"use strict";var errorHandler=require("../../../error-handler/ErrorHandler");var sProps={channel:"sChannel",campaign:"sCampaign",bucket:"sBucket",bucketProduct:"sBucketProduct",bucketStore:"sBucketStore"};var moduleName="sCodePluginMetadataHelper";function channel(topLevelMetadata){var value=topLevelMetadata[sProps.channel];if(!value){errorHandler.log(moduleName,"channel","analytics-s-channel metadata tag must exist")}if(errorHandler.exception){return}value=value.toLowerCase().split(" ").join(".");return value}function bucket(bucketIndex,topLevelMetadata){var bucketProp=sProps.bucket+bucketIndex;if(!topLevelMetadata[bucketProp]){errorHandler.log(moduleName,"bucket","analytics-s-bucket-"+bucketIndex+" metadata tag must exist")}if(errorHandler.exception){return}return topLevelMetadata[bucketProp]}function bucketProduct(bucketIndex,topLevelMetadata){var bucketProductProp=sProps.bucketProduct+bucketIndex;var bucketProd=topLevelMetadata[bucketProductProp];return bucketProd}function bucketStore(topLevelMetadata){return topLevelMetadata[sProps.bucketStore]||""}function campaign(topLevelMetadata){return topLevelMetadata[sProps.campaign]||""}function platform(){var value="other";var userAgent=navigator.userAgent;var patterns={"mobile other":"/(kindle|silk-accelerated|android|webos|rim tablet os|windows phone)/i",windows:/windows/i,"iphone/ipod touch":/(iphone|ipod)/i,ipad:/(ipad)/i,Mac:/Mac OS X/i};for(var key in patterns){if(userAgent.match(patterns[key])){value=key;break}}return value}module.exports={channel:channel,bucket:bucket,bucketProduct:bucketProduct,bucketStore:bucketStore,platform:platform,campaign:campaign}})()},{"../../../error-handler/ErrorHandler":"yoExqy"}],"@marcom/ac-analytics/plugins/s-code/helpers/metadata":[function(require,module,exports){module.exports=require("DHq73b")},{}],"@marcom/ac-analytics/plugins/s-code/helpers/separator":[function(require,module,exports){module.exports=require("9JEe2W")},{}],"9JEe2W":[function(require,module,exports){(function(){"use strict";module.exports={pipe:" | ",hyphen:" - ",colon:": "}})()},{}],fEHkLg:[function(require,module,exports){(function(){"use strict";var STORAGE_KEY=require("../../../storageKey").appleMetrics;var ac_Storage=require("ac-storage");var ac_feature=require("@marcom/ac-feature");var separator=require("./separator");var DOMHelper=require("./DOM");function setNavigationSrc(data,metadata,linkUrl){var navSrcObj={};var navSrcStr;var regionAncestry=_getRegionAncestry(data);var label=data.targetEl.getAttribute("data-label")||"";if(data.region){navSrcObj.region=data.region}navSrcObj.pageName=metadata.pageName||"";navSrcObj.linkText=data.linkText||"";navSrcObj.eVar1=navSrcObj.pageName+separator.pipe+regionAncestry+navSrcObj.linkText;if(data.region==="search"){navSrcObj.prop7="www"+separator.colon+label;navSrcObj.eVar2=label;navSrcObj.events="event8"}navSrcStr=JSON.stringify(navSrcObj);if(DOMHelper.isStoreLink(linkUrl)===false){ac_Storage.setItem(STORAGE_KEY,navSrcStr)}else{_navPathInfoHandOff(navSrcStr)}}function _getRegionAncestry(data){var regionAncestry="";if(Array.isArray(data.regionAncestry)){data.regionAncestry.forEach(function(region){regionAncestry+=region.name+separator.pipe})}return regionAncestry}function _navPathInfoHandOff(navSrcStr){if(ac_feature.localStorageAvailable()===true){window.localStorage.setItem(STORAGE_KEY,navSrcStr)}}module.exports=setNavigationSrc})()},{"../../../storageKey":"ntdzZF","./DOM":"M8C1F0","./separator":"9JEe2W","@marcom/ac-feature":84,"ac-storage":320}],"@marcom/ac-analytics/plugins/s-code/helpers/setNavigationSrc":[function(require,module,exports){module.exports=require("fEHkLg")},{}],AtGs6E:[function(require,module,exports){(function(){"use strict";var DOMHelper=require("./DOM");function async(data){var isIntraPageLink=DOMHelper.isIntraPageLink(data.targetEl);var isAsync=true;if(!isIntraPageLink){isAsync=false}return isAsync}module.exports={async:async}})()},{"./DOM":"M8C1F0"}],"@marcom/ac-analytics/plugins/s-code/helpers/setOptions":[function(require,module,exports){module.exports=require("AtGs6E")},{}],"@marcom/ac-analytics/plugins/s-code/helpers/templateVar":[function(require,module,exports){module.exports=require("2ZvpEb")},{}],"2ZvpEb":[function(require,module,exports){(function(){"use strict";var formatter=require("./formatter");function set(metadata,originalMetaData){return[{name:"{PAGE_NAME}",value:metadata.pageName},{name:"{PAGE_NAME_NO_LOCALE}",value:originalMetaData.pageName},{name:"{CHANNEL}",value:metadata.channel},{name:"{CAMPAIGN}",value:metadata.campaign},{name:"{COUNTRY_CODE}",value:metadata.legacyCountryCode},{name:"{COUNTRY_CODE_FILTER}",value:metadata.countryCodeFilter},{name:"{PRODUCT_NAME}",value:metadata.productName},{name:"{PLATFORM}",value:metadata.platform}]}function translate(str,templateVarArr){if(typeof str==="string"){templateVarArr.forEach(function(templateVar){if(templateVar.name&&typeof templateVar.name==="string"){if(str.toLowerCase().indexOf(templateVar.name.toLowerCase())>-1){str=formatter.stringReplacer(str,templateVar.name,templateVar.value)}}})}return str}module.exports={set:set,translate:translate}})()},{"./formatter":"WZEdYN"}],"@marcom/ac-analytics/plugins/s-code/sCode":[function(require,module,exports){module.exports=require("2v3JQJ")},{}],"2v3JQJ":[function(require,module,exports){"use strict";var proto;var errorHandler=require("../../error-handler/ErrorHandler");var ac_Object=require("@marcom/ac-object");var ac_sCode=require("@marcom/ac-s-code");var topLevelMetadata=require("../../metadata");var formatter=require("./helpers/formatter");var metadataHelper=require("./helpers/metadata");var translator=require("./translator/translator");var submitMethods=require("./submit-methods/submitMethods");var templateVarHelper=require("./helpers/templateVar");var countryBucket=["us","au|ca|cn|de|es|fr|it|jp|uk","ap|at|bf|bl|br|ce|cr|dk|fi|hk|ie|in|kr|la|mx|nl|no|nz|pl|pt|ru|se|sg|th|tw|za"];var moduleName="SCodePlugin";function SCodePlugin(){if(errorHandler.exception){return}this._initializePlugin(topLevelMetadata.getMetadata())}proto=SCodePlugin.prototype;proto.reset=function(){var options={force:true};this.clearProps();this._initializePlugin(topLevelMetadata.refreshMetadata(),options)};proto._initializePlugin=function(topLevelMetadataObj,options){this.setPageMetadata(topLevelMetadataObj);this.setFormattedValues();this.setTemplateVars();this.formattedValues.channel=this._replaceTemplateVars(this.formattedValues.channel);this.initializeSCode(topLevelMetadataObj,options)};proto.initializeSCode=function(topLevelMetadataObj,options){options=options||{};options.bucket=this.getBucket(topLevelMetadataObj);options.channel=this.formattedValues.channel;options.pageName=this.formattedValues.pageName;options.linkInternalFilters=this.getLinkInternalFilters();ac_sCode.init(options)};proto.setPageMetadata=function(topLevelMetadataObj){this.pageMetadata=ac_Object.clone(topLevelMetadataObj);this.pageMetadata.platform=metadataHelper.platform();this.pageMetadata.campaign=metadataHelper.campaign(topLevelMetadataObj);this.pageMetadata.channel=metadataHelper.channel(topLevelMetadataObj);this.pageMetadata.pageName=formatter.lowerCaseString(this.pageMetadata.pageName);this.pageMetadata.locale=formatter.lowerCaseString(this.pageMetadata.locale)};proto.setFormattedValues=function(){this.formattedValues={pageName:formatter.pageName(this.pageMetadata.pageName,this.pageMetadata.locale),channel:formatter.channel(this.pageMetadata.channel,this.pageMetadata.locale),productName:formatter.productName(this.pageMetadata.productName),countryCodeFilter:formatter.countryCodeFilter(this.pageMetadata.locale),legacyCountryCode:formatter.legacyCountryCode(this.pageMetadata.locale),campaign:this.pageMetadata.campaign,platform:this.pageMetadata.platform}};proto.setTemplateVars=function(){this.templateVarArr=templateVarHelper.set(this.formattedValues,this.pageMetadata)};proto.clearProps=function(){var sCode=ac_sCode.getInstance();if(typeof sCode==="object"){sCode.prop6=sCode.g_prop6=sCode.pageURL=sCode.g_pageURL=sCode.g_channel=""}};proto.translate=function(request){if(!request||typeof request!=="object"){errorHandler.log(moduleName,"translate","Request param ("+request+") is not an object")}if(errorHandler.exception){return}request=translator.translate(request,this.formattedValues,this.pageMetadata);return request};proto.submit=function(translatedRequest){var options;var sCode=ac_sCode.getInstance();if(!translatedRequest||typeof translatedRequest!=="object"){errorHandler.log(moduleName,"submit","Request param ("+translatedRequest+") is not an object")}if(errorHandler.exception){return}if(!translatedRequest.type||typeof translatedRequest.type!=="string"){errorHandler.log(moduleName,"submit",'property "type" ('+translatedRequest.type+'") must be a string')}if(!window.s||typeof window.s!=="object"){errorHandler.log(moduleName,"submit","sCode ("+window.s+") is not an object")}if(errorHandler.exception){return}options=translatedRequest.options||{};this._setSCodeProps(translatedRequest);if(options.silent!==true){if(translatedRequest.submitMethod&&submitMethods[translatedRequest.submitMethod]){submitMethods[translatedRequest.submitMethod](translatedRequest,this.formattedValues,sCode)}}};proto.getLinkInternalFilters=function(){var value;if(this.formattedValues.countryCodeFilter!=="us"){value=this.formattedValues.countryCodeFilter}return value};proto._setSCodeProps=function(request){var properties=request.properties||{};var sCode=ac_sCode.getInstance();sCode.linkTrackEvents="";request.data.linkTrackVars=request.data.linkTrackVars||[];for(var key in properties){if(key==="events"){sCode.linkTrackEvents=properties[key]}if(key!=="title"){request.data.linkTrackVars.push(key);sCode[key]=properties[key]}}};proto.getBucket=function(topLevelMetadataObj){var countryBucketSize=countryBucket.length;var index=2;for(var i=0;i<countryBucketSize;i++){if(countryBucket[i].indexOf(this.formattedValues.legacyCountryCode)!==-1){index=i;break}}var bucketMetaTagValue=metadataHelper.bucket(index,topLevelMetadataObj);var bucket=this._replaceTemplateVars(bucketMetaTagValue);var bucketProduct=this._replaceTemplateVars(metadataHelper.bucketProduct(index,topLevelMetadataObj));var bucketStore=this._replaceTemplateVars(metadataHelper.bucketStore(topLevelMetadataObj));return bucket+(!!bucketProduct?","+bucketProduct:"")+(!!bucketStore?","+bucketStore:"")};proto._replaceTemplateVars=function(str){return templateVarHelper.translate(str,this.templateVarArr)};module.exports=SCodePlugin},{"../../error-handler/ErrorHandler":"yoExqy","../../metadata":"W+q+EN","./helpers/formatter":"WZEdYN","./helpers/metadata":"DHq73b","./helpers/templateVar":"2ZvpEb","./submit-methods/submitMethods":"1e2jY8","./translator/translator":"LJ68Kt","@marcom/ac-object":122,"@marcom/ac-s-code":151}],reNdTz:[function(require,module,exports){(function(){"use strict";function submit(request,metadata,sCode){var url=window.location.href;var title=request.properties.title||"";var src;var img1x1;if(typeof sCode==="object"){src=_getBasePath(url)+(metadata.countryCodeFilter!=="us"?metadata.countryCodeFilter:"")+"/b/ss/"+sCode.un+"/"+(sCode.mobile?"5.1":"1")+"/"+sCode.version+"/s0"+Date.now()+"?ndh=1&t="+_getTimestamp()+"&fid="+sCode.fid+"&g="+url+"&pageName="+metadata.pageName+"&cc="+sCode.currencyCode+"&c3="+title+"&h1="+sCode.channel+"&pe=lnk_e&pev2="+title+"&s="+sCode.resolution+"&c="+sCode.colorDepth+"&j="+sCode.javascriptVersion+"&v="+sCode.javaEnabled+"&k="+sCode.cookiesEnabled+"&bw="+sCode.browserWidth+"&bh="+sCode.browserHeight+"&p="+sCode.plugins+"&r="+sCode.eVar49;img1x1=document.createElement("img");img1x1.setAttribute("width","1");img1x1.setAttribute("height","1");img1x1.setAttribute("border","0");img1x1.src=src;return img1x1}}function _getBasePath(url){var protocol;var host;url=url.split("/");protocol=url[0];host=url[2];return protocol+"//"+host+"/"}function _getTimestamp(){var now=new Date;return now.getDate()+"/"+now.getMonth()+"/"+now.getFullYear()+" "+now.getHours()+":"+now.getMinutes()+":"+now.getSeconds()+" "+now.getDay()+" "+now.getTimezoneOffset()}module.exports=submit})()},{}],"@marcom/ac-analytics/plugins/s-code/submit-methods/manual":[function(require,module,exports){module.exports=require("reNdTz")},{}],"@marcom/ac-analytics/plugins/s-code/submit-methods/submitMethods":[function(require,module,exports){module.exports=require("1e2jY8")},{}],"1e2jY8":[function(require,module,exports){var t=require("./t");var tl=require("./tl");var manual=require("./manual");module.exports={t:t,tl:tl,manual:manual}},{"./manual":"reNdTz","./t":"Jo4tJj","./tl":"0Vhqq3"}],Jo4tJj:[function(require,module,exports){(function(){"use strict";function submit(request,metadata,sCode){if(typeof sCode==="object"&&typeof sCode.t==="function"){sCode.pageName=metadata.pageName;sCode.channel=metadata.channel;sCode.t()}}module.exports=submit})()},{}],"@marcom/ac-analytics/plugins/s-code/submit-methods/t":[function(require,module,exports){module.exports=require("Jo4tJj")},{}],"0Vhqq3":[function(require,module,exports){(function(){"use strict";var errorHandler=require("../../../error-handler/ErrorHandler");var moduleName="sCodePluginSubmitMethodtl";var DOMHelper=require("../helpers/DOM");function submit(request,metadata,sCode){var linkType;var targetEl;if(typeof sCode==="object"&&typeof sCode.tl==="function"){if(typeof request.data!=="object"){errorHandler.log(moduleName,"submit","Request param data ("+request.data+") is not an object")}if(typeof request.properties.title!=="string"){errorHandler.log(moduleName,"submit","Request param title ("+request.properties.title+") is not a string")}if(errorHandler.exception){return}sCode.linkTrackVars="eVar54,eVar49";if(request.data.linkTrackVars&&request.data.linkTrackVars.length>0){sCode.linkTrackVars+=","+request.data.linkTrackVars.join(",")}linkType=request.data.linkType||"o";targetEl=_targetEl(request.data.targetEl);sCode.forcedLinkTrackingTimeout=_forcedLinkTrackingTimeout(request);sCode.tl(targetEl,linkType,request.properties.title);_clearTrackingData(sCode)}}function _clearTrackingData(sCode){sCode.linkTrackVars="";sCode.linkTrackEvents=""}function _forcedLinkTrackingTimeout(request){var duration=0;var element=request.data.targetEl;var href;if(request.type&&request.type==="link"||request.type==="click"){if(_isOutgoingLink(element)===true){duration=500}}return duration}function _targetEl(element){var result=_isOutgoingLink(element);return result===true?element:true}function _isOutgoingLink(element){var isOutgoingLink=true;var isIntraPageLink=DOMHelper.isIntraPageLink(element);if(!element||isIntraPageLink===true){isOutgoingLink=false}return isOutgoingLink}module.exports=submit})()},{"../../../error-handler/ErrorHandler":"yoExqy","../helpers/DOM":"M8C1F0"}],"@marcom/ac-analytics/plugins/s-code/submit-methods/tl":[function(require,module,exports){module.exports=require("0Vhqq3")},{}],g4AmU0:[function(require,module,exports){(function(){"use strict";var formatter=require("../../helpers/formatter");function translate(request,metadata,originalMetaData){var translatedRequest=request;var data=translatedRequest.data;var interactionTypePrefix={play:"s",replay:"r",ended:"e",pause:"p"};var divider=" - ";var properties={};properties.prop13=formatter.eventString("a",interactionTypePrefix[data.interactionType])+divider+originalMetaData.pageName;properties.prop3=properties.title=formatter.eventString("a",interactionTypePrefix[data.interactionType])+divider+originalMetaData.pageName+divider+formatter.lowerCaseString(data.title);properties.prop4=data.audioSrc;translatedRequest.properties=properties;translatedRequest.submitMethod="tl";return translatedRequest}module.exports={translate:translate}})()},{"../../helpers/formatter":"WZEdYN"}],"@marcom/ac-analytics/plugins/s-code/translator/component/audio":[function(require,module,exports){module.exports=require("g4AmU0")},{}],hIhnjJ:[function(require,module,exports){(function(){"use strict";var setOptions=require("../../helpers/setOptions");var separator=require("../../helpers/separator");var formatter=require("../../helpers/formatter");function translate(request,metadata,originalMetaData){var translatedRequest=request;translatedRequest.properties={};_setDefaultTrackingProps(translatedRequest,originalMetaData);translatedRequest.options.async=setOptions.async(translatedRequest.data);translatedRequest.submitMethod="tl";return translatedRequest}function _setDefaultTrackingProps(translatedRequest,originalMetaData){var linkText=translatedRequest.data.linkText.toLowerCase();var defaultText=originalMetaData.pageName+separator.hyphen+(translatedRequest.data.linkImg||linkText);var regionAncestry=formatter.getRegionAncestry(translatedRequest.data);translatedRequest.properties.title=defaultText;translatedRequest.properties.prop3=defaultText;translatedRequest.properties.eVar1=originalMetaData.pageName+separator.hyphen+(regionAncestry||"")+linkText;_setCustomTrackingProps(translatedRequest)}function _setCustomTrackingProps(translatedRequest){if(!translatedRequest.data.dataAnalyticsClick&&typeof translatedRequest.data.dataAnalyticsClick!=="object"){return}for(var key in translatedRequest.data.dataAnalyticsClick){translatedRequest.properties[key]=translatedRequest.data.dataAnalyticsClick[key]}_formatDefaultProps(translatedRequest)}function _formatDefaultProps(translatedRequest){if(translatedRequest.data.dataAnalyticsClick.prefix&&translatedRequest.properties.prop3){formatter.eventString(translatedRequest.data.dataAnalyticsClick.prefix,translatedRequest.properties.prop3)}}module.exports={translate:translate}})()},{"../../helpers/formatter":"WZEdYN","../../helpers/separator":"9JEe2W","../../helpers/setOptions":"AtGs6E"}],"@marcom/ac-analytics/plugins/s-code/translator/component/click":[function(require,module,exports){module.exports=require("hIhnjJ")},{}],"@marcom/ac-analytics/plugins/s-code/translator/component/event":[function(require,module,exports){module.exports=require("6NDW85")},{}],"6NDW85":[function(require,module,exports){(function(){"use strict";var formatter=require("../../helpers/formatter");var templateVarHelper=require("../../helpers/templateVar");function translate(request,metadata,originalMetaData){var translatedRequest=request;var data=translatedRequest.data;var templateVarArr=templateVarHelper.set(metadata,originalMetaData);var properties={};for(var key in data){properties[key]=data[key];if(typeof properties[key]==="string"){properties[key]=templateVarHelper.translate(properties[key],templateVarArr)}}translatedRequest.properties=properties;translatedRequest.submitMethod="tl";return translatedRequest}module.exports={translate:translate}})()},{"../../helpers/formatter":"WZEdYN","../../helpers/templateVar":"2ZvpEb"}],"@marcom/ac-analytics/plugins/s-code/translator/component/exit":[function(require,module,exports){module.exports=require("YjpnJy")},{}],YjpnJy:[function(require,module,exports){(function(){"use strict";var formatter=require("../../helpers/formatter");function translate(request,metadata,originalMetaData){var translatedRequest=request;var data=translatedRequest.data;var divider=" - ";var properties={};var timeSpentOnPage=((data.exitTimeStamp-originalMetaData.initialTimeStamp)*.001).toFixed(2);properties.prop3=timeSpentOnPage;properties.title=formatter.eventString(timeSpentOnPage,originalMetaData.pageName);translatedRequest.properties=properties;translatedRequest.submitMethod="manual";return translatedRequest}module.exports={translate:translate}})()},{"../../helpers/formatter":"WZEdYN"}],paaDxu:[function(require,module,exports){(function(){"use strict";var errorHandler=require("../../../../error-handler/ErrorHandler");var formatter=require("../../helpers/formatter");var moduleName="sCodePluginGalleryTranslator";function translate(request,metadata,originalMetaData){var translatedRequest=request;var data=translatedRequest.data;var divider=" - ";var interactionTypeMap={click:"ci",keydown:"ki",swipe:"si",dot:"bi",thumb:"ci",paddle:"pi",auto:"ai"};var outgoingInteractionType;var incomingInteractionType;var properties={};var propString="";_clearConditionalsCodeProps(properties);if(data.incomingInteractionType){if(interactionTypeMap[data.incomingInteractionType]){incomingInteractionType=interactionTypeMap[data.incomingInteractionType]}}if(data.outgoingInteractionType){if(interactionTypeMap[data.outgoingInteractionType]){outgoingInteractionType=interactionTypeMap[data.outgoingInteractionType]}}if(!incomingInteractionType){errorHandler.log(moduleName,"translate",incomingInteractionType+'" is not a valid interaction type for the incoming slide')}if(!outgoingInteractionType){errorHandler.log(moduleName,"translate",outgoingInteractionType+'" is not a valid interaction type for the outgoing slide')}if(errorHandler.exception){return}propString=originalMetaData.pageName+divider+request.options.galleryName+divider;properties.prop2=formatter.eventString(outgoingInteractionType,"")+propString+data.outgoing.id;properties.prop3=properties.title=formatter.eventString(incomingInteractionType,"")+propString+data.incoming.id;if(data.galleryFirstTimeTrigger===true){properties.prop16="gallery interaction";properties.eVar16=(request.options.galleryName?request.options.galleryName+" ":"")+"gallery interaction";properties.events="event1"}translatedRequest.properties=properties;translatedRequest.submitMethod="tl";return translatedRequest}function _clearConditionalsCodeProps(properties){properties.prop16=properties.eVar16=""}module.exports={translate:translate}})()},{"../../../../error-handler/ErrorHandler":"yoExqy","../../helpers/formatter":"WZEdYN"}],"@marcom/ac-analytics/plugins/s-code/translator/component/gallery":[function(require,module,exports){module.exports=require("paaDxu")},{}],"iCOMu/":[function(require,module,exports){(function(){"use strict";var setOptions=require("../../helpers/setOptions");var separator=require("../../helpers/separator");var formatter=require("../../helpers/formatter");var DOMHelper=require("../../helpers/DOM");var dataAttrHelper=require("../../../../data-attr/helper");var templateVarHelper=require("../../helpers/templateVar");var setNavigationSrc=require("../../helpers/setNavigationSrc");function translate(request,metadata,originalMetaData){var translatedRequest=request;var linkUrl=DOMHelper.getLinkHref(translatedRequest.data.targetEl);translatedRequest.properties={};translatedRequest.options.async=setOptions.async(translatedRequest.data);_setDefaultTrackingProps(translatedRequest,originalMetaData,linkUrl);_setCustomProps(translatedRequest,metadata,originalMetaData);setNavigationSrc(translatedRequest.data,metadata,linkUrl);translatedRequest.submitMethod="tl";return translatedRequest}function _setDefaultTrackingProps(translatedRequest,originalMetaData,linkUrl){var identityStr="";var defaultLinkTitle=_getDefaultLinkTitle(translatedRequest.data,originalMetaData);if(linkUrl.indexOf("http://")>-1||linkUrl.indexOf("https://")>-1){identityStr=separator.hyphen+(linkUrl.split("/")[2].split(".")[0]+" link")}translatedRequest.properties.title=defaultLinkTitle+identityStr}function _setCustomProps(translatedRequest,metadata,originalMetaData){var dataAttrValue=translatedRequest.data.targetEl.getAttribute("data-"+translatedRequest.options.dataAttribute);var templateVarArr=templateVarHelper.set(metadata,originalMetaData);var customProperties;if(dataAttrValue){customProperties=dataAttrHelper.dataStringToObject(dataAttrValue);for(var prop in customProperties){if(customProperties.hasOwnProperty(prop)){translatedRequest.properties[prop]=customProperties[prop];if(typeof translatedRequest.properties[prop]==="string"){translatedRequest.properties[prop]=templateVarHelper.translate(translatedRequest.properties[prop],templateVarArr)}}}}}function _getDefaultLinkTitle(data,originalMetaData){var title=originalMetaData.pageName+separator.hyphen+data.linkText;var postfix=data.linkImg||data.linkText||data.linkId||"";if(data.region){title=formatter.eventString(data.region.charAt(0),postfix)}return title}module.exports={translate:translate}})()},{"../../../../data-attr/helper":"DckvZc","../../helpers/DOM":"M8C1F0","../../helpers/formatter":"WZEdYN","../../helpers/separator":"9JEe2W","../../helpers/setNavigationSrc":"fEHkLg","../../helpers/setOptions":"AtGs6E","../../helpers/templateVar":"2ZvpEb"}],"@marcom/ac-analytics/plugins/s-code/translator/component/link":[function(require,module,exports){module.exports=require("iCOMu/")},{}],"@marcom/ac-analytics/plugins/s-code/translator/component/overlay":[function(require,module,exports){module.exports=require("94pkSs")},{}],"94pkSs":[function(require,module,exports){(function(){"use strict";var formatter=require("../../helpers/formatter");function translate(request,metadata,originalMetaData){var translatedRequest=request;var properties={};translatedRequest.properties=properties;translatedRequest.submitMethod="tl";return translatedRequest}module.exports={translate:translate}})()},{"../../helpers/formatter":"WZEdYN"}],BagcUO:[function(require,module,exports){(function(){"use strict";var STORAGE_KEY=require("../../../../storageKey").appleMetrics;var separator=require("../../helpers/separator");var ac_Storage=require("ac-storage");var formatter=require("../../helpers/formatter");var DOMHelper=require("../../helpers/DOM");var templateVarHelper=require("../../helpers/templateVar");var errorHandler=require("../../../../error-handler/ErrorHandler");var ac_feature=require("@marcom/ac-feature");var w=window;var moduleName="sCodePageTranslator";function translate(request,metadata,originalMetaData){var translatedRequest=request;translatedRequest.properties={};_setDefaultProps(translatedRequest);_replaceTemplateVars(translatedRequest,metadata,originalMetaData);_setPageRequestProps(translatedRequest,metadata);_setNavSrcProps(translatedRequest,metadata);translatedRequest.submitMethod="t";return translatedRequest}function _setDefaultProps(translatedRequest){translatedRequest.data.prop20=translatedRequest.data.prop20||"AOS"+separator.colon+"{COUNTRY_CODE}"}function _setPageRequestProps(translatedRequest,metadata){if(typeof translatedRequest.properties!=="object"){errorHandler.log(moduleName,"_setPageRequestProps",translatedRequest.properties+" is not a valid properties object in the analytics request")}if(errorHandler.exception){return}translatedRequest.properties.prop19=translatedRequest.properties.prop20+separator.colon+metadata.pageName;translatedRequest.properties.eVar3=translatedRequest.properties.prop20}function _setNavSrcProps(translatedRequest,metadata){var navSrcData=_getNavPathInfo()||{};translatedRequest.properties.prop25=_getNavSource(navSrcData);translatedRequest.properties.eVar1=navSrcData.eVar1||null;translatedRequest.properties.products=navSrcData.products||null;translatedRequest.properties.eVar2=navSrcData.eVar2||null;translatedRequest.properties.prop7=navSrcData.prop7||null;if(navSrcData.events){translatedRequest.properties.events=navSrcData.events}}function _getNavPathInfo(){var isArrivingFromStore=_isArrivingFromStore();var navSrcStr;var navSrcObj;if(isArrivingFromStore===true&&ac_feature.localStorageAvailable()===true){navSrcStr=w.localStorage.getItem(STORAGE_KEY);navSrcObj=_transformLocalStorageStrtoObject(w.localStorage,navSrcStr)}else{navSrcStr=ac_Storage.getItem(STORAGE_KEY);navSrcObj=_transformLocalStorageStrtoObject(ac_Storage,navSrcStr)}return navSrcObj}function _transformLocalStorageStrtoObject(storageObj,str){var obj;if(str){storageObj.removeItem(STORAGE_KEY);obj=JSON.parse(str)}return obj}function _isArrivingFromStore(){var referrer=document.referrer;return referrer&&DOMHelper.isStoreLink(referrer)}function _replaceTemplateVars(translatedRequest,metadata,originalMetaData){var templateVarArr=templateVarHelper.set(metadata,originalMetaData);if(typeof translatedRequest.data!=="object"){errorHandler.log(moduleName,"_replaceTemplateVars",translatedRequest.data+" is not a valid data object in the analytics request")}if(errorHandler.exception){return}for(var key in translatedRequest.data){if(translatedRequest.data.hasOwnProperty(key)){translatedRequest.properties[key]=translatedRequest.data[key];if(typeof translatedRequest.properties[key]==="string"){translatedRequest.properties[key]=templateVarHelper.translate(translatedRequest.properties[key],templateVarArr)}}}}function _getNavSource(navSourceData){var entryPoint=_getEntryPointStr();if(navSourceData.region){return navSourceData.region}if(entryPoint){return entryPoint}return"other nav or none"}function _getEntryPointStr(){var referrer=document.referrer;var currentDomain=window.location.host;var entryPoint;if(!referrer){entryPoint="direct entry"}if(referrer&&referrer!==""&&referrer.split("?")[0].indexOf(currentDomain)===-1){entryPoint="third party"}return entryPoint}module.exports={translate:translate}})()},{"../../../../error-handler/ErrorHandler":"yoExqy","../../../../storageKey":"ntdzZF","../../helpers/DOM":"M8C1F0","../../helpers/formatter":"WZEdYN","../../helpers/separator":"9JEe2W","../../helpers/templateVar":"2ZvpEb","@marcom/ac-feature":84,"ac-storage":320}],"@marcom/ac-analytics/plugins/s-code/translator/component/page":[function(require,module,exports){module.exports=require("BagcUO")},{}],"@marcom/ac-analytics/plugins/s-code/translator/component/section":[function(require,module,exports){module.exports=require("+0a7ZJ")},{}],"+0a7ZJ":[function(require,module,exports){(function(){"use strict";function translate(request,metadata,originalMetaData){var translatedRequest=request;var trackedElement=translatedRequest.data.element;var divider=" - ";var properties={};var elementName=trackedElement.name||trackedElement.id||"";var timeInThreshold=trackedElement.thresholdExitTime-trackedElement.thresholdEnterTime;var sectionNumber=trackedElement.element&&trackedElement.element.position?" ."+trackedElement.element.position:"";properties.prop34=properties.title=originalMetaData.pageName+divider+elementName+divider+"section engaged"+sectionNumber;properties.prop35=(timeInThreshold/1e3).toFixed(2);translatedRequest.properties=properties;translatedRequest.submitMethod="tl";return translatedRequest}module.exports={translate:translate}})()},{}],"@marcom/ac-analytics/plugins/s-code/translator/component/video":[function(require,module,exports){module.exports=require("5BgK4Z")},{}],"5BgK4Z":[function(require,module,exports){(function(){"use strict";var formatter=require("../../helpers/formatter");function translate(request,metadata,originalMetaData){var translatedRequest=request;var data=translatedRequest.data;var divider=" - ";var eventTypeMap={started:"s",replay:"rp",ended:"e",reended:"re","captions-enabled":"ce"};var eventType=data.eventType&&eventTypeMap[data.eventType]?eventTypeMap[data.eventType]:data.eventType;var properties={};if(!eventTypeMap[data.eventType]){translatedRequest.options.silent=true}else{translatedRequest.options.silent=false}_clearConditionalsCodeProps(properties);properties.title=properties.prop13=formatter.eventString("v",eventType)+": "+originalMetaData.pageName+divider+data.videoId;if(data.eventType==="started"){properties.prop16=properties.eVar16="video plays";properties.events="event2"}else if(data.eventType==="ended"){properties.prop16=properties.eVar16="video ends"}if(data.eventType==="captions-enabled"){properties.title=properties.prop2=originalMetaData.pageName+divider+data.videoId+divider+"cc";properties.prop13=""}if(data.videoType&&data.playerType){properties.prop18=data.videoType+" via "+data.playerType}translatedRequest.properties=properties;translatedRequest.submitMethod="tl";return translatedRequest}function _clearConditionalsCodeProps(properties){properties.prop16=properties.eVar16=properties.prop18=properties.prop2=""}module.exports={translate:translate}})()},{"../../helpers/formatter":"WZEdYN"}],"@marcom/ac-analytics/plugins/s-code/translator/translator":[function(require,module,exports){module.exports=require("LJ68Kt")},{}],LJ68Kt:[function(require,module,exports){(function(){"use strict";var components={audio:require("./component/audio"),gallery:require("./component/gallery"),link:require("./component/link"),click:require("./component/click"),overlay:require("./component/overlay"),page:require("./component/page"),section:require("./component/section"),video:require("./component/video"),exit:require("./component/exit"),event:require("./component/event")};function translate(request,metaData,originalMetaData){var translatedRequest=request;if(request.type&&components[request.type]){translatedRequest=components[request.type].translate(request,metaData,originalMetaData)}return translatedRequest}module.exports={translate:translate,components:components}})()},{"./component/audio":"g4AmU0","./component/click":"hIhnjJ","./component/event":"6NDW85","./component/exit":"YjpnJy","./component/gallery":"paaDxu","./component/link":"iCOMu/","./component/overlay":"94pkSs","./component/page":"BagcUO","./component/section":"+0a7ZJ","./component/video":"5BgK4Z"}],"@marcom/ac-analytics/regexp/curlyBracePattern":[function(require,module,exports){module.exports=require("Fkknw/")},{}],"Fkknw/":[function(require,module,exports){"use strict";module.exports=new RegExp(/[\{|\}]/g)},{}],rjjbV7:[function(require,module,exports){"use strict";module.exports=new RegExp(/^(https?:\/\/.*\.apple\.com)?(\/[a-z\-_0-9]*)?\/shop(\/.*)?$/i)},{}],"@marcom/ac-analytics/regexp/storeUrlPattern":[function(require,module,exports){module.exports=require("rjjbV7")},{}],"@marcom/ac-analytics/regexp/tokenPattern":[function(require,module,exports){module.exports=require("aNrbqj")},{}],aNrbqj:[function(require,module,exports){"use strict";module.exports=new RegExp(/(\{[a-zA-Z][\w-]+?\})/g)},{}],DXveIM:[function(require,module,exports){"use strict";var proto;var dataAttribute="analytics-region";var validJSONPattern=/(?:\w+:\w+)(?:,(?=(?:\w+:\w+))|$)/;var singleValuePattern=/[\w\s]+/;var dataAttrHelper=require("../data-attr/helper");function Region(regionElement){this.element=regionElement;this.childRegions={};this.parentRegion="";this.options=this.getDataOptions();this.name=this.setName()}proto=Region.prototype;proto.setName=function(){var value="";if(this.options.name){value=this.options.name}if(!this.options.name&&this.element.id){this.options.name=this.element.id}return value};proto.getDataOptions=function(){var data={};var value=this.element.getAttribute("data-"+dataAttribute);value=value.charAt(value.length-1)===","?value.substr(0,value.length-1):value;if(this._isJSONable(value)){data=dataAttrHelper.dataStringToObject(value)}else if(this._isSingleValue(value)){data.name=value}return data};proto._isJSONable=function(value){return validJSONPattern.test(value)};proto._isSingleValue=function(value){return singleValuePattern.test(value)};module.exports={Region:Region,dataAttribute:dataAttribute}},{"../data-attr/helper":"DckvZc"}],"@marcom/ac-analytics/regions/Region":[function(require,module,exports){module.exports=require("DXveIM")},{}],"@marcom/ac-analytics/regions/regions":[function(require,module,exports){module.exports=require("DxeItO")},{}],DxeItO:[function(require,module,exports){(function(){"use strict";var ac_DOMTraversal=require("@marcom/ac-dom-traversal");var ac_DOMNodes=require("@marcom/ac-dom-nodes");var Region=require("./Region").Region;var dataAttribute=require("./Region").dataAttribute;var allRegions=[];var tree={};function getAllRegions(){if(allRegions.length>0){return allRegions}var allRegionsElements=ac_DOMTraversal.querySelectorAll("[data-"+dataAttribute+"]");var topLevelRegion;var regionsLen=allRegionsElements.length;var i=0;function _getChildRegions(regionObj){var childRegion;while(ac_DOMNodes.isElement(allRegionsElements[i+1])&&regionObj.element.contains(allRegionsElements[i+1])){childRegion=new Region(allRegionsElements[i+1]);allRegions.push(childRegion);childRegion.parentRegion=regionObj.name;regionObj.childRegions[childRegion.name]=childRegion;i+=1;_getChildRegions(childRegion)}}for(i;i<regionsLen;i+=1){topLevelRegion=new Region(allRegionsElements[i]);tree[topLevelRegion.name]=topLevelRegion;allRegions.push(topLevelRegion);_getChildRegions(topLevelRegion)}return allRegions}function getTree(){getAllRegions();if(Object.keys(tree).length>0){return tree}}function getRegionByElement(element){var parsedRegions=getAllRegions();if(ac_DOMNodes.isElement(element)){var allAncestorRegions=getRegionAncestryByElement(element);if(allAncestorRegions.length>0){return allAncestorRegions.pop()}}}function getRegionAncestryByElement(element){var parsedRegions=getAllRegions();if(ac_DOMNodes.isElement(element)){return parsedRegions.filter(function(region){return region.element.contains(element)})}}function getRegionByName(name){var parsedRegions=getAllRegions();if(typeof name==="string"){return parsedRegions.filter(function(region){return region.name===name})}}function refreshRegion(region){var regionObj=region;if(ac_DOMNodes.isElement(region)){regionObj=getRegionByElement(region)}if(typeof regionObj==="object"){allRegions.forEach(function(r){if(r.element===regionObj.element){r.options=r.getDataOptions();r.name=r.setName()}})}}module.exports={getTree:getTree,getAllRegions:getAllRegions,getRegionByElement:getRegionByElement,getRegionByName:getRegionByName,getRegionAncestryByElement:getRegionAncestryByElement,refreshRegion:refreshRegion}})()},{"./Region":"DXveIM","@marcom/ac-dom-nodes":37,"@marcom/ac-dom-traversal":55}],"@marcom/ac-analytics/reset":[function(require,module,exports){module.exports=require("DebV0p")},{}],DebV0p:[function(require,module,exports){"use strict";var topLevelMetadata=require("./metadata");var regions=require("./regions/regions");var metricsTracker=require("./metricsTracker");function resetACAnalytics(){topLevelMetadata.refreshMetadata();regions.refreshRegion();metricsTracker.plugin.reset()}module.exports=resetACAnalytics},{"./metadata":"W+q+EN","./metricsTracker":"nHWlaR","./regions/regions":"DxeItO"}],"@marcom/ac-analytics/storageKey":[function(require,module,exports){module.exports=require("ntdzZF")},{}],ntdzZF:[function(require,module,exports){(function(){"use strict";module.exports={appleMetrics:"apple_Metrics",analyticsQueue:"ac-analytics-queue"}})()},{}],scrVj8:[function(require,module,exports){"use strict";var proto;var moduleName="TokenRegistry";var errorHandler=require("../error-handler/ErrorHandler");function TokenRegistry(){this.tokens={};this._size=0}proto=TokenRegistry.prototype;proto.setToken=function(tokenName,tokenValue){if(typeof tokenName!=="string"){errorHandler.log(moduleName,"setToken",tokenName+" is not a valid string")}if(typeof tokenValue!=="string"){errorHandler.log(moduleName,"setToken",tokenValue+" is not a valid string")}if(errorHandler.exception){return}this.tokens[tokenName]=tokenValue;this._updateSize()};proto.removeToken=function(tokenName){var index;if(typeof tokenName!=="string"){errorHandler.log(moduleName,"removeToken",tokenName+" is not a valid string")}if(!this.tokens[tokenName]){errorHandler.log(moduleName,"removeToken",tokenName+" doesnt exist")}if(errorHandler.exception){return}delete this.tokens[tokenName];this._updateSize()};proto.getToken=function(tokenName){if(typeof tokenName!=="string"){errorHandler.log(moduleName,"getToken",tokenName+" is not a valid string")}if(errorHandler.exception){return}return this.tokens[tokenName]};proto.size=function(){return this._size};proto.clear=function(){this.tokens={};this._size=0};proto._updateSize=function(){this._size=Object.keys(this.tokens).length};module.exports=new TokenRegistry},{"../error-handler/ErrorHandler":"yoExqy"}],"@marcom/ac-analytics/tokens/Registry":[function(require,module,exports){module.exports=require("scrVj8")},{}],dJInuT:[function(require,module,exports){"use strict";var proto;var moduleName="TokenReplacer";var tokenPattern=require("../regexp/tokenPattern");var curlysPattern=require("../regexp/curlyBracePattern");var tokenRegistry=require("./Registry");var errorHandler=require("../error-handler/ErrorHandler");function TokenReplacer(){this.registry=tokenRegistry}proto=TokenReplacer.prototype;proto.replace=function(str,replacements){if(typeof str!=="string"){errorHandler.log(moduleName,"replace",str+" is not a valid string")}if(errorHandler.exception){return}if(typeof replacements==="object"){str=this._replace(str,replacements)}if(this.registry.size()>0){str=this._replace(str,this.registry.tokens)}return str};proto.parseTokens=function(str){var tokens;if(typeof str!=="string"){errorHandler.log(moduleName,"parseTokens",str+" is not a valid string")}if(errorHandler.exception){return}tokens=str.match(tokenPattern);if(tokens){return tokens.map(function(value){return this._removeCurlys(value)}.bind(this))}};proto._replace=function(str,replacements){return str.replace(tokenPattern,function(match){return typeof replacements[this._removeCurlys(match)]==="string"?replacements[this._removeCurlys(match)]:match}.bind(this))};proto._removeCurlys=function(str){str=str.trim();return str.replace(curlysPattern,"")};module.exports=new TokenReplacer},{"../error-handler/ErrorHandler":"yoExqy","../regexp/curlyBracePattern":"Fkknw/","../regexp/tokenPattern":"aNrbqj","./Registry":"scrVj8"}],"@marcom/ac-analytics/tokens/Replacer":[function(require,module,exports){module.exports=require("dJInuT")},{}],"@marcom/ac-analytics/translator/component/audio":[function(require,module,exports){module.exports=require("8lTacU")},{}],"8lTacU":[function(require,module,exports){(function(){"use strict";var ac_DOMTraversal=require("@marcom/ac-dom-traversal");var ac_DOMEvents=require("@marcom/ac-dom-events");var interactionTypes={play:function(request){if(request.data.ended===true){return"replay"}return"play"},ended:function(request){return request.event.type},pause:function(request){return request.event.type}};function translate(request){var translatedRequest=request;var targetEl=ac_DOMEvents.target(request.event);translatedRequest.data.targetEl=targetEl;if(targetEl&&targetEl.getAttribute("src")){translatedRequest.data.audioSrc=targetEl.getAttribute("src")}if(!translatedRequest.data.audioSrc){var audioSourceTag=ac_DOMTraversal.querySelector("source",targetEl);if(audioSourceTag&&audioSourceTag.getAttribute("src")){translatedRequest.data.audioSrc=audioSourceTag.getAttribute("src")}}translatedRequest.data.interactionType=interactionTypes[request.event.type]?interactionTypes[request.event.type](request):request.event.type;translatedRequest.data.title=translatedRequest.data.targetEl.title||"No title found";translatedRequest.data.duration=translatedRequest.data.targetEl.duration;translatedRequest.data.currentTime=translatedRequest.data.targetEl.currentTime;return translatedRequest}module.exports={translate:translate}})()},{"@marcom/ac-dom-events":13,"@marcom/ac-dom-traversal":55}],JuqcqK:[function(require,module,exports){(function(){"use strict";var ac_DOMTraversal=require("@marcom/ac-dom-traversal");var regions=require("../../regions/regions");var parseFromDataAttribute=require("./../helpers/parseFromDataAttribute");function translate(request){var translatedRequest=request;var linkImg=ac_DOMTraversal.querySelector("img",request.data.targetEl);var linkImgSrc;var targetElParentRegion=regions.getRegionByElement(request.data.targetEl);var linkTitle=request.data.targetEl.getAttribute("data-"+request.options.titleDataAttribute);var dataAttrValue=request.data.targetEl.getAttribute("data-"+request.options.dataAttribute);var customProperties=dataAttrValue?parseFromDataAttribute(dataAttrValue,request.data.targetEl):"";translatedRequest.data.regionAncestry=regions.getRegionAncestryByElement(request.data.targetEl);if(linkImg){linkImgSrc=linkImg.getAttribute("src");translatedRequest.data.linkImg=linkImgSrc.substring(linkImgSrc.lastIndexOf("/")+1,linkImgSrc.length);if(typeof translatedRequest.data.linkImg==="string"){translatedRequest.data.linkImg=translatedRequest.data.linkImg.toLowerCase()}}if(linkTitle){translatedRequest.data.linkText=linkTitle}else{if(typeof request.data.targetEl.innerText==="string"){translatedRequest.data.linkText=request.data.targetEl.innerText.trim()}else{translatedRequest.data.linkText=request.data.targetEl.textContent.trim()}}if(typeof targetElParentRegion==="object"){translatedRequest.data.region=targetElParentRegion.name}if(customProperties){translatedRequest.data.dataAnalyticsClick=customProperties}return translatedRequest}module.exports={translate:translate}})()},{"../../regions/regions":"DxeItO","./../helpers/parseFromDataAttribute":"uohxOy","@marcom/ac-dom-traversal":55}],"@marcom/ac-analytics/translator/component/click":[function(require,module,exports){module.exports=require("JuqcqK")},{}],kZao3w:[function(require,module,exports){(function(){"use strict";function translate(request){var translatedRequest=request;return translatedRequest}module.exports={translate:translate}})()},{}],"@marcom/ac-analytics/translator/component/event":[function(require,module,exports){module.exports=require("kZao3w")},{}],yWnp5u:[function(require,module,exports){(function(){"use strict";function translate(request){var translatedRequest=request;return translatedRequest}module.exports={translate:translate}})()},{}],"@marcom/ac-analytics/translator/component/exit":[function(require,module,exports){module.exports=require("yWnp5u")},{}],"@marcom/ac-analytics/translator/component/gallery":[function(require,module,exports){module.exports=require("P9nfNI")},{}],P9nfNI:[function(require,module,exports){(function(){"use strict";var ac_DOMTraversal=require("@marcom/ac-dom-traversal");var interactionTypes={click:function(request){var type="click";var navType=_triggerNavType(request);return navType||type},auto:function(request){var type="auto";return type},keydown:function(request){var type="keydown";return type},touchend:function(request){var type="swipe";return type},touchstart:function(request){var type="swipe";return type},touchmove:function(request){var type="swipe";return type}};function translate(request){var interactionEventType=_interactionEventType(request);var interactionType=interactionEventType;var observer=request.observer;var translatedRequest=request;if(interactionTypes[interactionEventType]){interactionType=interactionTypes[interactionEventType](request)}translatedRequest.data.targetEl=_getTargetElement(request);translatedRequest.data.slideInViewTime=_slideInViewTime(request);translatedRequest.data.outgoingInteractionType=request.observer.outgoingSlideInteractionType;translatedRequest.data.incomingInteractionType=interactionType;translatedRequest.data.galleryFirstTimeTrigger=_isFirstTimeGalleryTrigger(translatedRequest);observer.outgoingSlideInteractionType=interactionType;return translatedRequest}function _triggerNavType(request){var type=false;var trigger=_getTargetElement(request);var nav;if(trigger){nav=ac_DOMTraversal.ancestor(trigger,"nav");type=nav?_getNavTypeFromClassName(nav.className):type}return type}function _getNavTypeFromClassName(className){var type=false;["paddle","dot","thumb"].some(function(typeName){if(className.indexOf(typeName)>=0){type=typeName;return true}});return type}function _getTargetElement(request){var interactionEvent=request.data.interactionEvent;var element=false;if(interactionEvent){element=interactionEvent.target||interactionEvent.srcElement}return element}function _slideInViewTime(request){return request.data.incomingSlideTimestamp-request.data.outgoingSlideTimestamp}function _isFirstTimeGalleryTrigger(request){var incomingInteractionType=request.data.incomingInteractionType;var observer=request.observer;var firstTimeGalleryTrigger=false;if(incomingInteractionType!=="auto"&&observer.trackedInteractionTypes.indexOf(incomingInteractionType)===-1){firstTimeGalleryTrigger=true;observer.trackedInteractionTypes.push(incomingInteractionType)}return firstTimeGalleryTrigger}function _interactionEventType(request){var data=request.data;var type="auto";if(data.interactionEvent&&data.interactionEvent.type){type=data.interactionEvent.type}return type}module.exports={translate:translate}})()},{"@marcom/ac-dom-traversal":55}],"@marcom/ac-analytics/translator/component/link":[function(require,module,exports){module.exports=require("L1gkGb")},{}],L1gkGb:[function(require,module,exports){(function(){"use strict";var ac_DOMTraversal=require("@marcom/ac-dom-traversal");var regions=require("../../regions/regions");function translate(request){var translatedRequest=request;var linkImg=ac_DOMTraversal.querySelector("img",request.data.targetEl);var linkImgSrc;var targetElParentRegion=regions.getRegionByElement(request.data.targetEl);var linkTitle=request.data.targetEl.getAttribute("data-"+request.options.titleDataAttribute);if(linkTitle){translatedRequest.data.linkText=linkTitle}else{translatedRequest.data.linkText=typeof request.data.targetEl.innerText==="string"?request.data.targetEl.innerText.trim():request.data.targetEl.textContent.trim()}translatedRequest.data.regionAncestry=regions.getRegionAncestryByElement(request.data.targetEl);if(request.data.targetEl.id){translatedRequest.data.linkId=request.data.targetEl.id}if(linkImg){linkImgSrc=linkImg.getAttribute("src");translatedRequest.data.linkImg=linkImgSrc.substring(linkImgSrc.lastIndexOf("/")+1,linkImgSrc.length);if(typeof translatedRequest.data.linkImg==="string"){translatedRequest.data.linkImg=translatedRequest.data.linkImg.toLowerCase()}}if(typeof targetElParentRegion==="object"){translatedRequest.data.region=targetElParentRegion.name}return translatedRequest}module.exports={translate:translate}})()},{"../../regions/regions":"DxeItO","@marcom/ac-dom-traversal":55}],vPF0EK:[function(require,module,exports){(function(){"use strict";function translate(request){var translatedRequest=request;return translatedRequest}module.exports={translate:translate}})()},{}],"@marcom/ac-analytics/translator/component/overlay":[function(require,module,exports){module.exports=require("vPF0EK")},{}],"@marcom/ac-analytics/translator/component/page":[function(require,module,exports){module.exports=require("NcRXMk")},{}],NcRXMk:[function(require,module,exports){(function(){"use strict";function translate(request){var translatedRequest=request;return translatedRequest}module.exports={translate:translate}})()},{}],"chF+IX":[function(require,module,exports){(function(){"use strict";function translate(request){return request}module.exports={translate:translate}})()},{}],"@marcom/ac-analytics/translator/component/section":[function(require,module,exports){module.exports=require("chF+IX")},{}],"@marcom/ac-analytics/translator/component/video":[function(require,module,exports){module.exports=require("ighRR/")},{}],"ighRR/":[function(require,module,exports){(function(){"use strict";var eventTypes={play:function(request){if(request.data.ended===true){return"replay"}return"started"},ended:function(request){if(request.data.ended===true){return"reended"}return"ended"},"captions-enabled":function(request){if(request.data.captionsEnableCount===0){return"captions-enabled"}return"captions-reenabled"}};var interactionTypes={click:function(request){return request.data.event.type}};function translate(request){var translatedRequest=request;translatedRequest.data.eventType=eventTypes[request.data.eventType]?eventTypes[request.data.eventType](request):request.data.eventType;if(request.data.event&&interactionTypes[request.data.event.type]){translatedRequest.data.interactionType=interactionTypes[request.data.event.type](request)}return translatedRequest}module.exports={translate:translate}})()},{}],"@marcom/ac-analytics/translator/helpers/parseFromDataAttribute":[function(require,module,exports){module.exports=require("uohxOy")},{}],uohxOy:[function(require,module,exports){(function(){"use strict";var tokenReplacer=require("./../../tokens/Replacer");var dataAttrHelper=require("./../../data-attr/helper");var isElement=require("@marcom/ac-dom-nodes/isElement");var hasAttribute=require("@marcom/ac-dom-nodes/hasAttribute");function parseFromDataAttribute(dataAttrValue,el){var dataObj;var tokensArr;var replacements={};var translatedStr;tokensArr=tokenReplacer.parseTokens(dataAttrValue);if(!tokensArr||tokensArr.length===0){return}replacements=_getTokenValues(el,tokensArr);translatedStr=tokenReplacer.replace(dataAttrValue,replacements);dataObj=dataAttrHelper.dataStringToObject(translatedStr);return dataObj}function _getTokenValues(el,tokensArr){var replacements={};var value;var len=tokensArr.length;if(isElement(el)){for(var i=0;i<len;i++){if(hasAttribute(el,tokensArr[i])){value=el.getAttribute(tokensArr[i]);replacements[tokensArr[i]]=value}}}return replacements}module.exports=parseFromDataAttribute})()},{"./../../data-attr/helper":"DckvZc","./../../tokens/Replacer":"dJInuT","@marcom/ac-dom-nodes/hasAttribute":36,"@marcom/ac-dom-nodes/isElement":49}],eq7uW9:[function(require,module,exports){(function(){"use strict";var errorHandler=require("../error-handler/ErrorHandler");var components={audio:require("./component/audio"),gallery:require("./component/gallery"),link:require("./component/link"),click:require("./component/click"),overlay:require("./component/overlay"),page:require("./component/page"),section:require("./component/section"),video:require("./component/video"),exit:require("./component/exit"),event:require("./component/event")};function translate(request){var translatedRequest=request;if(request.type&&components[request.type]){if(typeof request.data!=="object"){errorHandler.log("Translator","translate","request.data ("+request.data+") must be an object")}if(errorHandler.exception){return}translatedRequest=components[request.type].translate(request)}return translatedRequest}module.exports={translate:translate,components:components}})()},{"../error-handler/ErrorHandler":"yoExqy","./component/audio":"8lTacU","./component/click":"JuqcqK","./component/event":"kZao3w","./component/exit":"yWnp5u","./component/gallery":"P9nfNI","./component/link":"L1gkGb","./component/overlay":"vPF0EK","./component/page":"NcRXMk","./component/section":"chF+IX","./component/video":"ighRR/"}],"@marcom/ac-analytics/translator/translator":[function(require,module,exports){module.exports=require("eq7uW9")},{}],H9Yz3H:[function(require,module,exports){"use strict";module.exports=require("../ac-analytics")},{"../ac-analytics":"++O3BW"}],"ac-analytics":[function(require,module,exports){module.exports=require("H9Yz3H")},{}]},{},["++O3BW"]);